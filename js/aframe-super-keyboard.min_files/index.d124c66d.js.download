var qQ=Object.defineProperty,YQ=Object.defineProperties;var KQ=Object.getOwnPropertyDescriptors;var Wv=Object.getOwnPropertySymbols;var aI=Object.prototype.hasOwnProperty,lI=Object.prototype.propertyIsEnumerable;var u2=(t,e,n)=>e in t?qQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,de=(t,e)=>{for(var n in e||(e={}))aI.call(e,n)&&u2(t,n,e[n]);if(Wv)for(var n of Wv(e))lI.call(e,n)&&u2(t,n,e[n]);return t},Ge=(t,e)=>YQ(t,KQ(e));var un=(t,e)=>{var n={};for(var i in t)aI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Wv)for(var i of Wv(t))e.indexOf(i)<0&&lI.call(t,i)&&(n[i]=t[i]);return n};var kd=(t,e,n)=>(u2(t,typeof e!="symbol"?e+"":e,n),n);import{c as Pn,C as et}from"./codemirror.bff8dd02.js";import{c as Wt,r as K,o as XQ,g as JQ,R as p,a as ZQ,p as qv,M as d2,t as cI,$ as f2,S as Rn,l as Pe,N as QQ,s as sn,A as Ci,C as qt,b as eee,f as Dd,d as Fd,E as Ud,e as jd,O as Bd,v as Fn,h as uo,u as jl,i as Un,j as tee,m as nee,k as ree,n as iee,D as h2,q as see,y as au,x as p2,w as m2,z as g2,B as oee,F as uI,Z as dI,G as v2,H as aee}from"./design.53ed53ca.js";import{u as fI,g as lee,v as y2,a as cee}from"./glitch.1ffbdf70.js";import{M as hI,u as pI,i as mI,a as Sp}from"./state.0d109f0a.js";import{P as gI,m as vI,u as uee,I as Je,L as mn,s as $e,N as ft,B as Tt,a as yI,S as dee,R as fee,b as hee,c as pee,d as mee,W as gee,T as vee,e as Bl,f as _I,g as yee,U as _ee,h as bee,i as bI,M as Eee,j as wee,k as _2,A as Yv,l as xee,n as b2,o as See,p as Tee,q as Cee}from"./components.f184f7e5.js";import{m as EI}from"./markdown.00274f23.js";const Mee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};Mee();var Aee={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(W,j,$){W[j]=$.value},a,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(W,j,$){return Object.defineProperty(W,j,{value:$,enumerable:!0,configurable:!0,writable:!0}),W[j]}try{f({},"")}catch{f=function(j,$,ie){return j[$]=ie}}function h(W,j,$,ie){var Q=j&&j.prototype instanceof T?j:T,le=Object.create(Q.prototype),he=new z(ie||[]);return s(le,"_invoke",{value:I(W,$,he)}),le}n.wrap=h;function v(W,j,$){try{return{type:"normal",arg:W.call(j,$)}}catch(ie){return{type:"throw",arg:ie}}}var m="suspendedStart",_="suspendedYield",S="executing",E="completed",w={};function T(){}function C(){}function P(){}var R={};f(R,c,function(){return this});var A=Object.getPrototypeOf,L=A&&A(A(B([])));L&&L!==i&&o.call(L,c)&&(R=L);var k=P.prototype=T.prototype=Object.create(R);C.prototype=P,s(k,"constructor",{value:P,configurable:!0}),s(P,"constructor",{value:C,configurable:!0}),C.displayName=f(P,d,"GeneratorFunction");function U(W){["next","throw","return"].forEach(function(j){f(W,j,function($){return this._invoke(j,$)})})}n.isGeneratorFunction=function(W){var j=typeof W=="function"&&W.constructor;return j?j===C||(j.displayName||j.name)==="GeneratorFunction":!1},n.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,P):(W.__proto__=P,f(W,d,"GeneratorFunction")),W.prototype=Object.create(k),W},n.awrap=function(W){return{__await:W}};function O(W,j){function $(le,he,ue,Ie){var Me=v(W[le],W,he);if(Me.type==="throw")Ie(Me.arg);else{var ke=Me.arg,Ze=ke.value;return Ze&&typeof Ze=="object"&&o.call(Ze,"__await")?j.resolve(Ze.__await).then(function(pt){$("next",pt,ue,Ie)},function(pt){$("throw",pt,ue,Ie)}):j.resolve(Ze).then(function(pt){ke.value=pt,ue(ke)},function(pt){return $("throw",pt,ue,Ie)})}}var ie;function Q(le,he){function ue(){return new j(function(Ie,Me){$(le,he,Ie,Me)})}return ie=ie?ie.then(ue,ue):ue()}s(this,"_invoke",{value:Q})}U(O.prototype),f(O.prototype,u,function(){return this}),n.AsyncIterator=O,n.async=function(W,j,$,ie,Q){Q===void 0&&(Q=Promise);var le=new O(h(W,j,$,ie),Q);return n.isGeneratorFunction(j)?le:le.next().then(function(he){return he.done?he.value:le.next()})};function I(W,j,$){var ie=m;return function(le,he){if(ie===S)throw new Error("Generator is already running");if(ie===E){if(le==="throw")throw he;return q()}for($.method=le,$.arg=he;;){var ue=$.delegate;if(ue){var Ie=F(ue,$);if(Ie){if(Ie===w)continue;return Ie}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ie===m)throw ie=E,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ie=S;var Me=v(W,j,$);if(Me.type==="normal"){if(ie=$.done?E:_,Me.arg===w)continue;return{value:Me.arg,done:$.done}}else Me.type==="throw"&&(ie=E,$.method="throw",$.arg=Me.arg)}}}function F(W,j){var $=j.method,ie=W.iterator[$];if(ie===a)return j.delegate=null,$==="throw"&&W.iterator.return&&(j.method="return",j.arg=a,F(W,j),j.method==="throw")||$!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+$+"' method")),w;var Q=v(ie,W.iterator,j.arg);if(Q.type==="throw")return j.method="throw",j.arg=Q.arg,j.delegate=null,w;var le=Q.arg;if(!le)return j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,w;if(le.done)j[W.resultName]=le.value,j.next=W.nextLoc,j.method!=="return"&&(j.method="next",j.arg=a);else return le;return j.delegate=null,w}U(k),f(k,d,"Generator"),f(k,c,function(){return this}),f(k,"toString",function(){return"[object Generator]"});function N(W){var j={tryLoc:W[0]};1 in W&&(j.catchLoc=W[1]),2 in W&&(j.finallyLoc=W[2],j.afterLoc=W[3]),this.tryEntries.push(j)}function H(W){var j=W.completion||{};j.type="normal",delete j.arg,W.completion=j}function z(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(N,this),this.reset(!0)}n.keys=function(W){var j=Object(W),$=[];for(var ie in j)$.push(ie);return $.reverse(),function Q(){for(;$.length;){var le=$.pop();if(le in j)return Q.value=le,Q.done=!1,Q}return Q.done=!0,Q}};function B(W){if(W){var j=W[c];if(j)return j.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var $=-1,ie=function Q(){for(;++$<W.length;)if(o.call(W,$))return Q.value=W[$],Q.done=!1,Q;return Q.value=a,Q.done=!0,Q};return ie.next=ie}}return{next:q}}n.values=B;function q(){return{value:a,done:!0}}return z.prototype={constructor:z,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(H),!W)for(var j in this)j.charAt(0)==="t"&&o.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=a)},stop:function(){this.done=!0;var W=this.tryEntries[0],j=W.completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var j=this;function $(Ie,Me){return le.type="throw",le.arg=W,j.next=Ie,Me&&(j.method="next",j.arg=a),!!Me}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Q=this.tryEntries[ie],le=Q.completion;if(Q.tryLoc==="root")return $("end");if(Q.tryLoc<=this.prev){var he=o.call(Q,"catchLoc"),ue=o.call(Q,"finallyLoc");if(he&&ue){if(this.prev<Q.catchLoc)return $(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return $(Q.finallyLoc)}else if(he){if(this.prev<Q.catchLoc)return $(Q.catchLoc,!0)}else if(ue){if(this.prev<Q.finallyLoc)return $(Q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(W,j){for(var $=this.tryEntries.length-1;$>=0;--$){var ie=this.tryEntries[$];if(ie.tryLoc<=this.prev&&o.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var Q=ie;break}}Q&&(W==="break"||W==="continue")&&Q.tryLoc<=j&&j<=Q.finallyLoc&&(Q=null);var le=Q?Q.completion:{};return le.type=W,le.arg=j,Q?(this.method="next",this.next=Q.finallyLoc,w):this.complete(le)},complete:function(W,j){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&j&&(this.next=j),w},finish:function(W){for(var j=this.tryEntries.length-1;j>=0;--j){var $=this.tryEntries[j];if($.finallyLoc===W)return this.complete($.completion,$.afterLoc),H($),w}},catch:function(W){for(var j=this.tryEntries.length-1;j>=0;--j){var $=this.tryEntries[j];if($.tryLoc===W){var ie=$.completion;if(ie.type==="throw"){var Q=ie.arg;H($)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(W,j,$){return this.delegate={iterator:B(W),resultName:j,nextLoc:$},this.method==="next"&&(this.arg=a),w}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Aee);const Pee="modulepreload",wI={},Ree="/edit/",gr=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${Ree}${i}`,i in wI)return;wI[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Pee,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",c)})})).then(()=>e())};(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineSimpleMode=function(h,v){n.defineMode(h,function(m){return n.simpleMode(m,v)})},n.simpleMode=function(h,v){i(v,"start");var m={},_=v.meta||{},S=!1;for(var E in v)if(E!=_&&v.hasOwnProperty(E))for(var w=m[E]=[],T=v[E],C=0;C<T.length;C++){var P=T[C];w.push(new a(P,v)),(P.indent||P.dedent)&&(S=!0)}var R={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:S?[]:null}},copyState:function(L){var k={state:L.state,pending:L.pending,local:L.local,localState:null,indent:L.indent&&L.indent.slice(0)};L.localState&&(k.localState=n.copyState(L.local.mode,L.localState)),L.stack&&(k.stack=L.stack.slice(0));for(var U=L.persistentStates;U;U=U.next)k.persistentStates={mode:U.mode,spec:U.spec,state:U.state==L.localState?k.localState:n.copyState(U.mode,U.state),next:k.persistentStates};return k},token:l(m,h),innerMode:function(L){return L.local&&{mode:L.local.mode,state:L.localState}},indent:f(m,_)};if(_)for(var A in _)_.hasOwnProperty(A)&&(R[A]=_[A]);return R};function i(h,v){if(!h.hasOwnProperty(v))throw new Error("Undefined state "+v+" in simple mode")}function o(h,v){if(!h)return/(?:)/;var m="";return h instanceof RegExp?(h.ignoreCase&&(m="i"),h.unicode&&(m+="u"),h=h.source):h=String(h),new RegExp((v===!1?"":"^")+"(?:"+h+")",m)}function s(h){if(!h)return null;if(h.apply)return h;if(typeof h=="string")return h.replace(/\./g," ");for(var v=[],m=0;m<h.length;m++)v.push(h[m]&&h[m].replace(/\./g," "));return v}function a(h,v){(h.next||h.push)&&i(v,h.next||h.push),this.regex=o(h.regex),this.token=s(h.token),this.data=h}function l(h,v){return function(m,_){if(_.pending){var S=_.pending.shift();return _.pending.length==0&&(_.pending=null),m.pos+=S.text.length,S.token}if(_.local)if(_.local.end&&m.match(_.local.end)){var E=_.local.endToken||null;return _.local=_.localState=null,E}else{var E=_.local.mode.token(m,_.localState),w;return _.local.endScan&&(w=_.local.endScan.exec(m.current()))&&(m.pos=m.start+w.index),E}for(var T=h[_.state],C=0;C<T.length;C++){var P=T[C],R=(!P.data.sol||m.sol())&&m.match(P.regex);if(R){P.data.next?_.state=P.data.next:P.data.push?((_.stack||(_.stack=[])).push(_.state),_.state=P.data.push):P.data.pop&&_.stack&&_.stack.length&&(_.state=_.stack.pop()),P.data.mode&&u(v,_,P.data.mode,P.token),P.data.indent&&_.indent.push(m.indentation()+v.indentUnit),P.data.dedent&&_.indent.pop();var A=P.token;if(A&&A.apply&&(A=A(R)),R.length>2&&P.token&&typeof P.token!="string"){for(var L=2;L<R.length;L++)R[L]&&(_.pending||(_.pending=[])).push({text:R[L],token:P.token[L-1]});return m.backUp(R[0].length-(R[1]?R[1].length:0)),A[0]}else return A&&A.join?A[0]:A}}return m.next(),null}}function c(h,v){if(h===v)return!0;if(!h||typeof h!="object"||!v||typeof v!="object")return!1;var m=0;for(var _ in h)if(h.hasOwnProperty(_)){if(!v.hasOwnProperty(_)||!c(h[_],v[_]))return!1;m++}for(var _ in v)v.hasOwnProperty(_)&&m--;return m==0}function u(h,v,m,_){var S;if(m.persistent)for(var E=v.persistentStates;E&&!S;E=E.next)(m.spec?c(m.spec,E.spec):m.mode==E.mode)&&(S=E);var w=S?S.mode:m.mode||n.getMode(h,m.spec),T=S?S.state:n.startState(w);m.persistent&&!S&&(v.persistentStates={mode:w,spec:m.spec,state:T,next:v.persistentStates}),v.localState=T,v.local={mode:w,end:m.end&&o(m.end),endScan:m.end&&m.forceEnd!==!1&&o(m.end,!1),endToken:_&&_.join?_[_.length-1]:_}}function d(h,v){for(var m=0;m<v.length;m++)if(v[m]===h)return!0}function f(h,v){return function(m,_,S){if(m.local&&m.local.mode.indent)return m.local.mode.indent(m.localState,_,S);if(m.indent==null||m.local||v.dontIndentStates&&d(m.state,v.dontIndentStates)>-1)return n.Pass;var E=m.indent.length-1,w=h[m.state];e:for(;;){for(var T=0;T<w.length;T++){var C=w[T];if(C.data.dedent&&C.data.dedentIfLineStart!==!1){var P=C.regex.exec(_);if(P&&P[0]){E--,(C.next||C.push)&&(w=h[C.next||C.push]),_=_.slice(P[0].length);continue e}}}break}return E<0?0:m.indent[E]}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.overlayMode=function(i,o,s){return{startState:function(){return{base:n.startState(i),overlay:n.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(i,a.base),overlay:n.copyState(o,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,l){return(a!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<a.start)&&(l.streamSeen=a,l.basePos=l.overlayPos=a.start),a.start==l.basePos&&(l.baseCur=i.token(a,l.base),l.basePos=a.pos),a.start==l.overlayPos&&(a.pos=a.start,l.overlayCur=o.token(a,l.overlay),l.overlayPos=a.pos),a.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||s&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:i.indent&&function(a,l,c){return i.indent(a.base,l,c)},electricChars:i.electricChars,innerMode:function(a){return{state:a.base,mode:i}},blankLine:function(a){var l,c;return i.blankLine&&(l=i.blankLine(a.base)),o.blankLine&&(c=o.blankLine(a.overlay)),c==null?l:s&&l!=null?l+" "+c:c}}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.multiplexingMode=function(i){var o=Array.prototype.slice.call(arguments,1);function s(a,l,c,u){if(typeof l=="string"){var d=a.indexOf(l,c);return u&&d>-1?d+l.length:d}var f=l.exec(c?a.slice(c):a);return f?f.index+c+(u?f[0].length:0):-1}return{startState:function(){return{outer:n.startState(i),innerActive:null,inner:null,startingInner:!1}},copyState:function(a){return{outer:n.copyState(i,a.outer),innerActive:a.innerActive,inner:a.innerActive&&n.copyState(a.innerActive.mode,a.inner),startingInner:a.startingInner}},token:function(a,l){if(l.innerActive){var S=l.innerActive,u=a.string;if(!S.close&&a.sol())return l.innerActive=l.inner=null,this.token(a,l);var h=S.close&&!l.startingInner?s(u,S.close,a.pos,S.parseDelimiters):-1;if(h==a.pos&&!S.parseDelimiters)return a.match(S.close),l.innerActive=l.inner=null,S.delimStyle&&S.delimStyle+" "+S.delimStyle+"-close";h>-1&&(a.string=u.slice(0,h));var E=S.mode.token(a,l.inner);return h>-1?a.string=u:a.pos>a.start&&(l.startingInner=!1),h==a.pos&&S.parseDelimiters&&(l.innerActive=l.inner=null),S.innerStyle&&(E?E=E+" "+S.innerStyle:E=S.innerStyle),E}else{for(var c=1/0,u=a.string,d=0;d<o.length;++d){var f=o[d],h=s(u,f.open,a.pos);if(h==a.pos){f.parseDelimiters||a.match(f.open),l.startingInner=!!f.parseDelimiters,l.innerActive=f;var v=0;if(i.indent){var m=i.indent(l.outer,"","");m!==n.Pass&&(v=m)}return l.inner=n.startState(f.mode,v),f.delimStyle&&f.delimStyle+" "+f.delimStyle+"-open"}else h!=-1&&h<c&&(c=h)}c!=1/0&&(a.string=u.slice(0,c));var _=i.token(a,l.outer);return c!=1/0&&(a.string=u),_}},indent:function(a,l,c){var u=a.innerActive?a.innerActive.mode:i;return u.indent?u.indent(a.innerActive?a.inner:a.outer,l,c):n.Pass},blankLine:function(a){var l=a.innerActive?a.innerActive.mode:i;if(l.blankLine&&l.blankLine(a.innerActive?a.inner:a.outer),a.innerActive)a.innerActive.close===`
`&&(a.innerActive=a.inner=null);else for(var c=0;c<o.length;++c){var u=o[c];u.open===`
`&&(a.innerActive=u,a.inner=n.startState(u.mode,l.indent?l.indent(a.outer,"",""):0))}},electricChars:i.electricChars,innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:i}}}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var i=0;i<n.modeInfo.length;i++){var o=n.modeInfo[i];o.mimes&&(o.mime=o.mimes[0])}n.findModeByMIME=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.mime==s)return l;if(l.mimes){for(var c=0;c<l.mimes.length;c++)if(l.mimes[c]==s)return l}}if(/\+xml$/.test(s))return n.findModeByMIME("application/xml");if(/\+json$/.test(s))return n.findModeByMIME("application/json")},n.findModeByExtension=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.ext){for(var c=0;c<l.ext.length;c++)if(l.ext[c]==s)return l}}},n.findModeByFileName=function(s){for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.file&&l.file.test(s))return l}var c=s.lastIndexOf("."),u=c>-1&&s.substring(c+1,s.length);if(u)return n.findModeByExtension(u)},n.findModeByName=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.name.toLowerCase()==s)return l;if(l.alias){for(var c=0;c<l.alias.length;c++)if(l.alias[c].toLowerCase()==s)return l}}}})})();var dt=et.keyMap.sublime={fallthrough:"default"},zt=et.commands,$t=et.Pos,lu=et.keyMap.default==et.keyMap.macDefault,tn=lu?"Cmd-":"Ctrl-";function Lee(t,e,n){if(n<0&&e.ch==0)return t.clipPos($t(e.line-1));var i=t.getLine(e.line);if(n>0&&e.ch>=i.length)return t.clipPos($t(e.line+1,0));for(var o="start",s,a=e.ch,l=n<0?0:i.length,c=0;a!=l;a+=n,c++){var u=i.charAt(n<0?a-1:a),d=u!="_"&&et.isWordChar(u)?"w":"o";if(d=="w"&&u.toUpperCase()==u&&(d="W"),o=="start")d!="o"&&(o="in",s=d);else if(o=="in"&&s!=d){if(s=="w"&&d=="W"&&n<0&&a--,s=="W"&&d=="w"&&n>0){s="w";continue}break}}return $t(e.line,a)}function xI(t,e){t.extendSelectionsBy(function(n){return t.display.shift||t.doc.extend||n.empty()?Lee(t.doc,n.head,e):e<0?n.from():n.to()})}var SI=lu?"Ctrl-":"Alt-";zt[dt[SI+"Left"]="goSubwordLeft"]=function(t){xI(t,-1)};zt[dt[SI+"Right"]="goSubwordRight"]=function(t){xI(t,1)};lu&&(dt["Cmd-Left"]="goLineStartSmart");var TI=lu?"Ctrl-Alt-":"Ctrl-";zt[dt[TI+"Up"]="scrollLineUp"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var n=t.lineAtHeight(e.top+e.clientHeight,"local");t.getCursor().line>=n&&t.execCommand("goLineUp")}t.scrollTo(null,e.top-t.defaultTextHeight())};zt[dt[TI+"Down"]="scrollLineDown"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var n=t.lineAtHeight(e.top,"local")+1;t.getCursor().line<=n&&t.execCommand("goLineDown")}t.scrollTo(null,e.top+t.defaultTextHeight())};zt[dt["Shift-"+tn+"L"]="splitSelectionByLine"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)for(var o=e[i].from(),s=e[i].to(),a=o.line;a<=s.line;++a)s.line>o.line&&a==s.line&&s.ch==0||n.push({anchor:a==o.line?o:$t(a,0),head:a==s.line?s:$t(a)});t.setSelections(n,0)};dt["Shift-Tab"]="indentLess";zt[dt.Esc="singleSelectionTop"]=function(t){var e=t.listSelections()[0];t.setSelection(e.anchor,e.head,{scroll:!1})};zt[dt[tn+"L"]="selectLine"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var o=e[i];n.push({anchor:$t(o.from().line,0),head:$t(o.to().line+1,0)})}t.setSelections(n)};dt["Shift-Ctrl-K"]="deleteLine";function CI(t,e){if(t.isReadOnly())return et.Pass;t.operation(function(){for(var n=t.listSelections().length,i=[],o=-1,s=0;s<n;s++){var a=t.listSelections()[s].head;if(!(a.line<=o)){var l=$t(a.line+(e?0:1),0);t.replaceRange(`
`,l,null,"+insertLine"),t.indentLine(l.line,null,!0),i.push({head:l,anchor:l}),o=a.line+1}}t.setSelections(i)}),t.execCommand("indentAuto")}zt[dt[tn+"Enter"]="insertLineAfter"]=function(t){return CI(t,!1)};zt[dt["Shift-"+tn+"Enter"]="insertLineBefore"]=function(t){return CI(t,!0)};function E2(t,e){for(var n=e.ch,i=n,o=t.getLine(e.line);n&&et.isWordChar(o.charAt(n-1));)--n;for(;i<o.length&&et.isWordChar(o.charAt(i));)++i;return{from:$t(e.line,n),to:$t(e.line,i),word:o.slice(n,i)}}zt[dt[tn+"D"]="selectNextOccurrence"]=function(t){var e=t.getCursor("from"),n=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(et.cmpPos(e,n)==0){var o=E2(t,e);if(!o.word)return;t.setSelection(o.from,o.to),i=!0}else{var s=t.getRange(e,n),a=i?new RegExp("\\b"+s+"\\b"):s,l=t.getSearchCursor(a,n),c=l.findNext();if(c||(l=t.getSearchCursor(a,$t(t.firstLine(),0)),c=l.findNext()),!c||Iee(t.listSelections(),l.from(),l.to()))return et.Pass;t.addSelection(l.from(),l.to())}i&&(t.state.sublimeFindFullWord=t.doc.sel)};function Iee(t,e,n){for(var i=0;i<t.length;i++)if(t[i].from()==e&&t[i].to()==n)return!0;return!1}var MI="(){}[]";function AI(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var o=e[i],s=o.head,a=t.scanForBracket(s,-1);if(!a)return!1;for(;;){var l=t.scanForBracket(s,1);if(!l)return!1;if(l.ch==MI.charAt(MI.indexOf(a.ch)+1)){n.push({anchor:$t(a.pos.line,a.pos.ch+1),head:l.pos});break}s=$t(l.pos.line,l.pos.ch+1)}}return t.setSelections(n),!0}zt[dt["Shift-"+tn+"Space"]="selectScope"]=function(t){AI(t)||t.execCommand("selectAll")};zt[dt["Shift-"+tn+"M"]="selectBetweenBrackets"]=function(t){if(!AI(t))return et.Pass};zt[dt[tn+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(e){var n=t.scanForBracket(e.head,1);if(n&&et.cmpPos(n.pos,e.head)!=0)return n.pos;var i=t.scanForBracket(e.head,-1);return i&&$t(i.pos.line,i.pos.ch+1)||e.head})};var PI=lu?"Cmd-Ctrl-":"Shift-Ctrl-";zt[dt[PI+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return et.Pass;for(var e=t.listSelections(),n=[],i=t.firstLine()-1,o=[],s=0;s<e.length;s++){var a=e[s],l=a.from().line-1,c=a.to().line;o.push({anchor:$t(a.anchor.line-1,a.anchor.ch),head:$t(a.head.line-1,a.head.ch)}),a.to().ch==0&&!a.empty()&&--c,l>i?n.push(l,c):n.length&&(n[n.length-1]=c),i=c}t.operation(function(){for(var u=0;u<n.length;u+=2){var d=n[u],f=n[u+1],h=t.getLine(d);t.replaceRange("",$t(d,0),$t(d+1,0),"+swapLine"),f>t.lastLine()?t.replaceRange(`
`+h,$t(t.lastLine()),null,"+swapLine"):t.replaceRange(h+`
`,$t(f,0),null,"+swapLine")}t.setSelections(o),t.scrollIntoView()})};zt[dt[PI+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return et.Pass;for(var e=t.listSelections(),n=[],i=t.lastLine()+1,o=e.length-1;o>=0;o--){var s=e[o],a=s.to().line+1,l=s.from().line;s.to().ch==0&&!s.empty()&&a--,a<i?n.push(a,l):n.length&&(n[n.length-1]=l),i=l}t.operation(function(){for(var c=n.length-2;c>=0;c-=2){var u=n[c],d=n[c+1],f=t.getLine(u);u==t.lastLine()?t.replaceRange("",$t(u-1),$t(u),"+swapLine"):t.replaceRange("",$t(u,0),$t(u+1,0),"+swapLine"),t.replaceRange(f+`
`,$t(d,0),null,"+swapLine")}t.scrollIntoView()})};zt[dt[tn+"/"]="toggleCommentIndented"]=function(t){t.toggleComment({indent:!0})};zt[dt[tn+"J"]="joinLines"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){for(var o=e[i],s=o.from(),a=s.line,l=o.to().line;i<e.length-1&&e[i+1].from().line==l;)l=e[++i].to().line;n.push({start:a,end:l,anchor:!o.empty()&&s})}t.operation(function(){for(var c=0,u=[],d=0;d<n.length;d++){for(var f=n[d],h=f.anchor&&$t(f.anchor.line-c,f.anchor.ch),v,m=f.start;m<=f.end;m++){var _=m-c;m==f.end&&(v=$t(_,t.getLine(_).length+1)),_<t.lastLine()&&(t.replaceRange(" ",$t(_),$t(_+1,/^\s*/.exec(t.getLine(_+1))[0].length)),++c)}u.push({anchor:h||v,head:v})}t.setSelections(u,0)})};zt[dt["Shift-"+tn+"D"]="duplicateLine"]=function(t){t.operation(function(){for(var e=t.listSelections().length,n=0;n<e;n++){var i=t.listSelections()[n];i.empty()?t.replaceRange(t.getLine(i.head.line)+`
`,$t(i.head.line,0)):t.replaceRange(t.getRange(i.from(),i.to()),i.from())}t.scrollIntoView()})};lu||(dt[tn+"T"]="transposeChars");function RI(t,e){if(t.isReadOnly())return et.Pass;for(var n=t.listSelections(),i=[],o,s=0;s<n.length;s++){var a=n[s];if(!a.empty()){for(var l=a.from().line,c=a.to().line;s<n.length-1&&n[s+1].from().line==c;)c=n[++s].to().line;n[s].to().ch||c--,i.push(l,c)}}i.length?o=!0:i.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var u=[],d=0;d<i.length;d+=2){var f=i[d],h=i[d+1],v=$t(f,0),m=$t(h),_=t.getRange(v,m,!1);e?_.sort():_.sort(function(S,E){var w=S.toUpperCase(),T=E.toUpperCase();return w!=T&&(S=w,E=T),S<E?-1:S==E?0:1}),t.replaceRange(_,v,m),o&&u.push({anchor:v,head:$t(h+1,0)})}o&&t.setSelections(u,0)})}zt[dt.F9="sortLines"]=function(t){RI(t,!0)};zt[dt[tn+"F9"]="sortLinesInsensitive"]=function(t){RI(t,!1)};zt[dt.F2="nextBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){var n=e.shift(),i=n.find();if(i)return e.push(n),t.setSelection(i.from,i.to)}};zt[dt["Shift-F2"]="prevBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){e.unshift(e.pop());var n=e[e.length-1].find();if(!n)e.pop();else return t.setSelection(n.from,n.to)}};zt[dt[tn+"F2"]="toggleBookmark"]=function(t){for(var e=t.listSelections(),n=t.state.sublimeBookmarks||(t.state.sublimeBookmarks=[]),i=0;i<e.length;i++){for(var o=e[i].from(),s=e[i].to(),a=t.findMarks(o,s),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var c=0;c<n.length;c++)n[c]==a[l]&&n.splice(c--,1);break}l==a.length&&n.push(t.markText(o,s,{sublimeBookmark:!0,clearWhenEmpty:!1}))}};zt[dt["Shift-"+tn+"F2"]="clearBookmarks"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(var n=0;n<e.length;n++)e[n].clear();e.length=0};zt[dt["Alt-F2"]="selectBookmarks"]=function(t){var e=t.state.sublimeBookmarks,n=[];if(e)for(var i=0;i<e.length;i++){var o=e[i].find();o?n.push({anchor:o.from,head:o.to}):e.splice(i--,0)}n.length&&t.setSelections(n,0)};dt["Alt-Q"]="wrapLines";var Ns=tn+"K ";function LI(t,e){t.operation(function(){for(var n=t.listSelections(),i=[],o=[],s=0;s<n.length;s++){var a=n[s];a.empty()?(i.push(s),o.push("")):o.push(e(t.getRange(a.from(),a.to())))}t.replaceSelections(o,"around","case");for(var s=i.length-1,l;s>=0;s--){var a=n[i[s]];if(!(l&&et.cmpPos(a.head,l)>0)){var c=E2(t,a.head);l=c.from,t.replaceRange(e(c.word),c.from,c.to)}}})}dt[Ns+tn+"Backspace"]="delLineLeft";zt[dt.Backspace="smartBackspace"]=function(t){if(t.somethingSelected())return et.Pass;t.operation(function(){for(var e=t.listSelections(),n=t.getOption("indentUnit"),i=e.length-1;i>=0;i--){var o=e[i].head,s=t.getRange({line:o.line,ch:0},o),a=et.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(o,-1,"char",!1);if(s&&!/\S/.test(s)&&a%n==0){var c=new $t(o.line,et.findColumn(s,a-n,n));c.ch!=o.ch&&(l=c)}t.replaceRange("",l,o,"+delete")}})};zt[dt[Ns+tn+"K"]="delLineRight"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange("",e[n].anchor,$t(e[n].to().line),"+delete");t.scrollIntoView()})};zt[dt[Ns+tn+"U"]="upcaseAtCursor"]=function(t){LI(t,function(e){return e.toUpperCase()})};zt[dt[Ns+tn+"L"]="downcaseAtCursor"]=function(t){LI(t,function(e){return e.toLowerCase()})};zt[dt[Ns+tn+"Space"]="setSublimeMark"]=function(t){t.state.sublimeMark&&t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor())};zt[dt[Ns+tn+"A"]="selectToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&t.setSelection(t.getCursor(),e)};zt[dt[Ns+tn+"W"]="deleteToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();if(e){var n=t.getCursor(),i=e;if(et.cmpPos(n,i)>0){var o=i;i=n,n=o}t.state.sublimeKilled=t.getRange(n,i),t.replaceRange("",n,i)}};zt[dt[Ns+tn+"X"]="swapWithSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&(t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor()),t.setCursor(e))};zt[dt[Ns+tn+"Y"]="sublimeYank"]=function(t){t.state.sublimeKilled!=null&&t.replaceSelection(t.state.sublimeKilled,null,"paste")};zt[dt[Ns+tn+"C"]="showInCenter"]=function(t){var e=t.cursorCoords(null,"local");t.scrollTo(null,(e.top+e.bottom)/2-t.getScrollInfo().clientHeight/2)};var II=lu?"Ctrl-Shift-":"Ctrl-Alt-";zt[dt[II+"Up"]="selectLinesUpward"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=0;n<e.length;n++){var i=e[n];i.head.line>t.firstLine()&&t.addSelection($t(i.head.line-1,i.head.ch))}})};zt[dt[II+"Down"]="selectLinesDownward"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=0;n<e.length;n++){var i=e[n];i.head.line<t.lastLine()&&t.addSelection($t(i.head.line+1,i.head.ch))}})};function OI(t){var e=t.getCursor("from"),n=t.getCursor("to");if(et.cmpPos(e,n)==0){var i=E2(t,e);if(!i.word)return;e=i.from,n=i.to}return{from:e,to:n,query:t.getRange(e,n),word:i}}function NI(t,e){var n=OI(t);if(!!n){var i=n.query,o=t.getSearchCursor(i,e?n.to:n.from);(e?o.findNext():o.findPrevious())?t.setSelection(o.from(),o.to()):(o=t.getSearchCursor(i,e?$t(t.firstLine(),0):t.clipPos($t(t.lastLine()))),(e?o.findNext():o.findPrevious())?t.setSelection(o.from(),o.to()):n.word&&t.setSelection(n.from,n.to))}}zt[dt[tn+"F3"]="findUnder"]=function(t){NI(t,!0)};zt[dt["Shift-"+tn+"F3"]="findUnderPrevious"]=function(t){NI(t,!1)};zt[dt["Alt-F3"]="findAllUnder"]=function(t){var e=OI(t);if(!!e){for(var n=t.getSearchCursor(e.query),i=[],o=-1;n.findNext();)i.push({anchor:n.from(),head:n.to()}),n.from().line<=e.from.line&&n.from().ch<=e.from.ch&&o++;t.setSelections(i,o)}};dt["Shift-"+tn+"["]="fold";dt["Shift-"+tn+"]"]="unfold";dt[Ns+tn+"0"]=dt[Ns+tn+"J"]="unfoldAll";dt[tn+"I"]="findIncremental";dt["Shift-"+tn+"I"]="findIncrementalReverse";dt["Alt-"+tn+"F"]="replace";dt.F3="findNext";dt["Shift-F3"]="findPrev";et.normalizeKeyMap(dt);var Oee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(l,c,u,d){if(u&&u.call){var f=u;u=null}else var f=a(l,u,"rangeFinder");typeof c=="number"&&(c=n.Pos(c,0));var h=a(l,u,"minFoldSize");function v(E){var w=f(l,c);if(!w||w.to.line-w.from.line<h)return null;if(d==="fold")return w;for(var T=l.findMarksAt(w.from),C=0;C<T.length;++C)if(T[C].__isFold){if(!E)return null;w.cleared=!0,T[C].clear()}return w}var m=v(!0);if(a(l,u,"scanUp"))for(;!m&&c.line>l.firstLine();)c=n.Pos(c.line-1,0),m=v(!1);if(!(!m||m.cleared||d==="unfold")){var _=o(l,u,m);n.on(_,"mousedown",function(E){S.clear(),n.e_preventDefault(E)});var S=l.markText(m.from,m.to,{replacedWith:_,clearOnEnter:a(l,u,"clearOnEnter"),__isFold:!0});S.on("clear",function(E,w){n.signal(l,"unfold",l,E,w)}),n.signal(l,"fold",l,m.from,m.to)}}function o(l,c,u){var d=a(l,c,"widget");if(typeof d=="function"&&(d=d(u.from,u.to)),typeof d=="string"){var f=document.createTextNode(d);d=document.createElement("span"),d.appendChild(f),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}n.newFoldFunction=function(l,c){return function(u,d){i(u,d,{rangeFinder:l,widget:c})}},n.defineExtension("foldCode",function(l,c,u){i(this,l,c,u)}),n.defineExtension("isFolded",function(l){for(var c=this.findMarksAt(l),u=0;u<c.length;++u)if(c[u].__isFold)return!0}),n.commands.toggleFold=function(l){l.foldCode(l.getCursor())},n.commands.fold=function(l){l.foldCode(l.getCursor(),null,"fold")},n.commands.unfold=function(l){l.foldCode(l.getCursor(),{scanUp:!1},"unfold")},n.commands.foldAll=function(l){l.operation(function(){for(var c=l.firstLine(),u=l.lastLine();c<=u;c++)l.foldCode(n.Pos(c,0),{scanUp:!1},"fold")})},n.commands.unfoldAll=function(l){l.operation(function(){for(var c=l.firstLine(),u=l.lastLine();c<=u;c++)l.foldCode(n.Pos(c,0),{scanUp:!1},"unfold")})},n.registerHelper("fold","combine",function(){var l=Array.prototype.slice.call(arguments,0);return function(c,u){for(var d=0;d<l.length;++d){var f=l[d](c,u);if(f)return f}}}),n.registerHelper("fold","auto",function(l,c){for(var u=l.getHelpers(c,"fold"),d=0;d<u.length;d++){var f=u[d](l,c);if(f)return f}});var s={rangeFinder:n.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};n.defineOption("foldOptions",null);function a(l,c,u){if(c&&c[u]!==void 0)return c[u];var d=l.options.foldOptions;return d&&d[u]!==void 0?d[u]:s[u]}n.defineExtension("foldOption",function(l,c){return a(this,l,c)})})})();(function(t,e){(function(n){n(Pn.exports,Oee.exports)})(function(n){n.defineOption("foldGutter",!1,function(_,S,E){E&&E!=n.Init&&(_.clearGutter(_.state.foldGutter.options.gutter),_.state.foldGutter=null,_.off("gutterClick",f),_.off("changes",h),_.off("viewportChange",v),_.off("fold",m),_.off("unfold",m),_.off("swapDoc",h)),S&&(_.state.foldGutter=new o(s(S)),d(_),_.on("gutterClick",f),_.on("changes",h),_.on("viewportChange",v),_.on("fold",m),_.on("unfold",m),_.on("swapDoc",h))});var i=n.Pos;function o(_){this.options=_,this.from=this.to=0}function s(_){return _===!0&&(_={}),_.gutter==null&&(_.gutter="CodeMirror-foldgutter"),_.indicatorOpen==null&&(_.indicatorOpen="CodeMirror-foldgutter-open"),_.indicatorFolded==null&&(_.indicatorFolded="CodeMirror-foldgutter-folded"),_}function a(_,S){for(var E=_.findMarks(i(S,0),i(S+1,0)),w=0;w<E.length;++w)if(E[w].__isFold){var T=E[w].find(-1);if(T&&T.line===S)return E[w]}}function l(_){if(typeof _=="string"){var S=document.createElement("div");return S.className=_+" CodeMirror-guttermarker-subtle",S}else return _.cloneNode(!0)}function c(_,S,E){var w=_.state.foldGutter.options,T=S-1,C=_.foldOption(w,"minFoldSize"),P=_.foldOption(w,"rangeFinder"),R=typeof w.indicatorFolded=="string"&&u(w.indicatorFolded),A=typeof w.indicatorOpen=="string"&&u(w.indicatorOpen);_.eachLine(S,E,function(L){++T;var k=null,U=L.gutterMarkers;if(U&&(U=U[w.gutter]),a(_,T)){if(R&&U&&R.test(U.className))return;k=l(w.indicatorFolded)}else{var O=i(T,0),I=P&&P(_,O);if(I&&I.to.line-I.from.line>=C){if(A&&U&&A.test(U.className))return;k=l(w.indicatorOpen)}}!k&&!U||_.setGutterMarker(L,w.gutter,k)})}function u(_){return new RegExp("(^|\\s)"+_+"(?:$|\\s)\\s*")}function d(_){var S=_.getViewport(),E=_.state.foldGutter;!E||(_.operation(function(){c(_,S.from,S.to)}),E.from=S.from,E.to=S.to)}function f(_,S,E){var w=_.state.foldGutter;if(!!w){var T=w.options;if(E==T.gutter){var C=a(_,S);C?C.clear():_.foldCode(i(S,0),T)}}}function h(_){var S=_.state.foldGutter;if(!!S){var E=S.options;S.from=S.to=0,clearTimeout(S.changeUpdate),S.changeUpdate=setTimeout(function(){d(_)},E.foldOnChangeTimeSpan||600)}}function v(_){var S=_.state.foldGutter;if(!!S){var E=S.options;clearTimeout(S.changeUpdate),S.changeUpdate=setTimeout(function(){var w=_.getViewport();S.from==S.to||w.from-S.to>20||S.from-w.to>20?d(_):_.operation(function(){w.from<S.from&&(c(_,w.from,S.from),S.from=w.from),w.to>S.to&&(c(_,S.to,w.to),S.to=w.to)})},E.updateViewportTimeSpan||400)}}function m(_,S){var E=_.state.foldGutter;if(!!E){var w=S.line;w>=E.from&&w<E.to&&c(_,w,w+1)}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("fold","brace",function(i,o){var s=o.line,a=i.getLine(s),l;function c(A){for(var L=o.ch,k=0;;){var U=L<=0?-1:a.lastIndexOf(A,L-1);if(U==-1){if(k==1)break;k=1,L=a.length;continue}if(k==1&&U<o.ch)break;if(l=i.getTokenTypeAt(n.Pos(s,U+1)),!/^(comment|string)/.test(l))return U+1;L=U-1}}var u=c("{"),d=c("["),f,h,v;if(u!=null&&(d==null||d>u))v=u,f="{",h="}";else if(d!=null)v=d,f="[",h="]";else return;var m=1,_=i.lastLine(),S,E;e:for(var w=s;w<=_;++w)for(var T=i.getLine(w),C=w==s?v:0;;){var P=T.indexOf(f,C),R=T.indexOf(h,C);if(P<0&&(P=T.length),R<0&&(R=T.length),C=Math.min(P,R),C==T.length)break;if(i.getTokenTypeAt(n.Pos(w,C+1))==l){if(C==P)++m;else if(!--m){S=w,E=C;break e}}++C}if(!(S==null||s==S))return{from:n.Pos(s,v),to:n.Pos(S,E)}}),n.registerHelper("fold","import",function(i,o){function s(f){if(f<i.firstLine()||f>i.lastLine())return null;var h=i.getTokenAt(n.Pos(f,1));if(/\S/.test(h.string)||(h=i.getTokenAt(n.Pos(f,h.end+1))),h.type!="keyword"||h.string!="import")return null;for(var v=f,m=Math.min(i.lastLine(),f+10);v<=m;++v){var _=i.getLine(v),S=_.indexOf(";");if(S!=-1)return{startCh:h.end,end:n.Pos(v,S)}}}var a=o.line,l=s(a),c;if(!l||s(a-1)||(c=s(a-2))&&c.end.line==a-1)return null;for(var u=l.end;;){var d=s(u.line+1);if(d==null)break;u=d.end}return{from:i.clipPos(n.Pos(a,l.startCh+1)),to:u}}),n.registerHelper("fold","include",function(i,o){function s(d){if(d<i.firstLine()||d>i.lastLine())return null;var f=i.getTokenAt(n.Pos(d,1));if(/\S/.test(f.string)||(f=i.getTokenAt(n.Pos(d,f.end+1))),f.type=="meta"&&f.string.slice(0,8)=="#include")return f.start+8}var a=o.line,l=s(a);if(l==null||s(a-1)!=null)return null;for(var c=a;;){var u=s(c+1);if(u==null)break;++c}return{from:n.Pos(a,l+1),to:i.clipPos(n.Pos(c))}})})})();var kI={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=n.Pos;function o(w,T){return w.line-T.line||w.ch-T.ch}var s="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a=s+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",l=new RegExp("<(/?)(["+s+"]["+a+"]*)","g");function c(w,T,C,P){this.line=T,this.ch=C,this.cm=w,this.text=w.getLine(T),this.min=P?Math.max(P.from,w.firstLine()):w.firstLine(),this.max=P?Math.min(P.to-1,w.lastLine()):w.lastLine()}function u(w,T){var C=w.cm.getTokenTypeAt(i(w.line,T));return C&&/\btag\b/.test(C)}function d(w){if(!(w.line>=w.max))return w.ch=0,w.text=w.cm.getLine(++w.line),!0}function f(w){if(!(w.line<=w.min))return w.text=w.cm.getLine(--w.line),w.ch=w.text.length,!0}function h(w){for(;;){var T=w.text.indexOf(">",w.ch);if(T==-1){if(d(w))continue;return}if(!u(w,T+1)){w.ch=T+1;continue}var C=w.text.lastIndexOf("/",T),P=C>-1&&!/\S/.test(w.text.slice(C+1,T));return w.ch=T+1,P?"selfClose":"regular"}}function v(w){for(;;){var T=w.ch?w.text.lastIndexOf("<",w.ch-1):-1;if(T==-1){if(f(w))continue;return}if(!u(w,T+1)){w.ch=T;continue}l.lastIndex=T,w.ch=T;var C=l.exec(w.text);if(C&&C.index==T)return C}}function m(w){for(;;){l.lastIndex=w.ch;var T=l.exec(w.text);if(!T){if(d(w))continue;return}if(!u(w,T.index+1)){w.ch=T.index+1;continue}return w.ch=T.index+T[0].length,T}}function _(w){for(;;){var T=w.ch?w.text.lastIndexOf(">",w.ch-1):-1;if(T==-1){if(f(w))continue;return}if(!u(w,T+1)){w.ch=T;continue}var C=w.text.lastIndexOf("/",T),P=C>-1&&!/\S/.test(w.text.slice(C+1,T));return w.ch=T+1,P?"selfClose":"regular"}}function S(w,T){for(var C=[];;){var P=m(w),R,A=w.line,L=w.ch-(P?P[0].length:0);if(!P||!(R=h(w)))return;if(R!="selfClose")if(P[1]){for(var k=C.length-1;k>=0;--k)if(C[k]==P[2]){C.length=k;break}if(k<0&&(!T||T==P[2]))return{tag:P[2],from:i(A,L),to:i(w.line,w.ch)}}else C.push(P[2])}}function E(w,T){for(var C=[];;){var P=_(w);if(!P)return;if(P=="selfClose"){v(w);continue}var R=w.line,A=w.ch,L=v(w);if(!L)return;if(L[1])C.push(L[2]);else{for(var k=C.length-1;k>=0;--k)if(C[k]==L[2]){C.length=k;break}if(k<0&&(!T||T==L[2]))return{tag:L[2],from:i(w.line,w.ch),to:i(R,A)}}}}n.registerHelper("fold","xml",function(w,T){for(var C=new c(w,T.line,0);;){var P=m(C);if(!P||C.line!=T.line)return;var R=h(C);if(!R)return;if(!P[1]&&R!="selfClose"){var A=i(C.line,C.ch),L=S(C,P[2]);return L&&o(L.from,A)>0?{from:A,to:L.from}:null}}}),n.findMatchingTag=function(w,T,C){var P=new c(w,T.line,T.ch,C);if(!(P.text.indexOf(">")==-1&&P.text.indexOf("<")==-1)){var R=h(P),A=R&&i(P.line,P.ch),L=R&&v(P);if(!(!R||!L||o(P,T)>0)){var k={from:i(P.line,P.ch),to:A,tag:L[2]};return R=="selfClose"?{open:k,close:null,at:"open"}:L[1]?{open:E(P,L[2]),close:k,at:"close"}:(P=new c(w,A.line,A.ch,C),{open:k,close:S(P,L[2]),at:"open"})}}},n.findEnclosingTag=function(w,T,C,P){for(var R=new c(w,T.line,T.ch,C);;){var A=E(R,P);if(!A)break;var L=new c(w,T.line,T.ch,C),k=S(L,A.tag);if(k)return{open:A,close:k}}},n.scanForClosingTag=function(w,T,C,P){var R=new c(w,T.line,T.ch,P?{from:0,to:P}:null);return S(R,C)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("fold","markdown",function(i,o){var s=100;function a(m){var _=i.getTokenTypeAt(n.Pos(m,0));return _&&/\bheader\b/.test(_)}function l(m,_,S){var E=_&&_.match(/^#+/);return E&&a(m)?E[0].length:(E=S&&S.match(/^[=\-]+\s*$/),E&&a(m+1)?S[0]=="="?1:2:s)}var c=i.getLine(o.line),u=i.getLine(o.line+1),d=l(o.line,c,u);if(d!==s){for(var f=i.lastLine(),h=o.line,v=i.getLine(h+2);h<f&&!(l(h+1,u,v)<=d);)++h,u=v,v=i.getLine(h+2);return{from:n.Pos(o.line,c.length),to:n.Pos(h,i.getLine(h).length)}}})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerGlobalHelper("fold","comment",function(i){return i.blockCommentStart&&i.blockCommentEnd},function(i,o){var s=i.getModeAt(o),a=s.blockCommentStart,l=s.blockCommentEnd;if(!a||!l)return;for(var c=o.line,u=i.getLine(c),d,f=o.ch,h=0;;){var v=f<=0?-1:u.lastIndexOf(a,f-1);if(v==-1){if(h==1)return;h=1,f=u.length;continue}if(h==1&&v<o.ch)return;if(/comment/.test(i.getTokenTypeAt(n.Pos(c,v+1)))&&(v==0||u.slice(v-l.length,v)==l||!/comment/.test(i.getTokenTypeAt(n.Pos(c,v))))){d=v+a.length;break}f=v-1}var m=1,_=i.lastLine(),S,E;e:for(var w=c;w<=_;++w)for(var T=i.getLine(w),C=w==c?d:0;;){var P=T.indexOf(a,C),R=T.indexOf(l,C);if(P<0&&(P=T.length),R<0&&(R=T.length),C=Math.min(P,R),C==T.length)break;if(C==P)++m;else if(!--m){S=w,E=C;break e}++C}if(!(S==null||c==S&&E==d))return{from:n.Pos(c,d),to:n.Pos(S,E)}})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i="CodeMirror-activeline",o="CodeMirror-activeline-background",s="CodeMirror-activeline-gutter";n.defineOption("styleActiveLine",!1,function(d,f,h){var v=h==n.Init?!1:h;f!=v&&(v&&(d.off("beforeSelectionChange",u),a(d),delete d.state.activeLines),f&&(d.state.activeLines=[],c(d,d.listSelections()),d.on("beforeSelectionChange",u)))});function a(d){for(var f=0;f<d.state.activeLines.length;f++)d.removeLineClass(d.state.activeLines[f],"wrap",i),d.removeLineClass(d.state.activeLines[f],"background",o),d.removeLineClass(d.state.activeLines[f],"gutter",s)}function l(d,f){if(d.length!=f.length)return!1;for(var h=0;h<d.length;h++)if(d[h]!=f[h])return!1;return!0}function c(d,f){for(var h=[],v=0;v<f.length;v++){var m=f[v],_=d.getOption("styleActiveLine");if(!(typeof _=="object"&&_.nonEmpty?m.anchor.line!=m.head.line:!m.empty())){var S=d.getLineHandleVisualStart(m.head.line);h[h.length-1]!=S&&h.push(S)}}l(d.state.activeLines,h)||d.operation(function(){a(d);for(var E=0;E<h.length;E++)d.addLineClass(h[E],"wrap",i),d.addLineClass(h[E],"background",o),d.addLineClass(h[E],"gutter",s);d.state.activeLines=h})}function u(d,f){c(d,f.ranges)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),o=n.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(h){return h&&h.bracketRegex||/[(){}[\]]/}function l(h,v,m){var _=h.getLineHandle(v.line),S=v.ch-1,E=m&&m.afterCursor;E==null&&(E=/(^| )cm-fat-cursor($| )/.test(h.getWrapperElement().className));var w=a(m),T=!E&&S>=0&&w.test(_.text.charAt(S))&&s[_.text.charAt(S)]||w.test(_.text.charAt(S+1))&&s[_.text.charAt(++S)];if(!T)return null;var C=T.charAt(1)==">"?1:-1;if(m&&m.strict&&C>0!=(S==v.ch))return null;var P=h.getTokenTypeAt(o(v.line,S+1)),R=c(h,o(v.line,S+(C>0?1:0)),C,P,m);return R==null?null:{from:o(v.line,S),to:R&&R.pos,match:R&&R.ch==T.charAt(0),forward:C>0}}function c(h,v,m,_,S){for(var E=S&&S.maxScanLineLength||1e4,w=S&&S.maxScanLines||1e3,T=[],C=a(S),P=m>0?Math.min(v.line+w,h.lastLine()+1):Math.max(h.firstLine()-1,v.line-w),R=v.line;R!=P;R+=m){var A=h.getLine(R);if(!!A){var L=m>0?0:A.length-1,k=m>0?A.length:-1;if(!(A.length>E))for(R==v.line&&(L=v.ch-(m<0?1:0));L!=k;L+=m){var U=A.charAt(L);if(C.test(U)&&(_===void 0||(h.getTokenTypeAt(o(R,L+1))||"")==(_||""))){var O=s[U];if(O&&O.charAt(1)==">"==m>0)T.push(U);else if(T.length)T.pop();else return{pos:o(R,L),ch:U}}}}}return R-m==(m>0?h.lastLine():h.firstLine())?!1:null}function u(h,v,m){for(var _=h.state.matchBrackets.maxHighlightLineLength||1e3,S=m&&m.highlightNonMatching,E=[],w=h.listSelections(),T=0;T<w.length;T++){var C=w[T].empty()&&l(h,w[T].head,m);if(C&&(C.match||S!==!1)&&h.getLine(C.from.line).length<=_){var P=C.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";E.push(h.markText(C.from,o(C.from.line,C.from.ch+1),{className:P})),C.to&&h.getLine(C.to.line).length<=_&&E.push(h.markText(C.to,o(C.to.line,C.to.ch+1),{className:P}))}}if(E.length){i&&h.state.focused&&h.focus();var R=function(){h.operation(function(){for(var A=0;A<E.length;A++)E[A].clear()})};if(v)setTimeout(R,800);else return R}}function d(h){h.operation(function(){h.state.matchBrackets.currentlyHighlighted&&(h.state.matchBrackets.currentlyHighlighted(),h.state.matchBrackets.currentlyHighlighted=null),h.state.matchBrackets.currentlyHighlighted=u(h,!1,h.state.matchBrackets)})}function f(h){h.state.matchBrackets&&h.state.matchBrackets.currentlyHighlighted&&(h.state.matchBrackets.currentlyHighlighted(),h.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(h,v,m){m&&m!=n.Init&&(h.off("cursorActivity",d),h.off("focus",d),h.off("blur",f),f(h)),v&&(h.state.matchBrackets=typeof v=="object"?v:{},h.on("cursorActivity",d),h.on("focus",d),h.on("blur",f))}),n.defineExtension("matchBrackets",function(){u(this,!0)}),n.defineExtension("findMatchingBracket",function(h,v,m){return(m||typeof v=="boolean")&&(m?(m.strict=v,v=m):v=v?{strict:!0}:null),l(this,h,v)}),n.defineExtension("scanForBracket",function(h,v,m,_){return c(this,h,v,m,_)})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},o=n.Pos;n.defineOption("autoCloseBrackets",!1,function(E,w,T){T&&T!=n.Init&&(E.removeKeyMap(a),E.state.closeBrackets=null),w&&(l(s(w,"pairs")),E.state.closeBrackets=w,E.addKeyMap(a))});function s(E,w){return w=="pairs"&&typeof E=="string"?E:typeof E=="object"&&E[w]!=null?E[w]:i[w]}var a={Backspace:d,Enter:f};function l(E){for(var w=0;w<E.length;w++){var T=E.charAt(w),C="'"+T+"'";a[C]||(a[C]=c(T))}}l(i.pairs+"`");function c(E){return function(w){return m(w,E)}}function u(E){var w=E.state.closeBrackets;if(!w||w.override)return w;var T=E.getModeAt(E.getCursor());return T.closeBrackets||w}function d(E){var w=u(E);if(!w||E.getOption("disableInput"))return n.Pass;for(var T=s(w,"pairs"),C=E.listSelections(),P=0;P<C.length;P++){if(!C[P].empty())return n.Pass;var R=_(E,C[P].head);if(!R||T.indexOf(R)%2!=0)return n.Pass}for(var P=C.length-1;P>=0;P--){var A=C[P].head;E.replaceRange("",o(A.line,A.ch-1),o(A.line,A.ch+1),"+delete")}}function f(E){var w=u(E),T=w&&s(w,"explode");if(!T||E.getOption("disableInput"))return n.Pass;for(var C=E.listSelections(),P=0;P<C.length;P++){if(!C[P].empty())return n.Pass;var R=_(E,C[P].head);if(!R||T.indexOf(R)%2!=0)return n.Pass}E.operation(function(){var A=E.lineSeparator()||`
`;E.replaceSelection(A+A,null),h(E,-1),C=E.listSelections();for(var L=0;L<C.length;L++){var k=C[L].head.line;E.indentLine(k,null,!0),E.indentLine(k+1,null,!0)}})}function h(E,w){for(var T=[],C=E.listSelections(),P=0,R=0;R<C.length;R++){var A=C[R];A.head==E.getCursor()&&(P=R);var L=A.head.ch||w>0?{line:A.head.line,ch:A.head.ch+w}:{line:A.head.line-1};T.push({anchor:L,head:L})}E.setSelections(T,P)}function v(E){var w=n.cmpPos(E.anchor,E.head)>0;return{anchor:new o(E.anchor.line,E.anchor.ch+(w?-1:1)),head:new o(E.head.line,E.head.ch+(w?1:-1))}}function m(E,w){var T=u(E);if(!T||E.getOption("disableInput"))return n.Pass;var C=s(T,"pairs"),P=C.indexOf(w);if(P==-1)return n.Pass;for(var R=s(T,"closeBefore"),A=s(T,"triples"),L=C.charAt(P+1)==w,k=E.listSelections(),U=P%2==0,O,I=0;I<k.length;I++){var F=k[I],N=F.head,H,z=E.getRange(N,o(N.line,N.ch+1));if(U&&!F.empty())H="surround";else if((L||!U)&&z==w)L&&S(E,N)?H="both":A.indexOf(w)>=0&&E.getRange(N,o(N.line,N.ch+3))==w+w+w?H="skipThree":H="skip";else if(L&&N.ch>1&&A.indexOf(w)>=0&&E.getRange(o(N.line,N.ch-2),N)==w+w){if(N.ch>2&&/\bstring/.test(E.getTokenTypeAt(o(N.line,N.ch-2))))return n.Pass;H="addFour"}else if(L){var B=N.ch==0?" ":E.getRange(o(N.line,N.ch-1),N);if(!n.isWordChar(z)&&B!=w&&!n.isWordChar(B))H="both";else return n.Pass}else if(U&&(z.length===0||/\s/.test(z)||R.indexOf(z)>-1))H="both";else return n.Pass;if(!O)O=H;else if(O!=H)return n.Pass}var q=P%2?C.charAt(P-1):w,W=P%2?w:C.charAt(P+1);E.operation(function(){if(O=="skip")h(E,1);else if(O=="skipThree")h(E,3);else if(O=="surround"){for(var j=E.getSelections(),$=0;$<j.length;$++)j[$]=q+j[$]+W;E.replaceSelections(j,"around"),j=E.listSelections().slice();for(var $=0;$<j.length;$++)j[$]=v(j[$]);E.setSelections(j)}else O=="both"?(E.replaceSelection(q+W,null),E.triggerElectric(q+W),h(E,-1)):O=="addFour"&&(E.replaceSelection(q+q+q+q,"before"),h(E,1))})}function _(E,w){var T=E.getRange(o(w.line,w.ch-1),o(w.line,w.ch+1));return T.length==2?T:null}function S(E,w){var T=E.getTokenAt(o(w.line,w.ch+1));return/\bstring/.test(T.type)&&T.start==w.ch&&(w.ch==0||!/\bstring/.test(E.getTokenTypeAt(w)))}})})();(function(t,e){(function(n){n(Pn.exports,kI.exports)})(function(n){n.defineOption("autoCloseTags",!1,function(d,f,h){if(h!=n.Init&&h&&d.removeKeyMap("autoCloseTags"),!!f){var v={name:"autoCloseTags"};(typeof f!="object"||f.whenClosing!==!1)&&(v["'/'"]=function(m){return l(m)}),(typeof f!="object"||f.whenOpening!==!1)&&(v["'>'"]=function(m){return s(m)}),d.addKeyMap(v)}});var i=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],o=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function s(d){if(d.getOption("disableInput"))return n.Pass;for(var f=d.listSelections(),h=[],v=d.getOption("autoCloseTags"),m=0;m<f.length;m++){if(!f[m].empty())return n.Pass;var _=f[m].head,S=d.getTokenAt(_),E=n.innerMode(d.getMode(),S.state),w=E.state,T=E.mode.xmlCurrentTag&&E.mode.xmlCurrentTag(w),C=T&&T.name;if(!C)return n.Pass;var P=E.mode.configuration=="html",R=typeof v=="object"&&v.dontCloseTags||P&&i,A=typeof v=="object"&&v.indentTags||P&&o;S.end>_.ch&&(C=C.slice(0,C.length-S.end+_.ch));var L=C.toLowerCase();if(!C||S.type=="string"&&(S.end!=_.ch||!/[\"\']/.test(S.string.charAt(S.string.length-1))||S.string.length==1)||S.type=="tag"&&T.close||S.string.indexOf("/")==_.ch-S.start-1||R&&c(R,L)>-1||u(d,E.mode.xmlCurrentContext&&E.mode.xmlCurrentContext(w)||[],C,_,!0))return n.Pass;var k=typeof v=="object"&&v.emptyTags;if(k&&c(k,C)>-1){h[m]={text:"/>",newPos:n.Pos(_.line,_.ch+2)};continue}var U=A&&c(A,L)>-1;h[m]={indent:U,text:">"+(U?`

`:"")+"</"+C+">",newPos:U?n.Pos(_.line+1,0):n.Pos(_.line,_.ch+1)}}for(var O=typeof v=="object"&&v.dontIndentOnAutoClose,m=f.length-1;m>=0;m--){var I=h[m];d.replaceRange(I.text,f[m].head,f[m].anchor,"+insert");var F=d.listSelections().slice(0);F[m]={head:I.newPos,anchor:I.newPos},d.setSelections(F),!O&&I.indent&&(d.indentLine(I.newPos.line,null,!0),d.indentLine(I.newPos.line+1,null,!0))}}function a(d,f){for(var h=d.listSelections(),v=[],m=f?"/":"</",_=d.getOption("autoCloseTags"),S=typeof _=="object"&&_.dontIndentOnSlash,E=0;E<h.length;E++){if(!h[E].empty())return n.Pass;var w=h[E].head,T=d.getTokenAt(w),C=n.innerMode(d.getMode(),T.state),P=C.state;if(f&&(T.type=="string"||T.string.charAt(0)!="<"||T.start!=w.ch-1))return n.Pass;var R,A=C.mode.name!="xml"&&d.getMode().name=="htmlmixed";if(A&&C.mode.name=="javascript")R=m+"script";else if(A&&C.mode.name=="css")R=m+"style";else{var L=C.mode.xmlCurrentContext&&C.mode.xmlCurrentContext(P),k=L.length?L[L.length-1]:"";if(!L||L.length&&u(d,L,k,w))return n.Pass;R=m+k}d.getLine(w.line).charAt(T.end)!=">"&&(R+=">"),v[E]=R}if(d.replaceSelections(v),h=d.listSelections(),!S)for(var E=0;E<h.length;E++)(E==h.length-1||h[E].head.line<h[E+1].head.line)&&d.indentLine(h[E].head.line)}function l(d){return d.getOption("disableInput")?n.Pass:a(d,!0)}n.commands.closeTag=function(d){return a(d)};function c(d,f){if(d.indexOf)return d.indexOf(f);for(var h=0,v=d.length;h<v;++h)if(d[h]==f)return h;return-1}function u(d,f,h,v,m){if(!n.scanForClosingTag)return!1;var _=Math.min(d.lastLine()+1,v.line+500),S=n.scanForClosingTag(d,v,null,_);if(!S||S.tag!=h)return!1;for(var E=m?1:0,w=f.length-1;w>=0&&f[w]==h;w--)++E;v=S.to;for(var w=1;w<E;w++){var T=n.scanForClosingTag(d,v,null,_);if(!T||T.tag!=h)return!1;v=T.to}return!0}})})();(function(t,e){(function(n){n(Pn.exports,kI.exports)})(function(n){n.defineOption("matchTags",!1,function(a,l,c){c&&c!=n.Init&&(a.off("cursorActivity",o),a.off("viewportChange",s),i(a)),l&&(a.state.matchBothTags=typeof l=="object"&&l.bothTags,a.on("cursorActivity",o),a.on("viewportChange",s),o(a))});function i(a){a.state.tagHit&&a.state.tagHit.clear(),a.state.tagOther&&a.state.tagOther.clear(),a.state.tagHit=a.state.tagOther=null}function o(a){a.state.failedTagMatch=!1,a.operation(function(){if(i(a),!a.somethingSelected()){var l=a.getCursor(),c=a.getViewport();c.from=Math.min(c.from,l.line),c.to=Math.max(l.line+1,c.to);var u=n.findMatchingTag(a,l,c);if(!!u){if(a.state.matchBothTags){var d=u.at=="open"?u.open:u.close;d&&(a.state.tagHit=a.markText(d.from,d.to,{className:"CodeMirror-matchingtag"}))}var f=u.at=="close"?u.open:u.close;f?a.state.tagOther=a.markText(f.from,f.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0}}})}function s(a){a.state.failedTagMatch&&o(a)}n.commands.toMatchingTag=function(a){var l=n.findMatchingTag(a,a.getCursor());if(l){var c=l.at=="close"?l.open:l.close;c&&a.extendSelection(c.to,c.from)}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i={},o=/[^\s\u00a0]/,s=n.Pos,a=n.cmpPos;function l(d){var f=d.search(o);return f==-1?0:f}n.commands.toggleComment=function(d){d.toggleComment()},n.defineExtension("toggleComment",function(d){d||(d=i);for(var f=this,h=1/0,v=this.listSelections(),m=null,_=v.length-1;_>=0;_--){var S=v[_].from(),E=v[_].to();S.line>=h||(E.line>=h&&(E=s(h,0)),h=S.line,m==null?f.uncomment(S,E,d)?m="un":(f.lineComment(S,E,d),m="line"):m=="un"?f.uncomment(S,E,d):f.lineComment(S,E,d))}});function c(d,f,h){return/\bstring\b/.test(d.getTokenTypeAt(s(f.line,0)))&&!/^[\'\"\`]/.test(h)}function u(d,f){var h=d.getMode();return h.useInnerComments===!1||!h.innerMode?h:d.getModeAt(f)}n.defineExtension("lineComment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=v.getLine(d.line);if(!(_==null||c(v,d,_))){var S=h.lineComment||m.lineComment;if(!S){(h.blockCommentStart||m.blockCommentStart)&&(h.fullLines=!0,v.blockComment(d,f,h));return}var E=Math.min(f.ch!=0||f.line==d.line?f.line+1:f.line,v.lastLine()+1),w=h.padding==null?" ":h.padding,T=h.commentBlankLines||d.line==f.line;v.operation(function(){if(h.indent){for(var C=null,P=d.line;P<E;++P){var R=v.getLine(P),A=R.slice(0,l(R));(C==null||C.length>A.length)&&(C=A)}for(var P=d.line;P<E;++P){var R=v.getLine(P),L=C.length;!T&&!o.test(R)||(R.slice(0,L)!=C&&(L=l(R)),v.replaceRange(C+S+w,s(P,0),s(P,L)))}}else for(var P=d.line;P<E;++P)(T||o.test(v.getLine(P)))&&v.replaceRange(S+w,s(P,0))})}}),n.defineExtension("blockComment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=h.blockCommentStart||m.blockCommentStart,S=h.blockCommentEnd||m.blockCommentEnd;if(!_||!S){(h.lineComment||m.lineComment)&&h.fullLines!=!1&&v.lineComment(d,f,h);return}if(!/\bcomment\b/.test(v.getTokenTypeAt(s(d.line,0)))){var E=Math.min(f.line,v.lastLine());E!=d.line&&f.ch==0&&o.test(v.getLine(E))&&--E;var w=h.padding==null?" ":h.padding;d.line>E||v.operation(function(){if(h.fullLines!=!1){var T=o.test(v.getLine(E));v.replaceRange(w+S,s(E)),v.replaceRange(_+w,s(d.line,0));var C=h.blockCommentLead||m.blockCommentLead;if(C!=null)for(var P=d.line+1;P<=E;++P)(P!=E||T)&&v.replaceRange(C+w,s(P,0))}else{var R=a(v.getCursor("to"),f)==0,A=!v.somethingSelected();v.replaceRange(S,f),R&&v.setSelection(A?f:v.getCursor("from"),f),v.replaceRange(_,d)}})}}),n.defineExtension("uncomment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=Math.min(f.ch!=0||f.line==d.line?f.line:f.line-1,v.lastLine()),S=Math.min(d.line,_),E=h.lineComment||m.lineComment,w=[],T=h.padding==null?" ":h.padding,C;e:{if(!E)break e;for(var P=S;P<=_;++P){var R=v.getLine(P),A=R.indexOf(E);if(A>-1&&!/comment/.test(v.getTokenTypeAt(s(P,A+1)))&&(A=-1),A==-1&&o.test(R)||A>-1&&o.test(R.slice(0,A)))break e;w.push(R)}if(v.operation(function(){for(var j=S;j<=_;++j){var $=w[j-S],ie=$.indexOf(E),Q=ie+E.length;ie<0||($.slice(Q,Q+T.length)==T&&(Q+=T.length),C=!0,v.replaceRange("",s(j,ie),s(j,Q)))}}),C)return!0}var L=h.blockCommentStart||m.blockCommentStart,k=h.blockCommentEnd||m.blockCommentEnd;if(!L||!k)return!1;var U=h.blockCommentLead||m.blockCommentLead,O=v.getLine(S),I=O.indexOf(L);if(I==-1)return!1;var F=_==S?O:v.getLine(_),N=F.indexOf(k,_==S?I+L.length:0),H=s(S,I+1),z=s(_,N+1);if(N==-1||!/comment/.test(v.getTokenTypeAt(H))||!/comment/.test(v.getTokenTypeAt(z))||v.getRange(H,z,`
`).indexOf(k)>-1)return!1;var B=O.lastIndexOf(L,d.ch),q=B==-1?-1:O.slice(0,d.ch).indexOf(k,B+L.length);if(B!=-1&&q!=-1&&q+k.length!=d.ch)return!1;q=F.indexOf(k,f.ch);var W=F.slice(f.ch).lastIndexOf(L,q-f.ch);return B=q==-1||W==-1?-1:f.ch+W,q!=-1&&B!=-1&&B!=f.ch?!1:(v.operation(function(){v.replaceRange("",s(_,N-(T&&F.slice(N-T.length,N)==T?T.length:0)),s(_,N+k.length));var j=I+L.length;if(T&&O.slice(j,j+T.length)==T&&(j+=T.length),v.replaceRange("",s(S,I),s(S,j)),U)for(var $=S+1;$<=_;++$){var ie=v.getLine($),Q=ie.indexOf(U);if(!(Q==-1||o.test(ie.slice(0,Q)))){var le=Q+U.length;T&&ie.slice(le,le+T.length)==T&&(le+=T.length),v.replaceRange("",s($,Q),s($,le))}}}),!0)})})})();var Nee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineExtension("annotateScrollbar",function(o){return typeof o=="string"&&(o={className:o}),new i(this,o)}),n.defineOption("scrollButtonHeight",0);function i(o,s){this.cm=o,this.options=s,this.buttonHeight=s.scrollButtonHeight||o.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=o.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();function a(c){clearTimeout(l.doRedraw),l.doRedraw=setTimeout(function(){l.redraw()},c)}var l=this;o.on("refresh",this.resizeHandler=function(){clearTimeout(l.doUpdate),l.doUpdate=setTimeout(function(){l.computeScale()&&a(20)},100)}),o.on("markerAdded",this.resizeHandler),o.on("markerCleared",this.resizeHandler),s.listenForChanges!==!1&&o.on("changes",this.changeHandler=function(){a(250)})}i.prototype.computeScale=function(){var o=this.cm,s=(o.getWrapperElement().clientHeight-o.display.barHeight-this.buttonHeight*2)/o.getScrollerElement().scrollHeight;if(s!=this.hScale)return this.hScale=s,!0},i.prototype.update=function(o){this.annotations=o,this.redraw()},i.prototype.redraw=function(o){o!==!1&&this.computeScale();var s=this.cm,a=this.hScale,l=document.createDocumentFragment(),c=this.annotations,u=s.getOption("lineWrapping"),d=u&&s.defaultTextHeight()*1.5,f=null,h=null;function v(R,A){if(f!=R.line){f=R.line,h=s.getLineHandle(R.line);var L=s.getLineHandleVisualStart(h);L!=h&&(f=s.getLineNumber(L),h=L)}if(h.widgets&&h.widgets.length||u&&h.height>d)return s.charCoords(R,"local")[A?"top":"bottom"];var k=s.heightAtLine(h,"local");return k+(A?0:h.height)}var m=s.lastLine();if(s.display.barWidth)for(var _=0,S;_<c.length;_++){var E=c[_];if(!(E.to.line>m)){for(var w=S||v(E.from,!0)*a,T=v(E.to,!1)*a;_<c.length-1&&!(c[_+1].to.line>m||(S=v(c[_+1].from,!0)*a,S>T+.9));)E=c[++_],T=v(E.to,!1)*a;if(T!=w){var C=Math.max(T-w,3),P=l.appendChild(document.createElement("div"));P.style.cssText="position: absolute; right: 0px; width: "+Math.max(s.display.barWidth-1,2)+"px; top: "+(w+this.buttonHeight)+"px; height: "+C+"px",P.className=this.options.className,E.id&&P.setAttribute("annotation-id",E.id)}}}this.div.textContent="",this.div.appendChild(l)},i.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineOption("scrollPastEnd",!1,function(s,a,l){l&&l!=n.Init&&(s.off("change",i),s.off("refresh",o),s.display.lineSpace.parentNode.style.paddingBottom="",s.state.scrollPastEndPadding=null),a&&(s.on("change",i),s.on("refresh",o),o(s))});function i(s,a){n.changeEnd(a).line==s.lastLine()&&o(s)}function o(s){var a="";if(s.lineCount()>1){var l=s.display.scroller.clientHeight-30,c=s.getLineHandle(s.lastLine()).height;a=l-c+"px"}s.state.scrollPastEndPadding!=a&&(s.state.scrollPastEndPadding=a,s.display.lineSpace.parentNode.style.paddingBottom=a,s.off("refresh",o),s.setSize(),s.on("refresh",o))}})})();var kee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(s,a,l){var c=s.getWrapperElement(),u;return u=c.appendChild(document.createElement("div")),l?u.className="CodeMirror-dialog CodeMirror-dialog-bottom":u.className="CodeMirror-dialog CodeMirror-dialog-top",typeof a=="string"?u.innerHTML=a:u.appendChild(a),n.addClass(c,"dialog-opened"),u}function o(s,a){s.state.currentNotificationClose&&s.state.currentNotificationClose(),s.state.currentNotificationClose=a}n.defineExtension("openDialog",function(s,a,l){l||(l={}),o(this,null);var c=i(this,s,l.bottom),u=!1,d=this;function f(m){if(typeof m=="string")h.value=m;else{if(u)return;u=!0,n.rmClass(c.parentNode,"dialog-opened"),c.parentNode.removeChild(c),d.focus(),l.onClose&&l.onClose(c)}}var h=c.getElementsByTagName("input")[0],v;return h?(h.focus(),l.value&&(h.value=l.value,l.selectValueOnOpen!==!1&&h.select()),l.onInput&&n.on(h,"input",function(m){l.onInput(m,h.value,f)}),l.onKeyUp&&n.on(h,"keyup",function(m){l.onKeyUp(m,h.value,f)}),n.on(h,"keydown",function(m){l&&l.onKeyDown&&l.onKeyDown(m,h.value,f)||((m.keyCode==27||l.closeOnEnter!==!1&&m.keyCode==13)&&(h.blur(),n.e_stop(m),f()),m.keyCode==13&&a(h.value,m))}),l.closeOnBlur!==!1&&n.on(c,"focusout",function(m){m.relatedTarget!==null&&f()})):(v=c.getElementsByTagName("button")[0])&&(n.on(v,"click",function(){f(),d.focus()}),l.closeOnBlur!==!1&&n.on(v,"blur",f),v.focus()),f}),n.defineExtension("openConfirm",function(s,a,l){o(this,null);var c=i(this,s,l&&l.bottom),u=c.getElementsByTagName("button"),d=!1,f=this,h=1;function v(){d||(d=!0,n.rmClass(c.parentNode,"dialog-opened"),c.parentNode.removeChild(c),f.focus())}u[0].focus();for(var m=0;m<u.length;++m){var _=u[m];(function(S){n.on(_,"click",function(E){n.e_preventDefault(E),v(),S&&S(f)})})(a[m]),n.on(_,"blur",function(){--h,setTimeout(function(){h<=0&&v()},200)}),n.on(_,"focus",function(){++h})}}),n.defineExtension("openNotification",function(s,a){o(this,f);var l=i(this,s,a&&a.bottom),c=!1,u,d=a&&typeof a.duration!="undefined"?a.duration:5e3;function f(){c||(c=!0,clearTimeout(u),n.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l))}return n.on(l,"click",function(h){n.e_preventDefault(h),f()}),d&&(u=setTimeout(f,d)),f})})})();var Dee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=n.Pos;function o(w){var T=w.flags;return T!=null?T:(w.ignoreCase?"i":"")+(w.global?"g":"")+(w.multiline?"m":"")}function s(w,T){for(var C=o(w),P=C,R=0;R<T.length;R++)P.indexOf(T.charAt(R))==-1&&(P+=T.charAt(R));return C==P?w:new RegExp(w.source,P)}function a(w){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(w.source)}function l(w,T,C){T=s(T,"g");for(var P=C.line,R=C.ch,A=w.lastLine();P<=A;P++,R=0){T.lastIndex=R;var L=w.getLine(P),k=T.exec(L);if(k)return{from:i(P,k.index),to:i(P,k.index+k[0].length),match:k}}}function c(w,T,C){if(!a(T))return l(w,T,C);T=s(T,"gm");for(var P,R=1,A=C.line,L=w.lastLine();A<=L;){for(var k=0;k<R&&!(A>L);k++){var U=w.getLine(A++);P=P==null?U:P+`
`+U}R=R*2,T.lastIndex=C.ch;var O=T.exec(P);if(O){var I=P.slice(0,O.index).split(`
`),F=O[0].split(`
`),N=C.line+I.length-1,H=I[I.length-1].length;return{from:i(N,H),to:i(N+F.length-1,F.length==1?H+F[0].length:F[F.length-1].length),match:O}}}}function u(w,T,C){for(var P,R=0;R<=w.length;){T.lastIndex=R;var A=T.exec(w);if(!A)break;var L=A.index+A[0].length;if(L>w.length-C)break;(!P||L>P.index+P[0].length)&&(P=A),R=A.index+1}return P}function d(w,T,C){T=s(T,"g");for(var P=C.line,R=C.ch,A=w.firstLine();P>=A;P--,R=-1){var L=w.getLine(P),k=u(L,T,R<0?0:L.length-R);if(k)return{from:i(P,k.index),to:i(P,k.index+k[0].length),match:k}}}function f(w,T,C){if(!a(T))return d(w,T,C);T=s(T,"gm");for(var P,R=1,A=w.getLine(C.line).length-C.ch,L=C.line,k=w.firstLine();L>=k;){for(var U=0;U<R&&L>=k;U++){var O=w.getLine(L--);P=P==null?O:O+`
`+P}R*=2;var I=u(P,T,A);if(I){var F=P.slice(0,I.index).split(`
`),N=I[0].split(`
`),H=L+F.length,z=F[F.length-1].length;return{from:i(H,z),to:i(H+N.length-1,N.length==1?z+N[0].length:N[N.length-1].length),match:I}}}}var h,v;String.prototype.normalize?(h=function(w){return w.normalize("NFD").toLowerCase()},v=function(w){return w.normalize("NFD")}):(h=function(w){return w.toLowerCase()},v=function(w){return w});function m(w,T,C,P){if(w.length==T.length)return C;for(var R=0,A=C+Math.max(0,w.length-T.length);;){if(R==A)return R;var L=R+A>>1,k=P(w.slice(0,L)).length;if(k==C)return L;k>C?A=L:R=L+1}}function _(w,T,C,P){if(!T.length)return null;var R=P?h:v,A=R(T).split(/\r|\n\r?/);e:for(var L=C.line,k=C.ch,U=w.lastLine()+1-A.length;L<=U;L++,k=0){var O=w.getLine(L).slice(k),I=R(O);if(A.length==1){var F=I.indexOf(A[0]);if(F==-1)continue e;var C=m(O,I,F,R)+k;return{from:i(L,m(O,I,F,R)+k),to:i(L,m(O,I,F+A[0].length,R)+k)}}else{var N=I.length-A[0].length;if(I.slice(N)!=A[0])continue e;for(var H=1;H<A.length-1;H++)if(R(w.getLine(L+H))!=A[H])continue e;var z=w.getLine(L+A.length-1),B=R(z),q=A[A.length-1];if(B.slice(0,q.length)!=q)continue e;return{from:i(L,m(O,I,N,R)+k),to:i(L+A.length-1,m(z,B,q.length,R))}}}}function S(w,T,C,P){if(!T.length)return null;var R=P?h:v,A=R(T).split(/\r|\n\r?/);e:for(var L=C.line,k=C.ch,U=w.firstLine()-1+A.length;L>=U;L--,k=-1){var O=w.getLine(L);k>-1&&(O=O.slice(0,k));var I=R(O);if(A.length==1){var F=I.lastIndexOf(A[0]);if(F==-1)continue e;return{from:i(L,m(O,I,F,R)),to:i(L,m(O,I,F+A[0].length,R))}}else{var N=A[A.length-1];if(I.slice(0,N.length)!=N)continue e;for(var H=1,C=L-A.length+1;H<A.length-1;H++)if(R(w.getLine(C+H))!=A[H])continue e;var z=w.getLine(L+1-A.length),B=R(z);if(B.slice(B.length-A[0].length)!=A[0])continue e;return{from:i(L+1-A.length,m(z,B,z.length-A[0].length,R)),to:i(L,m(O,I,N.length,R))}}}}function E(w,T,C,P){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=w,C=C?w.clipPos(C):i(0,0),this.pos={from:C,to:C};var R;typeof P=="object"?R=P.caseFold:(R=P,P=null),typeof T=="string"?(R==null&&(R=!1),this.matches=function(A,L){return(A?S:_)(w,T,L,R)}):(T=s(T,"gm"),!P||P.multiline!==!1?this.matches=function(A,L){return(A?f:c)(w,T,L)}:this.matches=function(A,L){return(A?d:l)(w,T,L)})}E.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(w){var T=this.doc.clipPos(w?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(T=i(T.line,T.ch),w?(T.ch--,T.ch<0&&(T.line--,T.ch=(this.doc.getLine(T.line)||"").length)):(T.ch++,T.ch>(this.doc.getLine(T.line)||"").length&&(T.ch=0,T.line++)),n.cmpPos(T,this.doc.clipPos(T))!=0))return this.atOccurrence=!1;var C=this.matches(w,T);if(this.afterEmptyMatch=C&&n.cmpPos(C.from,C.to)==0,C)return this.pos=C,this.atOccurrence=!0,this.pos.match||!0;var P=i(w?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:P,to:P},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(w,T){if(!!this.atOccurrence){var C=n.splitLines(w);this.doc.replaceRange(C,this.pos.from,this.pos.to,T),this.pos.to=i(this.pos.from.line+C.length-1,C[C.length-1].length+(C.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(w,T,C){return new E(this.doc,w,T,C)}),n.defineDocExtension("getSearchCursor",function(w,T,C){return new E(this,w,T,C)}),n.defineExtension("selectMatches",function(w,T){for(var C=[],P=this.getSearchCursor(w,this.getCursor("from"),T);P.findNext()&&!(n.cmpPos(P.to(),this.getCursor("to"))>0);)C.push({anchor:P.from(),head:P.to()});C.length&&this.setSelections(C,0)})})})();var Fee={exports:{}};(function(t,e){(function(n){n(Pn.exports,Dee.exports,Nee.exports)})(function(n){n.defineExtension("showMatchesOnScrollbar",function(a,l,c){return typeof c=="string"&&(c={className:c}),c||(c={}),new i(this,a,l,c)});function i(a,l,c,u){this.cm=a,this.options=u;var d={listenForChanges:!1};for(var f in u)d[f]=u[f];d.className||(d.className="CodeMirror-search-match"),this.annotation=a.annotateScrollbar(d),this.query=l,this.caseFold=c,this.gap={from:a.firstLine(),to:a.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var h=this;a.on("change",this.changeHandler=function(v,m){h.onChange(m)})}var o=1e3;i.prototype.findMatches=function(){if(!!this.gap){for(var a=0;a<this.matches.length;a++){var l=this.matches[a];if(l.from.line>=this.gap.to)break;l.to.line>=this.gap.from&&this.matches.splice(a--,1)}for(var c=this.cm.getSearchCursor(this.query,n.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),u=this.options&&this.options.maxMatches||o;c.findNext();){var l={from:c.from(),to:c.to()};if(l.from.line>=this.gap.to||(this.matches.splice(a++,0,l),this.matches.length>u))break}this.gap=null}};function s(a,l,c){return a<=l?a:Math.max(l,a+c)}i.prototype.onChange=function(a){var l=a.from.line,c=n.changeEnd(a).line,u=c-a.to.line;if(this.gap?(this.gap.from=Math.min(s(this.gap.from,l,u),a.from.line),this.gap.to=Math.max(s(this.gap.to,l,u),a.from.line)):this.gap={from:a.from.line,to:c+1},u)for(var d=0;d<this.matches.length;d++){var f=this.matches[d],h=s(f.from.line,l,u);h!=f.from.line&&(f.from=n.Pos(h,f.from.ch));var v=s(f.to.line,l,u);v!=f.to.line&&(f.to=n.Pos(v,f.to.ch))}clearTimeout(this.update);var m=this;this.update=setTimeout(function(){m.updateAfterChange()},250)},i.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},i.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}})})();(function(t,e){(function(n){n(Pn.exports,Fee.exports)})(function(n){var i={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function o(m){this.options={};for(var _ in i)this.options[_]=(m&&m.hasOwnProperty(_)?m:i)[_];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}n.defineOption("highlightSelectionMatches",!1,function(m,_,S){if(S&&S!=n.Init&&(u(m),clearTimeout(m.state.matchHighlighter.timeout),m.state.matchHighlighter=null,m.off("cursorActivity",s),m.off("focus",a)),_){var E=m.state.matchHighlighter=new o(_);m.hasFocus()?(E.active=!0,d(m)):m.on("focus",a),m.on("cursorActivity",s)}});function s(m){var _=m.state.matchHighlighter;(_.active||m.hasFocus())&&l(m,_)}function a(m){var _=m.state.matchHighlighter;_.active||(_.active=!0,l(m,_))}function l(m,_){clearTimeout(_.timeout),_.timeout=setTimeout(function(){d(m)},_.options.delay)}function c(m,_,S,E){var w=m.state.matchHighlighter;if(m.addOverlay(w.overlay=v(_,S,E)),w.options.annotateScrollbar&&m.showMatchesOnScrollbar){var T=S?new RegExp((/\w/.test(_.charAt(0))?"\\b":"")+_.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(_.charAt(_.length-1))?"\\b":"")):_;w.matchesonscroll=m.showMatchesOnScrollbar(T,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function u(m){var _=m.state.matchHighlighter;_.overlay&&(m.removeOverlay(_.overlay),_.overlay=null,_.matchesonscroll&&(_.matchesonscroll.clear(),_.matchesonscroll=null))}function d(m){m.operation(function(){var _=m.state.matchHighlighter;if(u(m),!m.somethingSelected()&&_.options.showToken){for(var S=_.options.showToken===!0?/[\w$]/:_.options.showToken,E=m.getCursor(),w=m.getLine(E.line),T=E.ch,C=T;T&&S.test(w.charAt(T-1));)--T;for(;C<w.length&&S.test(w.charAt(C));)++C;T<C&&c(m,w.slice(T,C),S,_.options.style);return}var P=m.getCursor("from"),R=m.getCursor("to");if(P.line==R.line&&!(_.options.wordsOnly&&!f(m,P,R))){var A=m.getRange(P,R);_.options.trim&&(A=A.replace(/^\s+|\s+$/g,"")),A.length>=_.options.minChars&&c(m,A,!1,_.options.style)}})}function f(m,_,S){var E=m.getRange(_,S);if(E.match(/^\w+$/)!==null){if(_.ch>0){var w={line:_.line,ch:_.ch-1},T=m.getRange(w,_);if(T.match(/\W/)===null)return!1}if(S.ch<m.getLine(_.line).length){var w={line:S.line,ch:S.ch+1},T=m.getRange(S,w);if(T.match(/\W/)===null)return!1}return!0}else return!1}function h(m,_){return(!m.start||!_.test(m.string.charAt(m.start-1)))&&(m.pos==m.string.length||!_.test(m.string.charAt(m.pos)))}function v(m,_,S){return{token:function(E){if(E.match(m)&&(!_||h(E,_)))return S;E.next(),E.skipTo(m.charAt(0))||E.skipToEnd()}}}})})();function Uee(t,e){return typeof t=="string"?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(n){t.lastIndex=n.pos;var i=t.exec(n.string);if(i&&i.index==n.pos)return n.pos+=i[0].length||1,"searching";i?n.pos=i.index:n.skipToEnd()}}}function jee(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function Vd(t){return t.state.search||(t.state.search=new jee)}function Kv(t){return typeof t=="string"&&t==t.toLowerCase()}function Tp(t,e,n){return t.getSearchCursor(e,n,Kv(e))}function Bee(t,e,n,i,o){var s=document.getElementsByClassName("CodeMirror-search-field")[0];if(n&&n.indexOf(`
`)>0&&(n=n.substring(0,n.indexOf(`
`))),s)s.value=n,s.focus(),s.select();else{t.openDialog(e,i,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){Mp(t)},onKeyDown:o,closeOnBlur:!1}),s=document.getElementsByClassName("CodeMirror-search-field")[0];var a=document.getElementsByClassName("CodeMirror-dialog")[0],l=a.getElementsByClassName("close")[0];et.on(s,"keyup",function(d){d.keyCode!==13&&s.value.length>1&&Cp(t,Vd(t),s.value)}),et.on(l,"click",function(){Mp(t),a.parentNode.removeChild(a),t.focus()});var c=a.getElementsByClassName("up-arrow")[0];et.on(c,"click",function(){et.commands.findPrev(t),s.blur(),t.focus()});var u=a.getElementsByClassName("down-arrow")[0];et.on(u,"click",function(){et.commands.findNext(t),s.blur(),t.focus()})}}function w2(t,e,n,i,o){t.openDialog?t.openDialog(e,o,{value:i,selectValueOnOpen:!0}):o(prompt(n,i))}var x2=0;function Vee(t,e,n,i){t.openConfirm?t.openConfirm(e,i):confirm(n)&&i[0]();var o=document.getElementsByClassName("CodeMirror-dialog")[0],s=o.getElementsByTagName("button");s[x2].focus();for(var a=0;a<s.length;a+=1)(function(l){var c=s[l];c.addEventListener("focus",function(u){x2=l===s.length-1?0:l}),c.addEventListener("keyup",function(u){if(u.keyCode===37){var d=l===0?s.length-1:l-1;s[d].focus()}if(u.keyCode===39){var f=l===s.length-1?0:l+1;s[f].focus()}u.keyCode===27&&t.focus()}),c.addEventListener("click",function(){l===s.length-1&&(x2=0)})})(a)}function DI(t){return t.replace(/\\(.)/g,function(e,n){return n=="n"?`
`:n=="r"?"\r":n})}function FI(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],e[2].indexOf("i")==-1?"":"i")}catch{}else t=DI(t);return(typeof t=="string"?t=="":t.test(""))&&(t=/x^/),t}var UI='<input type="text" class="search-input CodeMirror-search-field"/><div class="button-wrap"><span class="CodeMirror-search-button icon up-arrow prev"></span><span class="CodeMirror-search-button icon down-arrow next"></span></div><div class="close icon"></div>';function Cp(t,e,n){e.queryText=n,e.query=FI(n),t.removeOverlay(e.overlay,Kv(e.query)),e.overlay=Uee(e.query,Kv(e.query)),t.addOverlay(e.overlay),t.showMatchesOnScrollbar&&(e.annotate&&(e.annotate.clear(),e.annotate=null),e.annotate=t.showMatchesOnScrollbar(e.query,Kv(e.query)))}function Hd(t,e,n,i,o){var s=Vd(t);if(!o&&s.query)return Xv(t,e);var a=t.getSelection()||s.lastQuery;if(n&&t.openDialog){var l=null,c=function(u,d){et.e_stop(d),!!u&&(u!=s.queryText&&(Cp(t,s,u),s.posFrom=s.posTo=t.getCursor()),l&&(l.style.opacity=1),Xv(t,d.shiftKey,function(f,h){var v;application.analytics.track("Project Searched",{searchTarget:"In file",searchTerm:u}),h.line<3&&document.querySelector&&(v=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&v.getBoundingClientRect().bottom-4>t.cursorCoords(h,"window").top&&((l=v).style.opacity=.4)}))};Bee(t,UI,a,c,function(u,d){var f=et.keyName(u),h=et.keyMap[t.getOption("keyMap")][f];h||(h=t.getOption("extraKeys")[f]),h=="findNext"||h=="findPrev"||h=="findPersistentNext"||h=="findPersistentPrev"?(et.e_stop(u),Cp(t,Vd(t),d),t.execCommand(h)):(h=="find"||h=="findPersistent")&&(et.e_stop(u),c(d,u))}),i&&a&&(Cp(t,s,a),Xv(t,e))}else w2(t,UI,"Search for:",a,function(u){u&&!s.query&&t.operation(function(){Cp(t,s,u),s.posFrom=s.posTo=t.getCursor(),Xv(t,e)})})}function Xv(t,e,n){t.operation(function(){var i=Vd(t),o=Tp(t,i.query,e?i.posFrom:i.posTo);!o.find(e)&&(o=Tp(t,i.query,e?et.Pos(t.lastLine()):et.Pos(t.firstLine(),0)),!o.find(e))||(t.setSelection(o.from(),o.to()),t.scrollIntoView({from:o.from(),to:o.to()},t.getScrollInfo().clientHeight/2),i.posFrom=o.from(),i.posTo=o.to(),n&&n(o.from(),o.to()))})}function Mp(t){t.operation(function(){var e=Vd(t);e.lastQuery=e.query,!!e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}var Hee='<input type="text" class="search-input CodeMirror-search-field"/><div class="close icon"></div>',zee='With: <input type="text" class="replace-input CodeMirror-search-field"/>',Gee="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";function jI(t,e,n){t.operation(function(){for(var i=Tp(t,e);i.findNext();)if(typeof e!="string"){var o=t.getRange(i.from(),i.to()).match(e);i.replace(n.replace(/\$(\d)/g,function(s,a){return o[a]}))}else i.replace(n)})}function BI(t,e){var n=document.getElementsByClassName("CodeMirror-dialog")[0];if(n&&(Mp(t),n.parentNode.removeChild(n),t.focus()),!t.getOption("readOnly")){var i=t.getSelection()||Vd(t).lastQuery,o=e?"Replace all:":"Replace:";w2(t,o+Hee,o,i,function(s){!s||(s=FI(s),w2(t,zee,"Replace with:","",function(a){if(a=DI(a),e)jI(t,s,a);else{Mp(t);var l=Tp(t,s,t.getCursor("from")),c=function(){var d=l.from(),f;!(f=l.findNext())&&(l=Tp(t,s),!(f=l.findNext())||d&&l.from().line==d.line&&l.from().ch==d.ch)||(t.setSelection(l.from(),l.to()),t.scrollIntoView({from:l.from(),to:l.to()},60),Vee(t,Gee,"Replace?",[function(){u(f)},c,function(){jI(t,s,a)}]))},u=function(d){l.replace(typeof s=="string"?a:a.replace(/\$(\d)/g,function(f,h){return d[h]})),c()};c()}}))})}}et.commands.find=function(t){Hd(t)};et.commands.findPersistent=function(t){Hd(t,!1,!0,!1,!0)};et.commands.findPersistentNext=function(t){Hd(t,!1,!0,!0)};et.commands.findPersistentPrev=function(t){Hd(t,!0,!0,!0)};et.commands.findNext=Hd;et.commands.findPrev=function(t){Hd(t,!0)};et.commands.clearSearch=Mp;et.commands.replace=BI;et.commands.replaceAll=function(t){BI(t,!0)};(function(t,e){(function(n){n(Pn.exports,kee.exports)})(function(n){n.defineOption("search",{bottom:!1});function i(a,l,c,u,d){a.openDialog?a.openDialog(l,d,{value:u,selectValueOnOpen:!0,bottom:a.options.search.bottom}):d(prompt(c,u))}function o(a){return a.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+a.phrase("(Use line:column or scroll% syntax)")+"</span>"}function s(a,l){var c=Number(l);return/^[-+]/.test(l)?a.getCursor().line+c:c-1}n.commands.jumpToLine=function(a){var l=a.getCursor();i(a,o(a),a.phrase("Jump to line:"),l.line+1+":"+l.ch,function(c){if(!!c){var u;if(u=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(c))a.setCursor(s(a,u[1]),Number(u[2]));else if(u=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(c)){var d=Math.round(a.lineCount()*Number(u[1])/100);/^[-+]/.test(u[1])&&(d=l.line+d+1),a.setCursor(d-1,l.ch)}else(u=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(c))&&a.setCursor(s(a,u[1]),l.ch)}})},n.keyMap.default["Alt-G"]="jumpToLine"})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i="CodeMirror-lint-markers",o="CodeMirror-lint-line-";function s(A,L,k){var U=document.createElement("div");U.className="CodeMirror-lint-tooltip cm-s-"+A.options.theme,U.appendChild(k.cloneNode(!0)),A.state.lint.options.selfContain?A.getWrapperElement().appendChild(U):document.body.appendChild(U);function O(I){if(!U.parentNode)return n.off(document,"mousemove",O);U.style.top=Math.max(0,I.clientY-U.offsetHeight-5)+"px",U.style.left=I.clientX+5+"px"}return n.on(document,"mousemove",O),O(L),U.style.opacity!=null&&(U.style.opacity=1),U}function a(A){A.parentNode&&A.parentNode.removeChild(A)}function l(A){!A.parentNode||(A.style.opacity==null&&a(A),A.style.opacity=0,setTimeout(function(){a(A)},600))}function c(A,L,k,U){var O=s(A,L,k);function I(){n.off(U,"mouseout",I),O&&(l(O),O=null)}var F=setInterval(function(){if(O)for(var N=U;;N=N.parentNode){if(N&&N.nodeType==11&&(N=N.host),N==document.body)return;if(!N){I();break}}if(!O)return clearInterval(F)},400);n.on(U,"mouseout",I)}function u(A,L,k){this.marked=[],L instanceof Function&&(L={getAnnotations:L}),(!L||L===!0)&&(L={}),this.options={},this.linterOptions=L.options||{};for(var U in d)this.options[U]=d[U];for(var U in L)d.hasOwnProperty(U)?L[U]!=null&&(this.options[U]=L[U]):L.options||(this.linterOptions[U]=L[U]);this.timeout=null,this.hasGutter=k,this.onMouseOver=function(O){R(A,O)},this.waitingFor=0}var d={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function f(A){var L=A.state.lint;L.hasGutter&&A.clearGutter(i),L.options.highlightLines&&h(A);for(var k=0;k<L.marked.length;++k)L.marked[k].clear();L.marked.length=0}function h(A){A.eachLine(function(L){var k=L.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(L.wrapClass);k&&A.removeLineClass(L,"wrap",k[0])})}function v(A,L,k,U,O){var I=document.createElement("div"),F=I;return I.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+k,U&&(F=I.appendChild(document.createElement("div")),F.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),O!=!1&&n.on(F,"mouseover",function(N){c(A,N,L,F)}),I}function m(A,L){return A=="error"?A:L}function _(A){for(var L=[],k=0;k<A.length;++k){var U=A[k],O=U.from.line;(L[O]||(L[O]=[])).push(U)}return L}function S(A){var L=A.severity;L||(L="error");var k=document.createElement("div");return k.className="CodeMirror-lint-message CodeMirror-lint-message-"+L,typeof A.messageHTML!="undefined"?k.innerHTML=A.messageHTML:k.appendChild(document.createTextNode(A.message)),k}function E(A,L){var k=A.state.lint,U=++k.waitingFor;function O(){U=-1,A.off("change",O)}A.on("change",O),L(A.getValue(),function(I,F){A.off("change",O),k.waitingFor==U&&(F&&I instanceof n&&(I=F),A.operation(function(){T(A,I)}))},k.linterOptions,A)}function w(A){var L=A.state.lint;if(!!L){var k=L.options,U=k.getAnnotations||A.getHelper(n.Pos(0,0),"lint");if(!!U)if(k.async||U.async)E(A,U);else{var O=U(A.getValue(),L.linterOptions,A);if(!O)return;O.then?O.then(function(I){A.operation(function(){T(A,I)})}):A.operation(function(){T(A,O)})}}}function T(A,L){var k=A.state.lint;if(!!k){var U=k.options;f(A);for(var O=_(L),I=0;I<O.length;++I){var F=O[I];if(!!F){var N=[];F=F.filter(function(j){return N.indexOf(j.message)>-1?!1:N.push(j.message)});for(var H=null,z=k.hasGutter&&document.createDocumentFragment(),B=0;B<F.length;++B){var q=F[B],W=q.severity;W||(W="error"),H=m(H,W),U.formatAnnotation&&(q=U.formatAnnotation(q)),k.hasGutter&&z.appendChild(S(q)),q.to&&k.marked.push(A.markText(q.from,q.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+W,__annotation:q}))}k.hasGutter&&A.setGutterMarker(I,i,v(A,z,H,O[I].length>1,U.tooltips)),U.highlightLines&&A.addLineClass(I,"wrap",o+H)}}U.onUpdateLinting&&U.onUpdateLinting(L,O,A)}}function C(A){var L=A.state.lint;!L||(clearTimeout(L.timeout),L.timeout=setTimeout(function(){w(A)},L.options.delay))}function P(A,L,k){for(var U=k.target||k.srcElement,O=document.createDocumentFragment(),I=0;I<L.length;I++){var F=L[I];O.appendChild(S(F))}c(A,k,O,U)}function R(A,L){var k=L.target||L.srcElement;if(!!/\bCodeMirror-lint-mark-/.test(k.className)){for(var U=k.getBoundingClientRect(),O=(U.left+U.right)/2,I=(U.top+U.bottom)/2,F=A.findMarksAt(A.coordsChar({left:O,top:I},"client")),N=[],H=0;H<F.length;++H){var z=F[H].__annotation;z&&N.push(z)}N.length&&P(A,N,L)}}n.defineOption("lint",!1,function(A,L,k){if(k&&k!=n.Init&&(f(A),A.state.lint.options.lintOnChange!==!1&&A.off("change",C),n.off(A.getWrapperElement(),"mouseover",A.state.lint.onMouseOver),clearTimeout(A.state.lint.timeout),delete A.state.lint),L){for(var U=A.getOption("gutters"),O=!1,I=0;I<U.length;++I)U[I]==i&&(O=!0);var F=A.state.lint=new u(A,L,O);F.options.lintOnChange&&A.on("change",C),F.options.tooltips!=!1&&F.options.tooltips!="gutter"&&n.on(A.getWrapperElement(),"mouseover",F.onMouseOver),w(A)}}),n.defineExtension("performLint",function(){w(this)})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(s,a){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];a.indent||(a.indent=1),JSHINT(s,a,a.globals);var l=JSHINT.data().errors,c=[];return l&&o(l,c),c}n.registerHelper("lint","javascript",i);function o(s,a){for(var l=0;l<s.length;l++){var c=s[l];if(c){if(c.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+c.line+")",c);continue}var u=c.character-1,d=u+1;if(c.evidence){var f=c.evidence.substring(u).search(/.\b/);f>-1&&(d+=f)}var h={message:c.reason,severity:c.code&&c.code.startsWith("W")?"warning":"error",from:n.Pos(c.line-1,u),to:n.Pos(c.line-1,d)};a.push(h)}}}})})();var VI={},S2={};Object.defineProperty(S2,"__esModule",{value:!0});var $ee=function(){function t(){this._listeners={},this._mapCdataTags=this.makeMap("script,style"),this._arrBlocks=[],this.lastEvent=null}return t.prototype.makeMap=function(e){for(var n={},i=e.split(","),o=0;o<i.length;o++)n[i[o]]=!0;return n},t.prototype.parse=function(e){var n=this,i=this._mapCdataTags,o=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,s=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,a=/\r?\n/g,l,c,u=0,d,f,h=null,v,m=[],_=0,S,E=0,w=1,T=this._arrBlocks;this.fire("start",{pos:0,line:1,col:1});for(var C=function(){var I=f.find(function(F){return F.name==="type"})||{value:""};return i[d]&&I.value.indexOf("text/ng-template")===-1},P=function(I,F,N,H){var z=N-E+1;for(H===void 0&&(H={}),H.raw=F,H.pos=N,H.line=w,H.col=z,T.push(H),n.fire(I,H);a.exec(F);)w++,E=N+a.lastIndex};l=o.exec(e);){if(c=l.index,c>u&&(S=e.substring(u,c),h?m.push(S):P("text",S,u)),u=o.lastIndex,(d=l[1])&&(h&&d===h&&(S=m.join(""),P("cdata",S,_,{tagName:h,attrs:v}),h=null,v=void 0,m=[]),!h)){P("tagend",l[0],c,{tagName:d});continue}if(h)m.push(l[0]);else if(d=l[4]){f=[];for(var R=l[5],A=void 0,L=0;A=s.exec(R);){var k=A[1],U=A[2]?A[2]:A[4]?A[4]:"",O=A[3]?A[3]:A[5]?A[5]:A[6]?A[6]:"";f.push({name:k,value:O,quote:U,index:A.index,raw:A[0]}),L+=A[0].length}L===R.length?(P("tagstart",l[0],c,{tagName:d,attrs:f,close:l[6]}),C()&&(h=d,v=f.concat(),m=[],_=u)):P("text",l[0],c)}else(l[2]||l[3])&&P("comment",l[0],c,{content:l[2]||l[3],long:!!l[2]})}e.length>u&&(S=e.substring(u,e.length),P("text",S,u)),this.fire("end",{pos:u,line:w,col:e.length-E+1})},t.prototype.addListener=function(e,n){for(var i=this._listeners,o=e.split(/[,\s]/),s,a=0,l=o.length;a<l;a++)s=o[a],i[s]===void 0&&(i[s]=[]),i[s].push(n)},t.prototype.fire=function(e,n){n===void 0&&(n={}),n.type=e;var i=[],o=this._listeners[e],s=this._listeners.all;o!==void 0&&(i=i.concat(o)),s!==void 0&&(i=i.concat(s));var a=this.lastEvent;a!==null&&(delete a.lastEvent,n.lastEvent=a),this.lastEvent=n;for(var l=0,c=i.length;l<c;l++)i[l].call(this,n)},t.prototype.removeListener=function(e,n){var i=this._listeners[e];if(i!==void 0){for(var o=0,s=i.length;o<s;o++)if(i[o]===n){i.splice(o,1);break}}},t.prototype.fixPos=function(e,n){var i=e.raw.substr(0,n),o=i.split(/\r?\n/),s=o.length-1,a=e.line,l;return s>0?(a+=s,l=o[s].length+1):l=e.col+n,{line:a,col:l}},t.prototype.getMapAttrs=function(e){for(var n={},i,o=0,s=e.length;o<s;o++)i=e[o],n[i.name]=i.value;return n},t}();S2.default=$ee;var T2={};Object.defineProperty(T2,"__esModule",{value:!0});var Wee=function(){function t(e,n){this.html=e,this.lines=e.split(/\r?\n/);var i=/\r?\n/.exec(e);this.brLen=i!==null?i[0].length:0,this.ruleset=n,this.messages=[]}return t.prototype.info=function(e,n,i,o,s){this.report("info",e,n,i,o,s)},t.prototype.warn=function(e,n,i,o,s){this.report("warning",e,n,i,o,s)},t.prototype.error=function(e,n,i,o,s){this.report("error",e,n,i,o,s)},t.prototype.report=function(e,n,i,o,s,a){for(var l=this.lines,c=this.brLen,u="",d=0,f=i-1,h=l.length;f<h&&(u=l[f],d=u.length,o>d&&i<h);f++)i++,o-=d,o!==1&&(o-=c);this.messages.push({type:e,message:n,raw:a,evidence:u,line:i,col:o,rule:{id:s.id,description:s.description,link:"https://github.com/thedaviddias/HTMLHint/wiki/"+s.id}})},t}();T2.default=Wee;var HI={},C2={};Object.defineProperty(C2,"__esModule",{value:!0});C2.default={id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){var o=i.tagName.toLowerCase(),s=t.getMapAttrs(i.attrs),a=i.col+o.length+1,l;o==="img"&&!("alt"in s)?e.warn("An alt attribute must be present on <img> elements.",i.line,a,n,i.raw):(o==="area"&&"href"in s||o==="input"&&s.type==="image")&&(!("alt"in s)||s.alt==="")&&(l=o==="area"?"area[href]":"input[type=image]",e.warn("The alt attribute of "+l+" must have a value.",i.line,a,n,i.raw))})}};var M2={};Object.defineProperty(M2,"__esModule",{value:!0});function qee(t,e){if(e instanceof RegExp)return e.test(t)?{match:t,pattern:e}:!1;var n=e[0],i=e[e.length-1],o=e[e.length-2],s=n==="/"&&(i==="/"||o==="/"&&i==="i"),a=s&&i==="i";if(s){var l=a?new RegExp(e.slice(1,-2),"i").test(t):new RegExp(e.slice(1,-1)).test(t);return l}return t===e}M2.default={id:"attr-lowercase",description:"All attribute names must be in lowercase.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){for(var a=s.attrs,l,c=s.col+s.tagName.length+1,u=function(h,v){l=a[h];var m=l.name;!o.find(function(_){return qee(m,_)})&&m!==m.toLowerCase()&&e.error("The attribute name of [ "+m+" ] must be in lowercase.",s.line,c+l.index,i,l.raw)},d=0,f=a.length;d<f;d++)u(d)})}};var A2={};Object.defineProperty(A2,"__esModule",{value:!0});A2.default={id:"attr-sorted",description:"Attribute tags must be in proper order.",init:function(t,e){for(var n=this,i={},o=["class","id","name","src","for","type","href","value","title","alt","role"],s=0;s<o.length;s++)i[o[s]]=s;t.addListener("tagstart",function(a){for(var l=a.attrs,c=[],u=0;u<l.length;u++)c.push(l[u].name);var d=JSON.stringify(c);c.sort(function(f,h){return i[f]==null&&i[h]==null?0:i[f]==null?1:i[h]==null?-1:i[f]-i[h]||f.localeCompare(h)}),d!==JSON.stringify(c)&&e.error("Inaccurate order "+d+" should be in hierarchy "+JSON.stringify(c)+" ",a.line,a.col,n,a.raw)})}};var P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.default={id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a,l=i.col+i.tagName.length+1,c={},u=0,d=o.length;u<d;u++)s=o[u],a=s.name,c[a]===!0&&e.error("Duplicate of attribute name [ "+s.name+" ] was found.",i.line,l+s.index,n,s.raw),c[a]=!0})}};var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.default={id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,c,u=0,d=o.length;u<d;u++)if(s=o[u],c=l.exec(s.value),c!==null){var f=escape(c[0]).replace(/%u/,"\\u").replace(/%/,"\\x");e.warn("The value of attribute [ "+s.name+" ] cannot contain an unsafe char [ "+f+" ].",i.line,a+s.index,n,s.raw)}})}};var L2={};Object.defineProperty(L2,"__esModule",{value:!0});L2.default={id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],(s.value!==""&&s.quote!=='"'||s.value===""&&s.quote==="'")&&e.error("The value of attribute [ "+s.name+" ] must be in double quotes.",i.line,a+s.index,n,s.raw)})}};var I2={};Object.defineProperty(I2,"__esModule",{value:!0});I2.default={id:"attr-value-not-empty",description:"All attributes must have values.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],s.quote===""&&s.value===""&&e.warn("The attribute [ "+s.name+" ] must have a value.",i.line,a+s.index,n,s.raw)})}};var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.default={id:"attr-value-single-quotes",description:"Attribute values must be in single quotes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],(s.value!==""&&s.quote!=="'"||s.value===""&&s.quote==='"')&&e.error("The value of attribute [ "+s.name+" ] must be in single quotes.",i.line,a+s.index,n,s.raw)})}};var N2={};Object.defineProperty(N2,"__esModule",{value:!0});N2.default={id:"attr-whitespace",description:"All attributes should be separated by only one space and not have leading/trailing whitespace.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){var a=s.attrs,l,c=s.col+s.tagName.length+1;a.forEach(function(u){l=u;var d=u.name;o.indexOf(d)===-1&&(u.value.trim()!==u.value&&e.error("The attributes of [ "+d+" ] must not have trailing whitespace.",s.line,c+l.index,i,l.raw),u.value.replace(/ +(?= )/g,"")!==u.value&&e.error("The attributes of [ "+d+" ] must be separated by only one space.",s.line,c+l.index,i,l.raw))})})}};var k2={};Object.defineProperty(k2,"__esModule",{value:!0});k2.default={id:"doctype-first",description:"Doctype must be declared first.",init:function(t,e){var n=this,i=function(o){o.type==="start"||o.type==="text"&&/^\s*$/.test(o.raw)||((o.type!=="comment"&&o.long===!1||/^DOCTYPE\s+/i.test(o.content)===!1)&&e.error("Doctype must be declared first.",o.line,o.col,n,o.raw),t.removeListener("all",i))};t.addListener("all",i)}};var D2={};Object.defineProperty(D2,"__esModule",{value:!0});D2.default={id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init:function(t,e){var n=this,i=function(s){s.long===!1&&s.content.toLowerCase()!=="doctype html"&&e.warn('Invalid doctype. Use: "<!DOCTYPE html>"',s.line,s.col,n,s.raw)},o=function(){t.removeListener("comment",i),t.removeListener("tagstart",o)};t.addListener("all",i),t.addListener("tagstart",o)}};var F2={};Object.defineProperty(F2,"__esModule",{value:!0});F2.default={id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init:function(t,e){var n=this,i=/^(text\/javascript|application\/javascript)$/i,o=!1,s=function(l){var c=t.getMapAttrs(l.attrs),u=c.type,d=l.tagName.toLowerCase();d==="head"&&(o=!0),o===!0&&d==="script"&&(!u||i.test(u)===!0)&&e.warn("The <script> tag cannot be used in a <head> tag.",l.line,l.col,n,l.raw)},a=function(l){l.tagName.toLowerCase()==="head"&&(t.removeListener("tagstart",s),t.removeListener("tagend",a))};t.addListener("tagstart",s),t.addListener("tagend",a)}};var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.default={id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init:function(t,e,n){var i=this,o=n==="abs"?"absolute":"relative";t.addListener("tagstart",function(s){for(var a=s.attrs,l,c=s.col+s.tagName.length+1,u=0,d=a.length;u<d;u++)if(l=a[u],l.name==="href"){(o==="absolute"&&/^\w+?:/.test(l.value)===!1||o==="relative"&&/^https?:\/\//.test(l.value)===!0)&&e.warn("The value of the href attribute [ "+l.value+" ] must be "+o+".",s.line,c+l.index,i,l.raw);break}})}};var j2={};Object.defineProperty(j2,"__esModule",{value:!0});var Yee="(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)",Kee="(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)",Xee="(?<grandfathered>"+Kee+"|"+Yee+")",Jee="(?<privateUse>x(-[A-Za-z0-9]{1,8})+)",Zee="(?<privateUse2>x(-[A-Za-z0-9]{1,8})+)",Qee="[0-9A-WY-Za-wy-z]",ete="(?<extension>"+Qee+"(-[A-Za-z0-9]{2,8})+)",tte="(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3})",nte="(?<region>[A-Za-z]{2}|[0-9]{3})",rte="(?<script>[A-Za-z]{4})",ite="(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2})",ste="(?<language>([A-Za-z]{2,3}(-"+ite+")?)|[A-Za-z]{4}|[A-Za-z]{5,8})",ote="("+ste+"(-"+rte+")?"+("(-"+nte+")?")+("(-"+tte+")*")+("(-"+ete+")*")+("(-"+Jee+")?")+")",ate="("+Xee+"|"+ote+"|"+Zee+")";j2.default={id:"html-lang-require",description:"The lang attribute of an <html> element must be present and should be valid.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){var o=i.tagName.toLowerCase(),s=t.getMapAttrs(i.attrs),a=i.col+o.length+1,l=new RegExp(ate,"g");o==="html"&&("lang"in s?s.lang?l.test(s.lang)||e.warn("The lang attribute value of <html> element must be a valid BCP47.",i.line,a,n,i.raw):e.warn("The lang attribute of <html> element must have a value.",i.line,a,n,i.raw):e.warn("An lang attribute must be present on <html> elements.",i.line,a,n,i.raw))})}};var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.default={id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a,l=i.col+i.tagName.length+1,c=0,u=o.length;c<u;c++)s=o[c],a=s.name,/^(id|class)$/i.test(a)&&/(^|[-_])ad([-_]|$)/i.test(s.value)&&e.warn("The value of attribute "+a+" cannot use the ad keyword.",i.line,l+s.index,n,s.raw)})}};var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.default={id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init:function(t,e,n){var i=this,o={underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}},s;if(typeof n=="string"?s=o[n]:s=n,typeof s=="object"&&s.regId){var a=s.regId,l=s.message;a instanceof RegExp||(a=new RegExp(a)),t.addListener("tagstart",function(c){for(var u=c.attrs,d,f=c.col+c.tagName.length+1,h=0,v=u.length;h<v;h++)if(d=u[h],d.name.toLowerCase()==="id"&&a.test(d.value)===!1&&e.warn(l,c.line,f+d.index,i,d.raw),d.name.toLowerCase()==="class")for(var m=d.value.split(/\s+/g),_=void 0,S=0,E=m.length;S<E;S++)_=m[S],_&&a.test(_)===!1&&e.warn(l,c.line,f+d.index,i,_)})}}};var H2={};Object.defineProperty(H2,"__esModule",{value:!0});H2.default={id:"id-unique",description:"The value of id attributes must be unique.",init:function(t,e){var n=this,i={};t.addListener("tagstart",function(o){for(var s=o.attrs,a,l,c=o.col+o.tagName.length+1,u=0,d=s.length;u<d;u++)if(a=s[u],a.name.toLowerCase()==="id"){l=a.value,l&&(i[l]===void 0?i[l]=1:i[l]++,i[l]>1&&e.error("The id value [ "+l+" ] must be unique.",o.line,c+a.index,n,a.raw));break}})}};var z2={};Object.defineProperty(z2,"__esModule",{value:!0});z2.default={id:"inline-script-disabled",description:"Inline script cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l,c=/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i,u=0,d=o.length;u<d;u++)s=o[u],l=s.name.toLowerCase(),(c.test(l)===!0||(l==="src"||l==="href")&&/^\s*javascript:/i.test(s.value))&&e.warn("Inline script [ "+s.raw+" ] cannot be used.",i.line,a+s.index,n,s.raw)})}};var G2={};Object.defineProperty(G2,"__esModule",{value:!0});G2.default={id:"inline-style-disabled",description:"Inline style cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],s.name.toLowerCase()==="style"&&e.warn("Inline style [ "+s.raw+" ] cannot be used.",i.line,a+s.index,n,s.raw)})}};var $2={};Object.defineProperty($2,"__esModule",{value:!0});$2.default={id:"input-requires-label",description:"All [ input ] tags must have a corresponding [ label ] tag. ",init:function(t,e){var n=this,i=[],o=[];t.addListener("tagstart",function(a){var l=a.tagName.toLowerCase(),c=t.getMapAttrs(a.attrs),u=a.col+l.length+1;l==="input"&&o.push({event:a,col:u,id:c.id}),l==="label"&&"for"in c&&c.for!==""&&i.push({event:a,col:u,forValue:c.for})}),t.addListener("end",function(){o.forEach(function(a){s(a)||e.warn("No matching [ label ] tag found.",a.event.line,a.col,n,a.event.raw)})});function s(a){var l=!1;return i.forEach(function(c){a.id&&a.id===c.forValue&&(l=!0)}),l}}};var W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.default={id:"script-disabled",description:"The <script> tag cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){i.tagName.toLowerCase()==="script"&&e.error("The <script> tag cannot be used.",i.line,i.col,n,i.raw)})}};var q2={};Object.defineProperty(q2,"__esModule",{value:!0});q2.default={id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init:function(t,e,n){var i=this,o="nomix",s=null;if(typeof n=="string"){var a=/^([a-z]+)(\d+)?/.exec(n);a&&(o=a[1],s=a[2]&&parseInt(a[2],10))}t.addListener("text",function(l){for(var c=l.raw,u=/(^|\r?\n)([ \t]+)/g,d;d=u.exec(c);){var f=t.fixPos(l,d.index+d[1].length);if(f.col===1){var h=d[2];o==="space"?s?(/^ +$/.test(h)===!1||h.length%s!=0)&&e.warn("Please use space for indentation and keep "+s+" length.",f.line,1,i,l.raw):/^ +$/.test(h)===!1&&e.warn("Please use space for indentation.",f.line,1,i,l.raw):o==="tab"&&/^\t+$/.test(h)===!1?e.warn("Please use tab for indentation.",f.line,1,i,l.raw):/ +\t|\t+ /.test(h)===!0&&e.warn("Do not mix tabs and spaces for indentation.",f.line,1,i,l.raw)}}})}};var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.default={id:"spec-char-escape",description:"Special characters must be escaped.",init:function(t,e){var n=this;t.addListener("text",function(i){for(var o=i.raw,s=/([<>])|( \& )/g,a;a=s.exec(o);){var l=t.fixPos(i,a.index);e.error("Special characters must be escaped : [ "+a[0]+" ].",l.line,l.col,n,i.raw)}})}};var K2={};Object.defineProperty(K2,"__esModule",{value:!0});K2.default={id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.tagName,s=i.attrs,a,l=i.col+o.length+1,c=0,u=s.length;c<u;c++)a=s[c],(/^(img|script|embed|bgsound|iframe)$/.test(o)===!0&&a.name==="src"||o==="link"&&a.name==="href"||o==="object"&&a.name==="data")&&a.value===""&&e.error("The attribute [ "+a.name+" ] of the tag [ "+o+" ] must have a value.",i.line,l+a.index,n,a.raw)})}};var X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.default={id:"style-disabled",description:"<style> tags cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){i.tagName.toLowerCase()==="style"&&e.warn("The <style> tag cannot be used.",i.line,i.col,n,i.raw)})}};var J2={};Object.defineProperty(J2,"__esModule",{value:!0});J2.default={id:"tag-pair",description:"Tag must be paired.",init:function(t,e){var n=this,i=[],o=t.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");t.addListener("tagstart",function(s){var a=s.tagName.toLowerCase();o[a]===void 0&&!s.close&&i.push({tagName:a,line:s.line,raw:s.raw})}),t.addListener("tagend",function(s){var a=s.tagName.toLowerCase(),l;for(l=i.length-1;l>=0&&i[l].tagName!==a;l--);if(l>=0){for(var c=[],u=i.length-1;u>l;u--)c.push("</"+i[u].tagName+">");if(c.length>0){var d=i[i.length-1];e.error("Tag must be paired, missing: [ "+c.join("")+" ], start tag match failed [ "+d.raw+" ] on line "+d.line+".",s.line,s.col,n,s.raw)}i.length=l}else e.error("Tag must be paired, no start tag: [ "+s.raw+" ]",s.line,s.col,n,s.raw)}),t.addListener("end",function(s){for(var a=[],l=i.length-1;l>=0;l--)a.push("</"+i[l].tagName+">");if(a.length>0){var c=i[i.length-1];e.error("Tag must be paired, missing: [ "+a.join("")+" ], open tag match failed [ "+c.raw+" ] on line "+c.line+".",s.line,s.col,n,"")}})}};var Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.default={id:"tag-self-close",description:"Empty tags must be self closed.",init:function(t,e){var n=this,i=t.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");t.addListener("tagstart",function(o){var s=o.tagName.toLowerCase();i[s]!==void 0&&(o.close||e.warn("The empty tag : [ "+s+" ] must be self closed.",o.line,o.col,n,o.raw))})}};var Q2={};Object.defineProperty(Q2,"__esModule",{value:!0});Q2.default={id:"tagname-lowercase",description:"All html element names must be in lowercase.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart,tagend",function(s){var a=s.tagName;o.indexOf(a)===-1&&a!==a.toLowerCase()&&e.error("The html element name of [ "+a+" ] must be in lowercase.",s.line,s.col,i,s.raw)})}};var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.default={id:"tagname-specialchars",description:"All html element names must be in lowercase.",init:function(t,e){var n=this,i=/[^a-zA-Z0-9\-:_]/;t.addListener("tagstart,tagend",function(o){var s=o.tagName;i.test(s)&&e.error("The html element name of [ "+s+" ] contains special character.",o.line,o.col,n,o.raw)})}};var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.default={id:"title-require",description:"<title> must be present in <head> tag.",init:function(t,e){var n=this,i=!1,o=!1,s=function(l){var c=l.tagName.toLowerCase();c==="head"?i=!0:c==="title"&&i&&(o=!0)},a=function(l){var c=l.tagName.toLowerCase();if(o&&c==="title"){var u=l.lastEvent;(u.type!=="text"||u.type==="text"&&/^\s*$/.test(u.raw)===!0)&&e.error("<title></title> must not be empty.",l.line,l.col,n,l.raw)}else c==="head"&&(o===!1&&e.error("<title> must be present in <head> tag.",l.line,l.col,n,l.raw),t.removeListener("tagstart",s),t.removeListener("tagend",a))};t.addListener("tagstart",s),t.addListener("tagend",a)}};var nx={},Jv=Wt&&Wt.__assign||function(){return Jv=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Jv.apply(this,arguments)};Object.defineProperty(nx,"__esModule",{value:!0});var Zv={a:{selfclosing:!1,attrsRequired:["href","title"],redundantAttrs:["alt"]},div:{selfclosing:!1},main:{selfclosing:!1,redundantAttrs:["role"]},nav:{selfclosing:!1,redundantAttrs:["role"]},script:{attrsOptional:[["async","async"],["defer","defer"]]},img:{selfclosing:!0,attrsRequired:["src","alt","title"]}};nx.default={id:"tags-check",description:"Checks html tags.",init:function(t,e,n){var i=this;Zv=Jv(Jv({},Zv),n),t.addListener("tagstart",function(o){var s=o.attrs,a=o.col+o.tagName.length+1,l=o.tagName.toLowerCase();if(Zv[l]){var c=Zv[l];if(c.selfclosing===!0&&!o.close?e.warn("The <"+l+"> tag must be selfclosing.",o.line,o.col,i,o.raw):c.selfclosing===!1&&o.close&&e.warn("The <"+l+"> tag must not be selfclosing.",o.line,o.col,i,o.raw),Array.isArray(c.attrsRequired)){var u=c.attrsRequired;u.forEach(function(h){if(Array.isArray(h)){var v=h.map(function(S){return S}),m=v.shift(),_=v;s.some(function(S){return S.name===m})?s.forEach(function(S){S.name===m&&_.indexOf(S.value)===-1&&e.error("The <"+l+"> tag must have attr '"+m+"' with one value of '"+_.join("' or '")+"'.",o.line,a,i,o.raw)}):e.error("The <"+l+"> tag must have attr '"+m+"'.",o.line,a,i,o.raw)}else s.some(function(S){return h.split("|").indexOf(S.name)!==-1})||e.error("The <"+l+"> tag must have attr '"+h+"'.",o.line,a,i,o.raw)})}if(Array.isArray(c.attrsOptional)){var d=c.attrsOptional;d.forEach(function(h){if(Array.isArray(h)){var v=h.map(function(S){return S}),m=v.shift(),_=v;s.some(function(S){return S.name===m})&&s.forEach(function(S){S.name===m&&_.indexOf(S.value)===-1&&e.error("The <"+l+"> tag must have optional attr '"+m+"' with one value of '"+_.join("' or '")+"'.",o.line,a,i,o.raw)})}})}if(Array.isArray(c.redundantAttrs)){var f=c.redundantAttrs;f.forEach(function(h){s.some(function(v){return v.name===h})&&e.error("The attr '"+h+"' is redundant for <"+l+"> and should be ommited.",o.line,a,i,o.raw)})}}})}};var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.default={id:"attr-no-unnecessary-whitespace",description:"No spaces between attribute names and values.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){for(var a=s.attrs,l=s.col+s.tagName.length+1,c=0;c<a.length;c++)if(o.indexOf(a[c].name)===-1){var u=/(\s*)=(\s*)/.exec(a[c].raw.trim());u&&(u[1].length!==0||u[2].length!==0)&&e.error("The attribute '"+a[c].name+"' must not have spaces between the name and value.",s.line,l+a[c].index,i,a[c].raw)}})}};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=C2;Object.defineProperty(t,"altRequire",{enumerable:!0,get:function(){return e.default}});var n=M2;Object.defineProperty(t,"attrLowercase",{enumerable:!0,get:function(){return n.default}});var i=A2;Object.defineProperty(t,"attrSort",{enumerable:!0,get:function(){return i.default}});var o=P2;Object.defineProperty(t,"attrNoDuplication",{enumerable:!0,get:function(){return o.default}});var s=R2;Object.defineProperty(t,"attrUnsafeChars",{enumerable:!0,get:function(){return s.default}});var a=L2;Object.defineProperty(t,"attrValueDoubleQuotes",{enumerable:!0,get:function(){return a.default}});var l=I2;Object.defineProperty(t,"attrValueNotEmpty",{enumerable:!0,get:function(){return l.default}});var c=O2;Object.defineProperty(t,"attrValueSingleQuotes",{enumerable:!0,get:function(){return c.default}});var u=N2;Object.defineProperty(t,"attrWhitespace",{enumerable:!0,get:function(){return u.default}});var d=k2;Object.defineProperty(t,"doctypeFirst",{enumerable:!0,get:function(){return d.default}});var f=D2;Object.defineProperty(t,"doctypeHTML5",{enumerable:!0,get:function(){return f.default}});var h=F2;Object.defineProperty(t,"headScriptDisabled",{enumerable:!0,get:function(){return h.default}});var v=U2;Object.defineProperty(t,"hrefAbsOrRel",{enumerable:!0,get:function(){return v.default}});var m=j2;Object.defineProperty(t,"htmlLangRequire",{enumerable:!0,get:function(){return m.default}});var _=B2;Object.defineProperty(t,"idClsasAdDisabled",{enumerable:!0,get:function(){return _.default}});var S=V2;Object.defineProperty(t,"idClassValue",{enumerable:!0,get:function(){return S.default}});var E=H2;Object.defineProperty(t,"idUnique",{enumerable:!0,get:function(){return E.default}});var w=z2;Object.defineProperty(t,"inlineScriptDisabled",{enumerable:!0,get:function(){return w.default}});var T=G2;Object.defineProperty(t,"inlineStyleDisabled",{enumerable:!0,get:function(){return T.default}});var C=$2;Object.defineProperty(t,"inputRequiresLabel",{enumerable:!0,get:function(){return C.default}});var P=W2;Object.defineProperty(t,"scriptDisabled",{enumerable:!0,get:function(){return P.default}});var R=q2;Object.defineProperty(t,"spaceTabMixedDisabled",{enumerable:!0,get:function(){return R.default}});var A=Y2;Object.defineProperty(t,"specCharEscape",{enumerable:!0,get:function(){return A.default}});var L=K2;Object.defineProperty(t,"srcNotEmpty",{enumerable:!0,get:function(){return L.default}});var k=X2;Object.defineProperty(t,"styleDisabled",{enumerable:!0,get:function(){return k.default}});var U=J2;Object.defineProperty(t,"tagPair",{enumerable:!0,get:function(){return U.default}});var O=Z2;Object.defineProperty(t,"tagSelfClose",{enumerable:!0,get:function(){return O.default}});var I=Q2;Object.defineProperty(t,"tagnameLowercase",{enumerable:!0,get:function(){return I.default}});var F=ex;Object.defineProperty(t,"tagnameSpecialChars",{enumerable:!0,get:function(){return F.default}});var N=tx;Object.defineProperty(t,"titleRequire",{enumerable:!0,get:function(){return N.default}});var H=nx;Object.defineProperty(t,"tagsCheck",{enumerable:!0,get:function(){return H.default}});var z=rx;Object.defineProperty(t,"attrNoUnnecessaryWhitespace",{enumerable:!0,get:function(){return z.default}})})(HI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLParser=t.Reporter=t.HTMLRules=t.HTMLHint=void 0;var e=S2;t.HTMLParser=e.default;var n=T2;t.Reporter=n.default;var i=HI;t.HTMLRules=i;var o=function(){function a(){this.rules={},this.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0}}return a.prototype.addRule=function(l){this.rules[l.id]=l},a.prototype.verify=function(l,c){c===void 0&&(c=this.defaultRuleset),Object.keys(c).length===0&&(c=this.defaultRuleset),l=l.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,function(m,_){return _.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,function(S,E,w){return c[E]=w!==void 0&&w.length>0?JSON.parse(w):!0,""}),""});var u=new e.default,d=new n.default(l,c),f=this.rules,h;for(var v in c)h=f[v],h!==void 0&&c[v]!==!1&&h.init(u,d,c[v]);return u.parse(l),d.messages},a.prototype.format=function(l,c){c===void 0&&(c={});var u=[],d={white:"",grey:"",red:"",reset:""};c.colors&&(d.white="[37m",d.grey="[90m",d.red="[31m",d.reset="[39m");var f=c.indent||0;return l.forEach(function(h){var v=40,m=v+20,_=h.evidence,S=h.line,E=h.col,w=_.length,T=E>v+1?E-v:1,C=_.length>E+m?E+m:w;E<v+1&&(C+=v-E+1),_=_.replace(/\t/g," ").substring(T-1,C),T>1&&(_="..."+_,T-=3),C<w&&(_+="..."),u.push(d.white+s(f)+"L"+S+" |"+d.grey+_+d.reset);var P=E-T,R=_.substring(0,P).match(/[^\u0000-\u00ff]/g);R!==null&&(P+=R.length),u.push(d.white+s(f)+s(String(S).length+3+P)+"^ "+d.red+h.message+" ("+h.rule.id+")"+d.reset)}),u},a}();function s(a,l){return new Array(a+1).join(l||" ")}t.HTMLHint=new o,Object.keys(i).forEach(function(a){t.HTMLHint.addRule(i[a])})})(VI);(function(t,e){(function(n){n(Pn.exports,VI)})(function(n,i){var o={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!1,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0};n.registerHelper("lint","html",function(s,a){var l=[];if(i&&!i.verify&&(typeof i.default!="undefined"?i=i.default:i=i.HTMLHint),i||(i=window.HTMLHint),!i)return window.console&&window.console.error("Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run."),l;for(var c=i.verify(s,a&&a.rules||o),u=0;u<c.length;u++){var d=c[u],f=d.line-1,h=d.line-1,v=d.col-1,m=d.col;l.push({from:n.Pos(f,v),to:n.Pos(h,m),message:d.message,severity:d.type})}return l})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("lint","json",function(i){var o=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),o;var s=window.jsonlint.parser||window.jsonlint;s.parseError=function(a,l){var c=l.loc;o.push({from:n.Pos(c.first_line-1,c.first_column),to:n.Pos(c.last_line-1,c.last_column),message:a})};try{s.parse(i)}catch{}return o})})})();function zI(t,e){var n=t.line-1,i=e?t.column:t.column+1;return t.node&&t.node.loc&&(n=e?t.node.loc.start.line-1:t.node.loc.end.line-1,i=e?t.node.loc.start.column:t.node.loc.end.column),et.Pos(n,i-1)}et.registerHelper("lint","css",async function(t,e){var n=[];if(!window.stylelint)return window.console&&window.console.error("Error: window.stylelint not defined, CodeMirror CSS linting cannot run."),n;const i={rules:{"at-rule-no-unknown":!0,"block-no-empty":!0,"color-no-invalid-hex":!0,"comment-no-empty":!0,"font-family-no-duplicate-names":!0,"font-family-no-missing-generic-family-keyword":!0,"function-calc-no-invalid":!0,"function-calc-no-unspaced-operator":!0,"function-linear-gradient-no-nonstandard-direction":!0,"keyframe-declaration-no-important":!0,"media-feature-name-no-unknown":!0,"no-descending-specificity":!0,"no-duplicate-at-import-rules":!0,"no-duplicate-selectors":!0,"no-empty-source":!0,"no-extra-semicolons":!0,"no-invalid-double-slash-comments":!0,"property-no-unknown":!0,"selector-pseudo-class-no-unknown":!0,"selector-pseudo-element-no-unknown":!0,"string-no-newline":!0,"unit-no-unknown":!0,"color-hex-length":"long"}},s=await(await window.stylelint).lint({code:t,config:i});var a=JSON.parse(s.output)[0].warnings;for(const l of a)n.push({from:zI(l,!0),to:zI(l,!1),message:l.text,severity:"warning"});return n});var GI={parserOptions:{ecmaVersion:2020,sourceType:"module",ecmaFeatures:{jsx:!0}},env:{browser:!0,node:!0,jquery:!0,worker:!0,mocha:!0,jest:!0,es6:!0},extends:["eslint:recommended","plugin:@typescript-eslint/recommended"],plugins:["eslint-plugin-svelte3"],rules:{"no-undef":"error"}};let ix=null;function lte(t="javascript"){return t==="typescript"&&(GI.parser="@typescript-eslint/parser"),application&&application.eslintrc()||GI}et.registerHelper("lint","javascript",async function(t,e){const n=window.application;if(n&&n.backendLintingEnabled())return null;let i;try{i=()=>gr(()=>import("./index.51e611e7.js").then(function(u){return u.i}),["assets/index.51e611e7.js","assets/design.53ed53ca.js"])}catch(u){if(u.name==="ChunkLoadError")return[]}if(!ix){const u=await i();ix=new u.default}for(var o=[],s=lte("javascript"),a=ix.verify(t,s,{filename:n.currentFileInfo().path}),l=0;l<a.length;l++){var c=a[l];o.push({message:c.message,severity:cte(c),from:$I(c,!0),to:$I(c,!1)})}return o});function $I(t,e){var n=t.line-1,i=e?t.column:t.column+1;return t.node&&t.node.loc&&(n=e?t.node.loc.start.line-1:t.node.loc.end.line-1,i=e?t.node.loc.start.column:t.node.loc.end.column),et.Pos(n,i-1)}function cte(t){switch(t.severity){case 1:return"warning";case 2:return"error";default:return"error"}}gr(()=>import("./javascript.e646029c.js").then(function(t){return t.j}),["assets/javascript.e646029c.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./handlebars.0aff4ca0.js").then(function(t){return t.h}),["assets/handlebars.0aff4ca0.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/simple.5ae67e85.js"]);gr(()=>import("./htmlmixed.46252759.js").then(function(t){return t.h}),["assets/htmlmixed.46252759.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/xml.b384a435.js","assets/javascript.e646029c.js","assets/css.abda6734.js"]);gr(()=>import("./xml.b384a435.js").then(function(t){return t.x}),["assets/xml.b384a435.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./css.abda6734.js").then(function(t){return t.c}),["assets/css.abda6734.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./coffeescript.f1da4277.js").then(function(t){return t.c}),["assets/coffeescript.f1da4277.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./dart.75d12c37.js").then(function(t){return t.d}),["assets/dart.75d12c37.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/clike.98914e99.js"]);gr(()=>import("./dockerfile.49192667.js").then(function(t){return t.d}),["assets/dockerfile.49192667.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/simple.5ae67e85.js"]);gr(()=>import("./elm.74d34a74.js").then(function(t){return t.e}),["assets/elm.74d34a74.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./jsx.c7c01644.js").then(function(t){return t.j}),["assets/jsx.c7c01644.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/xml.b384a435.js","assets/javascript.e646029c.js"]);gr(()=>import("./lua.43626672.js").then(function(t){return t.l}),["assets/lua.43626672.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./php.e0448a27.js").then(function(t){return t.p}),["assets/php.e0448a27.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/htmlmixed.46252759.js","assets/xml.b384a435.js","assets/javascript.e646029c.js","assets/css.abda6734.js","assets/clike.98914e99.js"]);gr(()=>import("./pug.087e52e7.js").then(function(t){return t.p}),["assets/pug.087e52e7.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/javascript.e646029c.js","assets/css.abda6734.js","assets/htmlmixed.46252759.js","assets/xml.b384a435.js"]);gr(()=>import("./python.ccbfef93.js").then(function(t){return t.p}),["assets/python.ccbfef93.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./ruby.1061834e.js").then(function(t){return t.r}),["assets/ruby.1061834e.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./sass.5d6ae776.js").then(function(t){return t.s}),["assets/sass.5d6ae776.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/css.abda6734.js"]);gr(()=>import("./sql.d636151c.js").then(function(t){return t.s}),["assets/sql.d636151c.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);gr(()=>import("./vue.d2b8eca0.js").then(function(t){return t.v}),["assets/vue.d2b8eca0.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/xml.b384a435.js","assets/javascript.e646029c.js","assets/coffeescript.f1da4277.js","assets/css.abda6734.js","assets/sass.5d6ae776.js","assets/pug.087e52e7.js","assets/htmlmixed.46252759.js","assets/handlebars.0aff4ca0.js","assets/simple.5ae67e85.js"]);gr(()=>import("./markdown.489a6fff.js").then(function(t){return t.m}),["assets/markdown.489a6fff.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js","assets/xml.b384a435.js"]);gr(()=>import("./dotenv.f44fdbbc.js"),["assets/dotenv.f44fdbbc.js","assets/codemirror.bff8dd02.js","assets/design.53ed53ca.js"]);et.findModeByName("javascript").ext.push("mjs");et.findModeByName("javascript").ext.push("cjs");et.findModeByName("rust").ext.push("re");et.findModeByName("html").ext.push("svelte");et.modeInfo.unshift({name:"Shader",mime:"x-shader/x-fragment",mode:"clike",ext:["frag","glsl"]});et.modeInfo.unshift({name:"Dotenv",mime:"text/x-dotenv",mode:"dotenv"});var sx={exports:{}},ks={},WI={exports:{}},qI={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,i,o;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var c=null,u=null,d=function(){if(c!==null)try{var $=t.unstable_now();c(!0,$),c=null}catch(ie){throw setTimeout(d,0),ie}};e=function($){c!==null?setTimeout(e,0,$):(c=$,setTimeout(d,0))},n=function($,ie){u=setTimeout($,ie)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,_=null,S=-1,E=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5};var T=new MessageChannel,C=T.port2;T.port1.onmessage=function(){if(_!==null){var $=t.unstable_now();w=$+E;try{_(!0,$)?C.postMessage(null):(m=!1,_=null)}catch(ie){throw C.postMessage(null),ie}}else m=!1},e=function($){_=$,m||(m=!0,C.postMessage(null))},n=function($,ie){S=f(function(){$(t.unstable_now())},ie)},i=function(){h(S),S=-1}}function P($,ie){var Q=$.length;$.push(ie);e:for(;;){var le=Q-1>>>1,he=$[le];if(he!==void 0&&0<L(he,ie))$[le]=ie,$[Q]=he,Q=le;else break e}}function R($){return $=$[0],$===void 0?null:$}function A($){var ie=$[0];if(ie!==void 0){var Q=$.pop();if(Q!==ie){$[0]=Q;e:for(var le=0,he=$.length;le<he;){var ue=2*(le+1)-1,Ie=$[ue],Me=ue+1,ke=$[Me];if(Ie!==void 0&&0>L(Ie,Q))ke!==void 0&&0>L(ke,Ie)?($[le]=ke,$[Me]=Q,le=Me):($[le]=Ie,$[ue]=Q,le=ue);else if(ke!==void 0&&0>L(ke,Q))$[le]=ke,$[Me]=Q,le=Me;else break e}}return ie}return null}function L($,ie){var Q=$.sortIndex-ie.sortIndex;return Q!==0?Q:$.id-ie.id}var k=[],U=[],O=1,I=null,F=3,N=!1,H=!1,z=!1;function B($){for(var ie=R(U);ie!==null;){if(ie.callback===null)A(U);else if(ie.startTime<=$)A(U),ie.sortIndex=ie.expirationTime,P(k,ie);else break;ie=R(U)}}function q($){if(z=!1,B($),!H)if(R(k)!==null)H=!0,e(W);else{var ie=R(U);ie!==null&&n(q,ie.startTime-$)}}function W($,ie){H=!1,z&&(z=!1,i()),N=!0;var Q=F;try{for(B(ie),I=R(k);I!==null&&(!(I.expirationTime>ie)||$&&!t.unstable_shouldYield());){var le=I.callback;if(typeof le=="function"){I.callback=null,F=I.priorityLevel;var he=le(I.expirationTime<=ie);ie=t.unstable_now(),typeof he=="function"?I.callback=he:I===R(k)&&A(k),B(ie)}else A(k);I=R(k)}if(I!==null)var ue=!0;else{var Ie=R(U);Ie!==null&&n(q,Ie.startTime-ie),ue=!1}return ue}finally{I=null,F=Q,N=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){H||N||(H=!0,e(W))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return R(k)},t.unstable_next=function($){switch(F){case 1:case 2:case 3:var ie=3;break;default:ie=F}var Q=F;F=ie;try{return $()}finally{F=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=F;F=$;try{return ie()}finally{F=Q}},t.unstable_scheduleCallback=function($,ie,Q){var le=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,$={id:O++,callback:ie,priorityLevel:$,startTime:Q,expirationTime:he,sortIndex:-1},Q>le?($.sortIndex=Q,P(U,$),R(k)===null&&$===R(U)&&(z?i():z=!0,n(q,Q-le))):($.sortIndex=he,P(k,$),H||N||(H=!0,e(W))),$},t.unstable_wrapCallback=function($){var ie=F;return function(){var Q=F;F=ie;try{return $.apply(this,arguments)}finally{F=Q}}}})(qI);WI.exports=qI;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=K.exports,Zn=XQ,Fr=WI.exports;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Qv)throw Error(Ue(227));var YI=new Set,Ap={};function cu(t,e){zd(t,e),zd(t+"Capture",e)}function zd(t,e){for(Ap[t]=e,t=0;t<e.length;t++)YI.add(e[t])}var Ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ute=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KI=Object.prototype.hasOwnProperty,XI={},JI={};function dte(t){return KI.call(JI,t)?!0:KI.call(XI,t)?!1:ute.test(t)?JI[t]=!0:(XI[t]=!0,!1)}function fte(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hte(t,e,n,i){if(e===null||typeof e=="undefined"||fte(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(t,e,n,i,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new Mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new Mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new Mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new Mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new Mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new Mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new Mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new Mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new Mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ox=/[\-:]([a-z])/g;function ax(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ox,ax);Wr[e]=new Mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ox,ax);Wr[e]=new Mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ox,ax);Wr[e]=new Mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new Mi(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new Mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function lx(t,e,n,i){var o=Wr.hasOwnProperty(e)?Wr[e]:null,s=o!==null?o.type===0:i?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(hte(e,n,o,i)&&(n=null),i||o===null?dte(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var uu=Qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pp=60103,du=60106,Vl=60107,cx=60108,Rp=60114,ux=60109,dx=60110,e1=60112,Lp=60113,t1=60120,n1=60115,fx=60116,hx=60121,px=60128,ZI=60129,mx=60130,gx=60131;if(typeof Symbol=="function"&&Symbol.for){var Ur=Symbol.for;Pp=Ur("react.element"),du=Ur("react.portal"),Vl=Ur("react.fragment"),cx=Ur("react.strict_mode"),Rp=Ur("react.profiler"),ux=Ur("react.provider"),dx=Ur("react.context"),e1=Ur("react.forward_ref"),Lp=Ur("react.suspense"),t1=Ur("react.suspense_list"),n1=Ur("react.memo"),fx=Ur("react.lazy"),hx=Ur("react.block"),Ur("react.scope"),px=Ur("react.opaque.id"),ZI=Ur("react.debug_trace_mode"),mx=Ur("react.offscreen"),gx=Ur("react.legacy_hidden")}var QI=typeof Symbol=="function"&&Symbol.iterator;function Ip(t){return t===null||typeof t!="object"?null:(t=QI&&t[QI]||t["@@iterator"],typeof t=="function"?t:null)}var vx;function Op(t){if(vx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vx=e&&e[1]||""}return`
`+vx+t}var yx=!1;function r1(t,e){if(!t||yx)return"";yx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=i.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l])return`
`+o[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{yx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Op(t):""}function pte(t){switch(t.tag){case 5:return Op(t.type);case 16:return Op("Lazy");case 13:return Op("Suspense");case 19:return Op("SuspenseList");case 0:case 2:case 15:return t=r1(t.type,!1),t;case 11:return t=r1(t.type.render,!1),t;case 22:return t=r1(t.type._render,!1),t;case 1:return t=r1(t.type,!0),t;default:return""}}function Gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vl:return"Fragment";case du:return"Portal";case Rp:return"Profiler";case cx:return"StrictMode";case Lp:return"Suspense";case t1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dx:return(t.displayName||"Context")+".Consumer";case ux:return(t._context.displayName||"Context")+".Provider";case e1:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case n1:return Gd(t.type);case hx:return Gd(t._render);case fx:e=t._payload,t=t._init;try{return Gd(t(e))}catch{}}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function eO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mte(t){var e=eO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i1(t){t._valueTracker||(t._valueTracker=mte(t))}function tO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=eO(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function s1(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function _x(t,e){var n=e.checked;return Zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function nO(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rO(t,e){e=e.checked,e!=null&&lx(t,"checked",e,!1)}function bx(t,e){rO(t,e);var n=Hl(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ex(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ex(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ex(t,e,n){(e!=="number"||s1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function gte(t){var e="";return Qv.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function wx(t,e){return t=Zn({children:void 0},e),(e=gte(e.children))&&(t.children=e),t}function $d(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function xx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Zn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function oO(t,e){var n=Hl(e.value),i=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function aO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Sx={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var o1,cO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!==Sx.svg||"innerHTML"in t)t.innerHTML=e;else{for(o1=o1||document.createElement("div"),o1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=o1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Np(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vte=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(t){vte.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kp[e]=kp[t]})});function uO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kp.hasOwnProperty(t)&&kp[t]?(""+e).trim():e+"px"}function dO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=uO(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var yte=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cx(t,e){if(e){if(yte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function Mx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ax(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Px=null,Wd=null,qd=null;function fO(t){if(t=em(t)){if(typeof Px!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=S1(e),Px(t.stateNode,t.type,e))}}function hO(t){Wd?qd?qd.push(t):qd=[t]:Wd=t}function pO(){if(Wd){var t=Wd,e=qd;if(qd=Wd=null,fO(t),e)for(t=0;t<e.length;t++)fO(e[t])}}function Rx(t,e){return t(e)}function mO(t,e,n,i,o){return t(e,n,i,o)}function Lx(){}var gO=Rx,fu=!1,Ix=!1;function Ox(){(Wd!==null||qd!==null)&&(Lx(),pO())}function _te(t,e,n){if(Ix)return t(e,n);Ix=!0;try{return gO(t,e,n)}finally{Ix=!1,Ox()}}function Dp(t,e){var n=t.stateNode;if(n===null)return null;var i=S1(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var Nx=!1;if(Ia)try{var Fp={};Object.defineProperty(Fp,"passive",{get:function(){Nx=!0}}),window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch{Nx=!1}function bte(t,e,n,i,o,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Up=!1,a1=null,l1=!1,kx=null,Ete={onError:function(t){Up=!0,a1=t}};function wte(t,e,n,i,o,s,a,l,c){Up=!1,a1=null,bte.apply(Ete,arguments)}function xte(t,e,n,i,o,s,a,l,c){if(wte.apply(this,arguments),Up){if(Up){var u=a1;Up=!1,a1=null}else throw Error(Ue(198));l1||(l1=!0,kx=u)}}function hu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!=0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yO(t){if(hu(t)!==t)throw Error(Ue(188))}function Ste(t){var e=t.alternate;if(!e){if(e=hu(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return yO(o),t;if(s===i)return yO(o),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a)throw Error(Ue(189))}}if(n.alternate!==i)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function _O(t){if(t=Ste(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function bO(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var EO,Dx,wO,xO,Fx=!1,Do=[],zl=null,Gl=null,$l=null,jp=new Map,Bp=new Map,Vp=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ux(t,e,n,i,o){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[i]}}function TO(t,e){switch(t){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":jp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(e.pointerId)}}function Hp(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t=Ux(e,n,i,o,s),e!==null&&(e=em(e),e!==null&&Dx(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Tte(t,e,n,i,o){switch(e){case"focusin":return zl=Hp(zl,t,e,n,i,o),!0;case"dragenter":return Gl=Hp(Gl,t,e,n,i,o),!0;case"mouseover":return $l=Hp($l,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return jp.set(s,Hp(jp.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Bp.set(s,Hp(Bp.get(s)||null,t,e,n,i,o)),!0}return!1}function Cte(t){var e=pu(t.target);if(e!==null){var n=hu(e);if(n!==null){if(e=n.tag,e===13){if(e=vO(n),e!==null){t.blockedOn=e,xO(t.lanePriority,function(){Fr.unstable_runWithPriority(t.priority,function(){wO(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function c1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=em(n),e!==null&&Dx(e),t.blockedOn=n,!1;e.shift()}return!0}function CO(t,e,n){c1(t)&&n.delete(e)}function Mte(){for(Fx=!1;0<Do.length;){var t=Do[0];if(t.blockedOn!==null){t=em(t.blockedOn),t!==null&&EO(t);break}for(var e=t.targetContainers;0<e.length;){var n=Gx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Do.shift()}zl!==null&&c1(zl)&&(zl=null),Gl!==null&&c1(Gl)&&(Gl=null),$l!==null&&c1($l)&&($l=null),jp.forEach(CO),Bp.forEach(CO)}function zp(t,e){t.blockedOn===e&&(t.blockedOn=null,Fx||(Fx=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,Mte)))}function MO(t){function e(o){return zp(o,t)}if(0<Do.length){zp(Do[0],t);for(var n=1;n<Do.length;n++){var i=Do[n];i.blockedOn===t&&(i.blockedOn=null)}}for(zl!==null&&zp(zl,t),Gl!==null&&zp(Gl,t),$l!==null&&zp($l,t),jp.forEach(e),Bp.forEach(e),n=0;n<Vp.length;n++)i=Vp[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Vp.length&&(n=Vp[0],n.blockedOn===null);)Cte(n),n.blockedOn===null&&Vp.shift()}function u1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yd={animationend:u1("Animation","AnimationEnd"),animationiteration:u1("Animation","AnimationIteration"),animationstart:u1("Animation","AnimationStart"),transitionend:u1("Transition","TransitionEnd")},jx={},AO={};Ia&&(AO=document.createElement("div").style,"AnimationEvent"in window||(delete Yd.animationend.animation,delete Yd.animationiteration.animation,delete Yd.animationstart.animation),"TransitionEvent"in window||delete Yd.transitionend.transition);function d1(t){if(jx[t])return jx[t];if(!Yd[t])return t;var e=Yd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AO)return jx[t]=e[n];return t}var PO=d1("animationend"),RO=d1("animationiteration"),LO=d1("animationstart"),IO=d1("transitionend"),OO=new Map,Bx=new Map,Ate=["abort","abort",PO,"animationEnd",RO,"animationIteration",LO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",IO,"transitionEnd","waiting","waiting"];function Vx(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Bx.set(i,e),OO.set(i,o),cu(o,[i])}}var Pte=Fr.unstable_now;Pte();var jn=8;function Kd(t){if((1&t)!=0)return jn=15,1;if((2&t)!=0)return jn=14,2;if((4&t)!=0)return jn=13,4;var e=24&t;return e!==0?(jn=12,e):(t&32)!=0?(jn=11,32):(e=192&t,e!==0?(jn=10,e):(t&256)!=0?(jn=9,256):(e=3584&t,e!==0?(jn=8,e):(t&4096)!=0?(jn=7,4096):(e=4186112&t,e!==0?(jn=6,e):(e=62914560&t,e!==0?(jn=5,e):t&67108864?(jn=4,67108864):(t&134217728)!=0?(jn=3,134217728):(e=805306368&t,e!==0?(jn=2,e):(1073741824&t)!=0?(jn=1,1073741824):(jn=8,t))))))}function Rte(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Lte(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ue(358,t))}}function Gp(t,e){var n=t.pendingLanes;if(n===0)return jn=0;var i=0,o=0,s=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(s!==0)i=s,o=jn=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(i=Kd(c),o=jn):(l&=s,l!==0&&(i=Kd(l),o=jn))}else s=n&~a,s!==0?(i=Kd(s),o=jn):l!==0&&(i=Kd(l),o=jn);if(i===0)return 0;if(i=31-Wl(i),i=n&((0>i?0:1<<i)<<1)-1,e!==0&&e!==i&&(e&a)==0){if(Kd(e),o<=jn)return e;jn=o}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Wl(e),o=1<<n,i|=t[n],e&=~o;return i}function NO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f1(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Xd(24&~e),t===0?f1(10,e):t;case 10:return t=Xd(192&~e),t===0?f1(8,e):t;case 8:return t=Xd(3584&~e),t===0&&(t=Xd(4186112&~e),t===0&&(t=512)),t;case 2:return e=Xd(805306368&~e),e===0&&(e=268435456),e}throw Error(Ue(358,t))}function Xd(t){return t&-t}function Hx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function h1(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,t=t.eventTimes,e=31-Wl(e),t[e]=n}var Wl=Math.clz32?Math.clz32:Nte,Ite=Math.log,Ote=Math.LN2;function Nte(t){return t===0?32:31-(Ite(t)/Ote|0)|0}var kte=Fr.unstable_UserBlockingPriority,Dte=Fr.unstable_runWithPriority,p1=!0;function Fte(t,e,n,i){fu||Lx();var o=zx,s=fu;fu=!0;try{mO(o,t,e,n,i)}finally{(fu=s)||Ox()}}function Ute(t,e,n,i){Dte(kte,zx.bind(null,t,e,n,i))}function zx(t,e,n,i){if(p1){var o;if((o=(e&4)==0)&&0<Do.length&&-1<SO.indexOf(t))t=Ux(null,t,e,n,i),Do.push(t);else{var s=Gx(t,e,n,i);if(s===null)o&&TO(t,i);else{if(o){if(-1<SO.indexOf(t)){t=Ux(s,t,e,n,i),Do.push(t);return}if(Tte(s,t,e,n,i))return;TO(t,i)}u6(t,e,i,null,n)}}}}function Gx(t,e,n,i){var o=Ax(i);if(o=pu(o),o!==null){var s=hu(o);if(s===null)o=null;else{var a=s.tag;if(a===13){if(o=vO(s),o!==null)return o;o=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return u6(t,e,i,o,n),null}var ql=null,$x=null,m1=null;function kO(){if(m1)return m1;var t,e=$x,n=e.length,i,o="value"in ql?ql.value:ql.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===o[s-i];i++);return m1=o.slice(t,1<i?1-i:void 0)}function g1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function v1(){return!0}function DO(){return!1}function ls(t){function e(n,i,o,s,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?v1:DO,this.isPropagationStopped=DO,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=v1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=v1)},persist:function(){},isPersistent:v1}),e}var Jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wx=ls(Jd),$p=Zn({},Jd,{view:0,detail:0}),jte=ls($p),qx,Yx,Wp,y1=Zn({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wp&&(Wp&&t.type==="mousemove"?(qx=t.screenX-Wp.screenX,Yx=t.screenY-Wp.screenY):Yx=qx=0,Wp=t),qx)},movementY:function(t){return"movementY"in t?t.movementY:Yx}}),FO=ls(y1),Bte=Zn({},y1,{dataTransfer:0}),Vte=ls(Bte),Hte=Zn({},$p,{relatedTarget:0}),Kx=ls(Hte),zte=Zn({},Jd,{animationName:0,elapsedTime:0,pseudoElement:0}),Gte=ls(zte),$te=Zn({},Jd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wte=ls($te),qte=Zn({},Jd,{data:0}),UO=ls(qte),Yte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xte[t])?!!e[t]:!1}function Xx(){return Jte}var Zte=Zn({},$p,{key:function(t){if(t.key){var e=Yte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=g1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xx,charCode:function(t){return t.type==="keypress"?g1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?g1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qte=ls(Zte),ene=Zn({},y1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jO=ls(ene),tne=Zn({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xx}),nne=ls(tne),rne=Zn({},Jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),ine=ls(rne),sne=Zn({},y1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),one=ls(sne),ane=[9,13,27,32],Jx=Ia&&"CompositionEvent"in window,qp=null;Ia&&"documentMode"in document&&(qp=document.documentMode);var lne=Ia&&"TextEvent"in window&&!qp,BO=Ia&&(!Jx||qp&&8<qp&&11>=qp),VO=String.fromCharCode(32),HO=!1;function zO(t,e){switch(t){case"keyup":return ane.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zd=!1;function cne(t,e){switch(t){case"compositionend":return GO(e);case"keypress":return e.which!==32?null:(HO=!0,VO);case"textInput":return t=e.data,t===VO&&HO?null:t;default:return null}}function une(t,e){if(Zd)return t==="compositionend"||!Jx&&zO(t,e)?(t=kO(),m1=$x=ql=null,Zd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BO&&e.locale!=="ko"?null:e.data;default:return null}}var dne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $O(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dne[t.type]:e==="textarea"}function WO(t,e,n,i){hO(i),e=b1(e,"onChange"),0<e.length&&(n=new Wx("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Yp=null,Kp=null;function fne(t){s6(t,0)}function _1(t){var e=rf(t);if(tO(e))return t}function hne(t,e){if(t==="change")return e}var qO=!1;if(Ia){var Zx;if(Ia){var Qx="oninput"in document;if(!Qx){var YO=document.createElement("div");YO.setAttribute("oninput","return;"),Qx=typeof YO.oninput=="function"}Zx=Qx}else Zx=!1;qO=Zx&&(!document.documentMode||9<document.documentMode)}function KO(){Yp&&(Yp.detachEvent("onpropertychange",XO),Kp=Yp=null)}function XO(t){if(t.propertyName==="value"&&_1(Kp)){var e=[];if(WO(e,Kp,t,Ax(t)),t=fne,fu)t(e);else{fu=!0;try{Rx(t,e)}finally{fu=!1,Ox()}}}}function pne(t,e,n){t==="focusin"?(KO(),Yp=e,Kp=n,Yp.attachEvent("onpropertychange",XO)):t==="focusout"&&KO()}function mne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _1(Kp)}function gne(t,e){if(t==="click")return _1(e)}function vne(t,e){if(t==="input"||t==="change")return _1(e)}function yne(t,e){return t===e&&(t!==0||1/t==1/e)||t!==t&&e!==e}var Ds=typeof Object.is=="function"?Object.is:yne,_ne=Object.prototype.hasOwnProperty;function Xp(t,e){if(Ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!_ne.call(e,n[i])||!Ds(t[n[i]],e[n[i]]))return!1;return!0}function JO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZO(t,e){var n=JO(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JO(n)}}function QO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e6(){for(var t=window,e=s1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=s1(t.document)}return e}function eS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var bne=Ia&&"documentMode"in document&&11>=document.documentMode,Qd=null,tS=null,Jp=null,nS=!1;function t6(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nS||Qd==null||Qd!==s1(i)||(i=Qd,"selectionStart"in i&&eS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Jp&&Xp(Jp,i)||(Jp=i,i=b1(tS,"onSelect"),0<i.length&&(e=new Wx("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Qd)))}Vx("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Vx("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Vx(Ate,2);for(var n6="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),rS=0;rS<n6.length;rS++)Bx.set(n6[rS],0);zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zp));function i6(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xte(i,e,void 0,t),t.currentTarget=null}function s6(t,e){e=(e&4)!=0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;i6(o,l,u),s=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;i6(o,l,u),s=c}}}if(l1)throw t=kx,l1=!1,kx=null,t}function zn(t,e){var n=g6(e),i=t+"__bubble";n.has(i)||(c6(e,t,2,!1),n.add(i))}var o6="_reactListening"+Math.random().toString(36).slice(2);function a6(t){t[o6]||(t[o6]=!0,YI.forEach(function(e){r6.has(e)||l6(e,!1,t,null),l6(e,!0,t,null)}))}function l6(t,e,n,i){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),i!==null&&!e&&r6.has(t)){if(t!=="scroll")return;o|=2,s=i}var a=g6(s),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(o|=4),c6(s,t,o,e),a.add(l))}function c6(t,e,n,i){var o=Bx.get(e);switch(o===void 0?2:o){case 0:o=Fte;break;case 1:o=Ute;break;default:o=zx}n=o.bind(null,e,n,t),o=void 0,!Nx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function u6(t,e,n,i,o){var s=i;if((e&1)==0&&(e&2)==0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=pu(l),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}l=l.parentNode}}i=i.return}_te(function(){var u=s,d=Ax(n),f=[];e:{var h=OO.get(t);if(h!==void 0){var v=Wx,m=t;switch(t){case"keypress":if(g1(n)===0)break e;case"keydown":case"keyup":v=Qte;break;case"focusin":m="focus",v=Kx;break;case"focusout":m="blur",v=Kx;break;case"beforeblur":case"afterblur":v=Kx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=FO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Vte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=nne;break;case PO:case RO:case LO:v=Gte;break;case IO:v=ine;break;case"scroll":v=jte;break;case"wheel":v=one;break;case"copy":case"cut":case"paste":v=Wte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=jO}var _=(e&4)!=0,S=!_&&t==="scroll",E=_?h!==null?h+"Capture":null:h;_=[];for(var w=u,T;w!==null;){T=w;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,E!==null&&(C=Dp(w,E),C!=null&&_.push(Qp(w,C,T)))),S)break;w=w.return}0<_.length&&(h=new v(h,m,null,n,d),f.push({event:h,listeners:_}))}}if((e&7)==0){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&(e&16)==0&&(m=n.relatedTarget||n.fromElement)&&(pu(m)||m[nf]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=u,m=m?pu(m):null,m!==null&&(S=hu(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(_=FO,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=jO,C="onPointerLeave",E="onPointerEnter",w="pointer"),S=v==null?h:rf(v),T=m==null?h:rf(m),h=new _(C,w+"leave",v,n,d),h.target=S,h.relatedTarget=T,C=null,pu(d)===u&&(_=new _(E,w+"enter",m,n,d),_.target=T,_.relatedTarget=S,C=_),S=C,v&&m)t:{for(_=v,E=m,w=0,T=_;T;T=ef(T))w++;for(T=0,C=E;C;C=ef(C))T++;for(;0<w-T;)_=ef(_),w--;for(;0<T-w;)E=ef(E),T--;for(;w--;){if(_===E||E!==null&&_===E.alternate)break t;_=ef(_),E=ef(E)}_=null}else _=null;v!==null&&d6(f,h,v,_,!1),m!==null&&S!==null&&d6(f,S,m,_,!0)}}e:{if(h=u?rf(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var P=hne;else if($O(h))if(qO)P=vne;else{P=mne;var R=pne}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=gne);if(P&&(P=P(t,u))){WO(f,P,n,d);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Ex(h,"number",h.value)}switch(R=u?rf(u):window,t){case"focusin":($O(R)||R.contentEditable==="true")&&(Qd=R,tS=u,Jp=null);break;case"focusout":Jp=tS=Qd=null;break;case"mousedown":nS=!0;break;case"contextmenu":case"mouseup":case"dragend":nS=!1,t6(f,n,d);break;case"selectionchange":if(bne)break;case"keydown":case"keyup":t6(f,n,d)}var A;if(Jx)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Zd?zO(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(BO&&n.locale!=="ko"&&(Zd||L!=="onCompositionStart"?L==="onCompositionEnd"&&Zd&&(A=kO()):(ql=d,$x="value"in ql?ql.value:ql.textContent,Zd=!0)),R=b1(u,L),0<R.length&&(L=new UO(L,t,null,n,d),f.push({event:L,listeners:R}),A?L.data=A:(A=GO(n),A!==null&&(L.data=A)))),(A=lne?cne(t,n):une(t,n))&&(u=b1(u,"onBeforeInput"),0<u.length&&(d=new UO("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}s6(f,e)})}function Qp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function b1(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Dp(t,n),s!=null&&i.unshift(Qp(t,s,o)),s=Dp(t,e),s!=null&&i.push(Qp(t,s,o))),t=t.return}return i}function ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d6(t,e,n,i,o){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,o?(c=Dp(n,s),c!=null&&a.unshift(Qp(n,c,l))):o||(c=Dp(n,s),c!=null&&a.push(Qp(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function E1(){}var iS=null,sS=null;function f6(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function oS(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h6=typeof setTimeout=="function"?setTimeout:void 0,Ene=typeof clearTimeout=="function"?clearTimeout:void 0;function aS(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function tf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function p6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lS=0;function wne(t){return{$$typeof:px,toString:t,valueOf:t}}var w1=Math.random().toString(36).slice(2),Yl="__reactFiber$"+w1,x1="__reactProps$"+w1,nf="__reactContainer$"+w1,m6="__reactEvents$"+w1;function pu(t){var e=t[Yl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nf]||n[Yl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p6(t);t!==null;){if(n=t[Yl])return n;t=p6(t)}return e}t=n,n=t.parentNode}return null}function em(t){return t=t[Yl]||t[nf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function S1(t){return t[x1]||null}function g6(t){var e=t[m6];return e===void 0&&(e=t[m6]=new Set),e}var cS=[],sf=-1;function Kl(t){return{current:t}}function Gn(t){0>sf||(t.current=cS[sf],cS[sf]=null,sf--)}function ar(t,e){sf++,cS[sf]=t.current,t.current=e}var Xl={},oi=Kl(Xl),zi=Kl(!1),mu=Xl;function of(t,e){var n=t.type.contextTypes;if(!n)return Xl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Gi(t){return t=t.childContextTypes,t!=null}function T1(){Gn(zi),Gn(oi)}function v6(t,e,n){if(oi.current!==Xl)throw Error(Ue(168));ar(oi,e),ar(zi,n)}function y6(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(Ue(108,Gd(e)||"Unknown",o));return Zn({},n,i)}function C1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xl,mu=oi.current,ar(oi,t),ar(zi,zi.current),!0}function _6(t,e,n){var i=t.stateNode;if(!i)throw Error(Ue(169));n?(t=y6(t,e,mu),i.__reactInternalMemoizedMergedChildContext=t,Gn(zi),Gn(oi),ar(oi,t)):Gn(zi),ar(zi,n)}var uS=null,gu=null,xne=Fr.unstable_runWithPriority,dS=Fr.unstable_scheduleCallback,fS=Fr.unstable_cancelCallback,Sne=Fr.unstable_shouldYield,b6=Fr.unstable_requestPaint,hS=Fr.unstable_now,Tne=Fr.unstable_getCurrentPriorityLevel,M1=Fr.unstable_ImmediatePriority,E6=Fr.unstable_UserBlockingPriority,w6=Fr.unstable_NormalPriority,x6=Fr.unstable_LowPriority,S6=Fr.unstable_IdlePriority,pS={},Cne=b6!==void 0?b6:function(){},Oa=null,A1=null,mS=!1,T6=hS(),ai=1e4>T6?hS:function(){return hS()-T6};function af(){switch(Tne()){case M1:return 99;case E6:return 98;case w6:return 97;case x6:return 96;case S6:return 95;default:throw Error(Ue(332))}}function C6(t){switch(t){case 99:return M1;case 98:return E6;case 97:return w6;case 96:return x6;case 95:return S6;default:throw Error(Ue(332))}}function vu(t,e){return t=C6(t),xne(t,e)}function tm(t,e,n){return t=C6(t),dS(t,e,n)}function Fo(){if(A1!==null){var t=A1;A1=null,fS(t)}M6()}function M6(){if(!mS&&Oa!==null){mS=!0;var t=0;try{var e=Oa;vu(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Oa=null}catch(n){throw Oa!==null&&(Oa=Oa.slice(t+1)),dS(M1,Fo),n}finally{mS=!1}}}var Mne=uu.ReactCurrentBatchConfig;function fo(t,e){if(t&&t.defaultProps){e=Zn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var P1=Kl(null),R1=null,lf=null,L1=null;function gS(){L1=lf=R1=null}function vS(t){var e=P1.current;Gn(P1),t.type._context._currentValue=e}function A6(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function cf(t,e){R1=t,L1=lf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!=0&&(ho=!0),t.firstContext=null)}function Fs(t,e){if(L1!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(L1=t,e=1073741823),e={context:t,observedBits:e,next:null},lf===null){if(R1===null)throw Error(Ue(308));lf=e,R1.dependencies={lanes:0,firstContext:e,responders:null}}else lf=lf.next=e;return t._currentValue}var Jl=!1;function yS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function P6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ql(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function R6(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nm(t,e,n,i){var o=t.updateQueue;Jl=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;if(d!==null){d=d.updateQueue;var f=d.lastBaseUpdate;f!==a&&(f===null?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=c)}}if(s!==null){f=o.baseState,a=0,d=u=c=null;do{l=s.lane;var h=s.eventTime;if((i&l)===l){d!==null&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(l=e,h=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(h,f,l);break e}f=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=m.payload,l=typeof v=="function"?v.call(h,f,l):v,l==null)break e;f=Zn({},f,l);break e;case 2:Jl=!0}}s.callback!==null&&(t.flags|=32,l=o.effects,l===null?o.effects=[s]:l.push(s))}else h={eventTime:h,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,a|=l;if(s=s.next,s===null){if(l=o.shared.pending,l===null)break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(1);d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,pm|=a,t.lanes=a,t.memoizedState=f}}function L6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(Ue(191,o));o.call(i)}}}var I6=new Qv.Component().refs;function I1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Zn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O1={isMounted:function(t){return(t=t._reactInternals)?hu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=cs(),o=nc(t),s=Zl(i,o);s.payload=e,n!=null&&(s.callback=n),Ql(t,s),rc(t,o,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=cs(),o=nc(t),s=Zl(i,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Ql(t,s),rc(t,o,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cs(),i=nc(t),o=Zl(n,i);o.tag=2,e!=null&&(o.callback=e),Ql(t,o),rc(t,i,n)}};function O6(t,e,n,i,o,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xp(n,i)||!Xp(o,s):!0}function N6(t,e,n){var i=!1,o=Xl,s=e.contextType;return typeof s=="object"&&s!==null?s=Fs(s):(o=Gi(e)?mu:oi.current,i=e.contextTypes,s=(i=i!=null)?of(t,o):Xl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O1,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function k6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&O1.enqueueReplaceState(e,e.state,null)}function _S(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=I6,yS(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Fs(s):(s=Gi(e)?mu:oi.current,o.context=of(t,s)),nm(t,n,o,i),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(I1(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&O1.enqueueReplaceState(o,o.state,null),nm(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4)}var N1=Array.isArray;function rm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var i=n.stateNode}if(!i)throw Error(Ue(147,t));var o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===I6&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function k1(t,e){if(t.type!=="textarea")throw Error(Ue(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function D6(t){function e(S,E){if(t){var w=S.lastEffect;w!==null?(w.nextEffect=E,S.lastEffect=E):S.firstEffect=S.lastEffect=E,E.nextEffect=null,E.flags=8}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function o(S,E){return S=oc(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags=2,E):w):(S.flags=2,E)):E}function a(S){return t&&S.alternate===null&&(S.flags=2),S}function l(S,E,w,T){return E===null||E.tag!==6?(E=t3(w,S.mode,T),E.return=S,E):(E=o(E,w),E.return=S,E)}function c(S,E,w,T){return E!==null&&E.elementType===w.type?(T=o(E,w.props),T.ref=rm(S,E,w),T.return=S,T):(T=Q1(w.type,w.key,w.props,null,S.mode,T),T.ref=rm(S,E,w),T.return=S,T)}function u(S,E,w,T){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=n3(w,S.mode,T),E.return=S,E):(E=o(E,w.children||[]),E.return=S,E)}function d(S,E,w,T,C){return E===null||E.tag!==7?(E=vf(w,S.mode,T,C),E.return=S,E):(E=o(E,w),E.return=S,E)}function f(S,E,w){if(typeof E=="string"||typeof E=="number")return E=t3(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pp:return w=Q1(E.type,E.key,E.props,null,S.mode,w),w.ref=rm(S,null,E),w.return=S,w;case du:return E=n3(E,S.mode,w),E.return=S,E}if(N1(E)||Ip(E))return E=vf(E,S.mode,w,null),E.return=S,E;k1(S,E)}return null}function h(S,E,w,T){var C=E!==null?E.key:null;if(typeof w=="string"||typeof w=="number")return C!==null?null:l(S,E,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pp:return w.key===C?w.type===Vl?d(S,E,w.props.children,T,C):c(S,E,w,T):null;case du:return w.key===C?u(S,E,w,T):null}if(N1(w)||Ip(w))return C!==null?null:d(S,E,w,T,null);k1(S,w)}return null}function v(S,E,w,T,C){if(typeof T=="string"||typeof T=="number")return S=S.get(w)||null,l(E,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pp:return S=S.get(T.key===null?w:T.key)||null,T.type===Vl?d(E,S,T.props.children,C,T.key):c(E,S,T,C);case du:return S=S.get(T.key===null?w:T.key)||null,u(E,S,T,C)}if(N1(T)||Ip(T))return S=S.get(w)||null,d(E,S,T,C,null);k1(E,T)}return null}function m(S,E,w,T){for(var C=null,P=null,R=E,A=E=0,L=null;R!==null&&A<w.length;A++){R.index>A?(L=R,R=null):L=R.sibling;var k=h(S,R,w[A],T);if(k===null){R===null&&(R=L);break}t&&R&&k.alternate===null&&e(S,R),E=s(k,E,A),P===null?C=k:P.sibling=k,P=k,R=L}if(A===w.length)return n(S,R),C;if(R===null){for(;A<w.length;A++)R=f(S,w[A],T),R!==null&&(E=s(R,E,A),P===null?C=R:P.sibling=R,P=R);return C}for(R=i(S,R);A<w.length;A++)L=v(R,S,A,w[A],T),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?A:L.key),E=s(L,E,A),P===null?C=L:P.sibling=L,P=L);return t&&R.forEach(function(U){return e(S,U)}),C}function _(S,E,w,T){var C=Ip(w);if(typeof C!="function")throw Error(Ue(150));if(w=C.call(w),w==null)throw Error(Ue(151));for(var P=C=null,R=E,A=E=0,L=null,k=w.next();R!==null&&!k.done;A++,k=w.next()){R.index>A?(L=R,R=null):L=R.sibling;var U=h(S,R,k.value,T);if(U===null){R===null&&(R=L);break}t&&R&&U.alternate===null&&e(S,R),E=s(U,E,A),P===null?C=U:P.sibling=U,P=U,R=L}if(k.done)return n(S,R),C;if(R===null){for(;!k.done;A++,k=w.next())k=f(S,k.value,T),k!==null&&(E=s(k,E,A),P===null?C=k:P.sibling=k,P=k);return C}for(R=i(S,R);!k.done;A++,k=w.next())k=v(R,S,A,k.value,T),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?A:k.key),E=s(k,E,A),P===null?C=k:P.sibling=k,P=k);return t&&R.forEach(function(O){return e(S,O)}),C}return function(S,E,w,T){var C=typeof w=="object"&&w!==null&&w.type===Vl&&w.key===null;C&&(w=w.props.children);var P=typeof w=="object"&&w!==null;if(P)switch(w.$$typeof){case Pp:e:{for(P=w.key,C=E;C!==null;){if(C.key===P){switch(C.tag){case 7:if(w.type===Vl){n(S,C.sibling),E=o(C,w.props.children),E.return=S,S=E;break e}break;default:if(C.elementType===w.type){n(S,C.sibling),E=o(C,w.props),E.ref=rm(S,C,w),E.return=S,S=E;break e}}n(S,C);break}else e(S,C);C=C.sibling}w.type===Vl?(E=vf(w.props.children,S.mode,T,w.key),E.return=S,S=E):(T=Q1(w.type,w.key,w.props,null,S.mode,T),T.ref=rm(S,E,w),T.return=S,S=T)}return a(S);case du:e:{for(C=w.key;E!==null;){if(E.key===C)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(S,E.sibling),E=o(E,w.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=n3(w,S.mode,T),E.return=S,S=E}return a(S)}if(typeof w=="string"||typeof w=="number")return w=""+w,E!==null&&E.tag===6?(n(S,E.sibling),E=o(E,w),E.return=S,S=E):(n(S,E),E=t3(w,S.mode,T),E.return=S,S=E),a(S);if(N1(w))return m(S,E,w,T);if(Ip(w))return _(S,E,w,T);if(P&&k1(S,w),typeof w=="undefined"&&!C)switch(S.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ue(152,Gd(S.type)||"Component"))}return n(S,E)}}var D1=D6(!0),F6=D6(!1),im={},Uo=Kl(im),sm=Kl(im),om=Kl(im);function yu(t){if(t===im)throw Error(Ue(174));return t}function bS(t,e){switch(ar(om,e),ar(sm,t),ar(Uo,im),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tx(e,t)}Gn(Uo),ar(Uo,e)}function uf(){Gn(Uo),Gn(sm),Gn(om)}function U6(t){yu(om.current);var e=yu(Uo.current),n=Tx(e,t.type);e!==n&&(ar(sm,t),ar(Uo,n))}function ES(t){sm.current===t&&(Gn(Uo),Gn(sm))}var lr=Kl(0);function F1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Na=null,ec=null,jo=!1;function j6(t,e){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function B6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function wS(t){if(jo){var e=ec;if(e){var n=e;if(!B6(t,e)){if(e=tf(n.nextSibling),!e||!B6(t,e)){t.flags=t.flags&-1025|2,jo=!1,Na=t;return}j6(Na,n)}Na=t,ec=tf(e.firstChild)}else t.flags=t.flags&-1025|2,jo=!1,Na=t}}function V6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Na=t}function U1(t){if(t!==Na)return!1;if(!jo)return V6(t),jo=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!oS(e,t.memoizedProps))for(e=ec;e;)j6(t,e),e=tf(e.nextSibling);if(V6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ec=tf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ec=null}}else ec=Na?tf(t.stateNode.nextSibling):null;return!0}function xS(){ec=Na=null,jo=!1}var df=[];function SS(){for(var t=0;t<df.length;t++)df[t]._workInProgressVersionPrimary=null;df.length=0}var am=uu.ReactCurrentDispatcher,Us=uu.ReactCurrentBatchConfig,lm=0,vr=null,li=null,qr=null,j1=!1,cm=!1;function $i(){throw Error(Ue(321))}function TS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ds(t[n],e[n]))return!1;return!0}function CS(t,e,n,i,o,s){if(lm=s,vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,am.current=t===null||t.memoizedState===null?Pne:Rne,t=n(i,o),cm){s=0;do{if(cm=!1,!(25>s))throw Error(Ue(301));s+=1,qr=li=null,e.updateQueue=null,am.current=Lne,t=n(i,o)}while(cm)}if(am.current=z1,e=li!==null&&li.next!==null,lm=0,qr=li=vr=null,j1=!1,e)throw Error(Ue(300));return t}function _u(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?vr.memoizedState=qr=t:qr=qr.next=t,qr}function bu(){if(li===null){var t=vr.alternate;t=t!==null?t.memoizedState:null}else t=li.next;var e=qr===null?vr.memoizedState:qr.next;if(e!==null)qr=e,li=t;else{if(t===null)throw Error(Ue(310));li=t,t={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},qr===null?vr.memoizedState=qr=t:qr=qr.next=t}return qr}function Bo(t,e){return typeof e=="function"?e(t):e}function um(t){var e=bu(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var i=li,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(o!==null){o=o.next,i=i.baseState;var l=a=s=null,c=o;do{var u=c.lane;if((lm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===t?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,vr.lanes|=u,pm|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Ds(i,e.memoizedState)||(ho=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function dm(t){var e=bu(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=t(s,a.action),a=a.next;while(a!==o);Ds(s,e.memoizedState)||(ho=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function H6(t,e,n){var i=e._getVersion;i=i(e._source);var o=e._workInProgressVersionPrimary;if(o!==null?t=o===i:(t=t.mutableReadLanes,(t=(lm&t)===t)&&(e._workInProgressVersionPrimary=i,df.push(e))),t)return n(e._source);throw df.push(e),Error(Ue(350))}function z6(t,e,n,i){var o=Ai;if(o===null)throw Error(Ue(349));var s=e._getVersion,a=s(e._source),l=am.current,c=l.useState(function(){return H6(o,e,n)}),u=c[1],d=c[0];c=qr;var f=t.memoizedState,h=f.refs,v=h.getSnapshot,m=f.source;f=f.subscribe;var _=vr;return t.memoizedState={refs:h,source:e,subscribe:i},l.useEffect(function(){h.getSnapshot=n,h.setSnapshot=u;var S=s(e._source);if(!Ds(a,S)){S=n(e._source),Ds(d,S)||(u(S),S=nc(_),o.mutableReadLanes|=S&o.pendingLanes),S=o.mutableReadLanes,o.entangledLanes|=S;for(var E=o.entanglements,w=S;0<w;){var T=31-Wl(w),C=1<<T;E[T]|=S,w&=~C}}},[n,e,i]),l.useEffect(function(){return i(e._source,function(){var S=h.getSnapshot,E=h.setSnapshot;try{E(S(e._source));var w=nc(_);o.mutableReadLanes|=w&o.pendingLanes}catch(T){E(function(){throw T})}})},[e,i]),Ds(v,n)&&Ds(m,e)&&Ds(f,i)||(t={pending:null,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:d},t.dispatch=u=RS.bind(null,vr,t),c.queue=t,c.baseQueue=null,d=H6(o,e,n),c.memoizedState=c.baseState=d),d}function G6(t,e,n){var i=bu();return z6(i,t,e,n)}function fm(t){var e=_u();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},t=t.dispatch=RS.bind(null,vr,t),[e.memoizedState,t]}function B1(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=vr.updateQueue,e===null?(e={lastEffect:null},vr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function $6(t){var e=_u();return t={current:t},e.memoizedState=t}function V1(){return bu().memoizedState}function MS(t,e,n,i){var o=_u();vr.flags|=t,o.memoizedState=B1(1|e,n,void 0,i===void 0?null:i)}function AS(t,e,n,i){var o=bu();i=i===void 0?null:i;var s=void 0;if(li!==null){var a=li.memoizedState;if(s=a.destroy,i!==null&&TS(i,a.deps)){B1(e,n,s,i);return}}vr.flags|=t,o.memoizedState=B1(1|e,n,s,i)}function W6(t,e){return MS(516,4,t,e)}function H1(t,e){return AS(516,4,t,e)}function q6(t,e){return AS(4,2,t,e)}function Y6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K6(t,e,n){return n=n!=null?n.concat([t]):null,AS(4,2,Y6.bind(null,e,t),n)}function PS(){}function X6(t,e){var n=bu();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&TS(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function J6(t,e){var n=bu();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&TS(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ane(t,e){var n=af();vu(98>n?98:n,function(){t(!0)}),vu(97<n?97:n,function(){var i=Us.transition;Us.transition=1;try{t(!1),e()}finally{Us.transition=i}})}function RS(t,e,n){var i=cs(),o=nc(t),s={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===vr||a!==null&&a===vr)cm=j1=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,Ds(c,l))return}catch{}finally{}rc(t,o,i)}}var z1={readContext:Fs,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useOpaqueIdentifier:$i,unstable_isNewReconciler:!1},Pne={readContext:Fs,useCallback:function(t,e){return _u().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:W6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,MS(4,2,Y6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return MS(4,2,t,e)},useMemo:function(t,e){var n=_u();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=_u();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=RS.bind(null,vr,t),[i.memoizedState,t]},useRef:$6,useState:fm,useDebugValue:PS,useDeferredValue:function(t){var e=fm(t),n=e[0],i=e[1];return W6(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=fm(!1),e=t[0];return t=Ane.bind(null,t[1]),$6(t),[t,e]},useMutableSource:function(t,e,n){var i=_u();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},z6(i,t,e,n)},useOpaqueIdentifier:function(){if(jo){var t=!1,e=wne(function(){throw t||(t=!0,n("r:"+(lS++).toString(36))),Error(Ue(355))}),n=fm(e)[1];return(vr.mode&2)==0&&(vr.flags|=516,B1(5,function(){n("r:"+(lS++).toString(36))},void 0,null)),e}return e="r:"+(lS++).toString(36),fm(e),e},unstable_isNewReconciler:!1},Rne={readContext:Fs,useCallback:X6,useContext:Fs,useEffect:H1,useImperativeHandle:K6,useLayoutEffect:q6,useMemo:J6,useReducer:um,useRef:V1,useState:function(){return um(Bo)},useDebugValue:PS,useDeferredValue:function(t){var e=um(Bo),n=e[0],i=e[1];return H1(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=um(Bo)[0];return[V1().current,t]},useMutableSource:G6,useOpaqueIdentifier:function(){return um(Bo)[0]},unstable_isNewReconciler:!1},Lne={readContext:Fs,useCallback:X6,useContext:Fs,useEffect:H1,useImperativeHandle:K6,useLayoutEffect:q6,useMemo:J6,useReducer:dm,useRef:V1,useState:function(){return dm(Bo)},useDebugValue:PS,useDeferredValue:function(t){var e=dm(Bo),n=e[0],i=e[1];return H1(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=dm(Bo)[0];return[V1().current,t]},useMutableSource:G6,useOpaqueIdentifier:function(){return dm(Bo)[0]},unstable_isNewReconciler:!1},Ine=uu.ReactCurrentOwner,ho=!1;function Wi(t,e,n,i){e.child=t===null?F6(e,null,n,i):D1(e,t.child,n,i)}function Z6(t,e,n,i,o){n=n.render;var s=e.ref;return cf(e,o),i=CS(t,e,n,i,s,o),t!==null&&!ho?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,ka(t,e,o)):(e.flags|=1,Wi(t,e,i,o),e.child)}function Q6(t,e,n,i,o,s){if(t===null){var a=n.type;return typeof a=="function"&&!QS(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,e8(t,e,a,i,o,s)):(t=Q1(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(o&s)==0&&(o=a.memoizedProps,n=n.compare,n=n!==null?n:Xp,n(o,i)&&t.ref===e.ref)?ka(t,e,s):(e.flags|=1,t=oc(a,i),t.ref=e.ref,t.return=e,e.child=t)}function e8(t,e,n,i,o,s){if(t!==null&&Xp(t.memoizedProps,i)&&t.ref===e.ref)if(ho=!1,(s&o)!=0)(t.flags&16384)!=0&&(ho=!0);else return e.lanes=t.lanes,ka(t,e,s);return IS(t,e,n,i,s)}function LS(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},Z1(e,n);else if((n&1073741824)!=0)e.memoizedState={baseLanes:0},Z1(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Z1(e,t),null;else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Z1(e,i);return Wi(t,e,o,n),e.child}function t8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function IS(t,e,n,i,o){var s=Gi(n)?mu:oi.current;return s=of(e,s),cf(e,o),n=CS(t,e,n,i,s,o),t!==null&&!ho?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,ka(t,e,o)):(e.flags|=1,Wi(t,e,n,o),e.child)}function n8(t,e,n,i,o){if(Gi(n)){var s=!0;C1(e)}else s=!1;if(cf(e,o),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),N6(e,n,i),_S(e,n,i,o),i=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fs(u):(u=Gi(n)?mu:oi.current,u=of(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&k6(e,a,i,u),Jl=!1;var h=e.memoizedState;a.state=h,nm(e,i,a,o),c=e.memoizedState,l!==i||h!==c||zi.current||Jl?(typeof d=="function"&&(I1(e,n,d,i),c=e.memoizedState),(l=Jl||O6(e,n,l,i,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),i=!1)}else{a=e.stateNode,P6(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:fo(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fs(c):(c=Gi(n)?mu:oi.current,c=of(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&k6(e,a,i,c),Jl=!1,h=e.memoizedState,a.state=h,nm(e,i,a,o);var m=e.memoizedState;l!==f||h!==m||zi.current||Jl?(typeof v=="function"&&(I1(e,n,v,i),m=e.memoizedState),(u=Jl||O6(e,n,u,i,h,m,c))?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),i=!1)}return OS(t,e,n,i,s,o)}function OS(t,e,n,i,o,s){t8(t,e);var a=(e.flags&64)!=0;if(!i&&!a)return o&&_6(e,n,!1),ka(t,e,s);i=e.stateNode,Ine.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=D1(e,t.child,null,s),e.child=D1(e,null,l,s)):Wi(t,e,l,s),e.memoizedState=i.state,o&&_6(e,n,!0),e.child}function r8(t){var e=t.stateNode;e.pendingContext?v6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v6(t,e.context,!1),bS(t,e.containerInfo)}var G1={dehydrated:null,retryLane:0};function i8(t,e,n){var i=e.pendingProps,o=lr.current,s=!1,a;return(a=(e.flags&64)!=0)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!=0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(o|=1),ar(lr,o&1),t===null?(i.fallback!==void 0&&wS(e),t=i.children,o=i.fallback,s?(t=s8(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=G1,t):typeof i.unstable_expectedLoadTime=="number"?(t=s8(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=G1,e.lanes=33554432,t):(n=e3({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(i=a8(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=G1,i):(n=o8(t,e,i.children,n),e.memoizedState=null,n):s?(i=a8(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=G1,i):(n=o8(t,e,i.children,n),e.memoizedState=null,n)}function s8(t,e,n,i){var o=t.mode,s=t.child;return e={mode:"hidden",children:e},(o&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=e3(e,o,0,null),n=vf(n,o,i,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function o8(t,e,n,i){var o=t.child;return t=o.sibling,n=oc(o,{mode:"visible",children:n}),(e.mode&2)==0&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function a8(t,e,n,i,o){var s=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:n};return(s&2)==0&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=oc(a,l),t!==null?i=oc(t,i):(i=vf(i,s,o,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,i}function l8(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),A6(t.return,e)}function NS(t,e,n,i,o,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o,a.lastEffect=s)}function c8(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(Wi(t,e,i.children,n),i=lr.current,(i&2)!=0)i=i&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!=0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l8(t,n);else if(t.tag===19)l8(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ar(lr,i),(e.mode&2)==0)e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&F1(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),NS(e,!1,o,n,s,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&F1(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}NS(e,!0,n,null,s,e.lastEffect);break;case"together":NS(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pm|=e.lanes,(n&e.childLanes)!=0){if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=oc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var u8,kS,d8,f8;u8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kS=function(){};d8=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,yu(Uo.current);var s=null;switch(n){case"input":o=_x(t,o),i=_x(t,i),s=[];break;case"option":o=wx(t,o),i=wx(t,i),s=[];break;case"select":o=Zn({},o,{value:void 0}),i=Zn({},i,{value:void 0}),s=[];break;case"textarea":o=xx(t,o),i=xx(t,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=E1)}Cx(n,i);var a;n=null;for(u in o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ap.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=o!=null?o[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ap.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&zn("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===px?c.toString():(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};f8=function(t,e,n,i){n!==i&&(e.flags|=4)};function hm(t,e){if(!jo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function One(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Gi(e.type)&&T1(),null;case 3:return uf(),Gn(zi),Gn(oi),SS(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(U1(e)?e.flags|=4:i.hydrate||(e.flags|=256)),kS(e),null;case 5:ES(e);var o=yu(om.current);if(n=e.type,t!==null&&e.stateNode!=null)d8(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(e.stateNode===null)throw Error(Ue(166));return null}if(t=yu(Uo.current),U1(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Yl]=e,i[x1]=s,n){case"dialog":zn("cancel",i),zn("close",i);break;case"iframe":case"object":case"embed":zn("load",i);break;case"video":case"audio":for(t=0;t<Zp.length;t++)zn(Zp[t],i);break;case"source":zn("error",i);break;case"img":case"image":case"link":zn("error",i),zn("load",i);break;case"details":zn("toggle",i);break;case"input":nO(i,s),zn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},zn("invalid",i);break;case"textarea":sO(i,s),zn("invalid",i)}Cx(n,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(o=s[a],a==="children"?typeof o=="string"?i.textContent!==o&&(t=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(t=["children",""+o]):Ap.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&zn("scroll",i));switch(n){case"input":i1(i),iO(i,s,!0);break;case"textarea":i1(i),aO(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=E1)}i=t,e.updateQueue=i,i!==null&&(e.flags|=4)}else{switch(a=o.nodeType===9?o:o.ownerDocument,t===Sx.html&&(t=lO(n)),t===Sx.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Yl]=e,t[x1]=i,u8(t,e,!1,!1),e.stateNode=t,a=Mx(n,i),n){case"dialog":zn("cancel",t),zn("close",t),o=i;break;case"iframe":case"object":case"embed":zn("load",t),o=i;break;case"video":case"audio":for(o=0;o<Zp.length;o++)zn(Zp[o],t);o=i;break;case"source":zn("error",t),o=i;break;case"img":case"image":case"link":zn("error",t),zn("load",t),o=i;break;case"details":zn("toggle",t),o=i;break;case"input":nO(t,i),o=_x(t,i),zn("invalid",t);break;case"option":o=wx(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=Zn({},i,{value:void 0}),zn("invalid",t);break;case"textarea":sO(t,i),o=xx(t,i),zn("invalid",t);break;default:o=i}Cx(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?dO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cO(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Np(t,c):typeof c=="number"&&Np(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ap.hasOwnProperty(s)?c!=null&&s==="onScroll"&&zn("scroll",t):c!=null&&lx(t,s,c,a))}switch(n){case"input":i1(t),iO(t,i,!1);break;case"textarea":i1(t),aO(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Hl(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?$d(t,!!i.multiple,s,!1):i.defaultValue!=null&&$d(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=E1)}f6(n,i)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)f8(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ue(166));n=yu(om.current),yu(Uo.current),U1(e)?(i=e.stateNode,n=e.memoizedProps,i[Yl]=e,i.nodeValue!==n&&(e.flags|=4)):(i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yl]=e,e.stateNode=i)}return null;case 13:return Gn(lr),i=e.memoizedState,(e.flags&64)!=0?(e.lanes=n,e):(i=i!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&U1(e):n=t.memoizedState!==null,i&&!n&&(e.mode&2)!=0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(lr.current&1)!=0?Yr===0&&(Yr=3):((Yr===0||Yr===3)&&(Yr=4),Ai===null||(pm&134217727)==0&&(hf&134217727)==0||mf(Ai,ci))),(i||n)&&(e.flags|=4),null);case 4:return uf(),kS(e),t===null&&a6(e.stateNode.containerInfo),null;case 10:return vS(e),null;case 17:return Gi(e.type)&&T1(),null;case 19:if(Gn(lr),i=e.memoizedState,i===null)return null;if(s=(e.flags&64)!=0,a=i.rendering,a===null)if(s)hm(i,!1);else{if(Yr!==0||t!==null&&(t.flags&64)!=0)for(t=e.child;t!==null;){if(a=F1(t),a!==null){for(e.flags|=64,hm(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),i.lastEffect===null&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ar(lr,lr.current&1|2),e.child}t=t.sibling}i.tail!==null&&ai()>WS&&(e.flags|=64,s=!0,hm(i,!1),e.lanes=33554432)}else{if(!s)if(t=F1(a),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!jo)return e=e.lastEffect=i.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ai()-i.renderingStartTime>WS&&n!==1073741824&&(e.flags|=64,s=!0,hm(i,!1),e.lanes=33554432);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=ai(),n.sibling=null,e=lr.current,ar(lr,s?e&1|2:e&1),n):null;case 23:case 24:return ZS(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Ue(156,e.tag))}function Nne(t){switch(t.tag){case 1:Gi(t.type)&&T1();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(uf(),Gn(zi),Gn(oi),SS(),e=t.flags,(e&64)!=0)throw Error(Ue(285));return t.flags=e&-4097|64,t;case 5:return ES(t),null;case 13:return Gn(lr),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Gn(lr),null;case 4:return uf(),null;case 10:return vS(t),null;case 23:case 24:return ZS(),null;default:return null}}function DS(t,e){try{var n="",i=e;do n+=pte(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o}}function FS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kne=typeof WeakMap=="function"?WeakMap:Map;function h8(t,e,n){n=Zl(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){q1||(q1=!0,qS=i),FS(t,e)},n}function p8(t,e,n){n=Zl(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return FS(t,e),i(o)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof i!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this),FS(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var Dne=typeof WeakSet=="function"?WeakSet:Set;function m8(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){sc(t,n)}else e.current=null}function Fne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:fo(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&aS(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Ue(163))}function Une(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)==3){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var o=t;i=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(R8(n,t),Wne(n,t)),t=i}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:fo(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&L6(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}L6(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&f6(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&MO(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Ue(163))}function g8(t,e){for(var n=t;;){if(n.tag===5){var i=n.stateNode;if(e)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,i.style.display=uO("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function v8(t,e){if(gu&&typeof gu.onCommitFiberUnmount=="function")try{gu.onCommitFiberUnmount(uS,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,o=i.destroy;if(i=i.tag,o!==void 0)if((i&4)!=0)R8(e,n);else{i=e;try{o()}catch(s){sc(i,s)}}n=n.next}while(n!==t)}break;case 1:if(m8(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){sc(e,s)}break;case 5:m8(e);break;case 4:E8(t,e)}}function y8(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function _8(t){return t.tag===5||t.tag===3||t.tag===4}function b8(t){e:{for(var e=t.return;e!==null;){if(_8(e))break e;e=e.return}throw Error(Ue(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:e=e.containerInfo,i=!0;break;case 4:e=e.containerInfo,i=!0;break;default:throw Error(Ue(161))}n.flags&16&&(Np(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||_8(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}i?US(t,n,e):jS(t,n,e)}function US(t,e,n){var i=t.tag,o=i===5||i===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=E1));else if(i!==4&&(t=t.child,t!==null))for(US(t,e,n),t=t.sibling;t!==null;)US(t,e,n),t=t.sibling}function jS(t,e,n){var i=t.tag,o=i===5||i===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(jS(t,e,n),t=t.sibling;t!==null;)jS(t,e,n),t=t.sibling}function E8(t,e){for(var n=e,i=!1,o,s;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(Ue(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var a=t,l=n,c=l;;)if(v8(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=o,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(v8(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function BS(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do(i.tag&3)==3&&(t=i.destroy,i.destroy=void 0,t!==void 0&&t()),i=i.next;while(i!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){i=e.memoizedProps;var o=t!==null?t.memoizedProps:i;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[x1]=i,t==="input"&&i.type==="radio"&&i.name!=null&&rO(n,i),Mx(t,o),e=Mx(t,i),o=0;o<s.length;o+=2){var a=s[o],l=s[o+1];a==="style"?dO(n,l):a==="dangerouslySetInnerHTML"?cO(n,l):a==="children"?Np(n,l):lx(n,a,l,e)}switch(t){case"input":bx(n,i);break;case"textarea":oO(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,s=i.value,s!=null?$d(n,!!i.multiple,s,!1):t!==!!i.multiple&&(i.defaultValue!=null?$d(n,!!i.multiple,i.defaultValue,!0):$d(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Ue(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,MO(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&($S=ai(),g8(e.child,!0)),w8(e);return;case 19:w8(e);return;case 17:return;case 23:case 24:g8(e,e.memoizedState!==null);return}throw Error(Ue(163))}function w8(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dne),e.forEach(function(i){var o=Kne.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function jne(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Bne=Math.ceil,$1=uu.ReactCurrentDispatcher,VS=uu.ReactCurrentOwner,Rt=0,Ai=null,Rr=null,ci=0,Eu=0,HS=Kl(0),Yr=0,W1=null,ff=0,pm=0,hf=0,zS=0,GS=null,$S=0,WS=1/0;function pf(){WS=ai()+500}var it=null,q1=!1,qS=null,Vo=null,tc=!1,mm=null,gm=90,YS=[],KS=[],Da=null,vm=0,XS=null,Y1=-1,Fa=0,K1=0,ym=null,X1=!1;function cs(){return(Rt&48)!=0?ai():Y1!==-1?Y1:Y1=ai()}function nc(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return af()===99?1:2;if(Fa===0&&(Fa=ff),Mne.transition!==0){K1!==0&&(K1=GS!==null?GS.pendingLanes:0),t=Fa;var e=4186112&~K1;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=af(),(Rt&4)!=0&&t===98?t=f1(12,Fa):(t=Rte(t),t=f1(t,Fa)),t}function rc(t,e,n){if(50<vm)throw vm=0,XS=null,Error(Ue(185));if(t=J1(t,e),t===null)return null;h1(t,e,n),t===Ai&&(hf|=e,Yr===4&&mf(t,ci));var i=af();e===1?(Rt&8)!=0&&(Rt&48)==0?JS(t):(js(t,n),Rt===0&&(pf(),Fo())):((Rt&4)==0||i!==98&&i!==99||(Da===null?Da=new Set([t]):Da.add(t)),js(t,n)),GS=t}function J1(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function js(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,o=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Wl(a),c=1<<l,u=s[l];if(u===-1){if((c&i)==0||(c&o)!=0){u=e,Kd(c);var d=jn;s[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);a&=~c}if(i=Gp(t,t===Ai?ci:0),e=jn,i===0)n!==null&&(n!==pS&&fS(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==pS&&fS(n)}e===15?(n=JS.bind(null,t),Oa===null?(Oa=[n],A1=dS(M1,M6)):Oa.push(n),n=pS):e===14?n=tm(99,JS.bind(null,t)):(n=Lte(e),n=tm(n,x8.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function x8(t){if(Y1=-1,K1=Fa=0,(Rt&48)!=0)throw Error(Ue(327));var e=t.callbackNode;if(ic()&&t.callbackNode!==e)return null;var n=Gp(t,t===Ai?ci:0);if(n===0)return null;var i=n,o=Rt;Rt|=16;var s=M8();(Ai!==t||ci!==i)&&(pf(),gf(t,i));do try{zne();break}catch(l){C8(t,l)}while(1);if(gS(),$1.current=s,Rt=o,Rr!==null?i=0:(Ai=null,ci=0,i=Yr),(ff&hf)!=0)gf(t,0);else if(i!==0){if(i===2&&(Rt|=64,t.hydrate&&(t.hydrate=!1,aS(t.containerInfo)),n=NO(t),n!==0&&(i=_m(t,n))),i===1)throw e=W1,gf(t,0),mf(t,n),js(t,ai()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(Ue(345));case 2:wu(t);break;case 3:if(mf(t,n),(n&62914560)===n&&(i=$S+500-ai(),10<i)){if(Gp(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){cs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=h6(wu.bind(null,t),i);break}wu(t);break;case 4:if(mf(t,n),(n&4186112)===n)break;for(i=t.eventTimes,o=-1;0<n;){var a=31-Wl(n);s=1<<a,a=i[a],a>o&&(o=a),n&=~s}if(n=o,n=ai()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bne(n/1960))-n,10<n){t.timeoutHandle=h6(wu.bind(null,t),n);break}wu(t);break;case 5:wu(t);break;default:throw Error(Ue(329))}}return js(t,ai()),t.callbackNode===e?x8.bind(null,t):null}function mf(t,e){for(e&=~zS,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wl(e),i=1<<n;t[n]=-1,e&=~i}}function JS(t){if((Rt&48)!=0)throw Error(Ue(327));if(ic(),t===Ai&&(t.expiredLanes&ci)!=0){var e=ci,n=_m(t,e);(ff&hf)!=0&&(e=Gp(t,e),n=_m(t,e))}else e=Gp(t,0),n=_m(t,e);if(t.tag!==0&&n===2&&(Rt|=64,t.hydrate&&(t.hydrate=!1,aS(t.containerInfo)),e=NO(t),e!==0&&(n=_m(t,e))),n===1)throw n=W1,gf(t,0),mf(t,e),js(t,ai()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t),js(t,ai()),null}function Vne(){if(Da!==null){var t=Da;Da=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,js(e,ai())})}Fo()}function S8(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&(pf(),Fo())}}function T8(t,e){var n=Rt;Rt&=-2,Rt|=8;try{return t(e)}finally{Rt=n,Rt===0&&(pf(),Fo())}}function Z1(t,e){ar(HS,Eu),Eu|=e,ff|=e}function ZS(){Eu=HS.current,Gn(HS)}function gf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ene(n)),Rr!==null)for(n=Rr.return;n!==null;){var i=n;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&T1();break;case 3:uf(),Gn(zi),Gn(oi),SS();break;case 5:ES(i);break;case 4:uf();break;case 13:Gn(lr);break;case 19:Gn(lr);break;case 10:vS(i);break;case 23:case 24:ZS()}n=n.return}Ai=t,Rr=oc(t.current,null),ci=Eu=ff=e,Yr=0,W1=null,zS=hf=pm=0}function C8(t,e){do{var n=Rr;try{if(gS(),am.current=z1,j1){for(var i=vr.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}j1=!1}if(lm=0,qr=li=vr=null,cm=!1,VS.current=null,n===null||n.return===null){Yr=1,W1=e,Rr=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=ci,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c;if((l.mode&2)==0){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=(lr.current&1)!=0,h=a;do{var v;if(v=h.tag===13){var m=h.memoizedState;if(m!==null)v=m.dehydrated!==null;else{var _=h.memoizedProps;v=_.fallback===void 0?!1:_.unstable_avoidThisFallback!==!0?!0:!f}}if(v){var S=h.updateQueue;if(S===null){var E=new Set;E.add(u),h.updateQueue=E}else S.add(u);if((h.mode&2)==0){if(h.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var w=Zl(-1,1);w.tag=2,Ql(l,w)}l.lanes|=1;break e}c=void 0,l=e;var T=s.pingCache;if(T===null?(T=s.pingCache=new kne,c=new Set,T.set(u,c)):(c=T.get(u),c===void 0&&(c=new Set,T.set(u,c))),!c.has(l)){c.add(l);var C=Yne.bind(null,s,u,l);u.then(C,C)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Gd(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Yr!==5&&(Yr=2),c=DS(c,l),h=a;do{switch(h.tag){case 3:s=c,h.flags|=4096,e&=-e,h.lanes|=e;var P=h8(h,s,e);R6(h,P);break e;case 1:s=c;var R=h.type,A=h.stateNode;if((h.flags&64)==0&&(typeof R.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Vo===null||!Vo.has(A)))){h.flags|=4096,e&=-e,h.lanes|=e;var L=p8(h,s,e);R6(h,L);break e}}h=h.return}while(h!==null)}P8(n)}catch(k){e=k,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(1)}function M8(){var t=$1.current;return $1.current=z1,t===null?z1:t}function _m(t,e){var n=Rt;Rt|=16;var i=M8();Ai===t&&ci===e||gf(t,e);do try{Hne();break}catch(o){C8(t,o)}while(1);if(gS(),Rt=n,$1.current=i,Rr!==null)throw Error(Ue(261));return Ai=null,ci=0,Yr}function Hne(){for(;Rr!==null;)A8(Rr)}function zne(){for(;Rr!==null&&!Sne();)A8(Rr)}function A8(t){var e=I8(t.alternate,t,Eu);t.memoizedProps=t.pendingProps,e===null?P8(t):Rr=e,VS.current=null}function P8(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)==0){if(n=One(n,e,Eu),n!==null){Rr=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Eu&1073741824)!=0||(n.mode&4)==0){for(var i=0,o=n.child;o!==null;)i|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=i}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=Nne(e),n!==null){n.flags&=2047,Rr=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Rr=e;return}Rr=e=t}while(e!==null);Yr===0&&(Yr=5)}function wu(t){var e=af();return vu(99,Gne.bind(null,t,e)),null}function Gne(t,e){do ic();while(mm!==null);if((Rt&48)!=0)throw Error(Ue(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null;var i=n.lanes|n.childLanes,o=i,s=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-Wl(s),u=1<<c;o[c]=0,a[c]=-1,l[c]=-1,s&=~u}if(Da!==null&&(i&24)==0&&Da.has(t)&&Da.delete(t),t===Ai&&(Rr=Ai=null,ci=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){if(o=Rt,Rt|=32,VS.current=null,iS=p1,a=e6(),eS(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&u.rangeCount!==0){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var d=0,f=-1,h=-1,v=0,m=0,_=a,S=null;t:for(;;){for(var E;_!==l||s!==0&&_.nodeType!==3||(f=d+s),_!==c||u!==0&&_.nodeType!==3||(h=d+u),_.nodeType===3&&(d+=_.nodeValue.length),(E=_.firstChild)!==null;)S=_,_=E;for(;;){if(_===a)break t;if(S===l&&++v===s&&(f=d),S===c&&++m===u&&(h=d),(E=_.nextSibling)!==null)break;_=S,S=_.parentNode}_=E}l=f===-1||h===-1?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;sS={focusedElem:a,selectionRange:l},p1=!1,ym=null,X1=!1,it=i;do try{$ne()}catch(k){if(it===null)throw Error(Ue(330));sc(it,k),it=it.nextEffect}while(it!==null);ym=null,it=i;do try{for(a=t;it!==null;){var w=it.flags;if(w&16&&Np(it.stateNode,""),w&128){var T=it.alternate;if(T!==null){var C=T.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(w&1038){case 2:b8(it),it.flags&=-3;break;case 6:b8(it),it.flags&=-3,BS(it.alternate,it);break;case 1024:it.flags&=-1025;break;case 1028:it.flags&=-1025,BS(it.alternate,it);break;case 4:BS(it.alternate,it);break;case 8:l=it,E8(a,l);var P=l.alternate;y8(l),P!==null&&y8(P)}it=it.nextEffect}}catch(k){if(it===null)throw Error(Ue(330));sc(it,k),it=it.nextEffect}while(it!==null);if(C=sS,T=e6(),w=C.focusedElem,a=C.selectionRange,T!==w&&w&&w.ownerDocument&&QO(w.ownerDocument.documentElement,w)){for(a!==null&&eS(w)&&(T=a.start,C=a.end,C===void 0&&(C=T),"selectionStart"in w?(w.selectionStart=T,w.selectionEnd=Math.min(C,w.value.length)):(C=(T=w.ownerDocument||document)&&T.defaultView||window,C.getSelection&&(C=C.getSelection(),l=w.textContent.length,P=Math.min(a.start,l),a=a.end===void 0?P:Math.min(a.end,l),!C.extend&&P>a&&(l=a,a=P,P=l),l=ZO(w,P),s=ZO(w,a),l&&s&&(C.rangeCount!==1||C.anchorNode!==l.node||C.anchorOffset!==l.offset||C.focusNode!==s.node||C.focusOffset!==s.offset)&&(T=T.createRange(),T.setStart(l.node,l.offset),C.removeAllRanges(),P>a?(C.addRange(T),C.extend(s.node,s.offset)):(T.setEnd(s.node,s.offset),C.addRange(T)))))),T=[],C=w;C=C.parentNode;)C.nodeType===1&&T.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<T.length;w++)C=T[w],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}p1=!!iS,sS=iS=null,t.current=n,it=i;do try{for(w=t;it!==null;){var R=it.flags;if(R&36&&Une(w,it.alternate,it),R&128){T=void 0;var A=it.ref;if(A!==null){var L=it.stateNode;switch(it.tag){case 5:T=L;break;default:T=L}typeof A=="function"?A(T):A.current=T}}it=it.nextEffect}}catch(k){if(it===null)throw Error(Ue(330));sc(it,k),it=it.nextEffect}while(it!==null);it=null,Cne(),Rt=o}else t.current=n;if(tc)tc=!1,mm=t,gm=e;else for(it=i;it!==null;)e=it.nextEffect,it.nextEffect=null,it.flags&8&&(R=it,R.sibling=null,R.stateNode=null),it=e;if(i=t.pendingLanes,i===0&&(Vo=null),i===1?t===XS?vm++:(vm=0,XS=t):vm=0,n=n.stateNode,gu&&typeof gu.onCommitFiberRoot=="function")try{gu.onCommitFiberRoot(uS,n,void 0,(n.current.flags&64)==64)}catch{}if(js(t,ai()),q1)throw q1=!1,t=qS,qS=null,t;return(Rt&8)!=0||Fo(),null}function $ne(){for(;it!==null;){var t=it.alternate;X1||ym===null||((it.flags&8)!=0?bO(it,ym)&&(X1=!0):it.tag===13&&jne(t,it)&&bO(it,ym)&&(X1=!0));var e=it.flags;(e&256)!=0&&Fne(t,it),(e&512)==0||tc||(tc=!0,tm(97,function(){return ic(),null})),it=it.nextEffect}}function ic(){if(gm!==90){var t=97<gm?97:gm;return gm=90,vu(t,qne)}return!1}function Wne(t,e){YS.push(e,t),tc||(tc=!0,tm(97,function(){return ic(),null}))}function R8(t,e){KS.push(e,t),tc||(tc=!0,tm(97,function(){return ic(),null}))}function qne(){if(mm===null)return!1;var t=mm;if(mm=null,(Rt&48)!=0)throw Error(Ue(331));var e=Rt;Rt|=32;var n=KS;KS=[];for(var i=0;i<n.length;i+=2){var o=n[i],s=n[i+1],a=o.destroy;if(o.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(Ue(330));sc(s,c)}}for(n=YS,YS=[],i=0;i<n.length;i+=2){o=n[i],s=n[i+1];try{var l=o.create;o.destroy=l()}catch(c){if(s===null)throw Error(Ue(330));sc(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return Rt=e,Fo(),!0}function L8(t,e,n){e=DS(n,e),e=h8(t,e,1),Ql(t,e),e=cs(),t=J1(t,1),t!==null&&(h1(t,1,e),js(t,e))}function sc(t,e){if(t.tag===3)L8(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){L8(n,t,e);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vo===null||!Vo.has(i))){t=DS(e,t);var o=p8(n,t,1);if(Ql(n,o),o=cs(),n=J1(n,1),n!==null)h1(n,1,o),js(n,o);else if(typeof i.componentDidCatch=="function"&&(Vo===null||!Vo.has(i)))try{i.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Yne(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&n,Ai===t&&(ci&n)===n&&(Yr===4||Yr===3&&(ci&62914560)===ci&&500>ai()-$S?gf(t,0):zS|=n),js(t,e)}function Kne(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)==0?e=1:(e&4)==0?e=af()===99?1:2:(Fa===0&&(Fa=ff),e=Xd(62914560&~Fa),e===0&&(e=4194304))),n=cs(),t=J1(t,e),t!==null&&(h1(t,e,n),js(t,n))}var I8;I8=function(t,e,n){var i=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)ho=!0;else if((n&i)!=0)ho=(t.flags&16384)!=0;else{switch(ho=!1,e.tag){case 3:r8(e),xS();break;case 5:U6(e);break;case 1:Gi(e.type)&&C1(e);break;case 4:bS(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var o=e.type._context;ar(P1,o._currentValue),o._currentValue=i;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!=0?i8(t,e,n):(ar(lr,lr.current&1),e=ka(t,e,n),e!==null?e.sibling:null);ar(lr,lr.current&1);break;case 19:if(i=(n&e.childLanes)!=0,(t.flags&64)!=0){if(i)return c8(t,e,n);e.flags|=64}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ar(lr,lr.current),i)break;return null;case 23:case 24:return e.lanes=0,LS(t,e,n)}return ka(t,e,n)}else ho=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=of(e,oi.current),cf(e,n),o=CS(null,e,i,t,o,n),e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(i)){var s=!0;C1(e)}else s=!1;e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,yS(e);var a=i.getDerivedStateFromProps;typeof a=="function"&&I1(e,i,a,t),o.updater=O1,e.stateNode=o,o._reactInternals=e,_S(e,i,t,n),e=OS(null,e,i,!0,s,n)}else e.tag=0,Wi(null,e,o,n),e=e.child;return e;case 16:o=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=o._init,o=s(o._payload),e.type=o,s=e.tag=Jne(o),t=fo(o,t),s){case 0:e=IS(null,e,o,t,n);break e;case 1:e=n8(null,e,o,t,n);break e;case 11:e=Z6(null,e,o,t,n);break e;case 14:e=Q6(null,e,o,fo(o.type,t),i,n);break e}throw Error(Ue(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:fo(i,o),IS(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:fo(i,o),n8(t,e,i,o,n);case 3:if(r8(e),i=e.updateQueue,t===null||i===null)throw Error(Ue(282));if(i=e.pendingProps,o=e.memoizedState,o=o!==null?o.element:null,P6(t,e),nm(e,i,null,n),i=e.memoizedState.element,i===o)xS(),e=ka(t,e,n);else{if(o=e.stateNode,(s=o.hydrate)&&(ec=tf(e.stateNode.containerInfo.firstChild),Na=e,s=jo=!0),s){if(t=o.mutableSourceEagerHydrationData,t!=null)for(o=0;o<t.length;o+=2)s=t[o],s._workInProgressVersionPrimary=t[o+1],df.push(s);for(n=F6(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Wi(t,e,i,n),xS();e=e.child}return e;case 5:return U6(e),t===null&&wS(e),i=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,a=o.children,oS(i,o)?a=null:s!==null&&oS(i,s)&&(e.flags|=16),t8(t,e),Wi(t,e,a,n),e.child;case 6:return t===null&&wS(e),null;case 13:return i8(t,e,n);case 4:return bS(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=D1(e,null,i,n):Wi(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:fo(i,o),Z6(t,e,i,o,n);case 7:return Wi(t,e,e.pendingProps,n),e.child;case 8:return Wi(t,e,e.pendingProps.children,n),e.child;case 12:return Wi(t,e,e.pendingProps.children,n),e.child;case 10:e:{i=e.type._context,o=e.pendingProps,a=e.memoizedProps,s=o.value;var l=e.type._context;if(ar(P1,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=Ds(l,s)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===o.children&&!zi.current){e=ka(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var u=c.firstContext;u!==null;){if(u.context===i&&(u.observedBits&s)!=0){l.tag===1&&(u=Zl(-1,n&-n),u.tag=2,Ql(l,u)),l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),A6(l.return,n),c.lanes|=n;break}u=u.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Wi(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,s=e.pendingProps,i=s.children,cf(e,n),o=Fs(o,s.unstable_observedBits),i=i(o),e.flags|=1,Wi(t,e,i,n),e.child;case 14:return o=e.type,s=fo(o,e.pendingProps),s=fo(o.type,s),Q6(t,e,o,s,i,n);case 15:return e8(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:fo(i,o),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Gi(i)?(t=!0,C1(e)):t=!1,cf(e,n),N6(e,i,o),_S(e,i,o,n),OS(null,e,i,!0,t,n);case 19:return c8(t,e,n);case 23:return LS(t,e,n);case 24:return LS(t,e,n)}throw Error(Ue(156,e.tag))};function Xne(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(t,e,n,i){return new Xne(t,e,n,i)}function QS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jne(t){if(typeof t=="function")return QS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===e1)return 11;if(t===n1)return 14}return 2}function oc(t,e){var n=t.alternate;return n===null?(n=Bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Q1(t,e,n,i,o,s){var a=2;if(i=t,typeof t=="function")QS(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Vl:return vf(n.children,o,s,e);case ZI:a=8,o|=16;break;case cx:a=8,o|=1;break;case Rp:return t=Bs(12,n,e,o|8),t.elementType=Rp,t.type=Rp,t.lanes=s,t;case Lp:return t=Bs(13,n,e,o),t.type=Lp,t.elementType=Lp,t.lanes=s,t;case t1:return t=Bs(19,n,e,o),t.elementType=t1,t.lanes=s,t;case mx:return e3(n,o,s,e);case gx:return t=Bs(24,n,e,o),t.elementType=gx,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ux:a=10;break e;case dx:a=9;break e;case e1:a=11;break e;case n1:a=14;break e;case fx:a=16,i=null;break e;case hx:a=22;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=Bs(a,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function vf(t,e,n,i){return t=Bs(7,t,i,e),t.lanes=n,t}function e3(t,e,n,i){return t=Bs(23,t,i,e),t.elementType=mx,t.lanes=n,t}function t3(t,e,n){return t=Bs(6,t,null,e),t.lanes=n,t}function n3(t,e,n){return e=Bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zne(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Hx(0),this.expirationTimes=Hx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hx(0),this.mutableSourceEagerHydrationData=null}function Qne(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ey(t,e,n,i){var o=e.current,s=cs(),a=nc(o);e:if(n){n=n._reactInternals;t:{if(hu(n)!==n||n.tag!==1)throw Error(Ue(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(Ue(171))}if(n.tag===1){var c=n.type;if(Gi(c)){n=y6(n,c,l);break e}}n=l}else n=Xl;return e.context===null?e.context=n:e.pendingContext=n,e=Zl(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),Ql(o,e),rc(o,a,s),a}function r3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i3(t,e){O8(t,e),(t=t.alternate)&&O8(t,e)}function ere(){return null}function s3(t,e,n){var i=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Zne(t,e,n!=null&&n.hydrate===!0),e=Bs(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,yS(e),t[nf]=n.current,a6(t.nodeType===8?t.parentNode:t),i)for(t=0;t<i.length;t++){e=i[t];var o=e._getVersion;o=o(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,o]:n.mutableSourceEagerHydrationData.push(e,o)}this._internalRoot=n}s3.prototype.render=function(t){ey(t,this._internalRoot,null,null)};s3.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ey(null,t,null,function(){e[nf]=null})};function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tre(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new s3(t,0,e?{hydrate:!0}:void 0)}function ty(t,e,n,i,o){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof o=="function"){var l=o;o=function(){var u=r3(a);l.call(u)}}ey(e,a,t,o)}else{if(s=n._reactRootContainer=tre(n,i),a=s._internalRoot,typeof o=="function"){var c=o;o=function(){var u=r3(a);c.call(u)}}T8(function(){ey(e,a,t,o)})}return r3(a)}EO=function(t){if(t.tag===13){var e=cs();rc(t,4,e),i3(t,4)}};Dx=function(t){if(t.tag===13){var e=cs();rc(t,67108864,e),i3(t,67108864)}};wO=function(t){if(t.tag===13){var e=cs(),n=nc(t);rc(t,n,e),i3(t,n)}};xO=function(t,e){return e()};Px=function(t,e,n){switch(e){case"input":if(bx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=S1(i);if(!o)throw Error(Ue(90));tO(i),bx(i,o)}}}break;case"textarea":oO(t,n);break;case"select":e=n.value,e!=null&&$d(t,!!n.multiple,e,!1)}};Rx=S8;mO=function(t,e,n,i,o){var s=Rt;Rt|=4;try{return vu(98,t.bind(null,e,n,i,o))}finally{Rt=s,Rt===0&&(pf(),Fo())}};Lx=function(){(Rt&49)==0&&(Vne(),ic())};gO=function(t,e){var n=Rt;Rt|=2;try{return t(e)}finally{Rt=n,Rt===0&&(pf(),Fo())}};function N8(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(e))throw Error(Ue(200));return Qne(t,e,null,n)}var nre={Events:[em,rf,S1,hO,pO,ic,{current:!1}]},Em={findFiberByHostInstance:pu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rre={bundleType:Em.bundleType,version:Em.version,rendererPackageName:Em.rendererPackageName,rendererConfig:Em.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_O(t),t===null?null:t.stateNode},findFiberByHostInstance:Em.findFiberByHostInstance||ere,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ny.isDisabled&&ny.supportsFiber)try{uS=ny.inject(rre),gu=ny}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nre;ks.createPortal=N8;ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):Error(Ue(268,Object.keys(t)));return t=_O(e),t=t===null?null:t.stateNode,t};ks.flushSync=function(t,e){var n=Rt;if((n&48)!=0)return t(e);Rt|=1;try{if(t)return vu(99,t.bind(null,e))}finally{Rt=n,Fo()}};ks.hydrate=function(t,e,n){if(!bm(e))throw Error(Ue(200));return ty(null,t,e,!0,n)};ks.render=function(t,e,n){if(!bm(e))throw Error(Ue(200));return ty(null,t,e,!1,n)};ks.unmountComponentAtNode=function(t){if(!bm(t))throw Error(Ue(40));return t._reactRootContainer?(T8(function(){ty(null,null,t,!1,function(){t._reactRootContainer=null,t[nf]=null})}),!0):!1};ks.unstable_batchedUpdates=S8;ks.unstable_createPortal=function(t,e){return N8(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ks.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!bm(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return ty(t,e,n,!1,i)};ks.version="17.0.2";function k8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k8)}catch(t){console.error(t)}}k8(),sx.exports=ks;var ire=sx.exports,D8={exports:{}},sre=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i.bindMultiple(t,e,n),i},ore=function(t,e,n){for(var i=this,o=0;o<t.length;++o)i.bindSingle(t[o],e,n)},are=function(t,e){var n=this;return n.bind(t,function(){},e)},lre=function(t,e){var n=this;return n.directMap[t+":"+e]&&n.directMap[t+":"+e]({},t),this},cre=function(){var t=this;return t.callbacks={},t.directMap={},this},ure=function(t,e){if((" "+e.className+" ").indexOf(" combokeys ")>-1)return!1;var n=e.tagName.toLowerCase();return n==="input"||n==="select"||n==="textarea"||e.isContentEditable},o3=function(t){return t==="shift"||t==="ctrl"||t==="alt"||t==="meta"},dre=function(t,e,n){var i=this,o,s,a={},l=0,c=!1,u,d;for(o=i.getMatches(t,e,n),s=0;s<o.length;++s)o[s].seq&&(l=Math.max(l,o[s].level));for(s=0;s<o.length;++s){if(o[s].seq){if(o[s].level!==l)continue;c=!0,a[o[s].seq]=1,i.fireCallback(o[s].callback,n,o[s].combo,o[s].seq);continue}c||i.fireCallback(o[s].callback,n,o[s].combo)}d=n.type==="keypress"&&i.ignoreNextKeypress,u=o3,n.type===i.nextExpectedAction&&!u(t)&&!d&&i.resetSequences(a),i.ignoreNextKeypress=c&&n.type==="keydown"},wm={exports:{}};wm.exports=F8;wm.exports.on=F8;wm.exports.off=fre;function F8(t,e,n,i){return!t.addEventListener&&(e="on"+e),(t.addEventListener||t.attachEvent).call(t,e,n,i),n}function fre(t,e,n,i){return!t.removeEventListener&&(e="on"+e),(t.removeEventListener||t.detachEvent).call(t,e,n,i),n}var a3={exports:{}};(function(t){t.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var e=1;e<20;++e)t.exports[111+e]="f"+e;for(e=0;e<=9;++e)t.exports[e+96]=e})(a3);var hre={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},U8=function(t){var e,n;if(e=a3.exports,n=hre,t.type==="keypress"){var i=String.fromCharCode(t.which);return t.shiftKey||(i=i.toLowerCase()),i}return e[t.which]?e[t.which]:n[t.which]?n[t.which]:String.fromCharCode(t.which).toLowerCase()},pre=function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e},mre=function(t){var e=this,n,i;typeof t.which!="number"&&(t.which=t.keyCode),n=U8;var o=n(t);if(!!o){if(t.type==="keyup"&&e.ignoreNextKeyup===o){e.ignoreNextKeyup=!1;return}i=pre,e.handleKey(o,i(t),t)}},gre=function(){var t=this,e=wm.exports,n=t.element;t.eventHandler=mre.bind(t),e(n,"keypress",t.eventHandler),e(n,"keydown",t.eventHandler),e(n,"keyup",t.eventHandler)},vre=function(t,e,n,i,o){var s=this;s.directMap[t+":"+n]=e,t=t.replace(/\s+/g," ");var a=t.split(" "),l;if(a.length>1){s.bindSequence(t,a,e,n);return}l=s.getKeyInfo(t,n),s.callbacks[l.key]=s.callbacks[l.key]||[],s.getMatches(l.key,l.modifiers,{type:l.action},i,t,o),s.callbacks[l.key][i?"unshift":"push"]({callback:e,modifiers:l.modifiers,action:l.action,seq:i,level:o,combo:t})},yre=function(t){return t==="+"?["+"]:t.split("+")},_re={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},bre={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},Ere=function(t,e){var n=this,i,o,s,a,l=[],c,u,d;for(i=yre,o=i(t),c=_re,u=bre,d=o3,a=0;a<o.length;++a)s=o[a],c[s]&&(s=c[s]),e&&e!=="keypress"&&u[s]&&(s=u[s],l.push("shift")),d(s)&&l.push(s);return e=n.pickBestAction(s,l,e),{key:s,modifiers:l,action:e}},wre=function(t,e,n){var i=this;return n||(n=i.getReverseMap()[t]?"keydown":"keypress"),n==="keypress"&&e.length&&(n="keydown"),n},xre=function(){var t=this,e=t.constructor,n;if(!e.REVERSE_MAP){e.REVERSE_MAP={},n=a3.exports;for(var i in n)i>95&&i<112||n.hasOwnProperty(i)&&(e.REVERSE_MAP[n[i]]=i)}return e.REVERSE_MAP},Sre=function(t,e){return t.sort().join(",")===e.sort().join(",")},Tre=function(t,e,n,i,o,s){var a=this,l,c,u=[],d=n.type,f,h;if(d==="keypress"&&!(n.code&&n.code.slice(0,5)==="Arrow")){var v=a.callbacks["any-character"]||[];v.forEach(function(S){u.push(S)})}if(!a.callbacks[t])return u;for(f=o3,d==="keyup"&&f(t)&&(e=[t]),l=0;l<a.callbacks[t].length;++l)if(c=a.callbacks[t][l],!(!i&&c.seq&&a.sequenceLevels[c.seq]!==c.level)&&d===c.action&&(h=Sre,d==="keypress"&&!n.metaKey&&!n.ctrlKey||h(e,c.modifiers))){var m=!i&&c.combo===o,_=i&&c.seq===i&&c.level===s;(m||_)&&a.callbacks[t].splice(l,1),u.push(c)}return u},Cre=function(t){var e=this;t=t||{};var n=!1,i;for(i in e.sequenceLevels){if(t[i]){n=!0;continue}e.sequenceLevels[i]=0}n||(e.nextExpectedAction=!1)},Mre=function(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1},Are=function(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0},Pre=function(t,e,n,i){var o=this,s,a;o.stopCallback(e,e.target||e.srcElement,n,i)||t(e,n)===!1&&(s=Mre,s(e),a=Are,a(e))},Rre=function(t,e,n,i){var o=this;o.sequenceLevels[t]=0;function s(d){return function(){o.nextExpectedAction=d,++o.sequenceLevels[t],o.resetSequenceTimer()}}function a(d){var f;o.fireCallback(n,d,t),i!=="keyup"&&(f=U8,o.ignoreNextKeyup=f(d)),setTimeout(function(){o.resetSequences()},10)}for(var l=0;l<e.length;++l){var c=l+1===e.length,u=c?a:s(i||o.getKeyInfo(e[l+1]).action);o.bindSingle(e[l],u,i,t,l)}},Lre=function(){var t=this;clearTimeout(t.resetTimer),t.resetTimer=setTimeout(function(){t.resetSequences()},1e3)},l3=wm.exports.off,Ire=function(){var t=this,e=t.element;l3(e,"keypress",t.eventHandler),l3(e,"keydown",t.eventHandler),l3(e,"keyup",t.eventHandler)},Ore=function(){var t=this;t.instances.forEach(function(e){e.reset()})};(function(t){t.exports=function(e){var n=this,i=n.constructor;return n.callbacks={},n.directMap={},n.sequenceLevels={},n.resetTimer,n.ignoreNextKeyup=!1,n.ignoreNextKeypress=!1,n.nextExpectedAction=!1,n.element=e,n.addEvents(),i.instances.push(n),n},t.exports.prototype.bind=sre,t.exports.prototype.bindMultiple=ore,t.exports.prototype.unbind=are,t.exports.prototype.trigger=lre,t.exports.prototype.reset=cre,t.exports.prototype.stopCallback=ure,t.exports.prototype.handleKey=dre,t.exports.prototype.addEvents=gre,t.exports.prototype.bindSingle=vre,t.exports.prototype.getKeyInfo=Ere,t.exports.prototype.pickBestAction=wre,t.exports.prototype.getReverseMap=xre,t.exports.prototype.getMatches=Tre,t.exports.prototype.resetSequences=Cre,t.exports.prototype.fireCallback=Pre,t.exports.prototype.bindSequence=Rre,t.exports.prototype.resetSequenceTimer=Lre,t.exports.prototype.detach=Ire,t.exports.instances=[],t.exports.reset=Ore,t.exports.REVERSE_MAP=null})(D8);var Nre=D8.exports,kre=function(t){var e={},n=t.stopCallback;return t.stopCallback=function(i,o,s,a){return e[s]||e[a]?!1:n(i,o,s)},t.bindGlobal=function(i,o,s){if(this.bind(i,o,s),i instanceof Array){for(var a=0;a<i.length;a++)e[i[a]]=!0;return}e[i]=!0},t};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c3=function(t,e){return c3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},c3(t,e)};function xm(t,e){c3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fe=function(){return Fe=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fe.apply(this,arguments)};function Dre(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Sm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function j8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,s=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function cr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j8(arguments[e]));return t}var yf;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(yf||(yf={}));var Ho;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(Ho||(Ho={}));(function(t){function e(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e})(Ho||(Ho={}));var xu;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(xu||(xu={}));(function(t){function e(n){return n>=200&&n<300?t.Success:n===429?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}t.fromHttpCode=e})(xu||(xu={}));function B8(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return ac(t,Error)}}function V8(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}function H8(t){return Object.prototype.toString.call(t)==="[object DOMError]"}function Fre(t){return Object.prototype.toString.call(t)==="[object DOMException]"}function _f(t){return Object.prototype.toString.call(t)==="[object String]"}function Tm(t){return t===null||typeof t!="object"&&typeof t!="function"}function ry(t){return Object.prototype.toString.call(t)==="[object Object]"}function u3(t){return typeof Event!="undefined"&&ac(t,Event)}function z8(t){return typeof Element!="undefined"&&ac(t,Element)}function Ure(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function d3(t){return Boolean(t&&t.then&&typeof t.then=="function")}function jre(t){return ry(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ac(t,e){try{return t instanceof e}catch{return!1}}function iy(t){try{for(var e=t,n=5,i=80,o=[],s=0,a=0,l=" > ",c=l.length,u=void 0;e&&s++<n&&(u=Bre(e),!(u==="html"||s>1&&a+o.length*c+u.length>=i));)o.push(u),a+=u.length,e=e.parentNode;return o.reverse().join(l)}catch{return"<unknown>"}}function Bre(t){var e=t,n=[],i,o,s,a,l;if(!e||!e.tagName)return"";if(n.push(e.tagName.toLowerCase()),e.id&&n.push("#"+e.id),i=e.className,i&&_f(i))for(o=i.split(/\s+/),l=0;l<o.length;l++)n.push("."+o[l]);var c=["type","name","title","alt"];for(l=0;l<c.length;l++)s=c[l],a=e.getAttribute(s),a&&n.push("["+s+'="'+a+'"]');return n.join("")}var Vre=Object.setPrototypeOf||({__proto__:[]}instanceof Array?Hre:zre);function Hre(t,e){return t.__proto__=e,t}function zre(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}var Kr=function(t){xm(e,t);function e(n){var i=this.constructor,o=t.call(this,n)||this;return o.message=n,o.name=i.prototype.constructor.name,Vre(o,i.prototype),o}return e}(Error),Gre=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Cm="Invalid Dsn",G8=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return t.prototype.toString=function(e){e===void 0&&(e=!1);var n=this,i=n.host,o=n.path,s=n.pass,a=n.port,l=n.projectId,c=n.protocol,u=n.user;return c+"://"+u+(e&&s?":"+s:"")+("@"+i+(a?":"+a:"")+"/"+(o&&o+"/")+l)},t.prototype._fromString=function(e){var n=Gre.exec(e);if(!n)throw new Kr(Cm);var i=j8(n.slice(1),6),o=i[0],s=i[1],a=i[2],l=a===void 0?"":a,c=i[3],u=i[4],d=u===void 0?"":u,f=i[5],h="",v=f,m=v.split("/");if(m.length>1&&(h=m.slice(0,-1).join("/"),v=m.pop()),v){var _=v.match(/^\d+/);_&&(v=_[0])}this._fromComponents({host:c,pass:l,path:h,projectId:v,port:d,protocol:o,user:s})},t.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(n){if(!e[n])throw new Kr(Cm+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new Kr(Cm+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Kr(Cm+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Kr(Cm+": Invalid port "+this.port)},t}(),$re=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var n=0;n<this._inner.length;n++){var i=this._inner[n];if(i===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var n=0;n<this._inner.length;n++)if(this._inner[n]===e){this._inner.splice(n,1);break}},t}(),f3="<anonymous>";function lc(t){try{return!t||typeof t!="function"?f3:t.name||f3}catch{return f3}}function Mm(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}function $8(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var o=t[i];try{n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function h3(t,e){return _f(t)?Ure(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}function jr(t,e,n){if(e in t){var i=t[e],o=n(i);if(typeof o=="function")try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:i}})}catch{}t[e]=o}}function Wre(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function W8(t){if(B8(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(u3(t)){var o=t,s={};s.type=o.type;try{s.target=z8(o.target)?iy(o.target):Object.prototype.toString.call(o.target)}catch{s.target="<unknown>"}try{s.currentTarget=z8(o.currentTarget)?iy(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch{s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&ac(t,CustomEvent)&&(s.detail=o.detail);for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o);return s}return t}function qre(t){return~-encodeURI(t).split(/%..|./).length}function Yre(t){return qre(JSON.stringify(t))}function q8(t,e,n){e===void 0&&(e=3),n===void 0&&(n=100*1024);var i=Am(t,e);return Yre(i)>n?q8(t,e-1,n):i}function Kre(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var n=Y8(t);return Tm(n)?n:e}function Y8(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":jre(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+lc(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}function K8(t,e,n,i){if(n===void 0&&(n=1/0),i===void 0&&(i=new $re),n===0)return Kre(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var o=Y8(e,t);if(Tm(o))return o;var s=W8(e),a=Array.isArray(e)?[]:{};if(i.memoize(e))return"[Circular ~]";for(var l in s)!Object.prototype.hasOwnProperty.call(s,l)||(a[l]=K8(l,s[l],n-1,i));return i.unmemoize(e),a}function Am(t,e){try{return JSON.parse(JSON.stringify(t,function(n,i){return K8(n,i,e)}))}catch{return"**non-serializable**"}}function Xre(t,e){e===void 0&&(e=40);var n=Object.keys(W8(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Mm(n[0],e);for(var i=n.length;i>0;i--){var o=n.slice(0,i).join(", ");if(!(o.length>e))return i===n.length?o:Mm(o,e)}return""}function sy(t){var e,n;if(ry(t)){var i=t,o={};try{for(var s=Sm(Object.keys(i)),a=s.next();!a.done;a=s.next()){var l=a.value;typeof i[l]!="undefined"&&(o[l]=sy(i[l]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(sy):t}function p3(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Jre(t,e){return t.require(e)}var Zre={};function Lr(){return p3()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Zre}function bf(){var t=Lr(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var i=function(o){for(var s=o.toString(16);s.length<4;)s="0"+s;return s};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,a=o==="x"?s:s&3|8;return a.toString(16)})}function m3(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function Su(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function oy(t){var e=Lr(),n=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var i=e.console,o={};n.forEach(function(a){a in e.console&&i[a].__sentry_original__&&(o[a]=i[a],i[a]=i[a].__sentry_original__)});var s=t();return Object.keys(o).forEach(function(a){i[a]=o[a]}),s}function g3(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function Ef(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch{}}function Qre(){try{return document.location.href}catch{return""}}var X8=60*1e3;function eie(t,e){if(!e)return X8;var n=parseInt(""+e,10);if(!isNaN(n))return n*1e3;var i=Date.parse(""+e);return isNaN(i)?X8:i-t}var Tu=Lr(),v3="Sentry Logger ",tie=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||oy(function(){Tu.console.log(v3+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||oy(function(){Tu.console.warn(v3+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||oy(function(){Tu.console.error(v3+"[Error]: "+e.join(" "))})},t}();Tu.__SENTRY__=Tu.__SENTRY__||{};var Bn=Tu.__SENTRY__.logger||(Tu.__SENTRY__.logger=new tie);function y3(){if(!("fetch"in Lr()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function J8(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function nie(){if(!y3())return!1;var t=Lr();if(J8(t.fetch))return!0;var e=!1,n=t.document;if(n&&typeof n.createElement=="function")try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(e=J8(i.contentWindow.fetch)),n.head.removeChild(i)}catch(o){Bn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}return e}function rie(){if(!y3())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function iie(){var t=Lr(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}var ir=Lr(),Pm={},Z8={};function sie(t){if(!Z8[t])switch(Z8[t]=!0,t){case"console":oie();break;case"dom":fie();break;case"xhr":uie();break;case"fetch":aie();break;case"history":die();break;case"error":pie();break;case"unhandledrejection":mie();break;default:Bn.warn("unknown instrumentation type:",t)}}function Cu(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Pm[t.type]=Pm[t.type]||[],Pm[t.type].push(t.callback),sie(t.type))}function ui(t,e){var n,i;if(!(!t||!Pm[t]))try{for(var o=Sm(Pm[t]||[]),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e)}catch(l){Bn.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+lc(a)+`
Error: `+l)}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function oie(){"console"in ir&&["debug","info","warn","error","log","assert"].forEach(function(t){t in ir.console&&jr(ir.console,t,function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];ui("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,ir.console,n)}})})}function aie(){!nie()||jr(ir,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:lie(e),url:cie(e)},startTimestamp:Date.now()};return ui("fetch",Fe({},i)),t.apply(ir,e).then(function(o){return ui("fetch",Fe(Fe({},i),{endTimestamp:Date.now(),response:o})),o},function(o){throw ui("fetch",Fe(Fe({},i),{endTimestamp:Date.now(),error:o})),o})}})}function lie(t){return t===void 0&&(t=[]),"Request"in ir&&ac(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function cie(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in ir&&ac(t[0],Request)?t[0].url:String(t[0])}function uie(){if("XMLHttpRequest"in ir){var t=[],e=[],n=XMLHttpRequest.prototype;jr(n,"open",function(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=this,l=o[1];a.__sentry_xhr__={method:_f(o[0])?o[0].toUpperCase():o[0],url:o[1]},_f(l)&&a.__sentry_xhr__.method==="POST"&&l.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch{}try{var u=t.indexOf(a);if(u!==-1){t.splice(u);var d=e.splice(u)[0];a.__sentry_xhr__&&d[0]!==void 0&&(a.__sentry_xhr__.body=d[0])}}catch{}ui("xhr",{args:o,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?jr(a,"onreadystatechange",function(u){return function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return c(),u.apply(a,d)}}):a.addEventListener("readystatechange",c),i.apply(a,o)}}),jr(n,"send",function(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t.push(this),e.push(o),ui("xhr",{args:o,startTimestamp:Date.now(),xhr:this}),i.apply(this,o)}})}}var ay;function die(){if(!iie())return;var t=ir.onpopstate;ir.onpopstate=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ir.location.href,s=ay;if(ay=o,ui("history",{from:s,to:o}),t)return t.apply(this,n)};function e(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=i.length>2?i[2]:void 0;if(s){var a=ay,l=String(s);ay=l,ui("history",{from:a,to:l})}return n.apply(this,i)}}jr(ir.history,"pushState",e),jr(ir.history,"replaceState",e)}function fie(){"document"in ir&&(ir.document.addEventListener("click",ly("click",ui.bind(null,"dom")),!1),ir.document.addEventListener("keypress",b3(ui.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(t){var e=ir[t]&&ir[t].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(jr(e,"addEventListener",function(n){return function(i,o,s){return o&&o.handleEvent?(i==="click"&&jr(o,"handleEvent",function(a){return function(l){return ly("click",ui.bind(null,"dom"))(l),a.call(this,l)}}),i==="keypress"&&jr(o,"handleEvent",function(a){return function(l){return b3(ui.bind(null,"dom"))(l),a.call(this,l)}})):(i==="click"&&ly("click",ui.bind(null,"dom"),!0)(this),i==="keypress"&&b3(ui.bind(null,"dom"))(this)),n.call(this,i,o,s)}}),jr(e,"removeEventListener",function(n){return function(i,o,s){try{n.call(this,i,o.__sentry_wrapped__,s)}catch{}return n.call(this,i,o,s)}}))}))}var hie=1e3,_3=0,Rm,Q8;function ly(t,e,n){return n===void 0&&(n=!1),function(i){Rm=void 0,!(!i||Q8===i)&&(Q8=i,_3&&clearTimeout(_3),n?_3=setTimeout(function(){e({event:i,name:t})}):e({event:i,name:t}))}}function b3(t){return function(e){var n;try{n=e.target}catch{return}var i=n&&n.tagName;!i||i!=="INPUT"&&i!=="TEXTAREA"&&!n.isContentEditable||(Rm||ly("input",t)(e),clearTimeout(Rm),Rm=setTimeout(function(){Rm=void 0},hie))}}var E3=null;function pie(){E3=ir.onerror,ir.onerror=function(t,e,n,i,o){return ui("error",{column:i,error:o,line:n,msg:t,url:e}),E3?E3.apply(this,arguments):!1}}var w3=null;function mie(){w3=ir.onunhandledrejection,ir.onunhandledrejection=function(t){return ui("unhandledrejection",t),w3?w3.apply(this,arguments):!0}}var Ua;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Ua||(Ua={}));var qi=function(){function t(e){var n=this;this._state=Ua.PENDING,this._handlers=[],this._resolve=function(i){n._setResult(Ua.RESOLVED,i)},this._reject=function(i){n._setResult(Ua.REJECTED,i)},this._setResult=function(i,o){if(n._state===Ua.PENDING){if(d3(o)){o.then(n._resolve,n._reject);return}n._state=i,n._value=o,n._executeHandlers()}},this._attachHandler=function(i){n._handlers=n._handlers.concat(i),n._executeHandlers()},this._executeHandlers=function(){if(n._state!==Ua.PENDING){var i=n._handlers.slice();n._handlers=[],i.forEach(function(o){o.done||(n._state===Ua.RESOLVED&&o.onfulfilled&&o.onfulfilled(n._value),n._state===Ua.REJECTED&&o.onrejected&&o.onrejected(n._value),o.done=!0)})}};try{e(this._resolve,this._reject)}catch(i){this._reject(i)}}return t.resolve=function(e){return new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.all=function(e){return new t(function(n,i){if(!Array.isArray(e)){i(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){n([]);return}var o=e.length,s=[];e.forEach(function(a,l){t.resolve(a).then(function(c){s[l]=c,o-=1,o===0&&n(s)}).then(null,i)})})},t.prototype.then=function(e,n){var i=this;return new t(function(o,s){i._attachHandler({done:!1,onfulfilled:function(a){if(!e){o(a);return}try{o(e(a));return}catch(l){s(l);return}},onrejected:function(a){if(!n){s(a);return}try{o(n(a));return}catch(l){s(l);return}}})})},t.prototype.catch=function(e){return this.then(function(n){return n},e)},t.prototype.finally=function(e){var n=this;return new t(function(i,o){var s,a;return n.then(function(l){a=!1,s=l,e&&e()},function(l){a=!0,s=l,e&&e()}).then(function(){if(a){o(s);return}i(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),gie=function(){function t(e){this._limit=e,this._buffer=[]}return t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var n=this;return this.isReady()?(this._buffer.indexOf(e)===-1&&this._buffer.push(e),e.then(function(){return n.remove(e)}).then(null,function(){return n.remove(e).then(null,function(){})}),e):qi.reject(new Kr("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(e){var n=this._buffer.splice(this._buffer.indexOf(e),1)[0];return n},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var n=this;return new qi(function(i){var o=setTimeout(function(){e&&e>0&&i(!1)},e);qi.all(n._buffer).then(function(){clearTimeout(o),i(!0)}).then(null,function(){i(!0)})})},t}(),x3={nowSeconds:function(){return Date.now()/1e3}};function vie(){var t=Lr().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function yie(){try{var t=Jre(module,"perf_hooks");return t.performance}catch{return}}var S3=p3()?yie():vie(),eN=S3===void 0?x3:{nowSeconds:function(){return(S3.timeOrigin+S3.now())/1e3}},T3=x3.nowSeconds.bind(x3);eN.nowSeconds.bind(eN);(function(){var t=Lr().performance;if(!!t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()})();var cy=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=cr(e._breadcrumbs),n._tags=Fe({},e._tags),n._extra=Fe({},e._extra),n._contexts=Fe({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=cr(e._eventProcessors)),n},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(e){return this._tags=Fe(Fe({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,n){var i;return this._tags=Fe(Fe({},this._tags),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=Fe(Fe({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,n){var i;return this._extra=Fe(Fe({},this._extra),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,n){var i;return n===null?delete this._contexts[e]:this._contexts=Fe(Fe({},this._contexts),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,n,i,o,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(n=s)===null||n===void 0?void 0:n.transaction;if((o=(i=s)===null||i===void 0?void 0:i.spanRecorder)===null||o===void 0?void 0:o.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Fe(Fe({},this._tags),e._tags),this._extra=Fe(Fe({},this._extra),e._extra),this._contexts=Fe(Fe({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):ry(e)&&(e=e,this._tags=Fe(Fe({},this._tags),e.tags),this._extra=Fe(Fe({},this._extra),e.extra),this._contexts=Fe(Fe({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,n){var i=Fe({timestamp:T3()},e);return this._breadcrumbs=n!==void 0&&n>=0?cr(this._breadcrumbs,[i]).slice(-n):cr(this._breadcrumbs,[i]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,n){var i;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Fe(Fe({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Fe(Fe({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Fe(Fe({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Fe(Fe({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Fe({trace:this._span.getTraceContext()},e.contexts);var o=(i=this._span.transaction)===null||i===void 0?void 0:i.name;o&&(e.tags=Fe({transaction:o},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=cr(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(cr(tN(),this._eventProcessors),e,n)},t.prototype._notifyEventProcessors=function(e,n,i,o){var s=this;return o===void 0&&(o=0),new qi(function(a,l){var c=e[o];if(n===null||typeof c!="function")a(n);else{var u=c(Fe({},n),i);d3(u)?u.then(function(d){return s._notifyEventProcessors(e,d,i,o+1).then(a)}).then(null,l):s._notifyEventProcessors(e,u,i,o+1).then(a).then(null,l)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function tN(){var t=Lr();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function uy(t){tN().push(t)}var _ie=function(){function t(e){this.errors=0,this.sid=bf(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=yf.Ok,e&&this.update(e)}return t.prototype.update=function(e){e===void 0&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=e.sid.length===32?e.sid:bf()),e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),typeof e.duration=="number"?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===yf.Ok?this.update({status:yf.Exited}):this.update()},t.prototype.toJSON=function(){return sy({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:sy({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),C3=3,bie=100,Eie=100,M3=function(){function t(e,n,i){n===void 0&&(n=new cy),i===void 0&&(i=C3),this._version=i,this._stack=[{}],this.getStackTop().scope=n,this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=cy.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,n){var i=this._lastEventId=bf(),o=n;if(!n){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}o={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,Fe(Fe({},o),{event_id:i})),i},t.prototype.captureMessage=function(e,n,i){var o=this._lastEventId=bf(),s=i;if(!i){var a=void 0;try{throw new Error(e)}catch(l){a=l}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,n,Fe(Fe({},s),{event_id:o})),o},t.prototype.captureEvent=function(e,n){var i=this._lastEventId=bf();return this._invokeClient("captureEvent",e,Fe(Fe({},n),{event_id:i})),i},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,n){var i=this.getStackTop(),o=i.scope,s=i.client;if(!(!o||!s)){var a=s.getOptions&&s.getOptions()||{},l=a.beforeBreadcrumb,c=l===void 0?null:l,u=a.maxBreadcrumbs,d=u===void 0?bie:u;if(!(d<=0)){var f=T3(),h=Fe({timestamp:f},e),v=c?oy(function(){return c(h,n)}):h;v!==null&&o.addBreadcrumb(v,Math.min(d,Eie))}}},t.prototype.setUser=function(e){var n=this.getScope();n&&n.setUser(e)},t.prototype.setTags=function(e){var n=this.getScope();n&&n.setTags(e)},t.prototype.setExtras=function(e){var n=this.getScope();n&&n.setExtras(e)},t.prototype.setTag=function(e,n){var i=this.getScope();i&&i.setTag(e,n)},t.prototype.setExtra=function(e,n){var i=this.getScope();i&&i.setExtra(e,n)},t.prototype.setContext=function(e,n){var i=this.getScope();i&&i.setContext(e,n)},t.prototype.configureScope=function(e){var n=this.getStackTop(),i=n.scope,o=n.client;i&&o&&e(i)},t.prototype.run=function(e){var n=nN(this);try{e(this)}finally{nN(n)}},t.prototype.getIntegration=function(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Bn.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,n){return this._callExtensionMethod("startTransaction",e,n)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.startSession=function(e){this.endSession();var n=this.getStackTop(),i=n.scope,o=n.client,s=o&&o.getOptions()||{},a=s.release,l=s.environment,c=new _ie(Fe(Fe({release:a,environment:l},i&&{user:i.getUser()}),e));return i&&i.setSession(c),c},t.prototype.endSession=function(){var e=this.getStackTop(),n=e.scope,i=e.client;if(!!n){var o=n.getSession&&n.getSession();o&&(o.close(),i&&i.captureSession&&i.captureSession(o),n.setSession())}},t.prototype._invokeClient=function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.getStackTop(),a=s.scope,l=s.client;l&&l[e]&&(n=l)[e].apply(n,cr(i,[a]))},t.prototype._callExtensionMethod=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=dy(),s=o.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);Bn.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function dy(){var t=Lr();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function nN(t){var e=dy(),n=cc(e);return A3(e,t),n}function di(){var t=dy();return(!rN(t)||cc(t).isOlderThan(C3))&&A3(t,new M3),p3()?xie(t):cc(t)}function wie(){var t=dy().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}function xie(t){try{var e=wie();if(!e)return cc(t);if(!rN(e)||cc(e).isOlderThan(C3)){var n=cc(t).getStackTop();A3(e,new M3(n.client,cy.clone(n.scope)))}return cc(e)}catch{return cc(t)}}function rN(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function cc(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new M3),t.__SENTRY__.hub}function A3(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}function P3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=di();if(i&&i[t])return i[t].apply(i,cr(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function iN(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(i){n=i}return P3("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Sie(t){P3("configureScope",t)}function sN(t){P3("withScope",t)}var oN="7",aN=function(){function t(e){this.dsn=e,this._dsnObject=new G8(e)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,n=e.protocol?e.protocol+":":"",i=e.port?":"+e.port:"";return n+"//"+e.host+i+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,n){var i=this._dsnObject,o=["Sentry sentry_version="+oN];return o.push("sentry_client="+e+"/"+n),o.push("sentry_key="+i.user),i.pass&&o.push("sentry_secret="+i.pass),{"Content-Type":"application/json","X-Sentry-Auth":o.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var n=this._dsnObject,i=this.getBaseApiEndpoint()+"embed/error-page/",o=[];o.push("dsn="+n.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&o.push("name="+encodeURIComponent(e.user.name)),e.user.email&&o.push("email="+encodeURIComponent(e.user.email))}else o.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return o.length?i+"?"+o.join("&"):i},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){var n=this.getBaseApiEndpoint(),i=this._dsnObject;return""+n+i.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this._dsnObject,n={sentry_key:e.user,sentry_version:oN};return Wre(n)},t}(),lN=[];function Tie(t){var e=t.defaultIntegrations&&cr(t.defaultIntegrations)||[],n=t.integrations,i=[];if(Array.isArray(n)){var o=n.map(function(c){return c.name}),s=[];e.forEach(function(c){o.indexOf(c.name)===-1&&s.indexOf(c.name)===-1&&(i.push(c),s.push(c.name))}),n.forEach(function(c){s.indexOf(c.name)===-1&&(i.push(c),s.push(c.name))})}else typeof n=="function"?(i=n(e),i=Array.isArray(i)?i:[i]):i=cr(e);var a=i.map(function(c){return c.name}),l="Debug";return a.indexOf(l)!==-1&&i.push.apply(i,cr(i.splice(a.indexOf(l),1))),i}function Cie(t){lN.indexOf(t.name)===-1&&(t.setupOnce(uy,di),lN.push(t.name),Bn.log("Integration installed: "+t.name))}function Mie(t){var e={};return Tie(t).forEach(function(n){e[n.name]=n,Cie(n)}),e}var Aie=function(){function t(e,n){this._integrations={},this._processing=0,this._backend=new e(n),this._options=n,n.dsn&&(this._dsn=new G8(n.dsn))}return t.prototype.captureException=function(e,n,i){var o=this,s=n&&n.event_id;return this._process(this._getBackend().eventFromException(e,n).then(function(a){return o._captureEvent(a,n,i)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,n,i,o){var s=this,a=i&&i.event_id,l=Tm(e)?this._getBackend().eventFromMessage(String(e),n,i):this._getBackend().eventFromException(e,i);return this._process(l.then(function(c){return s._captureEvent(c,i,o)}).then(function(c){a=c})),a},t.prototype.captureEvent=function(e,n,i){var o=n&&n.event_id;return this._process(this._captureEvent(e,n,i).then(function(s){o=s})),o},t.prototype.captureSession=function(e){e.release?this._sendSession(e):Bn.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(i){return n._getBackend().getTransport().close(e).then(function(o){return i&&o})})},t.prototype.close=function(e){var n=this;return this.flush(e).then(function(i){return n.getOptions().enabled=!1,i})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Mie(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch{return Bn.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,n){var i,o,s=!1,a=!1,l,c=n.exception&&n.exception.values;if(c){a=!0;try{for(var u=Sm(c),d=u.next();!d.done;d=u.next()){var f=d.value,h=f.mechanism;if(h&&h.handled===!1){s=!0;break}}}catch(S){i={error:S}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}var v=n.user;if(!e.userAgent){var m=n.request?n.request.headers:{};for(var _ in m)if(_.toLowerCase()==="user-agent"){l=m[_];break}}e.update(Fe(Fe({},s&&{status:yf.Crashed}),{user:v,userAgent:l,errors:e.errors+Number(a||s)}))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientProcessing=function(e){var n=this;return new qi(function(i){var o=0,s=1,a=setInterval(function(){n._processing==0?(clearInterval(a),i(!0)):(o+=s,e&&o>=e&&(clearInterval(a),i(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,n,i){var o=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,l=Fe(Fe({},e),{event_id:e.event_id||(i&&i.event_id?i.event_id:bf()),timestamp:e.timestamp||T3()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var c=n;i&&i.captureContext&&(c=cy.clone(c).update(i.captureContext));var u=qi.resolve(l);return c&&(u=c.applyToEvent(l,i)),u.then(function(d){return typeof a=="number"&&a>0?o._normalizeEvent(d,a):d})},t.prototype._normalizeEvent=function(e,n){if(!e)return null;var i=Fe(Fe(Fe(Fe(Fe({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(o){return Fe(Fe({},o),o.data&&{data:Am(o.data,n)})})}),e.user&&{user:Am(e.user,n)}),e.contexts&&{contexts:Am(e.contexts,n)}),e.extra&&{extra:Am(e.extra,n)});return e.contexts&&e.contexts.trace&&(i.contexts.trace=e.contexts.trace),i},t.prototype._applyClientOptions=function(e){var n=this.getOptions(),i=n.environment,o=n.release,s=n.dist,a=n.maxValueLength,l=a===void 0?250:a;"environment"in e||(e.environment="environment"in n?i:"production"),e.release===void 0&&o!==void 0&&(e.release=o),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Mm(e.message,l));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=Mm(c.value,l));var u=e.request;u&&u.url&&(u.url=Mm(u.url,l))},t.prototype._applyIntegrationsMetadata=function(e){var n=e.sdk,i=Object.keys(this._integrations);n&&i.length>0&&(n.integrations=i)},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,n,i){return this._processEvent(e,n,i).then(function(o){return o.event_id},function(o){Bn.error(o)})},t.prototype._processEvent=function(e,n,i){var o=this,s=this.getOptions(),a=s.beforeSend,l=s.sampleRate;if(!this._isEnabled())return qi.reject(new Kr("SDK not enabled, will not send event."));var c=e.type==="transaction";return!c&&typeof l=="number"&&Math.random()>l?qi.reject(new Kr("Discarding event because it's not included in the random sample (sampling rate = "+l+")")):this._prepareEvent(e,i,n).then(function(u){if(u===null)throw new Kr("An event processor returned null, will not send event.");var d=n&&n.data&&n.data.__sentry__===!0;if(d||c||!a)return u;var f=a(u,n);if(typeof f=="undefined")throw new Kr("`beforeSend` method has to return `null` or a valid event.");return d3(f)?f.then(function(h){return h},function(h){throw new Kr("beforeSend rejected with "+h)}):f}).then(function(u){if(u===null)throw new Kr("`beforeSend` returned `null`, will not send event.");var d=i&&i.getSession&&i.getSession();return!c&&d&&o._updateSessionFromEvent(d,u),o._sendEvent(u),u}).then(null,function(u){throw u instanceof Kr?u:(o.captureException(u,{data:{__sentry__:!0},originalException:u}),new Kr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+u))})},t.prototype._process=function(e){var n=this;this._processing+=1,e.then(function(i){return n._processing-=1,i},function(i){return n._processing-=1,i})},t}(),Pie=function(){function t(){}return t.prototype.sendEvent=function(e){return qi.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:xu.Skipped})},t.prototype.close=function(e){return qi.resolve(!0)},t}(),Rie=function(){function t(e){this._options=e,this._options.dsn||Bn.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(e,n){throw new Kr("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,n,i){throw new Kr("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(n){Bn.error("Error while sending event: "+n)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){Bn.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(n){Bn.error("Error while sending session: "+n)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Pie},t}();function cN(t,e){var n=JSON.stringify({sent_at:new Date().toISOString()}),i=JSON.stringify({type:"session"});return{body:n+`
`+i+`
`+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function uN(t,e){var n=t.tags||{},i=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,s=Dre(n,["__sentry_samplingMethod","__sentry_sampleRate"]);t.tags=s;var a=t.type==="transaction",l={body:JSON.stringify(t),type:t.type||"event",url:a?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(a){var c=JSON.stringify({event_id:t.event_id,sent_at:new Date().toISOString()}),u=JSON.stringify({type:t.type,sample_rates:[{id:i,rate:o}]}),d=c+`
`+u+`
`+l.body;l.body=d}return l}function Lie(t,e){e.debug===!0&&Bn.enable();var n=di(),i=new t(e);n.bindClient(i)}var dN,Iie=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){dN=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.__sentry_original__||this;return dN.apply(i,e)}},t.id="FunctionToString",t}(),Oie=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Nie=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){uy(function(e){var n=di();if(!n)return e;var i=n.getIntegration(t);if(i){var o=n.getClient(),s=o?o.getOptions():{},a=i._mergeOptions(s);if(i._shouldDropEvent(e,a))return null}return e})},t.prototype._shouldDropEvent=function(e,n){return this._isSentryError(e,n)?(Bn.warn(`Event dropped due to being internal Sentry Error.
Event: `+Su(e)),!0):this._isIgnoredError(e,n)?(Bn.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Su(e)),!0):this._isDeniedUrl(e,n)?(Bn.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Su(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,n)?!1:(Bn.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Su(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,n){if(!n.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch{return!1}},t.prototype._isIgnoredError=function(e,n){return!n.ignoreErrors||!n.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(i){return n.ignoreErrors.some(function(o){return h3(i,o)})})},t.prototype._isDeniedUrl=function(e,n){if(!n.denyUrls||!n.denyUrls.length)return!1;var i=this._getEventFilterUrl(e);return i?n.denyUrls.some(function(o){return h3(i,o)}):!1},t.prototype._isAllowedUrl=function(e,n){if(!n.allowUrls||!n.allowUrls.length)return!0;var i=this._getEventFilterUrl(e);return i?n.allowUrls.some(function(o){return h3(i,o)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:cr(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:cr(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:cr(this._options.ignoreErrors||[],e.ignoreErrors||[],Oie),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var n=e.exception.values&&e.exception.values[0]||{},i=n.type,o=i===void 0?"":i,s=n.value,a=s===void 0?"":s;return[""+a,o+": "+a]}catch{return Bn.error("Cannot extract message for event "+Su(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var n=e.stacktrace.frames;return n&&n[n.length-1].filename||null}if(e.exception){var i=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return i&&i[i.length-1].filename||null}return null}catch{return Bn.error("Cannot extract url for event "+Su(e)),null}},t.id="InboundFilters",t}(),Lm="?",kie=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Die=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Fie=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Uie=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jie=/\((\S*)(?::(\d+))(?::(\d+))\)/,Bie=/Minified React error #\d+;/i;function Im(t){var e=null,n=0;t&&(typeof t.framesToPop=="number"?n=t.framesToPop:Bie.test(t.message)&&(n=1));try{if(e=Hie(t),e)return fN(e,n)}catch{}try{if(e=Vie(t),e)return fN(e,n)}catch{}return{message:R3(t),name:t&&t.name,stack:[],failed:!0}}function Vie(t){if(!t||!t.stack)return null;for(var e=[],n=t.stack.split(`
`),i,o,s,a,l=0;l<n.length;++l){if(s=kie.exec(n[l])){var c=s[2]&&s[2].indexOf("native")===0;i=s[2]&&s[2].indexOf("eval")===0,i&&(o=jie.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]),a={url:s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],func:s[1]||Lm,args:c?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=Fie.exec(n[l]))a={url:s[2],func:s[1]||Lm,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=Die.exec(n[l]))i=s[3]&&s[3].indexOf(" > eval")>-1,i&&(o=Uie.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):l===0&&!s[5]&&t.columnNumber!==void 0&&(e[0].column=t.columnNumber+1),a={url:s[3],func:s[1]||Lm,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null};else continue;!a.func&&a.line&&(a.func=Lm),e.push(a)}return e.length?{message:R3(t),name:t.name,stack:e}:null}function Hie(t){if(!t||!t.stacktrace)return null;for(var e=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=e.split(`
`),s=[],a,l=0;l<o.length;l+=2){var c=null;(a=n.exec(o[l]))?c={url:a[2],func:a[3],args:[],line:+a[1],column:null}:(a=i.exec(o[l]))&&(c={url:a[6],func:a[3]||a[4],args:a[5]?a[5].split(","):[],line:+a[1],column:+a[2]}),c&&(!c.func&&c.line&&(c.func=Lm),s.push(c))}return s.length?{message:R3(t),name:t.name,stack:s}:null}function fN(t,e){try{return Fe(Fe({},t),{stack:t.stack.slice(e)})}catch{return t}}function R3(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}var zie=50;function hN(t){var e=L3(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Gie(t,e,n){var i={exception:{values:[{type:u3(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Xre(t)}]},extra:{__serialized__:q8(t)}};if(e){var o=Im(e),s=L3(o.stack);i.stacktrace={frames:s}}return i}function pN(t){var e=hN(t);return{exception:{values:[e]}}}function L3(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),i.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,zie).map(function(o){return{colno:o.column===null?void 0:o.column,filename:o.url||e[0].url,function:o.func||"?",in_app:!0,lineno:o.line===null?void 0:o.line}}).reverse()}function $ie(t,e,n){var i=n&&n.syntheticException||void 0,o=I3(e,i,{attachStacktrace:t.attachStacktrace});return Ef(o,{handled:!0,type:"generic"}),o.level=Ho.Error,n&&n.event_id&&(o.event_id=n.event_id),qi.resolve(o)}function Wie(t,e,n,i){n===void 0&&(n=Ho.Info);var o=i&&i.syntheticException||void 0,s=O3(e,o,{attachStacktrace:t.attachStacktrace});return s.level=n,i&&i.event_id&&(s.event_id=i.event_id),qi.resolve(s)}function I3(t,e,n){n===void 0&&(n={});var i;if(V8(t)&&t.error){var o=t;return t=o.error,i=pN(Im(t)),i}if(H8(t)||Fre(t)){var s=t,a=s.name||(H8(s)?"DOMError":"DOMException"),l=s.message?a+": "+s.message:a;return i=O3(l,e,n),g3(i,l),"code"in s&&(i.tags=Fe(Fe({},i.tags),{"DOMException.code":""+s.code})),i}if(B8(t))return i=pN(Im(t)),i;if(ry(t)||u3(t)){var c=t;return i=Gie(c,e,n.rejection),Ef(i,{synthetic:!0}),i}return i=O3(t,e,n),g3(i,""+t,void 0),Ef(i,{synthetic:!0}),i}function O3(t,e,n){n===void 0&&(n={});var i={message:t};if(n.attachStacktrace&&e){var o=Im(e),s=L3(o.stack);i.stacktrace={frames:s}}return i}var mN=function(){function t(e){this.options=e,this._buffer=new gie(30),this._rateLimits={},this._api=new aN(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(e){throw new Kr("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._handleResponse=function(e){var n=e.requestType,i=e.response,o=e.headers,s=e.resolve,a=e.reject,l=xu.fromHttpCode(i.status),c=this._handleRateLimit(o);if(c&&Bn.warn("Too many requests, backing off until: "+this._disabledUntil(n)),l===xu.Success){s({status:l});return}a(i)},t.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var n,i,o,s,a=Date.now(),l=e["x-sentry-rate-limits"],c=e["retry-after"];if(l){try{for(var u=Sm(l.trim().split(",")),d=u.next();!d.done;d=u.next()){var f=d.value,h=f.split(":",2),v=parseInt(h[0],10),m=(isNaN(v)?60:v)*1e3;try{for(var _=(o=void 0,Sm(h[1].split(";"))),S=_.next();!S.done;S=_.next()){var E=S.value;this._rateLimits[E||"all"]=new Date(a+m)}}catch(w){o={error:w}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return!0}else if(c)return this._rateLimits.all=new Date(a+eie(a,c)),!0;return!1},t}(),qie=Lr(),Yie=function(t){xm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sendEvent=function(n){return this._sendRequest(uN(n,this._api),n)},e.prototype.sendSession=function(n){return this._sendRequest(cN(n,this._api),n)},e.prototype._sendRequest=function(n,i){var o=this;if(this._isRateLimited(n.type))return Promise.reject({event:i,type:n.type,reason:"Transport locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429});var s={body:n.body,method:"POST",referrerPolicy:rie()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(s,this.options.fetchParameters),this.options.headers!==void 0&&(s.headers=this.options.headers),this._buffer.add(new qi(function(a,l){qie.fetch(n.url,s).then(function(c){var u={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};o._handleResponse({requestType:n.type,response:c,headers:u,resolve:a,reject:l})}).catch(l)}))},e}(mN),Kie=function(t){xm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sendEvent=function(n){return this._sendRequest(uN(n,this._api),n)},e.prototype.sendSession=function(n){return this._sendRequest(cN(n,this._api),n)},e.prototype._sendRequest=function(n,i){var o=this;return this._isRateLimited(n.type)?Promise.reject({event:i,type:n.type,reason:"Transport locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429}):this._buffer.add(new qi(function(s,a){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===4){var u={"x-sentry-rate-limits":l.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":l.getResponseHeader("Retry-After")};o._handleResponse({requestType:n.type,response:l,headers:u,resolve:s,reject:a})}},l.open("POST",n.url);for(var c in o.options.headers)o.options.headers.hasOwnProperty(c)&&l.setRequestHeader(c,o.options.headers[c]);l.send(n.body)}))},e}(mN),Xie=function(t){xm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eventFromException=function(n,i){return $ie(this._options,n,i)},e.prototype.eventFromMessage=function(n,i,o){return i===void 0&&(i=Ho.Info),Wie(this._options,n,i,o)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var n=Fe(Fe({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(n):y3()?new Yie(n):new Kie(n)},e}(Rie),N3=0;function gN(){return N3>0}function Jie(){N3+=1,setTimeout(function(){N3-=1})}function wf(t,e,n){if(e===void 0&&(e={}),typeof t!="function")return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch{return t}var i=function(){var a=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var l=a.map(function(c){return wf(c,e)});return t.handleEvent?t.handleEvent.apply(this,l):t.apply(this,l)}catch(c){throw Jie(),sN(function(u){u.addEventProcessor(function(d){var f=Fe({},d);return e.mechanism&&(g3(f,void 0,void 0),Ef(f,e.mechanism)),f.extra=Fe(Fe({},f.extra),{arguments:a}),f}),iN(c)}),c}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}t.prototype=t.prototype||{},i.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:i}),Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{var s=Object.getOwnPropertyDescriptor(i,"name");s.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function Zie(t){if(t===void 0&&(t={}),!t.eventId){Bn.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){Bn.error("Missing dsn option in showReportDialog call");return}var e=document.createElement("script");e.async=!0,e.src=new aN(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}var Qie=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Fe({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Bn.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Bn.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Cu({callback:function(n){var i=n.error,o=di(),s=o.getIntegration(t),a=i&&i.__sentry_own_request__===!0;if(!(!s||gN()||a)){var l=o.getClient(),c=Tm(i)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(I3(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Ef(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Cu({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch{}var o=di(),s=o.getIntegration(t),a=i&&i.__sentry_own_request__===!0;if(!s||gN()||a)return!0;var l=o.getClient(),c=Tm(i)?e._eventFromRejectionWithPrimitive(i):I3(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!0});c.level=Ho.Error,Ef(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(e,n,i,o){var s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=V8(e)?e.message:e,l;if(_f(a)){var c=a.match(s);c&&(l=c[1],a=c[2])}var u={exception:{values:[{type:l||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(u,n,i,o)},t.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},t.prototype._enhanceEventWithInitialFrame=function(e,n,i,o){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var s=isNaN(parseInt(o,10))?void 0:o,a=isNaN(parseInt(i,10))?void 0:i,l=_f(n)&&n.length>0?n:Qre();return e.exception.values[0].stacktrace.frames.length===0&&e.exception.values[0].stacktrace.frames.push({colno:s,filename:l,function:"?",in_app:!0,lineno:a}),e},t.id="GlobalHandlers",t}(),ese=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],tse=function(){function t(e){this.name=t.id,this._options=Fe({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var e=Lr();if(this._options.setTimeout&&jr(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&jr(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&jr(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&jr(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var n=Array.isArray(this._options.eventTarget)?this._options.eventTarget:ese;n.forEach(this._wrapEventTarget.bind(this))}},t.prototype._wrapTimeFunction=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n[0];return n[0]=wf(o,{mechanism:{data:{function:lc(e)},handled:!0,type:"instrument"}}),e.apply(this,n)}},t.prototype._wrapRAF=function(e){return function(n){return e.call(this,wf(n,{mechanism:{data:{function:"requestAnimationFrame",handler:lc(e)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(e){var n=Lr(),i=n[e]&&n[e].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(jr(i,"addEventListener",function(o){return function(s,a,l){try{typeof a.handleEvent=="function"&&(a.handleEvent=wf(a.handleEvent.bind(a),{mechanism:{data:{function:"handleEvent",handler:lc(a),target:e},handled:!0,type:"instrument"}}))}catch{}return o.call(this,s,wf(a,{mechanism:{data:{function:"addEventListener",handler:lc(a),target:e},handled:!0,type:"instrument"}}),l)}}),jr(i,"removeEventListener",function(o){return function(s,a,l){var c,u=a;try{var d=(c=u)===null||c===void 0?void 0:c.__sentry_wrapped__;d&&o.call(this,s,d,l)}catch{}return o.call(this,s,u,l)}}))},t.prototype._wrapXHR=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=["onload","onerror","onprogress","onreadystatechange"];return s.forEach(function(a){a in o&&typeof o[a]=="function"&&jr(o,a,function(l){var c={mechanism:{data:{function:a,handler:lc(l)},handled:!0,type:"instrument"}};return l.__sentry_original__&&(c.mechanism.data.handler=lc(l.__sentry_original__)),wf(l,c)})}),e.apply(this,n)}},t.id="TryCatch",t}(),vN=function(){function t(e){this.name=t.id,this._options=Fe({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(e){!this._options.sentry||di().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:Su(e)},{event:e})},t.prototype.setupOnce=function(){var e=this;this._options.console&&Cu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._consoleBreadcrumb.apply(e,cr(n))},type:"console"}),this._options.dom&&Cu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._domBreadcrumb.apply(e,cr(n))},type:"dom"}),this._options.xhr&&Cu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._xhrBreadcrumb.apply(e,cr(n))},type:"xhr"}),this._options.fetch&&Cu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._fetchBreadcrumb.apply(e,cr(n))},type:"fetch"}),this._options.history&&Cu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._historyBreadcrumb.apply(e,cr(n))},type:"history"})},t.prototype._consoleBreadcrumb=function(e){var n={category:"console",data:{arguments:e.args,logger:"console"},level:Ho.fromString(e.level),message:$8(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)n.message="Assertion failed: "+($8(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1);else return;di().addBreadcrumb(n,{input:e.args,level:e.level})},t.prototype._domBreadcrumb=function(e){var n;try{n=e.event.target?iy(e.event.target):iy(e.event)}catch{n="<unknown>"}n.length!==0&&di().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name})},t.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var n=e.xhr.__sentry_xhr__||{},i=n.method,o=n.url,s=n.status_code,a=n.body;di().addBreadcrumb({category:"xhr",data:{method:i,url:o,status_code:s},type:"http"},{xhr:e.xhr,input:a});return}},t.prototype._fetchBreadcrumb=function(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?di().addBreadcrumb({category:"fetch",data:e.fetchData,level:Ho.Error,type:"http"},{data:e.error,input:e.args}):di().addBreadcrumb({category:"fetch",data:Fe(Fe({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},t.prototype._historyBreadcrumb=function(e){var n=Lr(),i=e.from,o=e.to,s=m3(n.location.href),a=m3(i),l=m3(o);a.path||(a=s),s.protocol===l.protocol&&s.host===l.host&&(o=l.relative),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),di().addBreadcrumb({category:"navigation",data:{from:i,to:o}})},t.id="Breadcrumbs",t}(),nse="cause",rse=5,ise=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||nse,this._limit=e.limit||rse}return t.prototype.setupOnce=function(){uy(function(e,n){var i=di().getIntegration(t);return i?i._handler(e,n):e})},t.prototype._handler=function(e,n){if(!e.exception||!e.exception.values||!n||!ac(n.originalException,Error))return e;var i=this._walkErrorTree(n.originalException,this._key);return e.exception.values=cr(i,e.exception.values),e},t.prototype._walkErrorTree=function(e,n,i){if(i===void 0&&(i=[]),!ac(e[n],Error)||i.length+1>=this._limit)return i;var o=Im(e[n]),s=hN(o);return this._walkErrorTree(e[n],n,cr([s],i))},t.id="LinkedErrors",t}(),xf=Lr(),sse=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){uy(function(e){var n,i,o;if(di().getIntegration(t)){if(!xf.navigator&&!xf.location&&!xf.document)return e;var s=((n=e.request)===null||n===void 0?void 0:n.url)||((i=xf.location)===null||i===void 0?void 0:i.href),a=(xf.document||{}).referrer,l=(xf.navigator||{}).userAgent,c=Fe(Fe(Fe({},(o=e.request)===null||o===void 0?void 0:o.headers),a&&{Referer:a}),l&&{"User-Agent":l}),u=Fe(Fe({},s&&{url:s}),{headers:c});return Fe(Fe({},e),{request:u})}return e})},t.id="UserAgent",t}(),ose="sentry.javascript.browser",yN="5.30.0",ase=function(t){xm(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xie,n)||this}return e.prototype.showReportDialog=function(n){n===void 0&&(n={});var i=Lr().document;if(!!i){if(!this._isEnabled()){Bn.error("Trying to call showReportDialog with Sentry Client disabled");return}Zie(Fe(Fe({},n),{dsn:n.dsn||this.getDsn()}))}},e.prototype._prepareEvent=function(n,i,o){return n.platform=n.platform||"javascript",n.sdk=Fe(Fe({},n.sdk),{name:ose,packages:cr(n.sdk&&n.sdk.packages||[],[{name:"npm:@sentry/browser",version:yN}]),version:yN}),t.prototype._prepareEvent.call(this,n,i,o)},e.prototype._sendEvent=function(n){var i=this.getIntegration(vN);i&&i.addSentryBreadcrumb(n),t.prototype._sendEvent.call(this,n)},e}(Aie),lse=[new Nie,new Iie,new tse,new vN,new Qie,new ise,new sse];function cse(t){if(t===void 0&&(t={}),t.defaultIntegrations===void 0&&(t.defaultIntegrations=lse),t.release===void 0){var e=Lr();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!1),Lie(ase,t),t.autoSessionTracking&&use()}function use(){var t=Lr(),e=di(),n=document.readyState==="complete",i=!1,o=function(){i&&n&&e.endSession()},s=function(){n=!0,o(),t.removeEventListener("load",s)};e.startSession(),n||t.addEventListener("load",s);try{var a=new PerformanceObserver(function(c,u){c.getEntries().forEach(function(d){d.name==="first-contentful-paint"&&d.startTime<l&&(u.disconnect(),i=!0,o())})}),l=document.visibilityState==="hidden"?0:1/0;document.addEventListener("visibilitychange",function(c){l=Math.min(l,c.timeStamp)},{once:!0}),a.observe({type:"paint",buffered:!0})}catch{i=!0,o()}}var Ln={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});var k3=function(){function t(){}return t.prototype.handleError=function(e){},t}();Mu.NoopErrorHandler=k3;var D3=new k3;function dse(t){D3=t}Mu.setErrorHandler=dse;function fse(){return D3}Mu.getErrorHandler=fse;function hse(){D3=new k3}Mu.resetErrorHandler=hse;var F3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))})(F3);var uc={},Ct={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=fI;function n(){return e.v4()}t.generateUUID=n;function i(){return new Date().getTime()}t.getTimestamp=i;function o(f,h){for(var v=!1,m=Object.keys(f),_=0;_<m.length;_++)if(h===f[m[_]]){v=!0;break}return v}t.isValidEnum=o;function s(f,h){var v={};return f.forEach(function(m){var _=h(m);v[_]=v[_]||[],v[_].push(m)}),a(v)}t.groupBy=s;function a(f){return Object.keys(f).map(function(h){return f[h]})}t.objectValues=a;function l(f){return Object.keys(f).map(function(h){return[h,f[h]]})}t.objectEntries=l;function c(f,h){for(var v,m=0,_=f;m<_.length;m++){var S=_[m];if(h(S)){v=S;break}}return v}t.find=c;function u(f,h){var v={};return f.forEach(function(m){var _=h(m);v[_]=m}),v}t.keyBy=u;function d(f){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var m=0;return f.replace(/%s/g,function(){var _=h[m++],S=typeof _;return S==="function"?_():S==="string"?_:String(_)})}t.sprintf=d,function(f){f.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",f.DECISION="DECISION:type, userId, attributes, decisionInfo",f.LOG_EVENT="LOG_EVENT:logEvent",f.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",f.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))})(Ct);var pse=Wt&&Wt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i};Object.defineProperty(uc,"__esModule",{value:!0});var mse=Mu,fy=Ct,wr=F3,_N={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function U3(t){return typeof t!="string"||(t=t.toUpperCase(),t==="WARN"&&(t="WARNING"),!_N[t])?t:_N[t]}var bN=function(){function t(){this.defaultLoggerFacade=new EN,this.loggers={}}return t.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new EN({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},t}(),gse=function(){function t(e){e===void 0&&(e={}),this.logLevel=wr.LogLevel.NOTSET,e.logLevel!==void 0&&fy.isValidEnum(wr.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=e.logToConsole!==void 0?!!e.logToConsole:!0,this.prefix=e.prefix!==void 0?e.prefix:"[OPTIMIZELY]"}return t.prototype.log=function(e,n){if(!(!this.shouldLog(e)||!this.logToConsole)){var i=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+n;this.consoleLog(e,[i])}},t.prototype.setLogLevel=function(e){e=U3(e),!fy.isValidEnum(wr.LogLevel,e)||e===void 0?this.logLevel=wr.LogLevel.ERROR:this.logLevel=e},t.prototype.getTime=function(){return new Date().toISOString()},t.prototype.shouldLog=function(e){return e>=this.logLevel},t.prototype.getLogLevelName=function(e){switch(e){case wr.LogLevel.DEBUG:return"DEBUG";case wr.LogLevel.INFO:return"INFO ";case wr.LogLevel.WARNING:return"WARN ";case wr.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},t.prototype.consoleLog=function(e,n){switch(e){case wr.LogLevel.DEBUG:console.log.apply(console,n);break;case wr.LogLevel.INFO:console.info.apply(console,n);break;case wr.LogLevel.WARNING:console.warn.apply(console,n);break;case wr.LogLevel.ERROR:console.error.apply(console,n);break;default:console.log.apply(console,n)}},t}();uc.ConsoleLogHandler=gse;var Om=wr.LogLevel.NOTSET,j3=null,EN=function(){function t(e){e===void 0&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return t.prototype.log=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.internalLog(U3(e),{message:n,splat:i})},t.prototype.info=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.INFO,e,n)},t.prototype.debug=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.DEBUG,e,n)},t.prototype.warn=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.WARNING,e,n)},t.prototype.error=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.ERROR,e,n)},t.prototype.format=function(e){return""+(this.messagePrefix?this.messagePrefix+": ":"")+fy.sprintf.apply(void 0,pse([e.message],e.splat))},t.prototype.internalLog=function(e,n){!j3||e<Om||(j3.log(e,this.format(n)),n.error&&n.error instanceof Error&&mse.getErrorHandler().handleError(n.error))},t.prototype.namedLog=function(e,n,i){var o;if(n instanceof Error){o=n,n=o.message,this.internalLog(e,{error:o,message:n,splat:i});return}if(i.length===0){this.internalLog(e,{message:n,splat:i});return}var s=i[i.length-1];s instanceof Error&&(o=s,i.splice(-1)),this.internalLog(e,{message:n,error:o,splat:i})},t}(),wN=new bN;function vse(t){return wN.getLogger(t)}uc.getLogger=vse;function yse(t){j3=t}uc.setLogHandler=yse;function _se(t){t=U3(t),!fy.isValidEnum(wr.LogLevel,t)||t===void 0?Om=wr.LogLevel.ERROR:Om=t}uc.setLogLevel=_se;function bse(){return Om}uc.getLogLevel=bse;function Ese(){wN=new bN,Om=wr.LogLevel.NOTSET}uc.resetLogger=Ese;(function(t){function e(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0}),e(Mu),e(F3),e(uc)})(Ln);var Nm={},km={};Object.defineProperty(km,"__esModule",{value:!0});km.areEventContextsEqual=void 0;function wse(t,e){var n=t.context,i=e.context;return n.accountId===i.accountId&&n.projectId===i.projectId&&n.clientName===i.clientName&&n.clientVersion===i.clientVersion&&n.revision===i.revision&&n.anonymizeIP===i.anonymizeIP&&n.botFiltering===i.botFiltering}km.areEventContextsEqual=wse;var B3={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.DefaultEventQueue=Sf.SingleEventQueue=void 0;var xse=Ln,Sse=xse.getLogger("EventProcessor"),Tse=function(){function t(e){var n=e.timeout,i=e.callback;this.timeout=Math.max(n,0),this.callback=i}return t.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},t.prototype.refresh=function(){this.stop(),this.start()},t.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t}(),Cse=function(){function t(e){var n=e.sink;this.sink=n}return t.prototype.start=function(){},t.prototype.stop=function(){return Promise.resolve()},t.prototype.enqueue=function(e){this.sink([e])},t}();Sf.SingleEventQueue=Cse;var Mse=function(){function t(e){var n=e.flushInterval,i=e.maxQueueSize,o=e.sink,s=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(i,1),this.sink=o,this.batchComparator=s,this.timer=new Tse({callback:this.flush.bind(this),timeout:n}),this.started=!1}return t.prototype.start=function(){this.started=!0},t.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},t.prototype.enqueue=function(e){if(!this.started){Sse.warn("Queue is stopped, not accepting event");return}var n=this.buffer[0];n&&!this.batchComparator(n,e)&&this.flush(),this.buffer.length===0&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},t.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},t}();Sf.DefaultEventQueue=Mse;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var e=Sf,n=Ln,i=Ct;t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var o=n.getLogger("EventProcessor");function s(u){return u<=0&&(o.warn("Invalid flushInterval "+u+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),u=t.DEFAULT_FLUSH_INTERVAL),u}t.validateAndGetFlushInterval=s;function a(u){return u=Math.floor(u),u<1&&(o.warn("Invalid batchSize "+u+", defaulting to "+t.DEFAULT_BATCH_SIZE),u=t.DEFAULT_BATCH_SIZE),u=Math.max(1,u),u}t.validateAndGetBatchSize=a;function l(u,d,f,h){var v;return u>1?v=new e.DefaultEventQueue({flushInterval:d,maxQueueSize:u,sink:f,batchComparator:h}):v=new e.SingleEventQueue({sink:f}),v}t.getQueue=l;function c(u,d){u&&u.sendNotifications(i.NOTIFICATION_TYPES.LOG_EVENT,d)}t.sendEventNotification=c})(B3);var xN={};Object.defineProperty(xN,"__esModule",{value:!0});var SN={};Object.defineProperty(SN,"__esModule",{value:!0});var Tf={},hy={};Object.defineProperty(hy,"__esModule",{value:!0});hy.LocalStorageStore=void 0;var Ase=Ct,Pse=Ln,TN=Pse.getLogger("EventProcessor"),Rse=function(){function t(e){var n=e.key,i=e.maxValues,o=i===void 0?1e3:i;this.LS_KEY=n,this.maxValues=o}return t.prototype.get=function(e){return this.getMap()[e]||null},t.prototype.set=function(e,n){var i=this.getMap();i[e]=n,this.replace(i)},t.prototype.remove=function(e){var n=this.getMap();delete n[e],this.replace(n)},t.prototype.values=function(){return Ase.objectValues(this.getMap())},t.prototype.clear=function(){this.replace({})},t.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(n){TN.error(n)}},t.prototype.clean=function(){var e=this.getMap(),n=Object.keys(e),i=n.length-this.maxValues;if(!(i<1)){var o=n.map(function(a){return{key:a,value:e[a]}});o.sort(function(a,l){return a.value.timestamp-l.value.timestamp});for(var s=0;s<i;s++)delete e[o[s].key];this.replace(e)}},t.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(n){TN.error(n)}return{}},t}();hy.LocalStorageStore=Rse;var Lse=Wt&&Wt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.LocalStoragePendingEventsDispatcher=Tf.PendingEventsDispatcher=void 0;var Ise=Ln,Ose=hy,CN=Ct,Nse=Ise.getLogger("EventProcessor"),MN=function(){function t(e){var n=e.eventDispatcher,i=e.store;this.dispatcher=n,this.store=i}return t.prototype.dispatchEvent=function(e,n){this.send({uuid:CN.generateUUID(),timestamp:CN.getTimestamp(),request:e},n)},t.prototype.sendPendingEvents=function(){var e=this,n=this.store.values();Nse.debug("Sending %s pending events from previous page",n.length),n.forEach(function(i){try{e.send(i,function(){})}catch{}})},t.prototype.send=function(e,n){var i=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(o){i.store.remove(e.uuid),n(o)})},t}();Tf.PendingEventsDispatcher=MN;var kse=function(t){Lse(e,t);function e(n){var i=n.eventDispatcher;return t.call(this,{eventDispatcher:i,store:new Ose.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return e}(MN);Tf.LocalStoragePendingEventsDispatcher=kse;var po={},V3=Wt&&Wt.__assign||function(){return V3=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},V3.apply(this,arguments)};Object.defineProperty(po,"__esModule",{value:!0});po.formatEvents=po.buildConversionEventV1=po.buildImpressionEventV1=po.makeBatchedEventV1=void 0;var Dse="campaign_activated",Fse="custom",AN="$opt_bot_filtering";function PN(t){var e=[],n=t[0];return t.forEach(function(i){if(i.type==="conversion"||i.type==="impression"){var o=H3(i);i.type==="impression"?o.snapshots.push(LN(i)):i.type==="conversion"&&o.snapshots.push(RN(i)),e.push(o)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:e}}po.makeBatchedEventV1=PN;function RN(t){var e=V3({},t.tags);delete e.revenue,delete e.value;var n={entity_id:t.event.id,key:t.event.key,timestamp:t.timestamp,uuid:t.uuid};return t.tags&&(n.tags=t.tags),t.value!=null&&(n.value=t.value),t.revenue!=null&&(n.revenue=t.revenue),{events:[n]}}function LN(t){var e,n,i=t.layer,o=t.experiment,s=t.variation,a=t.ruleKey,l=t.flagKey,c=t.ruleType,u=t.enabled,d=i?i.id:null,f=(e=o==null?void 0:o.id)!==null&&e!==void 0?e:"",h=(n=s==null?void 0:s.id)!==null&&n!==void 0?n:"",v=s?s.key:"";return{decisions:[{campaign_id:d,experiment_id:f,variation_id:h,metadata:{flag_key:l,rule_key:a,rule_type:c,variation_key:v,enabled:u}}],events:[{entity_id:d,timestamp:t.timestamp,key:Dse,uuid:t.uuid}]}}function H3(t){var e={snapshots:[],visitor_id:t.user.id,attributes:[]};return t.user.attributes.forEach(function(n){e.attributes.push({entity_id:n.entityId,key:n.key,type:"custom",value:n.value})}),typeof t.context.botFiltering=="boolean"&&e.attributes.push({entity_id:AN,key:AN,type:Fse,value:t.context.botFiltering}),e}function Use(t){var e=H3(t);return e.snapshots.push(LN(t)),{client_name:t.context.clientName,client_version:t.context.clientVersion,account_id:t.context.accountId,project_id:t.context.projectId,revision:t.context.revision,anonymize_ip:t.context.anonymizeIP,enrich_decisions:!0,visitors:[e]}}po.buildImpressionEventV1=Use;function jse(t){var e=H3(t);return e.snapshots.push(RN(t)),{client_name:t.context.clientName,client_version:t.context.clientVersion,account_id:t.context.accountId,project_id:t.context.projectId,revision:t.context.revision,anonymize_ip:t.context.anonymizeIP,enrich_decisions:!0,visitors:[e]}}po.buildConversionEventV1=jse;function Bse(t){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:PN(t)}}po.formatEvents=Bse;var py={},z3={};Object.defineProperty(z3,"__esModule",{value:!0});var Vse=function(){function t(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return t.prototype.trackRequest=function(e){var n=this;this.reqsInFlightCount++;var i=function(){n.reqsInFlightCount--,n.reqsInFlightCount===0&&(n.reqsCompleteResolvers.forEach(function(o){return o()}),n.reqsCompleteResolvers=[])};e.then(i,i)},t.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(n){e.reqsInFlightCount===0?n():e.reqsCompleteResolvers.push(n)})},t}();z3.default=Vse;var Hse=Wt&&Wt.__awaiter||function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(i.next(d))}catch(f){a(f)}}function c(d){try{u(i.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(l,c)}u((i=i.apply(t,e||[])).next())})},zse=Wt&&Wt.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],o=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gse=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(py,"__esModule",{value:!0});py.LogTierV1EventProcessor=void 0;var $se=Ln,Cf=B3,Wse=Gse(z3),qse=km,Yse=po,IN=$se.getLogger("LogTierV1EventProcessor"),Kse=function(){function t(e){var n=e.dispatcher,i=e.flushInterval,o=i===void 0?Cf.DEFAULT_FLUSH_INTERVAL:i,s=e.batchSize,a=s===void 0?Cf.DEFAULT_BATCH_SIZE:s,l=e.notificationCenter;this.dispatcher=n,this.notificationCenter=l,this.requestTracker=new Wse.default,o=Cf.validateAndGetFlushInterval(o),a=Cf.validateAndGetBatchSize(a),this.queue=Cf.getQueue(a,o,this.drainQueue.bind(this),qse.areEventContextsEqual)}return t.prototype.drainQueue=function(e){var n=this,i=new Promise(function(o){if(IN.debug("draining queue with %s events",e.length),e.length===0){o();return}var s=Yse.formatEvents(e);n.dispatcher.dispatchEvent(s,function(){o()}),Cf.sendEventNotification(n.notificationCenter,s)});return this.requestTracker.trackRequest(i),i},t.prototype.process=function(e){this.queue.enqueue(e)},t.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){IN.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},t.prototype.start=function(){return Hse(this,void 0,void 0,function(){return zse(this,function(e){return this.queue.start(),[2]})})},t}();py.LogTierV1EventProcessor=Kse;(function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),n=Wt&&Wt.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(km,t),n(B3,t),n(xN,t),n(SN,t),n(Tf,t),n(po,t),n(py,t)})(Nm);var ON={exports:{}};(function(t){(function(){function e(o,s){for(var a=o.length,l=s^a,c=0,u;a>=4;)u=o.charCodeAt(c)&255|(o.charCodeAt(++c)&255)<<8|(o.charCodeAt(++c)&255)<<16|(o.charCodeAt(++c)&255)<<24,u=(u&65535)*1540483477+(((u>>>16)*1540483477&65535)<<16),u^=u>>>24,u=(u&65535)*1540483477+(((u>>>16)*1540483477&65535)<<16),l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16)^u,a-=4,++c;switch(a){case 3:l^=(o.charCodeAt(c+2)&255)<<16;case 2:l^=(o.charCodeAt(c+1)&255)<<8;case 1:l^=o.charCodeAt(c)&255,l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16)}return l^=l>>>13,l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16),l^=l>>>15,l>>>0}function n(o,s){var a,l,c,u,d,f,h,v;for(a=o.length&3,l=o.length-a,c=s,d=3432918353,f=461845907,v=0;v<l;)h=o.charCodeAt(v)&255|(o.charCodeAt(++v)&255)<<8|(o.charCodeAt(++v)&255)<<16|(o.charCodeAt(++v)&255)<<24,++v,h=(h&65535)*d+(((h>>>16)*d&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(h&65535)*f+(((h>>>16)*f&65535)<<16)&4294967295,c^=h,c=c<<13|c>>>19,u=(c&65535)*5+(((c>>>16)*5&65535)<<16)&4294967295,c=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(h=0,a){case 3:h^=(o.charCodeAt(v+2)&255)<<16;case 2:h^=(o.charCodeAt(v+1)&255)<<8;case 1:h^=o.charCodeAt(v)&255,h=(h&65535)*d+(((h>>>16)*d&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(h&65535)*f+(((h>>>16)*f&65535)<<16)&4294967295,c^=h}return c^=o.length,c^=c>>>16,c=(c&65535)*2246822507+(((c>>>16)*2246822507&65535)<<16)&4294967295,c^=c>>>13,c=(c&65535)*3266489909+(((c>>>16)*3266489909&65535)<<16)&4294967295,c^=c>>>16,c>>>0}var i=n;i.v2=e,i.v3=n,t.exports=i})()})(ON);var Xse=ON.exports,NN={},G3={},$3={},zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.DEFAULT_UPDATE_INTERVAL=5*60*1e3;zo.MIN_UPDATE_INTERVAL=1e3;zo.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json";zo.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json";zo.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512];zo.REQUEST_TIMEOUT_MS=60*1e3;Object.defineProperty($3,"__esModule",{value:!0});var Jse=zo,Zse=Ln,Qse=Zse.getLogger("DatafileManager"),eoe="GET",toe=4;function noe(t){var e=t.getAllResponseHeaders();if(e===null)return{};var n=e.split(`\r
`),i={};return n.forEach(function(o){var s=o.indexOf(": ");if(s>-1){var a=o.slice(0,s),l=o.slice(s+2);l.length>0&&(i[a]=l)}}),i}function roe(t,e){Object.keys(t).forEach(function(n){var i=t[n];e.setRequestHeader(n,i)})}function ioe(t,e){var n=new XMLHttpRequest,i=new Promise(function(o,s){n.open(eoe,t,!0),roe(e,n),n.onreadystatechange=function(){if(n.readyState===toe){var a=n.status;if(a===0){s(new Error("Request error"));return}var l=noe(n),c={statusCode:n.status,body:n.responseText,headers:l};o(c)}},n.timeout=Jse.REQUEST_TIMEOUT_MS,n.ontimeout=function(){Qse.error("Request timed out")},n.send()});return{responsePromise:i,abort:function(){n.abort()}}}$3.makeGetRequest=ioe;var W3={},q3={};Object.defineProperty(q3,"__esModule",{value:!0});var soe=function(){function t(){this.listeners={},this.listenerId=1}return t.prototype.on=function(e,n){var i=this;this.listeners[e]||(this.listeners[e]={});var o=String(this.listenerId);return this.listenerId++,this.listeners[e][o]=n,function(){i.listeners[e]&&delete i.listeners[e][o]}},t.prototype.emit=function(e,n){var i=this.listeners[e];i&&Object.keys(i).forEach(function(o){var s=i[o];s(n)})},t.prototype.removeAllListeners=function(){this.listeners={}},t}();q3.default=soe;var Y3={};Object.defineProperty(Y3,"__esModule",{value:!0});var K3=zo;function ooe(){return Math.round(Math.random()*1e3)}var aoe=function(){function t(){this.errorCount=0}return t.prototype.getDelay=function(){if(this.errorCount===0)return 0;var e=K3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(K3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)];return e*1e3+ooe()},t.prototype.countError=function(){this.errorCount<K3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},t.prototype.reset=function(){this.errorCount=0},t}();Y3.default=aoe;var my=Wt&&Wt.__assign||function(){return my=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},my.apply(this,arguments)},kN=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W3,"__esModule",{value:!0});var loe=Ln,coe=Ct,uoe=kN(q3),Dm=zo,doe=kN(Y3),Vs=loe.getLogger("DatafileManager"),foe="update";function hoe(t){return t>=Dm.MIN_UPDATE_INTERVAL}function DN(t){return t>=200&&t<400}var poe={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},moe=function(){function t(e){var n=this,i=my(my({},this.getConfigDefaults()),e),o=i.datafile,s=i.autoUpdate,a=s===void 0?!1:s,l=i.sdkKey,c=i.updateInterval,u=c===void 0?Dm.DEFAULT_UPDATE_INTERVAL:c,d=i.urlTemplate,f=d===void 0?Dm.DEFAULT_URL_TEMPLATE:d,h=i.cache,v=h===void 0?poe:h;this.cache=v,this.cacheKey="opt-datafile-"+l,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(m,_){n.readyPromiseResolver=m,n.readyPromiseRejecter=_}),o?(this.currentDatafile=o,l||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=coe.sprintf(f,l),this.emitter=new uoe.default,this.autoUpdate=a,hoe(u)?this.updateInterval=u:(Vs.warn("Invalid updateInterval %s, defaulting to %s",u,Dm.DEFAULT_UPDATE_INTERVAL),this.updateInterval=Dm.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new doe.default,this.syncOnCurrentRequestComplete=!1}return t.prototype.get=function(){return this.currentDatafile},t.prototype.start=function(){this.isStarted||(Vs.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},t.prototype.stop=function(){return Vs.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},t.prototype.onReady=function(){return this.readyPromise},t.prototype.on=function(e,n){return this.emitter.on(e,n)},t.prototype.onRequestRejected=function(e){!this.isStarted||(this.backoffController.countError(),e instanceof Error?Vs.error("Error fetching datafile: %s",e.message,e):typeof e=="string"?Vs.error("Error fetching datafile: %s",e):Vs.error("Error fetching datafile"))},t.prototype.onRequestResolved=function(e){if(!!this.isStarted){typeof e.statusCode!="undefined"&&DN(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var n=this.getNextDatafileFromResponse(e);if(n!=="")if(Vs.info("Updating datafile from response"),this.currentDatafile=n,this.cache.set(this.cacheKey,n),!this.isReadyPromiseSettled)this.resolveReadyPromise();else{var i={datafile:n};this.emitter.emit(foe,i)}}},t.prototype.onRequestComplete=function(){!this.isStarted||(this.currentRequest=null,!this.isReadyPromiseSettled&&!this.autoUpdate&&this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},t.prototype.syncDatafile=function(){var e=this,n={};this.lastResponseLastModified&&(n["if-modified-since"]=this.lastResponseLastModified),Vs.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(n)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,n);var i=function(){e.onRequestComplete()},o=function(a){e.onRequestResolved(a)},s=function(a){e.onRequestRejected(a)};this.currentRequest.responsePromise.then(o,s).then(i,i),this.autoUpdate&&this.scheduleNextUpdate()},t.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},t.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},t.prototype.scheduleNextUpdate=function(){var e=this,n=this.backoffController.getDelay(),i=Math.max(n,this.updateInterval);Vs.debug("Scheduling sync in %s ms",i),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},i)},t.prototype.getNextDatafileFromResponse=function(e){return Vs.debug("Response status code: %s",e.statusCode),typeof e.statusCode=="undefined"||e.statusCode===304?"":DN(e.statusCode)?e.body:""},t.prototype.trySavingLastModified=function(e){var n=e["last-modified"]||e["Last-Modified"];typeof n!="undefined"&&(this.lastResponseLastModified=n,Vs.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},t.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(n){e.isStarted&&!e.isReadyPromiseSettled&&n!==""&&(Vs.debug("Using datafile from cache"),e.currentDatafile=n,e.resolveReadyPromise())})},t}();W3.default=moe;var goe=Wt&&Wt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),voe=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G3,"__esModule",{value:!0});var yoe=$3,_oe=voe(W3),boe=function(t){goe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeGetRequest=function(n,i){return yoe.makeGetRequest(n,i)},e.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},e}(_oe.default);G3.default=boe;Object.defineProperty(NN,"__esModule",{value:!0});var Eoe=G3,woe=NN.HttpPollingDatafileManager=Eoe.default;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Au=function(){return(Au=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function X3(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}var ye={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},wt={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},me={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},Go={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},Hs=Ct.NOTIFICATION_TYPES,Pu={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},Xr={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},J3={RULE:"rule",EXPERIMENT:"experiment"},us={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},gy={V2:"2",V3:"3",V4:"4"},Ru={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},xoe=Object.freeze({__proto__:null,LOG_LEVEL:ye,ERROR_MESSAGES:wt,LOG_MESSAGES:me,CONTROL_ATTRIBUTES:Go,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.8.0",NOTIFICATION_TYPES:Hs,DECISION_NOTIFICATION_TYPES:Pu,DECISION_SOURCES:Xr,AUDIENCE_EVALUATION_TYPES:J3,FEATURE_VARIABLE_TYPES:us,DATAFILE_VERSIONS:gy,DECISION_MESSAGES:Ru}),Lu="CONFIG_VALIDATOR",Soe=[gy.V2,gy.V3,gy.V4],Toe=function(t){if(typeof t=="object"&&t!==null){var e=t,n=e.errorHandler,i=e.eventDispatcher,o=e.logger;if(n&&typeof n.handleError!="function")throw new Error(Ct.sprintf(wt.INVALID_ERROR_HANDLER,Lu));if(i&&typeof i.dispatchEvent!="function")throw new Error(Ct.sprintf(wt.INVALID_EVENT_DISPATCHER,Lu));if(o&&typeof o.log!="function")throw new Error(Ct.sprintf(wt.INVALID_LOGGER,Lu));return!0}throw new Error(Ct.sprintf(wt.INVALID_CONFIG,Lu))},Coe=function(t){if(!t)throw new Error(Ct.sprintf(wt.NO_DATAFILE_SPECIFIED,Lu));if(typeof t=="string")try{t=JSON.parse(t)}catch{throw new Error(Ct.sprintf(wt.INVALID_DATAFILE_MALFORMED,Lu))}if(typeof t=="object"&&!Array.isArray(t)&&t!==null&&Soe.indexOf(t.version)===-1)throw new Error(Ct.sprintf(wt.INVALID_DATAFILE_VERSION,Lu,t.version));return t},Moe={handleError:function(){}},Aoe=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},FN={dispatchEvent:function(t,e){var n,i=t.params,o=t.url;t.httpVerb==="POST"?((n=new XMLHttpRequest).open("POST",o,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(n.readyState===4&&e&&typeof e=="function")try{e({statusCode:n.status})}catch{}},n.send(JSON.stringify(i))):(o+="?wxhr=true",i&&(o+="&"+Aoe(i)),(n=new XMLHttpRequest).open("GET",o,!0),n.onreadystatechange=function(){if(n.readyState===4&&e&&typeof e=="function")try{e({statusCode:n.status})}catch{}},n.send())}},UN=function(){function t(){}return t.prototype.log=function(){},t}();function jN(t){return new Ln.ConsoleLogHandler(t)}var BN,$o,Poe=Object.freeze({__proto__:null,NoOpLogger:UN,createLogger:jN,createNoOpLogger:function(){return new UN}});function VN(t,e,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:t,userContext:e,reasons:n}}(function(t){t.BOOLEAN="boolean",t.DOUBLE="double",t.INTEGER="integer",t.STRING="string",t.JSON="json"})(BN||(BN={})),function(t){t.DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",t.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",t.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",t.INCLUDE_REASONS="INCLUDE_REASONS",t.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES"}($o||($o={}));var dc=Ln.getLogger(),Roe=function(){function t(e){var n,i=e.optimizely,o=e.userId,s=e.attributes;this.optimizely=i,this.userId=o,this.attributes=(n=Au({},s))!==null&&n!==void 0?n:{},this.forcedDecisionsMap={}}return t.prototype.setAttribute=function(e,n){this.attributes[e]=n},t.prototype.getUserId=function(){return this.userId},t.prototype.getAttributes=function(){return Au({},this.attributes)},t.prototype.getOptimizely=function(){return this.optimizely},t.prototype.decide=function(e,n){return n===void 0&&(n=[]),this.optimizely.decide(this.cloneUserContext(),e,n)},t.prototype.decideForKeys=function(e,n){return n===void 0&&(n=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,n)},t.prototype.decideAll=function(e){return e===void 0&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},t.prototype.trackEvent=function(e,n){this.optimizely.track(e,this.userId,this.attributes,n)},t.prototype.setForcedDecision=function(e,n){var i;if(!this.optimizely.isValidInstance())return dc.error(Ru.SDK_NOT_READY),!1;var o=e.flagKey,s=(i=e.ruleKey)!==null&&i!==void 0?i:Go.FORCED_DECISION_NULL_RULE_KEY,a={variationKey:n.variationKey};return this.forcedDecisionsMap[o]||(this.forcedDecisionsMap[o]={}),this.forcedDecisionsMap[o][s]=a,!0},t.prototype.getForcedDecision=function(e){return this.optimizely.isValidInstance()?this.findForcedDecision(e):(dc.error(Ru.SDK_NOT_READY),null)},t.prototype.removeForcedDecision=function(e){var n;if(!this.optimizely.isValidInstance())return dc.error(Ru.SDK_NOT_READY),!1;var i=(n=e.ruleKey)!==null&&n!==void 0?n:Go.FORCED_DECISION_NULL_RULE_KEY,o=e.flagKey,s=!1;return this.forcedDecisionsMap.hasOwnProperty(o)&&(this.forcedDecisionsMap[o].hasOwnProperty(i)&&(delete this.forcedDecisionsMap[o][i],s=!0),Object.keys(this.forcedDecisionsMap[o]).length===0&&delete this.forcedDecisionsMap[o]),s},t.prototype.removeAllForcedDecisions=function(){return this.optimizely.isValidInstance()?(this.forcedDecisionsMap={},!0):(dc.error(Ru.SDK_NOT_READY),!1)},t.prototype.findForcedDecision=function(e){var n,i=(n=e.ruleKey)!==null&&n!==void 0?n:Go.FORCED_DECISION_NULL_RULE_KEY,o=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var s=this.forcedDecisionsMap[o];if(s.hasOwnProperty(i))return{variationKey:s[i].variationKey}}return null},t.prototype.findValidatedForcedDecision=function(e,n){var i,o=[],s=this.findForcedDecision({flagKey:e,ruleKey:n}),a=null;return s&&(i=s.variationKey,(a=this.optimizely.getFlagVariationByKey(e,i))?n?(dc.info(me.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,e,n,this.userId),o.push([me.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,e,n,this.userId])):(dc.info(me.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,e,this.userId),o.push([me.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,e,this.userId])):n?(dc.info(me.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,n,this.userId),o.push([me.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,n,this.userId])):(dc.info(me.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId),o.push([me.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId]))),{result:a,reasons:o}},t.prototype.cloneUserContext=function(){var e=new t({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(e.forcedDecisionsMap=Au({},this.forcedDecisionsMap)),e},t}(),HN=["and","or","not"];function Fm(t,e){if(Array.isArray(t)){var n=t[0],i=t.slice(1);switch(typeof n=="string"&&HN.indexOf(n)===-1&&(n="or",i=t),n){case"and":return function(o,s){var a=!1;if(Array.isArray(o)){for(var l=0;l<o.length;l++){var c=Fm(o[l],s);if(c===!1)return!1;c===null&&(a=!0)}return!a||null}return null}(i,e);case"not":return function(o,s){if(Array.isArray(o)&&o.length>0){var a=Fm(o[0],s);return a===null?null:!a}return null}(i,e);default:return function(o,s){var a=!1;if(Array.isArray(o)){for(var l=0;l<o.length;l++){var c=Fm(o[l],s);if(c===!0)return!0;c===null&&(a=!0)}return!!a&&null}return null}(i,e)}}return e(t)}var Loe=function(){function t(e,n){var i,o;this.sdkKey=(i=e.sdkKey)!==null&&i!==void 0?i:"",this.environmentKey=(o=e.environmentKey)!==null&&o!==void 0?o:"",this.attributes=e.attributes,this.audiences=t.getAudiences(e),this.events=e.events,this.revision=e.revision;var s=(e.featureFlags||[]).reduce(function(l,c){return l[c.id]=c.variables,l},{}),a=t.getExperimentsMapById(e,s);this.experimentsMap=t.getExperimentsKeyMap(a),this.featuresMap=t.getFeaturesMap(e,s,a),this.datafile=n}return t.prototype.getDatafile=function(){return this.datafile},t.getAudiences=function(e){var n=[],i=[];return(e.typedAudiences||[]).forEach(function(o){n.push({id:o.id,conditions:JSON.stringify(o.conditions),name:o.name}),i.push(o.id)}),(e.audiences||[]).forEach(function(o){i.indexOf(o.id)===-1&&o.id!="$opt_dummy_audience"&&n.push({id:o.id,conditions:JSON.stringify(o.conditions),name:o.name})}),n},t.getSerializedAudiences=function(e,n){var i="";if(e){var o="";e.forEach(function(s){var a="";if(s instanceof Array)a="("+(a=t.getSerializedAudiences(s,n))+")";else if(HN.indexOf(s)>-1)o=s.toUpperCase();else{var l=n[s]?n[s].name:s;i||o==="NOT"?(o=o===""?"OR":o,i=i===""?o+' "'+n[s].name+'"':i.concat(" "+o+' "'+l+'"')):i='"'+l+'"'}a!==""&&(i!==""||o==="NOT"?(o=o===""?"OR":o,i=i===""?o+" "+a:i.concat(" "+o+" "+a)):i=i.concat(a))})}return i},t.getExperimentAudiences=function(e,n){return e.audienceConditions?t.getSerializedAudiences(e.audienceConditions,n.audiencesById):""},t.mergeFeatureVariables=function(e,n,i,o,s){var a=(e[i]||[]).reduce(function(l,c){return l[c.key]={id:c.id,key:c.key,type:c.type,value:c.defaultValue},l},{});return(o||[]).forEach(function(l){var c=n[l.id],u={id:l.id,key:c.key,type:c.type,value:s?l.value:c.defaultValue};a[c.key]=u}),a},t.getVariationsMap=function(e,n,i,o){return e.reduce(function(s,a){var l=t.mergeFeatureVariables(n,i,o,a.variables,a.featureEnabled);return s[a.key]={id:a.id,key:a.key,featureEnabled:a.featureEnabled,variablesMap:l},s},{})},t.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(n,i){return i.variables.forEach(function(o){n[o.id]=o}),n},{})},t.getDeliveryRules=function(e,n,i,o){var s=t.getVariableIdMap(e);return o.map(function(a){return{id:a.id,key:a.key,audiences:t.getExperimentAudiences(a,e),variationsMap:t.getVariationsMap(a.variations,n,s,i)}})},t.getRolloutExperimentIds=function(e){var n=[];return(e||[]).forEach(function(i){i.experiments.forEach(function(o){n.push(o.id)})}),n},t.getExperimentsMapById=function(e,n){var i=t.getVariableIdMap(e),o=this.getRolloutExperimentIds(e.rollouts);return(e.experiments||[]).reduce(function(s,a){if(o.indexOf(a.id)===-1){var l=e.experimentFeatureMap[a.id],c="";l&&l.length>0&&(c=l[0]);var u=t.getVariationsMap(a.variations,n,i,c.toString());s[a.id]={id:a.id,key:a.key,audiences:t.getExperimentAudiences(a,e),variationsMap:u}}return s},{})},t.getExperimentsKeyMap=function(e){var n={};for(var i in e){var o=e[i];n[o.key]=o}return n},t.getFeaturesMap=function(e,n,i){var o={};return e.featureFlags.forEach(function(s){var a={},l=[];s.experimentIds.forEach(function(f){var h=i[f];h&&(a[h.key]=h),l.push(i[f])});var c=(s.variables||[]).reduce(function(f,h){return f[h.key]={id:h.id,key:h.key,type:h.type,value:h.defaultValue},f},{}),u=[],d=e.rolloutIdMap[s.rolloutId];d&&(u=t.getDeliveryRules(e,n,s.id,d.experiments)),o[s.key]={id:s.id,key:s.key,experimentRules:l,deliveryRules:u,experimentsMap:a,variablesMap:c}}),o},t}(),Ioe=Math.pow(2,53),bt={assign:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)return{};if(typeof Object.assign=="function")return Object.assign.apply(Object,X3([t],e));for(var i=Object(t),o=0;o<e.length;o++){var s=e[o];if(s!=null)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},currentTimestamp:function(){return Math.round(new Date().getTime())},isSafeInteger:function(t){return typeof t=="number"&&Math.abs(t)<=Ioe},keyBy:function(t,e){return t?Ct.keyBy(t,function(n){return n[e]}):{}},uuid:Ct.generateUUID,isNumber:function(t){return typeof t=="number"}},Jr="PROJECT_CONFIG",Ooe=function(t,e){e===void 0&&(e=null);var n,i,o,s,a=(n=t,(s=bt.assign({},n)).audiences=(n.audiences||[]).map(function(l){return bt.assign({},l)}),s.experiments=(n.experiments||[]).map(function(l){return bt.assign({},l)}),s.featureFlags=(n.featureFlags||[]).map(function(l){return bt.assign({},l)}),s.groups=(n.groups||[]).map(function(l){var c=bt.assign({},l);return c.experiments=(l.experiments||[]).map(function(u){return bt.assign({},u)}),c}),s.rollouts=(n.rollouts||[]).map(function(l){var c=bt.assign({},l);return c.experiments=(l.experiments||[]).map(function(u){return bt.assign({},u)}),c}),s.environmentKey=(i=n.environmentKey)!==null&&i!==void 0?i:"",s.sdkKey=(o=n.sdkKey)!==null&&o!==void 0?o:"",s);return a.__datafileStr=e===null?JSON.stringify(t):e,(a.audiences||[]).forEach(function(l){l.conditions=JSON.parse(l.conditions)}),a.audiencesById=bt.keyBy(a.audiences,"id"),bt.assign(a.audiencesById,bt.keyBy(a.typedAudiences,"id")),a.attributeKeyMap=bt.keyBy(a.attributes,"key"),a.eventKeyMap=bt.keyBy(a.events,"key"),a.groupIdMap=bt.keyBy(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach(function(l){(a.groupIdMap[l].experiments||[]).forEach(function(c){a.experiments.push(bt.assign(c,{groupId:l}))})}),a.rolloutIdMap=bt.keyBy(a.rollouts||[],"id"),Ct.objectValues(a.rolloutIdMap||{}).forEach(function(l){(l.experiments||[]).forEach(function(c){a.experiments.push(c),c.variationKeyMap=bt.keyBy(c.variations,"key")})}),a.experimentKeyMap=bt.keyBy(a.experiments,"key"),a.experimentIdMap=bt.keyBy(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach(function(l){l.variationKeyMap=bt.keyBy(l.variations,"key"),bt.assign(a.variationIdMap,bt.keyBy(l.variations,"id")),Ct.objectValues(l.variationKeyMap||{}).forEach(function(c){c.variables&&(a.variationVariableUsageMap[c.id]=bt.keyBy(c.variables,"id"))})}),a.experimentFeatureMap={},a.featureKeyMap=bt.keyBy(a.featureFlags||[],"key"),Ct.objectValues(a.featureKeyMap||{}).forEach(function(l){l.variables.forEach(function(c){c.type===us.STRING&&c.subType===us.JSON&&(c.type=us.JSON,delete c.subType)}),l.variableKeyMap=bt.keyBy(l.variables,"key"),(l.experimentIds||[]).forEach(function(c){a.experimentFeatureMap[c]?a.experimentFeatureMap[c].push(l.id):a.experimentFeatureMap[c]=[l.id]})}),a.flagRulesMap={},(a.featureFlags||[]).forEach(function(l){var c=[];l.experimentIds.forEach(function(d){var f=a.experimentIdMap[d];f&&c.push(f)});var u=a.rolloutIdMap[l.rolloutId];u&&c.push.apply(c,u.experiments),a.flagRulesMap[l.key]=c}),a.flagVariationsMap={},Ct.objectEntries(a.flagRulesMap||{}).forEach(function(l){var c=l[0],u=l[1],d=[];u.forEach(function(f){f.variations.forEach(function(h){Ct.find(d,function(v){return v.id===h.id})||d.push(h)})}),a.flagVariationsMap[c]=d}),a},zN=function(t,e){var n=t.experimentIdMap[e];if(!n)throw new Error(Ct.sprintf(wt.INVALID_EXPERIMENT_ID,Jr,e));return n.layerId},GN=function(t,e,n){var i=t.attributeKeyMap[e],o=e.indexOf("$opt_")===0;return i?(o&&n.log(ye.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",e,"$opt_"),i.id):o?e:(n.log(ye.DEBUG,wt.UNRECOGNIZED_ATTRIBUTE,Jr,e),null)},$N=function(t,e){var n=t.eventKeyMap[e];return n?n.id:null},WN=function(t,e){var n=t.experimentKeyMap[e];if(!n)throw new Error(Ct.sprintf(wt.INVALID_EXPERIMENT_KEY,Jr,e));return n.status},qN=function(t,e){return t.variationIdMap.hasOwnProperty(e)?t.variationIdMap[e].key:null},Z3=function(t,e){if(t.experimentKeyMap.hasOwnProperty(e)){var n=t.experimentKeyMap[e];if(n)return n}throw new Error(Ct.sprintf(wt.EXPERIMENT_KEY_NOT_IN_DATAFILE,Jr,e))},Noe=function(t,e){var n=t.experimentIdMap[e];if(!n)throw new Error(Ct.sprintf(wt.INVALID_EXPERIMENT_ID,Jr,e));return n.trafficAllocation},koe=function(t,e,n){if(t.experimentIdMap.hasOwnProperty(e)){var i=t.experimentIdMap[e];if(i)return i}return n.log(ye.ERROR,wt.INVALID_EXPERIMENT_ID,Jr,e),null},Q3=function(t,e,n){if(t.featureKeyMap.hasOwnProperty(e)){var i=t.featureKeyMap[e];if(i)return i}return n.log(ye.ERROR,wt.FEATURE_NOT_IN_DATAFILE,Jr,e),null},YN=function(t){return t.__datafileStr},KN=function(t){var e;try{e=Coe(t.datafile)}catch(i){return{configObj:null,error:i}}if(t.jsonSchemaValidator)try{t.jsonSchemaValidator.validate(e),t.logger.log(ye.INFO,me.VALID_DATAFILE,Jr)}catch(i){return{configObj:null,error:i}}else t.logger.log(ye.INFO,me.SKIPPING_JSON_VALIDATION,Jr);var n=[e];return typeof t.datafile=="string"&&n.push(t.datafile),{configObj:Ooe.apply(void 0,n),error:null}},XN=function(t){return!!t.sendFlagDecisions},vy=Ln.getLogger();function Mf(t,e){return t instanceof Error?t.message:e||"Unknown error"}var Doe=function(){function t(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var n=new Error(Ct.sprintf(wt.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:Mf(n)}),void vy.error(n)}var i=null;e.datafile&&(i=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:Mf(i,"Invalid datafile")})}catch(o){vy.error(o),this.readyPromise=Promise.resolve({success:!1,reason:Mf(o,"Error in initialize")})}}return t.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:Mf(e)}:{success:!0}}return{success:!1,reason:Mf(null,"Datafile manager is not provided")}},t.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:Mf(e,"Failed to become ready")}},t.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},t.prototype.handleNewDatafile=function(e){var n=KN({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:vy}),i=n.configObj,o=n.error;if(o)vy.error(o);else{var s=this.configObj?this.configObj.revision:"null";i&&s!==i.revision&&(this.configObj=i,this.optimizelyConfigObj=null,this.updateListeners.forEach(function(a){return a(i)}))}return o},t.prototype.getConfig=function(){return this.configObj},t.prototype.getOptimizelyConfig=function(){var e,n;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,n=YN(this.configObj),new Loe(e,n))),this.optimizelyConfigObj},t.prototype.onReady=function(){return this.readyPromise},t.prototype.onUpdate=function(e){var n=this;return this.updateListeners.push(e),function(){var i=n.updateListeners.indexOf(e);i>-1&&n.updateListeners.splice(i,1)}},t.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},t}(),Foe=Math.pow(2,32),JN=function(t){var e=[],n=t.experimentIdMap[t.experimentId].groupId;if(n){var i=t.groupIdMap[n];if(!i)throw new Error(Ct.sprintf(wt.INVALID_GROUP_ID,"BUCKETER",n));if(i.policy==="random"){var o=Uoe(i,t.bucketingId,t.userId,t.logger);if(o===null)return t.logger.log(ye.INFO,me.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,n),e.push([me.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,n]),{result:null,reasons:e};if(o!==t.experimentId)return t.logger.log(ye.INFO,me.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n),e.push([me.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n]),{result:null,reasons:e};t.logger.log(ye.INFO,me.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n),e.push([me.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n])}}var s=""+t.bucketingId+t.experimentId,a=QN(s);t.logger.log(ye.DEBUG,me.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,t.userId),e.push([me.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,t.userId]);var l=ZN(a,t.trafficAllocationConfig);return l===null||t.variationIdMap[l]?{result:l,reasons:e}:(l&&(t.logger.log(ye.WARNING,me.INVALID_VARIATION_ID,"BUCKETER"),e.push([me.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:e})},Uoe=function(t,e,n,i){var o=""+e+t.id,s=QN(o);i.log(ye.DEBUG,me.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,n);var a=t.trafficAllocation;return ZN(s,a)},ZN=function(t,e){for(var n=0;n<e.length;n++)if(t<e[n].endOfRange)return e[n].entityId;return null},QN=function(t){try{var e=Xse.v3(t,1)/Foe;return Math.floor(1e4*e)}catch(n){throw new Error(Ct.sprintf(wt.INVALID_BUCKETING_ID,"BUCKETER",t,n.message))}},yy=Ln.getLogger();function ek(t){return/^\d+$/.test(t)}function fc(t){var e=t.indexOf("-"),n=t.indexOf("+");return!(e<0)&&(n<0||e<n)}function tk(t){var e=t.indexOf("-"),n=t.indexOf("+");return!(n<0)&&(e<0||n<e)}function nk(t){var e=t,n="";if(function(l){return/\s/.test(l)}(t))return yy.warn(me.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;if(fc(t)?(e=t.substring(0,t.indexOf("-")),n=t.substring(t.indexOf("-")+1)):tk(t)&&(e=t.substring(0,t.indexOf("+")),n=t.substring(t.indexOf("+")+1)),typeof e!="string"||typeof n!="string")return null;var i=e.split(".").length-1;if(i>2)return yy.warn(me.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;var o=e.split(".");if(o.length!=i+1)return yy.warn(me.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;for(var s=0,a=o;s<a.length;s++)if(!ek(a[s]))return yy.warn(me.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;return n&&o.push(n),o}var fi="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",hi=Ln.getLogger(),joe=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ds={};function rk(t){return typeof t=="string"||typeof t=="boolean"||bt.isNumber(t)}function ik(t,e){var n=t.value,i=typeof n,o=t.name,s=e[o],a=typeof s;return!rk(n)||bt.isNumber(n)&&!bt.isSafeInteger(n)?(hi.warn(me.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):s===null?(hi.debug(me.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),o),null):rk(s)&&i===a?bt.isNumber(s)&&!bt.isSafeInteger(s)?(hi.warn(me.OUT_OF_BOUNDS,fi,JSON.stringify(t),o),null):n===s:(hi.warn(me.UNEXPECTED_TYPE,fi,JSON.stringify(t),a,o),null)}function _y(t,e){var n=t.name,i=e[n],o=typeof i,s=t.value;return s!==null&&bt.isSafeInteger(s)?i===null?(hi.debug(me.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),!1):bt.isNumber(i)?!!bt.isSafeInteger(i)||(hi.warn(me.OUT_OF_BOUNDS,fi,JSON.stringify(t),n),!1):(hi.warn(me.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),!1):(hi.warn(me.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),!1)}function Um(t,e){var n=t.name,i=e[n],o=typeof i,s=t.value;return typeof s!="string"?(hi.warn(me.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):i===null?(hi.debug(me.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),null):typeof i!="string"?(hi.warn(me.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),null):function(a,l){var c=nk(l),u=nk(a);if(!c||!u)return null;for(var d=c.length,f=0;f<u.length;f++){if(d<=f)return fc(a)||tk(a)?1:-1;if(ek(c[f])){var h=parseInt(c[f]),v=parseInt(u[f]);if(h>v)return 1;if(h<v)return-1}else{if(c[f]<u[f])return fc(a)&&!fc(l)?1:-1;if(c[f]>u[f])return!fc(a)&&fc(l)?-1:1}}return fc(l)&&!fc(a)?-1:0}(s,i)}ds.exact=ik,ds.exists=function(t,e){var n=e[t.name];return n!=null},ds.gt=function(t,e){var n=e[t.name],i=t.value;return!_y(t,e)||i===null?null:n>i},ds.ge=function(t,e){var n=e[t.name],i=t.value;return!_y(t,e)||i===null?null:n>=i},ds.lt=function(t,e){var n=e[t.name],i=t.value;return!_y(t,e)||i===null?null:n<i},ds.le=function(t,e){var n=e[t.name],i=t.value;return!_y(t,e)||i===null?null:n<=i},ds.substring=function(t,e){var n=t.name,i=e[t.name],o=typeof i,s=t.value;return typeof s!="string"?(hi.warn(me.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):i===null?(hi.debug(me.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),null):typeof i!="string"?(hi.warn(me.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),null):i.indexOf(s)!==-1},ds.semver_eq=function(t,e){var n=Um(t,e);return n===null?null:n===0},ds.semver_gt=function(t,e){var n=Um(t,e);return n===null?null:n>0},ds.semver_ge=function(t,e){var n=Um(t,e);return n===null?null:n>=0},ds.semver_lt=function(t,e){var n=Um(t,e);return n===null?null:n<0},ds.semver_le=function(t,e){var n=Um(t,e);return n===null?null:n<=0};var Boe=Object.freeze({__proto__:null,evaluate:function(t,e){var n=t.match;if(n!==void 0&&joe.indexOf(n)===-1)return hi.warn(me.UNKNOWN_MATCH_TYPE,fi,JSON.stringify(t)),null;var i=t.name;return e.hasOwnProperty(i)||n=="exists"?(n&&ds[n]||ik)(t,e):(hi.debug(me.MISSING_ATTRIBUTE_VALUE,fi,JSON.stringify(t),i),null)}}),by=Ln.getLogger(),Voe=function(){function t(e){this.typeToEvaluatorMap=bt.assign({},e,{custom_attribute:Boe})}return t.prototype.evaluate=function(e,n,i){var o=this;return i===void 0&&(i={}),!e||e.length===0?!0:!!Fm(e,function(s){var a=n[s];if(a){by.log(ye.DEBUG,me.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",s,JSON.stringify(a.conditions));var l=Fm(a.conditions,o.evaluateConditionWithUserAttributes.bind(o,i)),c=l===null?"UNKNOWN":l.toString().toUpperCase();return by.log(ye.DEBUG,me.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",s,c),l}return null})},t.prototype.evaluateConditionWithUserAttributes=function(e,n){var i=this.typeToEvaluatorMap[n.type];if(!i)return by.log(ye.WARNING,me.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(n)),null;try{return i.evaluate(n,e)}catch(o){by.log(ye.ERROR,wt.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",n.type,o.message)}return null},t}();function sk(t){return typeof t=="string"&&t!==""}var ut="DECISION_SERVICE",Hoe=function(){function t(e){var n;this.audienceEvaluator=(n=e.UNSTABLE_conditionEvaluators,new Voe(n)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return t.prototype.getVariation=function(e,n,i,o){o===void 0&&(o={});var s=i.getUserId(),a=i.getAttributes(),l=this.getBucketingId(s,a),c=[],u=n.key;if(!this.checkIfExperimentIsActive(e,u))return this.logger.log(ye.INFO,me.EXPERIMENT_NOT_RUNNING,ut,u),c.push([me.EXPERIMENT_NOT_RUNNING,ut,u]),{result:null,reasons:c};var d=this.getForcedVariation(e,u,s);c.push.apply(c,d.reasons);var f=d.result;if(f)return{result:f,reasons:c};var h=this.getWhitelistedVariation(n,s);c.push.apply(c,h.reasons);var v=h.result;if(v)return{result:v.key,reasons:c};var m=o[$o.IGNORE_USER_PROFILE_SERVICE],_=this.resolveExperimentBucketMap(s,a);if(!m&&(v=this.getStoredVariation(e,n,s,_)))return this.logger.log(ye.INFO,me.RETURNING_STORED_VARIATION,ut,v.key,u,s),c.push([me.RETURNING_STORED_VARIATION,ut,v.key,u,s]),{result:v.key,reasons:c};var S=this.checkIfUserIsInAudience(e,n,J3.EXPERIMENT,a,"");if(c.push.apply(c,S.reasons),!S.result)return this.logger.log(ye.INFO,me.USER_NOT_IN_EXPERIMENT,ut,s,u),c.push([me.USER_NOT_IN_EXPERIMENT,ut,s,u]),{result:null,reasons:c};var E=this.buildBucketerParams(e,n,l,s),w=JN(E);c.push.apply(c,w.reasons);var T=w.result;return T&&(v=e.variationIdMap[T]),v?(this.logger.log(ye.INFO,me.USER_HAS_VARIATION,ut,s,v.key,u),c.push([me.USER_HAS_VARIATION,ut,s,v.key,u]),m||this.saveUserProfile(n,v,s,_),{result:v.key,reasons:c}):(this.logger.log(ye.DEBUG,me.USER_HAS_NO_VARIATION,ut,s,u),c.push([me.USER_HAS_NO_VARIATION,ut,s,u]),{result:null,reasons:c})},t.prototype.resolveExperimentBucketMap=function(e,n){n=n||{};var i=this.getUserProfile(e)||{},o=n[Go.STICKY_BUCKETING_KEY];return bt.assign({},i.experiment_bucket_map,o)},t.prototype.checkIfExperimentIsActive=function(e,n){return function(i,o){return WN(i,o)==="Running"}(e,n)},t.prototype.getWhitelistedVariation=function(e,n){var i=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(n)){var o=e.forcedVariations[n];return e.variationKeyMap.hasOwnProperty(o)?(this.logger.log(ye.INFO,me.USER_FORCED_IN_VARIATION,ut,n,o),i.push([me.USER_FORCED_IN_VARIATION,ut,n,o]),{result:e.variationKeyMap[o],reasons:i}):(this.logger.log(ye.ERROR,me.FORCED_BUCKETING_FAILED,ut,o,n),i.push([me.FORCED_BUCKETING_FAILED,ut,o,n]),{result:null,reasons:i})}return{result:null,reasons:i}},t.prototype.checkIfUserIsInAudience=function(e,n,i,o,s){var a=[],l=function(d,f){var h=d.experimentIdMap[f];if(!h)throw new Error(Ct.sprintf(wt.INVALID_EXPERIMENT_ID,Jr,f));return h.audienceConditions||h.audienceIds}(e,n.id),c=e.audiencesById;this.logger.log(ye.DEBUG,me.EVALUATING_AUDIENCES_COMBINED,ut,i,s||n.key,JSON.stringify(l)),a.push([me.EVALUATING_AUDIENCES_COMBINED,ut,i,s||n.key,JSON.stringify(l)]);var u=this.audienceEvaluator.evaluate(l,c,o);return this.logger.log(ye.INFO,me.AUDIENCE_EVALUATION_RESULT_COMBINED,ut,i,s||n.key,u.toString().toUpperCase()),a.push([me.AUDIENCE_EVALUATION_RESULT_COMBINED,ut,i,s||n.key,u.toString().toUpperCase()]),{result:u,reasons:a}},t.prototype.buildBucketerParams=function(e,n,i,o){return{bucketingId:i,experimentId:n.id,experimentKey:n.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:Noe(e,n.id),userId:o,variationIdMap:e.variationIdMap}},t.prototype.getStoredVariation=function(e,n,i,o){if(o.hasOwnProperty(n.id)){var s=o[n.id],a=s.variation_id;if(e.variationIdMap.hasOwnProperty(a))return e.variationIdMap[s.variation_id];this.logger.log(ye.INFO,me.SAVED_VARIATION_NOT_FOUND,ut,i,a,n.key)}return null},t.prototype.getUserProfile=function(e){var n={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return n;try{return this.userProfileService.lookup(e)}catch(i){this.logger.log(ye.ERROR,wt.USER_PROFILE_LOOKUP_ERROR,ut,e,i.message)}return null},t.prototype.saveUserProfile=function(e,n,i,o){if(this.userProfileService)try{o[e.id]={variation_id:n.id},this.userProfileService.save({user_id:i,experiment_bucket_map:o}),this.logger.log(ye.INFO,me.SAVED_VARIATION,ut,n.key,e.key,i)}catch(s){this.logger.log(ye.ERROR,wt.USER_PROFILE_SAVE_ERROR,ut,i,s.message)}},t.prototype.getVariationForFeature=function(e,n,i,o){o===void 0&&(o={});var s=[],a=this.getVariationForFeatureExperiment(e,n,i,o);s.push.apply(s,a.reasons);var l=a.result;if(l.variation!==null)return{result:l,reasons:s};var c=this.getVariationForRollout(e,n,i);s.push.apply(s,c.reasons);var u=c.result,d=i.getUserId();return u.variation?(this.logger.log(ye.DEBUG,me.USER_IN_ROLLOUT,ut,d,n.key),s.push([me.USER_IN_ROLLOUT,ut,d,n.key]),{result:u,reasons:s}):(this.logger.log(ye.DEBUG,me.USER_NOT_IN_ROLLOUT,ut,d,n.key),s.push([me.USER_NOT_IN_ROLLOUT,ut,d,n.key]),{result:u,reasons:s})},t.prototype.getVariationForFeatureExperiment=function(e,n,i,o){o===void 0&&(o={});var s,a,l=[],c=null;if(n.experimentIds.length>0)for(a=0;a<n.experimentIds.length;a++){var u=koe(e,n.experimentIds[a],this.logger);if(u&&(s=this.getVariationFromExperimentRule(e,n.key,u,i,o),l.push.apply(l,s.reasons),c=s.result))return{result:{experiment:u,variation:u.variationKeyMap[c],decisionSource:Xr.FEATURE_TEST},reasons:l}}else this.logger.log(ye.DEBUG,me.FEATURE_HAS_NO_EXPERIMENTS,ut,n.key),l.push([me.FEATURE_HAS_NO_EXPERIMENTS,ut,n.key]);return{result:{experiment:null,variation:null,decisionSource:Xr.FEATURE_TEST},reasons:l}},t.prototype.getVariationForRollout=function(e,n,i){var o=[];if(!n.rolloutId)return this.logger.log(ye.DEBUG,me.NO_ROLLOUT_EXISTS,ut,n.key),o.push([me.NO_ROLLOUT_EXISTS,ut,n.key]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};var s=e.rolloutIdMap[n.rolloutId];if(!s)return this.logger.log(ye.ERROR,wt.INVALID_ROLLOUT_ID,ut,n.rolloutId,n.key),o.push([wt.INVALID_ROLLOUT_ID,ut,n.rolloutId,n.key]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};var a,l,c,u=s.experiments;if(u.length===0)return this.logger.log(ye.ERROR,me.ROLLOUT_HAS_NO_EXPERIMENTS,ut,n.rolloutId),o.push([me.ROLLOUT_HAS_NO_EXPERIMENTS,ut,n.rolloutId]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};for(var d=0;d<u.length;){if(a=this.getVariationFromDeliveryRule(e,n.key,u,d,i),o.push.apply(o,a.reasons),c=a.result,l=a.skipToEveryoneElse,c)return{result:{experiment:e.experimentIdMap[u[d].id],variation:c,decisionSource:Xr.ROLLOUT},reasons:o};d=l?u.length-1:d+1}return{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o}},t.prototype.getBucketingId=function(e,n){var i=e;return n!=null&&typeof n=="object"&&n.hasOwnProperty(Go.BUCKETING_ID)&&(typeof n[Go.BUCKETING_ID]=="string"?(i=n[Go.BUCKETING_ID],this.logger.log(ye.DEBUG,me.VALID_BUCKETING_ID,ut,i)):this.logger.log(ye.WARNING,me.BUCKETING_ID_NOT_STRING,ut)),i},t.prototype.removeForcedVariation=function(e,n,i){if(!e)throw new Error(Ct.sprintf(wt.INVALID_USER_ID,ut));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(Ct.sprintf(wt.USER_NOT_IN_FORCED_VARIATION,ut,e));delete this.forcedVariationMap[e][n],this.logger.log(ye.DEBUG,me.VARIATION_REMOVED_FOR_USER,ut,i,e)},t.prototype.setInForcedVariationMap=function(e,n,i){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][n]=i,this.logger.log(ye.DEBUG,me.USER_MAPPED_TO_FORCED_VARIATION,ut,i,n,e)},t.prototype.getForcedVariation=function(e,n,i){var o,s=[],a=this.forcedVariationMap[i];if(!a)return this.logger.log(ye.DEBUG,me.USER_HAS_NO_FORCED_VARIATION,ut,i),{result:null,reasons:s};try{var l=Z3(e,n);if(!l.hasOwnProperty("id"))return this.logger.log(ye.ERROR,wt.IMPROPERLY_FORMATTED_EXPERIMENT,ut,n),s.push([wt.IMPROPERLY_FORMATTED_EXPERIMENT,ut,n]),{result:null,reasons:s};o=l.id}catch(d){return this.logger.log(ye.ERROR,d.message),s.push(d.message),{result:null,reasons:s}}var c=a[o];if(!c)return this.logger.log(ye.DEBUG,me.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,ut,n,i),{result:null,reasons:s};var u=qN(e,c);return u?(this.logger.log(ye.DEBUG,me.USER_HAS_FORCED_VARIATION,ut,u,n,i),s.push([me.USER_HAS_FORCED_VARIATION,ut,u,n,i])):this.logger.log(ye.DEBUG,me.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,ut,n,i),{result:u,reasons:s}},t.prototype.setForcedVariation=function(e,n,i,o){if(o!=null&&!sk(o))return this.logger.log(ye.ERROR,wt.INVALID_VARIATION_KEY,ut),!1;var s;try{var a=Z3(e,n);if(!a.hasOwnProperty("id"))return this.logger.log(ye.ERROR,wt.IMPROPERLY_FORMATTED_EXPERIMENT,ut,n),!1;s=a.id}catch(c){return this.logger.log(ye.ERROR,c.message),!1}if(o==null)try{return this.removeForcedVariation(i,s,n),!0}catch(c){return this.logger.log(ye.ERROR,c.message),!1}var l=function(c,u,d){var f=c.experimentKeyMap[u];return f.variationKeyMap.hasOwnProperty(d)?f.variationKeyMap[d].id:null}(e,n,o);if(!l)return this.logger.log(ye.ERROR,wt.NO_VARIATION_FOR_EXPERIMENT_KEY,ut,o,n),!1;try{return this.setInForcedVariationMap(i,s,l),!0}catch(c){return this.logger.log(ye.ERROR,c.message),!1}},t.prototype.getVariationFromExperimentRule=function(e,n,i,o,s){s===void 0&&(s={});var a=[],l=o.findValidatedForcedDecision(n,i.key);a.push.apply(a,l.reasons);var c=l.result;if(c)return{result:c.key,reasons:a};var u=this.getVariation(e,i,o,s);return a.push.apply(a,u.reasons),{result:u.result,reasons:a}},t.prototype.getVariationFromDeliveryRule=function(e,n,i,o,s){var a=[],l=!1,c=i[o],u=s.findValidatedForcedDecision(n,c.key);a.push.apply(a,u.reasons);var d=u.result;if(d)return{result:d,reasons:a,skipToEveryoneElse:l};var f,h,v,m,_,S=s.getUserId(),E=s.getAttributes(),w=this.getBucketingId(S,E),T=o===i.length-1,C=T?"Everyone Else":o+1,P=null,R=this.checkIfUserIsInAudience(e,c,J3.RULE,E,C);return a.push.apply(a,R.reasons),R.result?(this.logger.log(ye.DEBUG,me.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,ut,S,C),a.push([me.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,ut,S,C]),h=this.buildBucketerParams(e,c,w,S),v=JN(h),a.push.apply(a,v.reasons),(f=v.result)&&(_=f,P=(m=e).variationIdMap.hasOwnProperty(_)?m.variationIdMap[_]:null),P?(this.logger.log(ye.DEBUG,me.USER_BUCKETED_INTO_TARGETING_RULE,ut,S,C),a.push([me.USER_BUCKETED_INTO_TARGETING_RULE,ut,S,C])):T||(this.logger.log(ye.DEBUG,me.USER_NOT_BUCKETED_INTO_TARGETING_RULE,ut,S,C),a.push([me.USER_NOT_BUCKETED_INTO_TARGETING_RULE,ut,S,C]),l=!0)):(this.logger.log(ye.DEBUG,me.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,ut,S,C),a.push([me.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,ut,S,C])),{result:P,reasons:a,skipToEveryoneElse:l}},t}();function ok(t,e){if(t.hasOwnProperty("revenue")){var n=t.revenue,i=void 0;return typeof n=="string"?(i=parseInt(n),isNaN(i)?(e.log(ye.INFO,me.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(e.log(ye.INFO,me.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i)):typeof n=="number"?(i=n,e.log(ye.INFO,me.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function ak(t,e){if(t.hasOwnProperty("value")){var n=t.value,i=void 0;return typeof n=="string"?(i=parseFloat(n),isNaN(i)?(e.log(ye.INFO,me.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(e.log(ye.INFO,me.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i)):typeof n=="number"?(i=n,e.log(ye.INFO,me.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function lk(t,e){return typeof t=="string"&&(typeof e=="string"||typeof e=="boolean"||bt.isNumber(e)&&bt.isSafeInteger(e))}var ck="https://logx.optimizely.com/v1/events";function uk(t){var e=t.attributes,n=t.userId,i=t.clientEngine,o=t.clientVersion,s=t.configObj,a=t.logger,l=!!s.anonymizeIP&&s.anonymizeIP,c=s.botFiltering,u={snapshots:[],visitor_id:n,attributes:[]},d={account_id:s.accountId,project_id:s.projectId,visitors:[u],revision:s.revision,client_name:i,client_version:o,anonymize_ip:l,enrich_decisions:!0};return e&&Object.keys(e||{}).forEach(function(f){if(lk(f,e[f])){var h=GN(s,f,a);h&&d.visitors[0].attributes.push({entity_id:h,key:f,type:"custom",value:e[f]})}}),typeof c=="boolean"&&d.visitors[0].attributes.push({entity_id:Go.BOT_FILTERING,key:Go.BOT_FILTERING,type:"custom",value:c}),d}function zoe(t){var e,n,i,o,s,a,l,c,u,d=uk(t),f=(e=t.configObj,n=t.experimentId,i=t.variationId,o=t.ruleKey,s=t.ruleType,a=t.flagKey,l=t.enabled,c=n?zN(e,n):null,u=i?qN(e,i):null,{decisions:[{campaign_id:c,experiment_id:n,variation_id:i,metadata:{flag_key:a,rule_key:o,rule_type:s,variation_key:u=u||"",enabled:l}}],events:[{entity_id:c,timestamp:bt.currentTimestamp(),key:"campaign_activated",uuid:bt.uuid()}]});return d.visitors[0].snapshots.push(f),{httpVerb:"POST",url:ck,params:d}}function Goe(t){var e=uk(t),n=function(i,o,s,a){var l={events:[]},c={entity_id:$N(i,o),timestamp:bt.currentTimestamp(),uuid:bt.uuid(),key:o};if(a){var u=ok(a,s);u!==null&&(c.revenue=u);var d=ak(a,s);d!==null&&(c.value=d),c.tags=a}return l.events.push(c),l}(t.configObj,t.eventKey,t.logger,t.eventTags);return e.visitors[0].snapshots=[n],{httpVerb:"POST",url:ck,params:e}}function eT(t){var e,n;return(n=(e=t.experiment)===null||e===void 0?void 0:e.key)!==null&&n!==void 0?n:""}function tT(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.key)!==null&&n!==void 0?n:""}function Ey(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.featureEnabled)!==null&&n!==void 0&&n}function dk(t){var e,n;return(n=(e=t.experiment)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:null}function fk(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:null}var nT=Ln.getLogger("EVENT_BUILDER");function hk(t,e){var n=[];return e&&Object.keys(e||{}).forEach(function(i){if(lk(i,e[i])){var o=GN(t,i,nT);o&&n.push({entityId:o,key:i,value:e[i]})}}),n}var rT="USER_PROFILE_SERVICE_VALIDATOR",$oe=function(){function t(e){var n,i=this,o=e.clientEngine;o||(e.logger.log(ye.INFO,me.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o),o="node-sdk"),this.clientEngine=o,this.clientVersion=e.clientVersion||"4.8.0",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var s=(n=e.defaultDecideOptions)!==null&&n!==void 0?n:[];Array.isArray(s)||(this.logger.log(ye.DEBUG,me.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),s=[]);var a={};s.forEach(function(f){$o[f]?a[f]=!0:i.logger.log(ye.WARNING,me.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",f)}),this.defaultDecideOptions=a,this.projectConfigManager=function(f){return new Doe(f)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(f){i.logger.log(ye.INFO,me.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",f.revision,f.projectId),i.notificationCenter.sendNotifications(Hs.OPTIMIZELY_CONFIG_UPDATE)});var l,c=this.projectConfigManager.onReady(),u=null;if(e.userProfileService)try{(function(f){if(typeof f=="object"&&f!==null){if(typeof f.lookup!="function")throw new Error(Ct.sprintf(wt.INVALID_USER_PROFILE_SERVICE,rT,"Missing function 'lookup'"));if(typeof f.save!="function")throw new Error(Ct.sprintf(wt.INVALID_USER_PROFILE_SERVICE,rT,"Missing function 'save'"));return!0}throw new Error(Ct.sprintf(wt.INVALID_USER_PROFILE_SERVICE,rT))})(e.userProfileService)&&(u=e.userProfileService,this.logger.log(ye.INFO,me.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(f){this.logger.log(ye.WARNING,f.message)}this.decisionService=(l={userProfileService:u,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Hoe(l)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var d=this.eventProcessor.start();this.readyPromise=Promise.all([c,d]).then(function(f){return f[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return t.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},t.prototype.activate=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:n},i))return this.notActivatingExperiment(e,n);var o=this.projectConfigManager.getConfig();if(!o)return null;try{var s=this.getVariation(e,n,i);if(s===null)return this.notActivatingExperiment(e,n);if(!function(c,u){return WN(c,u)==="Running"}(o,e))return this.logger.log(ye.DEBUG,me.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),s;var a=Z3(o,e),l={experiment:a,variation:a.variationKeyMap[s],decisionSource:Xr.EXPERIMENT};return this.sendImpressionEvent(l,"",n,!0,i),s}catch(c){return this.logger.log(ye.ERROR,c.message),this.logger.log(ye.INFO,me.NOT_ACTIVATING_USER,"OPTIMIZELY",n,e),this.errorHandler.handleError(c),null}}catch(c){return this.logger.log(ye.ERROR,c.message),this.errorHandler.handleError(c),null}},t.prototype.sendImpressionEvent=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(a){var l=function(c){var u=c.configObj,d=c.decisionObj,f=c.userId,h=c.flagKey,v=c.enabled,m=c.userAttributes,_=c.clientEngine,S=c.clientVersion,E=d.decisionSource,w=eT(d),T=dk(d),C=tT(d),P=fk(d),R=T!==null?zN(u,T):null;return{type:"impression",timestamp:bt.currentTimestamp(),uuid:bt.uuid(),user:{id:f,attributes:hk(u,m)},context:{accountId:u.accountId,projectId:u.projectId,revision:u.revision,clientName:_,clientVersion:S,anonymizeIP:u.anonymizeIP||!1,botFiltering:u.botFiltering},layer:{id:R},experiment:{id:T,key:w},variation:{id:P,key:C},ruleKey:w,flagKey:h,ruleType:E,enabled:v}}({decisionObj:e,flagKey:n,enabled:o,userId:i,userAttributes:s,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a});this.eventProcessor.process(l),this.emitNotificationCenterActivate(e,n,i,o,s)}},t.prototype.emitNotificationCenterActivate=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(a){var l,c=e.decisionSource,u=eT(e),d=dk(e),f=tT(e),h=fk(e);d!==null&&f!==""&&(l=a.experimentIdMap[d]);var v,m=zoe({attributes:s,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a,experimentId:d,ruleKey:u,flagKey:n,ruleType:c,userId:i,enabled:o,variationId:h,logger:this.logger});l&&l.variationKeyMap&&f!==""&&(v=l.variationKeyMap[f]),this.notificationCenter.sendNotifications(Hs.ACTIVATE,{experiment:l,userId:i,attributes:s,variation:v,logEvent:m})}},t.prototype.track=function(e,n,i,o){try{if(!this.isValidInstance())return void this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:n,event_key:e},i,o))return;var s=this.projectConfigManager.getConfig();if(!s)return;if(!function(l,c){return l.eventKeyMap.hasOwnProperty(c)}(s,e))return this.logger.log(ye.WARNING,me.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(ye.WARNING,me.NOT_TRACKING_USER,"OPTIMIZELY",n);var a=function(l){var c=l.configObj,u=l.userId,d=l.userAttributes,f=l.clientEngine,h=l.clientVersion,v=l.eventKey,m=l.eventTags,_=$N(c,v),S=m?ok(m,nT):null,E=m?ak(m,nT):null;return{type:"conversion",timestamp:bt.currentTimestamp(),uuid:bt.uuid(),user:{id:u,attributes:hk(c,d)},context:{accountId:c.accountId,projectId:c.projectId,revision:c.revision,clientName:f,clientVersion:h,anonymizeIP:c.anonymizeIP||!1,botFiltering:c.botFiltering},event:{id:_,key:v},revenue:S,value:E,tags:m}}({eventKey:e,eventTags:o=this.filterEmptyValues(o),userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s});this.logger.log(ye.INFO,me.TRACK_EVENT,"OPTIMIZELY",e,n),this.eventProcessor.process(a),this.emitNotificationCenterTrack(e,n,i,o)}catch(l){this.logger.log(ye.ERROR,l.message),this.errorHandler.handleError(l),this.logger.log(ye.ERROR,me.NOT_TRACKING_USER,"OPTIMIZELY",n)}},t.prototype.emitNotificationCenterTrack=function(e,n,i,o){try{var s=this.projectConfigManager.getConfig();if(!s)return;var a=Goe({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s,eventKey:e,eventTags:o,logger:this.logger,userId:n});this.notificationCenter.sendNotifications(Hs.TRACK,{eventKey:e,userId:n,attributes:i,eventTags:o,logEvent:a})}catch(l){this.logger.log(ye.ERROR,l.message),this.errorHandler.handleError(l)}},t.prototype.getVariation=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:n},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var s=o.experimentKeyMap[e];if(!s)return this.logger.log(ye.DEBUG,wt.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var a=this.decisionService.getVariation(o,s,this.createUserContext(n,i)).result,l=(c=o,u=s.id,c.experimentFeatureMap.hasOwnProperty(u)?Pu.FEATURE_TEST:Pu.AB_TEST);return this.notificationCenter.sendNotifications(Hs.DECISION,{type:l,userId:n,attributes:i||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(d){return this.logger.log(ye.ERROR,d.message),this.errorHandler.handleError(d),null}}catch(d){return this.logger.log(ye.ERROR,d.message),this.errorHandler.handleError(d),null}var c,u},t.prototype.setForcedVariation=function(e,n,i){if(!this.validateInputs({experiment_key:e,user_id:n}))return!1;var o=this.projectConfigManager.getConfig();if(!o)return!1;try{return this.decisionService.setForcedVariation(o,e,n,i)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),!1}},t.prototype.getForcedVariation=function(e,n){if(!this.validateInputs({experiment_key:e,user_id:n}))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;try{return this.decisionService.getForcedVariation(i,e,n).result}catch(o){return this.logger.log(ye.ERROR,o.message),this.errorHandler.handleError(o),null}},t.prototype.validateInputs=function(e,n,i){try{if(e.hasOwnProperty("user_id")){var o=e.user_id;if(typeof o!="string"||o===null||o==="undefined")throw new Error(Ct.sprintf(wt.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(s){if(!sk(e[s]))throw new Error(Ct.sprintf(wt.INVALID_INPUT_FORMAT,"OPTIMIZELY",s))}),n&&function(s){if(typeof s!="object"||Array.isArray(s)||s===null)throw new Error(Ct.sprintf(wt.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(s).forEach(function(a){if(s[a]===void 0)throw new Error(Ct.sprintf(wt.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",a))})}(n),i&&function(s){if(typeof s!="object"||Array.isArray(s)||s===null)throw new Error(Ct.sprintf(wt.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(i),!0}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),!1}},t.prototype.notActivatingExperiment=function(e,n){return this.logger.log(ye.INFO,me.NOT_ACTIVATING_USER,"OPTIMIZELY",n,e),null},t.prototype.filterEmptyValues=function(e){for(var n in e)!e.hasOwnProperty(n)||e[n]!==null&&e[n]!==void 0||delete e[n];return e},t.prototype.isFeatureEnabled=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:n},i))return!1;var o=this.projectConfigManager.getConfig();if(!o)return!1;var s=Q3(o,e,this.logger);if(!s)return!1;var a={},l=this.createUserContext(n,i),c=this.decisionService.getVariationForFeature(o,s,l).result,u=c.decisionSource,d=eT(c),f=tT(c),h=Ey(c);u===Xr.FEATURE_TEST&&(a={experimentKey:d,variationKey:f}),(u===Xr.FEATURE_TEST||u===Xr.ROLLOUT&&XN(o))&&this.sendImpressionEvent(c,s.key,n,h,i),h===!0?this.logger.log(ye.INFO,me.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,n):(this.logger.log(ye.INFO,me.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,n),h=!1);var v={featureKey:e,featureEnabled:h,source:c.decisionSource,sourceInfo:a};return this.notificationCenter.sendNotifications(Hs.DECISION,{type:Pu.FEATURE,userId:n,attributes:i||{},decisionInfo:v}),h}catch(m){return this.logger.log(ye.ERROR,m.message),this.errorHandler.handleError(m),!1}},t.prototype.getEnabledFeatures=function(e,n){var i=this;try{var o=[];if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),o;if(!this.validateInputs({user_id:e}))return o;var s=this.projectConfigManager.getConfig();return s&&Ct.objectValues(s.featureKeyMap).forEach(function(a){i.isFeatureEnabled(a.key,e,n)&&o.push(a.key)}),o}catch(a){return this.logger.log(ye.ERROR,a.message),this.errorHandler.handleError(a),[]}},t.prototype.getFeatureVariable=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,null,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableForType=function(e,n,i,o,s){if(!this.validateInputs({feature_key:e,variable_key:n,user_id:o},s))return null;var a=this.projectConfigManager.getConfig();if(!a)return null;var l=Q3(a,e,this.logger);if(!l)return null;var c=function(m,_,S,E){var w=m.featureKeyMap[_];if(!w)return E.log(ye.ERROR,wt.FEATURE_NOT_IN_DATAFILE,Jr,_),null;var T=w.variableKeyMap[S];return T||(E.log(ye.ERROR,wt.VARIABLE_KEY_NOT_IN_DATAFILE,Jr,S,_),null)}(a,e,n,this.logger);if(!c)return null;if(i&&c.type!==i)return this.logger.log(ye.WARNING,me.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",i,c.type),null;var u=this.createUserContext(o,s),d=this.decisionService.getVariationForFeature(a,l,u).result,f=Ey(d),h=this.getFeatureVariableValueFromVariation(e,f,d.variation,c,o),v={};return d.decisionSource===Xr.FEATURE_TEST&&d.experiment!==null&&d.variation!==null&&(v={experimentKey:d.experiment.key,variationKey:d.variation.key}),this.notificationCenter.sendNotifications(Hs.DECISION,{type:Pu.FEATURE_VARIABLE,userId:o,attributes:s||{},decisionInfo:{featureKey:e,featureEnabled:f,source:d.decisionSource,variableKey:n,variableValue:h,variableType:c.type,sourceInfo:v}}),h},t.prototype.getFeatureVariableValueFromVariation=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(!a)return null;var l=o.defaultValue;if(i!==null){var c=function(u,d,f,h){if(!d||!f)return null;if(!u.variationVariableUsageMap.hasOwnProperty(f.id))return h.log(ye.ERROR,wt.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,Jr,f.id),null;var v=u.variationVariableUsageMap[f.id][d.id];return v?v.value:null}(a,o,i,this.logger);c!==null?n?(l=c,this.logger.log(ye.INFO,me.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",l,o.key,e)):this.logger.log(ye.INFO,me.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,s,l):this.logger.log(ye.INFO,me.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",o.key,i.key)}else this.logger.log(ye.INFO,me.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",s,o.key,e);return function(u,d,f){var h;switch(d){case us.BOOLEAN:u!=="true"&&u!=="false"?(f.log(ye.ERROR,wt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null):h=u==="true";break;case us.INTEGER:h=parseInt(u,10),isNaN(h)&&(f.log(ye.ERROR,wt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null);break;case us.DOUBLE:h=parseFloat(u),isNaN(h)&&(f.log(ye.ERROR,wt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null);break;case us.JSON:try{h=JSON.parse(u)}catch{f.log(ye.ERROR,wt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null}break;default:h=u}return h}(l,o.type,this.logger)},t.prototype.getFeatureVariableBoolean=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.BOOLEAN,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableDouble=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.DOUBLE,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableInteger=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.INTEGER,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableString=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.STRING,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableJSON=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.JSON,i,o):(this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getAllFeatureVariables=function(e,n,i){var o=this;try{if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:n},i))return null;var s=this.projectConfigManager.getConfig();if(!s)return null;var a=Q3(s,e,this.logger);if(!a)return null;var l=this.createUserContext(n,i),c=this.decisionService.getVariationForFeature(s,a,l).result,u=Ey(c),d={};a.variables.forEach(function(h){d[h.key]=o.getFeatureVariableValueFromVariation(e,u,c.variation,h,n)});var f={};return c.decisionSource===Xr.FEATURE_TEST&&c.experiment!==null&&c.variation!==null&&(f={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(Hs.DECISION,{type:Pu.ALL_FEATURE_VARIABLES,userId:n,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:u,source:c.decisionSource,variableValues:d,sourceInfo:f}}),d}catch(h){return this.logger.log(ye.ERROR,h.message),this.errorHandler.handleError(h),null}},t.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(ye.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.close=function(){var e=this;try{var n=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(i){var o=e.readyTimeouts[i];clearTimeout(o.readyTimeout),o.onClose()}),this.readyTimeouts={},n.then(function(){return{success:!0}},function(i){return{success:!1,reason:String(i)}})}catch(i){return this.logger.log(ye.ERROR,i.message),this.errorHandler.handleError(i),Promise.resolve({success:!1,reason:String(i)})}},t.prototype.onReady=function(e){var n,i,o=this;typeof e=="object"&&e!==null&&e.timeout!==void 0&&(n=e.timeout),bt.isSafeInteger(n)||(n=3e4);var s=new Promise(function(c){i=c}),a=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var l=setTimeout(function(){delete o.readyTimeouts[a],i({success:!1,reason:Ct.sprintf("onReady timeout expired after %s ms",n)})},n);return this.readyTimeouts[a]={readyTimeout:l,onClose:function(){i({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(l),delete o.readyTimeouts[a],i({success:!0})}),Promise.race([this.readyPromise,s])},t.prototype.createUserContext=function(e,n){return this.validateInputs({user_id:e},n)?new Roe({optimizely:this,userId:e,attributes:n}):null},t.prototype.decide=function(e,n,i){var o,s,a,l,c=this;i===void 0&&(i=[]);var u,d=e.getUserId(),f=e.getAttributes(),h=this.projectConfigManager.getConfig(),v=[];if(!this.isValidInstance()||!h)return this.logger.log(ye.INFO,me.INVALID_OBJECT,"OPTIMIZELY","decide"),VN(n,e,[Ru.SDK_NOT_READY]);var m=h.featureKeyMap[n];if(!m)return this.logger.log(ye.ERROR,wt.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),VN(n,e,[Ct.sprintf(Ru.FLAG_KEY_INVALID,n)]);var _=this.getAllDecideOptions(i),S=e.findValidatedForcedDecision(n);v.push.apply(v,S.reasons);var E=S.result;if(E)u={experiment:null,variation:E,decisionSource:Xr.FEATURE_TEST};else{var w=this.decisionService.getVariationForFeature(h,m,e,_);v.push.apply(v,w.reasons),u=w.result}var T=u.decisionSource,C=(s=(o=u.experiment)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:null,P=(l=(a=u.variation)===null||a===void 0?void 0:a.key)!==null&&l!==void 0?l:null,R=Ey(u);R===!0?this.logger.log(ye.INFO,me.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,d):this.logger.log(ye.INFO,me.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,d);var A={},L=!1;_[$o.EXCLUDE_VARIABLES]||m.variables.forEach(function(O){A[O.key]=c.getFeatureVariableValueFromVariation(n,R,u.variation,O,d)}),!_[$o.DISABLE_DECISION_EVENT]&&(T===Xr.FEATURE_TEST||T===Xr.ROLLOUT&&XN(h))&&(this.sendImpressionEvent(u,n,d,R,f),L=!0);var k=[];_[$o.INCLUDE_REASONS]&&(k=v.map(function(O){return Ct.sprintf.apply(void 0,X3([O[0]],O.slice(1)))}));var U={flagKey:n,enabled:R,variationKey:P,ruleKey:C,variables:A,reasons:k,decisionEventDispatched:L};return this.notificationCenter.sendNotifications(Hs.DECISION,{type:Pu.FLAG,userId:d,attributes:f,decisionInfo:U}),{variationKey:P,enabled:R,variables:A,ruleKey:C,flagKey:n,userContext:e,reasons:k}},t.prototype.getAllDecideOptions=function(e){var n=this,i=Au({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(o){$o[o]?i[o]=!0:n.logger.log(ye.WARNING,me.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",o)}):this.logger.log(ye.DEBUG,me.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),i},t.prototype.decideForKeys=function(e,n,i){var o=this;i===void 0&&(i=[]);var s={};if(!this.isValidInstance())return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),s;if(n.length===0)return s;var a=this.getAllDecideOptions(i);return n.forEach(function(l){var c=o.decide(e,l,i);a[$o.ENABLED_FLAGS_ONLY]&&!c.enabled||(s[l]=c)}),s},t.prototype.decideAll=function(e,n){n===void 0&&(n=[]);var i=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!i)return this.logger.log(ye.ERROR,me.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var o=Object.keys(i.featureKeyMap);return this.decideForKeys(e,o,n)},t.prototype.getFlagVariationByKey=function(e,n){var i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.flagVariationsMap[e],s=Ct.find(o,function(a){return a.key===n});return s||null},t}(),Woe=function(t){return!(typeof t!="number"||!bt.isSafeInteger(t))&&t>=1},qoe=function(t){return!(typeof t!="number"||!bt.isSafeInteger(t))&&t>0},Yoe=function(){function t(e){var n=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},Ct.objectValues(Hs).forEach(function(i){n.notificationListeners[i]=[]}),this.listenerId=1}return t.prototype.addNotificationListener=function(e,n){try{if(!(Ct.objectValues(Hs).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var i=!1;if((this.notificationListeners[e]||[]).forEach(function(s){s.callback!==n||(i=!0)}),i)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:n});var o=this.listenerId;return this.listenerId+=1,o}catch(s){return this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s),-1}},t.prototype.removeNotificationListener=function(e){var n=this;try{var i,o;if(Object.keys(this.notificationListeners).some(function(s){return(n.notificationListeners[s]||[]).every(function(a,l){return a.id!==e||(i=l,o=s,!1)}),i!==void 0&&o!==void 0}),i!==void 0&&o!==void 0)return this.notificationListeners[o].splice(i,1),!0}catch(s){this.logger.log(ye.ERROR,s.message),this.errorHandler.handleError(s)}return!1},t.prototype.clearAllNotificationListeners=function(){var e=this;try{Ct.objectValues(Hs).forEach(function(n){e.notificationListeners[n]=[]})}catch(n){this.logger.log(ye.ERROR,n.message),this.errorHandler.handleError(n)}},t.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(n){this.logger.log(ye.ERROR,n.message),this.errorHandler.handleError(n)}},t.prototype.sendNotifications=function(e,n){var i=this;try{(this.notificationListeners[e]||[]).forEach(function(o){var s=o.callback;try{s(n)}catch(a){i.logger.log(ye.ERROR,me.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,a.message)}})}catch(o){this.logger.log(ye.ERROR,o.message),this.errorHandler.handleError(o)}},t}(),Koe={createEventProcessor:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(Nm.LogTierV1EventProcessor.bind.apply(Nm.LogTierV1EventProcessor,X3([void 0],t)))},LocalStoragePendingEventsDispatcher:Nm.LocalStoragePendingEventsDispatcher};function Xoe(t,e,n,i){var o={sdkKey:t};if((i===void 0||typeof i=="object"&&i!==null)&&bt.assign(o,i),n){var s=KN({datafile:n,jsonSchemaValidator:void 0,logger:e}),a=s.configObj,l=s.error;l&&e.error(l),a&&(o.datafile=YN(a))}return new woe(o)}var hc=Ln.getLogger();Ln.setLogHandler(jN()),Ln.setLogLevel(Ln.LogLevel.INFO);var iT=!1,Joe=function(t){try{t.errorHandler&&Ln.setErrorHandler(t.errorHandler),t.logger&&(Ln.setLogHandler(t.logger),Ln.setLogLevel(Ln.LogLevel.NOTSET)),t.logLevel!==void 0&&Ln.setLogLevel(t.logLevel);try{Toe(t),t.isValidInstance=!0}catch(d){hc.error(d),t.isValidInstance=!1}var e=void 0;t.eventDispatcher==null?(e=new Nm.LocalStoragePendingEventsDispatcher({eventDispatcher:FN}),iT||(e.sendPendingEvents(),iT=!0)):e=t.eventDispatcher;var n=t.eventBatchSize,i=t.eventFlushInterval;Woe(t.eventBatchSize)||(hc.warn("Invalid eventBatchSize %s, defaulting to %s",t.eventBatchSize,10),n=10),qoe(t.eventFlushInterval)||(hc.warn("Invalid eventFlushInterval %s, defaulting to %s",t.eventFlushInterval,1e3),i=1e3);var o=Ln.getErrorHandler(),s=new Yoe({logger:hc,errorHandler:o}),a={dispatcher:e,flushInterval:i,batchSize:n,maxQueueSize:t.eventMaxQueueSize||1e4,notificationCenter:s},l=Au(Au({clientEngine:"javascript-sdk"},t),{eventProcessor:Koe.createEventProcessor(a),logger:hc,errorHandler:o,datafileManager:t.sdkKey?Xoe(t.sdkKey,hc,t.datafile,t.datafileOptions):void 0,notificationCenter:s}),c=new $oe(l);try{if(typeof window.addEventListener=="function"){var u="onpagehide"in window?"pagehide":"unload";window.addEventListener(u,function(){c.close()},!1)}}catch(d){hc.error(me.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",d.message)}return c}catch(d){return hc.error(d),null}},Zoe=function(){iT=!1},wy={logging:Poe,errorHandler:Moe,eventDispatcher:FN,enums:xoe,setLogger:Ln.setLogHandler,setLogLevel:Ln.setLogLevel,createInstance:Joe,__internalResetRetryState:Zoe,OptimizelyDecideOption:$o};const Qoe={production:{ENVIRONMENT:"production",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"},compute:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"}},GITHUB_CLIENT_ID:"b4cb743ed07e20abf0b2",FACEBOOK_CLIENT_ID:"660180164153542",SEGMENT_WRITE_KEY:"N8NetCAuTbHYGqtQtb44FFBSPUXwsAu2",FIREBASE_AUTH_CLIENT_ID:"713678572461-k1aepj16cvnbcaiaif34mgavgpj10gjg.apps.googleusercontent.com",SENTRY_DSN:"https://029cb06346934232bbc4ea4f4c16f1b7@sentry.io/1247156",GRECAPTCHA_SITE_KEY:"6LcqF6gZAAAAAHE-lzA_9GAux7eX9OHaQ5VdEo0C",OPTIMIZELY_KEY:"GZMqH7Aou8QmcPV2hm16wj",OPTIMIZELY_LOG_LEVEL:wy.enums.LOG_LEVEL.ERROR},staging:{ENVIRONMENT:"staging",BASE_URL:"staging.glitch.com",API_URL:"https://api.staging.glitch.com",CDN_URL:"https://cdn.staging.glitch.me",PROJECT_URL:"https://%s.staging.glitch.me",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.staging.glitch.dev",pub:"https://%s.staging.glitch.app"},compute:{dev:"https://%s.staging.glitch.dev",pub:"https://%s.staging.glitch.app"}},GITHUB_CLIENT_ID:"65efbd87382354ca25e7",FACEBOOK_CLIENT_ID:"1858825521057112",SEGMENT_WRITE_KEY:"K88LAtKLCZzZw7SgC76KnGuWjMOhGwLL",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:"https://029cb06346934232bbc4ea4f4c16f1b7@sentry.io/1247156",GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"E93QJ2WwhcfKwSLR9Bi3ow"},development:{ENVIRONMENT:"development",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"},compute:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"}},GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LcqF6gZAAAAAHE-lzA_9GAux7eX9OHaQ5VdEo0C",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},backend_development:{ENVIRONMENT:"development",BASE_URL:"glitch.development",API_URL:"https://api.glitch.development",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"https://%s.glitch.development",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.glitch.devdev",pub:"https://%s.edgecompute.app"},compute:{dev:"https://%s.glitch.devdev",pub:"https://%s.edgecompute.app"}},GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},local_projecthost_development:{ENVIRONMENT:"development",BASE_URL:"glitch.localprojecthost:3031",API_URL:"http://api.glitch.localprojecthost:3031",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"http://%s.glitch.localprojecthost:3031",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.glitch.devdev",pub:"https://%s.edgecompute.app"},compute:{dev:"https://%s.glitch.devdev",pub:"https://%s.edgecompute.app"}},GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},test:{ENVIRONMENT:"test",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"},compute:{dev:"https://%s.glitch.dev",pub:"https://%s.glitch.app"}},GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:null},integration:{ENVIRONMENT:"test",BASE_URL:"testing.staging.glitch.com",API_URL:"https://api.testing.staging.glitch.com",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"https://%s.testing.staging.glitch.com",PROJECT_EDGE_URLS:{cache:{dev:"https://%s.testing.staging.glitch.dev",pub:"https://%s.testing.staging.glitch.app"},compute:{dev:"https://%s.testing.staging.glitch.dev",pub:"https://%s.testing.staging.glitch.app"}},GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"kGzmyXiGAJTsrui83yBRz1lDLHU7ROY9"}};let Iu="production",jm="glitch.com";var VW;{const{MODE:t,VITE_ENV:e}={BASE_URL:"/edit/",MODE:"production",DEV:!1,PROD:!0};Iu=(VW=e!=null?e:t)!=null?VW:Iu,jm={}.BACKEND_HOSTNAME}typeof window!="undefined"&&(window.location.origin==="https://staging.glitch.com"?Iu="staging":window.location.origin==="https://glitch.development"&&(Iu="backend_development"));if(typeof process!="undefined"){const{VITE_ENV:t}=process.env;Iu=t!=null?t:Iu,jm=void 0}let sT=Qoe[Iu];jm&&(sT=Ge(de({},sT),{API_URL:`https://api.${jm}`,PROJECT_URL:`https://%s.${jm}`}));const{API_URL:Wo,BASE_URL:xy,CDN_URL:oT,ENVIRONMENT:aT,FACEBOOK_CLIENT_ID:kUe,FIREBASE_AUTH_CLIENT_ID:eae,GITHUB_CLIENT_ID:tae,GRECAPTCHA_SITE_KEY:nae,OPTIMIZELY_KEY:pk,OPTIMIZELY_LOG_LEVEL:rae,PROJECT_EDGE_URLS:iae,PROJECT_URL:mk,SEGMENT_WRITE_KEY:sae,SENTRY_DSN:gk}=sT;var oae=/(Edge\/(16(?:\.0)?|16(?:\.([1-9]|\d{2,}))?|(1[7-9]|[2-9]\d|\d{3,})(?:\.\d+)?|79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|(HeadlessChrome((?:\/41\.0\.\d+)?|(?:\/41\.([1-9]|\d{2,})\.\d+)?|(?:\/(4[2-9]|[5-9]\d|\d{3,})\.\d+\.\d+)?|(?:\/83\.0\.\d+)?|(?:\/83\.([1-9]|\d{2,})\.\d+)?|(?:\/(8[4-9]|9\d|\d{3,})\.\d+\.\d+)?))|((Chromium|Chrome)\/(41\.0|41\.([1-9]|\d{2,})|(4[2-9]|[5-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$)))|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;const aae=["TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource.","TypeError: Cancelled"];function vk(t,e){const n=JSON.stringify(t);return JSON.parse(n,(i,o)=>{for(const s of e)if(s instanceof RegExp&&i.match&&i.match(s)||i===s)return"[FILTERED]";try{const s=JSON.parse(o);if(s&&typeof s=="object"){const a=vk(s,e);return JSON.stringify(a)}}catch{}return o})}function lae(t){return vk(t,["email","password",/\w+Token/])}function Yi(t,e={}){aT==="development"&&(console.group("Captured error for Sentry"),console.error(t),console.groupEnd()),sN(n=>{n.setTags(e.tags),iN(t)})}function cae(){try{gk&&window.navigator.userAgent.match(oae)&&cse({dsn:gk,environment:aT,release:"glitch-frontend@b2cc72595989dea0c682590d781dddbdf876617f",whitelistUrls:[/glitch\.com/,/glitch\.me/,/localhost/,/localhost\:8000/,/webpack/],ignoreErrors:aae,beforeSend(t){return lae(t)}})}catch(t){console.error("Error while setting up Sentry:"),console.error(t)}}function uae(t,e){Sie(n=>{n.setTag(t,e)})}var dae=Array.isArray,qo=dae,fae=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,yk=fae,hae=yk,pae=typeof self=="object"&&self&&self.Object===Object&&self,mae=hae||pae||Function("return this")(),Yo=mae,gae=Yo,vae=gae.Symbol,Bm=vae,_k=Bm,bk=Object.prototype,yae=bk.hasOwnProperty,_ae=bk.toString,Vm=_k?_k.toStringTag:void 0;function bae(t){var e=yae.call(t,Vm),n=t[Vm];try{t[Vm]=void 0;var i=!0}catch{}var o=_ae.call(t);return i&&(e?t[Vm]=n:delete t[Vm]),o}var Eae=bae,wae=Object.prototype,xae=wae.toString;function Sae(t){return xae.call(t)}var Tae=Sae,Ek=Bm,Cae=Eae,Mae=Tae,Aae="[object Null]",Pae="[object Undefined]",wk=Ek?Ek.toStringTag:void 0;function Rae(t){return t==null?t===void 0?Pae:Aae:wk&&wk in Object(t)?Cae(t):Mae(t)}var Hm=Rae;function Lae(t){return t!=null&&typeof t=="object"}var zm=Lae,Iae=Hm,Oae=zm,Nae="[object Symbol]";function kae(t){return typeof t=="symbol"||Oae(t)&&Iae(t)==Nae}var Sy=kae,Dae=qo,Fae=Sy,Uae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jae=/^\w*$/;function Bae(t,e){if(Dae(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Fae(t)?!0:jae.test(t)||!Uae.test(t)||e!=null&&t in Object(e)}var lT=Bae;function Vae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ja=Vae,Hae=Hm,zae=ja,Gae="[object AsyncFunction]",$ae="[object Function]",Wae="[object GeneratorFunction]",qae="[object Proxy]";function Yae(t){if(!zae(t))return!1;var e=Hae(t);return e==$ae||e==Wae||e==Gae||e==qae}var xk=Yae,Kae=Yo,Xae=Kae["__core-js_shared__"],Jae=Xae,cT=Jae,Sk=function(){var t=/[^.]+$/.exec(cT&&cT.keys&&cT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Zae(t){return!!Sk&&Sk in t}var Qae=Zae,ele=Function.prototype,tle=ele.toString;function nle(t){if(t!=null){try{return tle.call(t)}catch{}try{return t+""}catch{}}return""}var Tk=nle,rle=xk,ile=Qae,sle=ja,ole=Tk,ale=/[\\^$.*+?()[\]{}|]/g,lle=/^\[object .+?Constructor\]$/,cle=Function.prototype,ule=Object.prototype,dle=cle.toString,fle=ule.hasOwnProperty,hle=RegExp("^"+dle.call(fle).replace(ale,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ple(t){if(!sle(t)||ile(t))return!1;var e=rle(t)?hle:lle;return e.test(ole(t))}var mle=ple;function gle(t,e){return t==null?void 0:t[e]}var vle=gle,yle=mle,_le=vle;function ble(t,e){var n=_le(t,e);return yle(n)?n:void 0}var Ou=ble,Ele=Ou,wle=Ele(Object,"create"),Ty=wle,Ck=Ty;function xle(){this.__data__=Ck?Ck(null):{},this.size=0}var Sle=xle;function Tle(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cle=Tle,Mle=Ty,Ale="__lodash_hash_undefined__",Ple=Object.prototype,Rle=Ple.hasOwnProperty;function Lle(t){var e=this.__data__;if(Mle){var n=e[t];return n===Ale?void 0:n}return Rle.call(e,t)?e[t]:void 0}var Ile=Lle,Ole=Ty,Nle=Object.prototype,kle=Nle.hasOwnProperty;function Dle(t){var e=this.__data__;return Ole?e[t]!==void 0:kle.call(e,t)}var Fle=Dle,Ule=Ty,jle="__lodash_hash_undefined__";function Ble(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ule&&e===void 0?jle:e,this}var Vle=Ble,Hle=Sle,zle=Cle,Gle=Ile,$le=Fle,Wle=Vle;function Af(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Af.prototype.clear=Hle;Af.prototype.delete=zle;Af.prototype.get=Gle;Af.prototype.has=$le;Af.prototype.set=Wle;var qle=Af;function Yle(){this.__data__=[],this.size=0}var Kle=Yle;function Xle(t,e){return t===e||t!==t&&e!==e}var Gm=Xle,Jle=Gm;function Zle(t,e){for(var n=t.length;n--;)if(Jle(t[n][0],e))return n;return-1}var Cy=Zle,Qle=Cy,ece=Array.prototype,tce=ece.splice;function nce(t){var e=this.__data__,n=Qle(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():tce.call(e,n,1),--this.size,!0}var rce=nce,ice=Cy;function sce(t){var e=this.__data__,n=ice(e,t);return n<0?void 0:e[n][1]}var oce=sce,ace=Cy;function lce(t){return ace(this.__data__,t)>-1}var cce=lce,uce=Cy;function dce(t,e){var n=this.__data__,i=uce(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var fce=dce,hce=Kle,pce=rce,mce=oce,gce=cce,vce=fce;function Pf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Pf.prototype.clear=hce;Pf.prototype.delete=pce;Pf.prototype.get=mce;Pf.prototype.has=gce;Pf.prototype.set=vce;var My=Pf,yce=Ou,_ce=Yo,bce=yce(_ce,"Map"),uT=bce,Mk=qle,Ece=My,wce=uT;function xce(){this.size=0,this.__data__={hash:new Mk,map:new(wce||Ece),string:new Mk}}var Sce=xce;function Tce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Cce=Tce,Mce=Cce;function Ace(t,e){var n=t.__data__;return Mce(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ay=Ace,Pce=Ay;function Rce(t){var e=Pce(this,t).delete(t);return this.size-=e?1:0,e}var Lce=Rce,Ice=Ay;function Oce(t){return Ice(this,t).get(t)}var Nce=Oce,kce=Ay;function Dce(t){return kce(this,t).has(t)}var Fce=Dce,Uce=Ay;function jce(t,e){var n=Uce(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var Bce=jce,Vce=Sce,Hce=Lce,zce=Nce,Gce=Fce,$ce=Bce;function Rf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Rf.prototype.clear=Vce;Rf.prototype.delete=Hce;Rf.prototype.get=zce;Rf.prototype.has=Gce;Rf.prototype.set=$ce;var dT=Rf,Ak=dT,Wce="Expected a function";function fT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Wce);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var a=t.apply(this,i);return n.cache=s.set(o,a)||s,a};return n.cache=new(fT.Cache||Ak),n}fT.Cache=Ak;var qce=fT,Yce=qce,Kce=500;function Xce(t){var e=Yce(t,function(i){return n.size===Kce&&n.clear(),i}),n=e.cache;return e}var Jce=Xce,Zce=Jce,Qce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eue=/\\(\\)?/g,tue=Zce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Qce,function(n,i,o,s){e.push(o?s.replace(eue,"$1"):i||n)}),e}),nue=tue;function rue(t,e){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}var Pk=rue,Rk=Bm,iue=Pk,sue=qo,oue=Sy,aue=1/0,Lk=Rk?Rk.prototype:void 0,Ik=Lk?Lk.toString:void 0;function Ok(t){if(typeof t=="string")return t;if(sue(t))return iue(t,Ok)+"";if(oue(t))return Ik?Ik.call(t):"";var e=t+"";return e=="0"&&1/t==-aue?"-0":e}var lue=Ok,cue=lue;function uue(t){return t==null?"":cue(t)}var Nk=uue,due=qo,fue=lT,hue=nue,pue=Nk;function mue(t,e){return due(t)?t:fue(t,e)?[t]:hue(pue(t))}var Py=mue,gue=Sy,vue=1/0;function yue(t){if(typeof t=="string"||gue(t))return t;var e=t+"";return e=="0"&&1/t==-vue?"-0":e}var $m=yue,_ue=Py,bue=$m;function Eue(t,e){e=_ue(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[bue(e[n++])];return n&&n==i?t:void 0}var hT=Eue,wue=Ou,xue=function(){try{var t=wue(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kk=xue,Dk=kk;function Sue(t,e,n){e=="__proto__"&&Dk?Dk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Tue=Sue,Cue=Tue,Mue=Gm,Aue=Object.prototype,Pue=Aue.hasOwnProperty;function Rue(t,e,n){var i=t[e];(!(Pue.call(t,e)&&Mue(i,n))||n===void 0&&!(e in t))&&Cue(t,e,n)}var Lue=Rue,Iue=9007199254740991,Oue=/^(?:0|[1-9]\d*)$/;function Nue(t,e){var n=typeof t;return e=e==null?Iue:e,!!e&&(n=="number"||n!="symbol"&&Oue.test(t))&&t>-1&&t%1==0&&t<e}var Ry=Nue,kue=Lue,Due=Py,Fue=Ry,Fk=ja,Uue=$m;function jue(t,e,n,i){if(!Fk(t))return t;e=Due(e,t);for(var o=-1,s=e.length,a=s-1,l=t;l!=null&&++o<s;){var c=Uue(e[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(o!=a){var d=l[c];u=i?i(d,c,l):void 0,u===void 0&&(u=Fk(d)?d:Fue(e[o+1])?[]:{})}kue(l,c,u),l=l[c]}return t}var Bue=jue,Vue=hT,Hue=Bue,zue=Py;function Gue(t,e,n){for(var i=-1,o=e.length,s={};++i<o;){var a=e[i],l=Vue(t,a);n(l,a)&&Hue(s,zue(a,t),l)}return s}var $ue=Gue;function Wue(t,e){return t!=null&&e in Object(t)}var que=Wue,Yue=Hm,Kue=zm,Xue="[object Arguments]";function Jue(t){return Kue(t)&&Yue(t)==Xue}var Zue=Jue,Uk=Zue,Que=zm,jk=Object.prototype,ede=jk.hasOwnProperty,tde=jk.propertyIsEnumerable,nde=Uk(function(){return arguments}())?Uk:function(t){return Que(t)&&ede.call(t,"callee")&&!tde.call(t,"callee")},pT=nde,rde=9007199254740991;function ide(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rde}var mT=ide,sde=Py,ode=pT,ade=qo,lde=Ry,cde=mT,ude=$m;function dde(t,e,n){e=sde(e,t);for(var i=-1,o=e.length,s=!1;++i<o;){var a=ude(e[i]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++i!=o?s:(o=t==null?0:t.length,!!o&&cde(o)&&lde(a,o)&&(ade(t)||ode(t)))}var fde=dde,hde=que,pde=fde;function mde(t,e){return t!=null&&pde(t,e,hde)}var Bk=mde,gde=$ue,vde=Bk;function yde(t,e){return gde(t,e,function(n,i){return vde(t,i)})}var _de=yde;function bde(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}var Vk=bde,Hk=Bm,Ede=pT,wde=qo,zk=Hk?Hk.isConcatSpreadable:void 0;function xde(t){return wde(t)||Ede(t)||!!(zk&&t&&t[zk])}var Sde=xde,Tde=Vk,Cde=Sde;function Gk(t,e,n,i,o){var s=-1,a=t.length;for(n||(n=Cde),o||(o=[]);++s<a;){var l=t[s];e>0&&n(l)?e>1?Gk(l,e-1,n,i,o):Tde(o,l):i||(o[o.length]=l)}return o}var Mde=Gk,Ade=Mde;function Pde(t){var e=t==null?0:t.length;return e?Ade(t,1):[]}var Rde=Pde;function Lde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ide=Lde,Ode=Ide,$k=Math.max;function Nde(t,e,n){return e=$k(e===void 0?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=$k(i.length-e,0),a=Array(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=i[o];return l[e]=n(a),Ode(t,this,l)}}var Wk=Nde;function kde(t){return function(){return t}}var Dde=kde;function Fde(t){return t}var Ly=Fde,Ude=Dde,qk=kk,jde=Ly,Bde=qk?function(t,e){return qk(t,"toString",{configurable:!0,enumerable:!1,value:Ude(e),writable:!0})}:jde,Vde=Bde,Hde=800,zde=16,Gde=Date.now;function $de(t){var e=0,n=0;return function(){var i=Gde(),o=zde-(i-n);if(n=i,o>0){if(++e>=Hde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Wde=$de,qde=Vde,Yde=Wde,Kde=Yde(qde),Yk=Kde,Xde=Rde,Jde=Wk,Zde=Yk;function Qde(t){return Zde(Jde(t,void 0,Xde),t+"")}var efe=Qde,tfe=_de,nfe=efe,rfe=nfe(function(t,e){return t==null?{}:tfe(t,e)}),Kk=rfe;const Xk=t=>`glitch/${t}`,ife=(t,e)=>({type:t,payload:e}),sfe=Xk("go-to-line"),Jk=Xk("update-embed-state"),Nu=t=>ife(Jk,t);function ofe(t){let e;return e={userBroadcast(){return t.broadcastUser(),t.removeStaleUsers()},activityCheck(n){const i=30*60*1e3;let o=Date.now();return n.addEventListener("keydown",function(){return o=Date.now(),t.userIsIdle(!1)}),n.addEventListener("mousemove",function(){return o=Date.now(),t.userIsIdle(!1)}),function(){if(Date.now()-o>i)return t.userIsIdle(!0)}},notifyAnonUserLimitsVisible(){const n=t.currentProject();if(!n)return;const o=n.users().some(l=>l.login),s=t.currentUser().loggedIn();if(!(t.projectIsReadOnlyForCurrentUser()||s))return o?t.notifyAnonUserLimits(!0):t.notifyAnonProjectLimits(!0)},editorOrigin(n=window){return n.location.port?`http://${n.location.hostname}:${n.location.port}`:`https://${n.location.hostname}`},loginFromCommunityAuth(n){const i=document.querySelector("#community-auth-iframe");n.success?t.closeAllPopOvers():t.signInCodeIsValid(!1),i.remove(),t.userIsLoggingIn(!1)},receivePostMessage(n){const{source:i,origin:o,data:s}=n;if(!(o!==e.editorOrigin()&&i!==window.parent&&t.publishedUrl()!==o&&i!==window.parent)){if(s.type===sfe||s.type==="GoToMessage"){if(!s.payload)return;const{filePath:a,line:l}=s.payload,c=t.fileByPath(a);if(!c)return;t.selectFileByUuid(c.uuid()).then(()=>{try{t.goToLine(parseInt(l,10))}catch{console.warn("Invalid line number")}})}if(o===e.editorOrigin()&&s.type===Jk){const a=Kk(s.payload,["embedAppPreviewSize","embedSelectedFilePath","embedAttributionHidden","embedParentIsGlitch","embedSidebarCollapsed"]),l=Object.entries(a);l.forEach(([c,u])=>{t[c](u)}),l.length>0&&t.refreshEditor()}}},mouseenter(){t.applicationHovered(!0)},mouseleave(){t.applicationHovered(!1)},focus(n){t.applicationFocused(!0)},blur(n){t.applicationFocused(!1),t.updateUrlWithPosition()},refreshCheck(n){const{key:i}=n;i==="F5"&&t.updateUrlWithPosition()},securitypolicyviolation(n){t.cspViolations.push({violatedDirective:n.violatedDirective,blockedURI:n.blockedURI})}}}function afe(t,e){let n=e.isMacOS?["command+p","command+k","ctrl+;"]:["command+p","ctrl+p","command+k","ctrl+k","ctrl+;"];t.bindGlobal(n,()=>(e.closeAllPopOvers(),e.focusOnGlobalSearch(),!1)),t.bindGlobal(["command+shift+f","ctrl+shift+f"],()=>{const o=e.editor().getSelection();return e.projectSearchFilesOverlayVisible.toggle(),e.projectSearchFilesOverlayVisible()&&o&&e.fileSearch.searchValue(o),!1}),t.bindGlobal(["command+s","ctrl+s"],()=>(e.notifyAutosave(!0),!1)),t.bindGlobal(["command+i","ctrl+i"],()=>(e.actionInterface.sidebarToggle(),!1)),t.bindGlobal(["command+shift+u","ctrl+shift+u"],()=>(e.actionInterface.toggleAppPreview(),!1)),t.bindGlobal(["esc"],()=>{e.closeAllPopOvers()}),t.bind(["backspace","del","ctrl+d","command+d"],()=>!1),t.bindGlobal(["command+shift+r","ctrl+shift+r"],()=>(e.refreshPreview(),!1));var i=e.isMacOS?["command+shift+e"]:["command+shift+e","ctrl+shift+e"];t.bindGlobal(i,()=>(e.exportToGitHub(),!1)),t.bindGlobal(["command+shift+l","ctrl+shift+l"],()=>(e.logsPanelVisible.toggle(),!1)),t.bindGlobal(["command+shift+x","ctrl+shift+x"],()=>(e.consolePanelVisible.toggle(),!1)),t.bindGlobal(["command+shift+m","ctrl+shift+m"],()=>(e.rewindPanelVisible.toggle(),!1)),t.bindGlobal(["command+option+s","ctrl+alt+s"],async()=>(e.editorRangeSelections().length<=1&&await e.formatCode({actionTrigger:"keyboardShortcut",withAnimation:!1}),!1)),t.bindGlobal(["?"],()=>{const o=document.activeElement===document.body||document.activeElement===null;if(e.analytics.track("Keyboard Shortcuts Viewed"),o)return e.keyboardShortcutsOverlayVisible.toggle(),!1})}let gT,Zk,vT,Qk,Ba,Iy,e9;const t9=[].slice;var te=function(t,e){let n,i,o,s,a;return typeof(t!=null?t.observe:void 0)=="function"?t:(o=[],s=l=>Zk(o).forEach(c=>c(l)),typeof t=="function"?(i=t,a=function(){return Ba(a),t},a.releaseDependencies=function(){let l;return(l=a._observableDependencies)!=null?l.forEach(c=>c.stopObserving(n)):void 0},n=function(){let l;return l=new Set,t=e9(l,i,e),a.releaseDependencies(),a._observableDependencies=l,l.forEach(c=>c.observe(n)),s(t)},n()):(a=function(l){return arguments.length>0?t!==l&&(t=l,s(l)):Ba(a),t},a.releaseDependencies=Iy),Array.isArray(t)&&(["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some"].forEach(l=>a[l]=function(){let c;return c=arguments.length>=1?t9.call(arguments,0):[],Ba(a),t[l].apply(t,c)}),["pop","push","reverse","shift","splice","sort","unshift"].forEach(l=>a[l]=function(){let c,u;return c=arguments.length>=1?t9.call(arguments,0):[],u=t[l].apply(t,c),s(t),u}),gT&&Object.defineProperty(a,"length",{get(){return Ba(a),t.length},set(l){let c;return c=t.length=l,s(t),c}}),vT(a,{remove(l){let c,u;if(c=t.indexOf(l),c>=0)return u=t.splice(c,1)[0],s(t),u},get(l){return Ba(a),t[l]},first(){return Ba(a),t[0]},last(){return Ba(a),t[t.length-1]},size(){return Ba(a),t.length}})),vT(a,{listeners:o,observe(l){o.push(l)},stopObserving(l){lfe(o,l)},toggle(){return a(!a())},increment(l){return l==null&&(l=1),a(t+l)},decrement(l){return l==null&&(l=1),a(t-l)},toString}),a)};vT=Object.assign;const Oy=window||{};Oy.OBSERVABLE_ROOT_HACK=[];Ba=function(t){let e;if(e=Qk(Oy.OBSERVABLE_ROOT_HACK),e)return e.add(t)};e9=function(t,e,n){Oy.OBSERVABLE_ROOT_HACK.push(t);try{return e.call(n)}finally{Oy.OBSERVABLE_ROOT_HACK.pop()}};const lfe=function(t,e){let n;if(n=t.indexOf(e),n>=0)return t.splice(n,1)[0]};Zk=t=>t.concat([]);Qk=t=>t[t.length-1];Iy=function(){};try{Object.defineProperty(function(){},"length",{get:Iy,set:Iy}),gT=!0}catch{gT=!1}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fs.apply(this,arguments)}function Ny(t){return t.charAt(0)==="/"}function yT(t,e){for(var n=e,i=n+1,o=t.length;i<o;n+=1,i+=1)t[n]=t[i];t.pop()}function cfe(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&Ny(t),s=e&&Ny(e),a=o||s;if(t&&Ny(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var l;if(i.length){var c=i[i.length-1];l=c==="."||c===".."||c===""}else l=!1;for(var u=0,d=i.length;d>=0;d--){var f=i[d];f==="."?yT(i,d):f===".."?(yT(i,d),u++):u&&(yT(i,d),u--)}if(!a)for(;u--;u)i.unshift("..");a&&i[0]!==""&&(!i[0]||!Ny(i[0]))&&i.unshift("");var h=i.join("/");return l&&h.substr(-1)!=="/"&&(h+="/"),h}function n9(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function ky(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(o,s){return ky(o,e[s])});if(typeof t=="object"||typeof e=="object"){var n=n9(t),i=n9(e);return n!==t||i!==e?ky(n,i):Object.keys(Object.assign({},t,e)).every(function(o){return ky(t[o],e[o])})}return!1}var ufe=!0,_T="Invariant failed";function Wm(t,e){if(!t){if(ufe)throw new Error(_T);var n=typeof e=="function"?e():e,i=n?_T+": "+n:_T;throw new Error(i)}}function Dy(t){return t.charAt(0)==="/"?t:"/"+t}function r9(t){return t.charAt(0)==="/"?t.substr(1):t}function dfe(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function ffe(t,e){return dfe(t,e)?t.substr(e.length):t}function hfe(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function pfe(t){var e=t||"/",n="",i="",o=e.indexOf("#");o!==-1&&(i=e.substr(o),e=e.substr(0,o));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function mo(t){var e=t.pathname,n=t.search,i=t.hash,o=e||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(o+=i.charAt(0)==="#"?i:"#"+i),o}function go(t,e,n,i){var o;typeof t=="string"?(o=pfe(t),o.state=e):(o=fs({},t),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",e!==void 0&&o.state===void 0&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=cfe(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function mfe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&ky(t.state,e.state)}function i9(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function n(a,l,c,u){if(t!=null){var d=typeof t=="function"?t(a,l):t;typeof d=="string"?typeof c=="function"?c(d,u):u(!0):u(d!==!1)}else u(!0)}var i=[];function o(a){var l=!0;function c(){l&&a.apply(void 0,arguments)}return i.push(c),function(){l=!1,i=i.filter(function(u){return u!==c})}}function s(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];i.forEach(function(u){return u.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:s}}var gfe=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function vfe(t,e){e(window.confirm(t))}function yfe(){return window.navigator.userAgent.indexOf("Firefox")===-1}var s9="hashchange",_fe={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+r9(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:r9,decodePath:Dy},slash:{encodePath:Dy,decodePath:Dy}};function o9(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function qm(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function bfe(t){window.location.hash=t}function bT(t){window.location.replace(o9(window.location.href)+"#"+t)}function Efe(t){t===void 0&&(t={}),gfe||Wm(!1);var e=window.history;yfe();var n=t,i=n.getUserConfirmation,o=i===void 0?vfe:i,s=n.hashType,a=s===void 0?"slash":s,l=t.basename?hfe(Dy(t.basename)):"",c=_fe[a],u=c.encodePath,d=c.decodePath;function f(){var j=d(qm());return l&&(j=ffe(j,l)),go(j)}var h=i9();function v(j){fs(W,j),W.length=e.length,h.notifyListeners(W.location,W.action)}var m=!1,_=null;function S(j,$){return j.pathname===$.pathname&&j.search===$.search&&j.hash===$.hash}function E(){var j=qm(),$=u(j);if(j!==$)bT($);else{var ie=f(),Q=W.location;if(!m&&S(Q,ie)||_===mo(ie))return;_=null,w(ie)}}function w(j){if(m)m=!1,v();else{var $="POP";h.confirmTransitionTo(j,$,o,function(ie){ie?v({action:$,location:j}):T(j)})}}function T(j){var $=W.location,ie=A.lastIndexOf(mo($));ie===-1&&(ie=0);var Q=A.lastIndexOf(mo(j));Q===-1&&(Q=0);var le=ie-Q;le&&(m=!0,O(le))}var C=qm(),P=u(C);C!==P&&bT(P);var R=f(),A=[mo(R)];function L(j){var $=document.querySelector("base"),ie="";return $&&$.getAttribute("href")&&(ie=o9(window.location.href)),ie+"#"+u(l+mo(j))}function k(j,$){var ie="PUSH",Q=go(j,void 0,void 0,W.location);h.confirmTransitionTo(Q,ie,o,function(le){if(!!le){var he=mo(Q),ue=u(l+he),Ie=qm()!==ue;if(Ie){_=he,bfe(ue);var Me=A.lastIndexOf(mo(W.location)),ke=A.slice(0,Me+1);ke.push(he),A=ke,v({action:ie,location:Q})}else v()}})}function U(j,$){var ie="REPLACE",Q=go(j,void 0,void 0,W.location);h.confirmTransitionTo(Q,ie,o,function(le){if(!!le){var he=mo(Q),ue=u(l+he),Ie=qm()!==ue;Ie&&(_=he,bT(ue));var Me=A.indexOf(mo(W.location));Me!==-1&&(A[Me]=he),v({action:ie,location:Q})}})}function O(j){e.go(j)}function I(){O(-1)}function F(){O(1)}var N=0;function H(j){N+=j,N===1&&j===1?window.addEventListener(s9,E):N===0&&window.removeEventListener(s9,E)}var z=!1;function B(j){j===void 0&&(j=!1);var $=h.setPrompt(j);return z||(H(1),z=!0),function(){return z&&(z=!1,H(-1)),$()}}function q(j){var $=h.appendListener(j);return H(1),function(){H(-1),$()}}var W={length:e.length,action:"POP",location:R,createHref:L,push:k,replace:U,go:O,goBack:I,goForward:F,block:B,listen:q};return W}function a9(t,e,n){return Math.min(Math.max(t,e),n)}function wfe(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=i===void 0?["/"]:i,s=e.initialIndex,a=s===void 0?0:s,l=e.keyLength,c=l===void 0?6:l,u=i9();function d(L){fs(A,L),A.length=A.entries.length,u.notifyListeners(A.location,A.action)}function f(){return Math.random().toString(36).substr(2,c)}var h=a9(a,0,o.length-1),v=o.map(function(L){return typeof L=="string"?go(L,void 0,f()):go(L,void 0,L.key||f())}),m=mo;function _(L,k){var U="PUSH",O=go(L,k,f(),A.location);u.confirmTransitionTo(O,U,n,function(I){if(!!I){var F=A.index,N=F+1,H=A.entries.slice(0);H.length>N?H.splice(N,H.length-N,O):H.push(O),d({action:U,location:O,index:N,entries:H})}})}function S(L,k){var U="REPLACE",O=go(L,k,f(),A.location);u.confirmTransitionTo(O,U,n,function(I){!I||(A.entries[A.index]=O,d({action:U,location:O}))})}function E(L){var k=a9(A.index+L,0,A.entries.length-1),U="POP",O=A.entries[k];u.confirmTransitionTo(O,U,n,function(I){I?d({action:U,location:O,index:k}):d()})}function w(){E(-1)}function T(){E(1)}function C(L){var k=A.index+L;return k>=0&&k<A.entries.length}function P(L){return L===void 0&&(L=!1),u.setPrompt(L)}function R(L){return u.appendListener(L)}var A={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:m,push:_,replace:S,go:E,goBack:w,goForward:T,canGo:C,block:P,listen:R};return A}const ET=Symbol("singleComment"),l9=Symbol("multiComment"),xfe=()=>"",Sfe=(t,e,n)=>t.slice(e,n).replace(/\S/g," "),Tfe=(t,e)=>{let n=e-1,i=0;for(;t[n]==="\\";)n-=1,i+=1;return Boolean(i%2)};var c9=(t,e={})=>{if(typeof t!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof t}\``);const n=e.whitespace===!1?xfe:Sfe;let i=!1,o=!1,s=0,a="";for(let l=0;l<t.length;l++){const c=t[l],u=t[l+1];if(!o&&c==='"'&&(Tfe(t,l)||(i=!i)),!i){if(!o&&c+u==="//")a+=t.slice(s,l),s=l,o=ET,l++;else if(o===ET&&c+u===`\r
`){l++,o=!1,a+=n(t,s,l),s=l;continue}else if(o===ET&&c===`
`)o=!1,a+=n(t,s,l),s=l;else if(!o&&c+u==="/*"){a+=t.slice(s,l),s=l,o=l9,l++;continue}else if(o===l9&&c+u==="*/"){l++,o=!1,a+=n(t,s,l+1),s=l+1;continue}}}return a+(o?n(t.slice(s)):t.slice(s))};function Br(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var u9=Br;Br.EventEmitter=Br;Br.prototype._events=void 0;Br.prototype._maxListeners=void 0;Br.defaultMaxListeners=10;Br.prototype.setMaxListeners=function(t){if(!Cfe(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};Br.prototype.emit=function(t){var e,n,i,o,s,a;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Ym(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],d9(n))return!1;if(Va(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(Ym(n))for(o=Array.prototype.slice.call(arguments,1),a=n.slice(),i=a.length,s=0;s<i;s++)a[s].apply(this,o);return!0};Br.prototype.addListener=function(t,e){var n;if(!Va(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Va(e.listener)?e.listener:e),this._events[t]?Ym(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Ym(this._events[t])&&!this._events[t].warned&&(d9(this._maxListeners)?n=Br.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};Br.prototype.on=Br.prototype.addListener;Br.prototype.once=function(t,e){if(!Va(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this};Br.prototype.removeListener=function(t,e){var n,i,o,s;if(!Va(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||Va(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Ym(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};Br.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],Va(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};Br.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Va(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};Br.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Va(e))return 1;if(e)return e.length}return 0};Br.listenerCount=function(t,e){return t.listenerCount(e)};function Va(t){return typeof t=="function"}function Cfe(t){return typeof t=="number"}function Ym(t){return typeof t=="object"&&t!==null}function d9(t){return t===void 0}//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var f9;function Be(){return f9.apply(null,arguments)}function Mfe(t){f9=t}function vo(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ku(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wT(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(dn(t,e))return!1;return!0}function Ki(t){return t===void 0}function Ha(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Km(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function h9(t,e){var n=[],i,o=t.length;for(i=0;i<o;++i)n.push(e(t[i],i));return n}function pc(t,e){for(var n in e)dn(e,n)&&(t[n]=e[n]);return dn(e,"toString")&&(t.toString=e.toString),dn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ko(t,e,n,i){return B9(t,e,n,i,!0).utc()}function Afe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ut(t){return t._pf==null&&(t._pf=Afe()),t._pf}var xT;Array.prototype.some?xT=Array.prototype.some:xT=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function ST(t){if(t._isValid==null){var e=Ut(t),n=xT.call(e.parsedDateParts,function(o){return o!=null}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i}return t._isValid}function Fy(t){var e=Ko(NaN);return t!=null?pc(Ut(e),t):Ut(e).userInvalidated=!0,e}var p9=Be.momentProperties=[],TT=!1;function CT(t,e){var n,i,o,s=p9.length;if(Ki(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Ki(e._i)||(t._i=e._i),Ki(e._f)||(t._f=e._f),Ki(e._l)||(t._l=e._l),Ki(e._strict)||(t._strict=e._strict),Ki(e._tzm)||(t._tzm=e._tzm),Ki(e._isUTC)||(t._isUTC=e._isUTC),Ki(e._offset)||(t._offset=e._offset),Ki(e._pf)||(t._pf=Ut(e)),Ki(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)i=p9[n],o=e[i],Ki(o)||(t[i]=o);return t}function Xm(t){CT(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),TT===!1&&(TT=!0,Be.updateOffset(this),TT=!1)}function yo(t){return t instanceof Xm||t!=null&&t._isAMomentObject!=null}function m9(t){Be.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function zs(t,e){var n=!0;return pc(function(){if(Be.deprecationHandler!=null&&Be.deprecationHandler(null,t),n){var i=[],o,s,a,l=arguments.length;for(s=0;s<l;s++){if(o="",typeof arguments[s]=="object"){o+=`
[`+s+"] ";for(a in arguments[0])dn(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[s];i.push(o)}m9(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var g9={};function v9(t,e){Be.deprecationHandler!=null&&Be.deprecationHandler(t,e),g9[t]||(m9(e),g9[t]=!0)}Be.suppressDeprecationWarnings=!1;Be.deprecationHandler=null;function Xo(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Pfe(t){var e,n;for(n in t)dn(t,n)&&(e=t[n],Xo(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function MT(t,e){var n=pc({},t),i;for(i in e)dn(e,i)&&(ku(t[i])&&ku(e[i])?(n[i]={},pc(n[i],t[i]),pc(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)dn(t,i)&&!dn(e,i)&&ku(t[i])&&(n[i]=pc({},n[i]));return n}function AT(t){t!=null&&this.set(t)}var PT;Object.keys?PT=Object.keys:PT=function(t){var e,n=[];for(e in t)dn(t,e)&&n.push(e);return n};var Rfe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Lfe(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return Xo(i)?i.call(e,n):i}function Jo(t,e,n){var i=""+Math.abs(t),o=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var RT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Uy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,LT={},Lf={};function ht(t,e,n,i){var o=i;typeof i=="string"&&(o=function(){return this[i]()}),t&&(Lf[t]=o),e&&(Lf[e[0]]=function(){return Jo(o.apply(this,arguments),e[1],e[2])}),n&&(Lf[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Ife(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Ofe(t){var e=t.match(RT),n,i;for(n=0,i=e.length;n<i;n++)Lf[e[n]]?e[n]=Lf[e[n]]:e[n]=Ife(e[n]);return function(o){var s="",a;for(a=0;a<i;a++)s+=Xo(e[a])?e[a].call(o,t):e[a];return s}}function jy(t,e){return t.isValid()?(e=y9(e,t.localeData()),LT[e]=LT[e]||Ofe(e),LT[e](t)):t.localeData().invalidDate()}function y9(t,e){var n=5;function i(o){return e.longDateFormat(o)||o}for(Uy.lastIndex=0;n>=0&&Uy.test(t);)t=t.replace(Uy,i),Uy.lastIndex=0,n-=1;return t}var Nfe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kfe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(RT).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var Dfe="Invalid date";function Ffe(){return this._invalidDate}var Ufe="%d",jfe=/\d{1,2}/;function Bfe(t){return this._ordinal.replace("%d",t)}var Vfe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Hfe(t,e,n,i){var o=this._relativeTime[n];return Xo(o)?o(t,e,n,i):o.replace(/%d/i,t)}function zfe(t,e){var n=this._relativeTime[t>0?"future":"past"];return Xo(n)?n(e):n.replace(/%s/i,e)}var Jm={};function pi(t,e){var n=t.toLowerCase();Jm[n]=Jm[n+"s"]=Jm[e]=t}function Gs(t){return typeof t=="string"?Jm[t]||Jm[t.toLowerCase()]:void 0}function IT(t){var e={},n,i;for(i in t)dn(t,i)&&(n=Gs(i),n&&(e[n]=t[i]));return e}var _9={};function mi(t,e){_9[t]=e}function Gfe(t){var e=[],n;for(n in t)dn(t,n)&&e.push({unit:n,priority:_9[n]});return e.sort(function(i,o){return i.priority-o.priority}),e}function By(t){return t%4==0&&t%100!=0||t%400==0}function $s(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Yt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=$s(e)),n}function If(t,e){return function(n){return n!=null?(b9(this,t,n),Be.updateOffset(this,e),this):Vy(this,t)}}function Vy(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function b9(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&By(t.year())&&t.month()===1&&t.date()===29?(n=Yt(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Yy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function $fe(t){return t=Gs(t),Xo(this[t])?this[t]():this}function Wfe(t,e){if(typeof t=="object"){t=IT(t);var n=Gfe(t),i,o=n.length;for(i=0;i<o;i++)this[n[i].unit](t[n[i].unit])}else if(t=Gs(t),Xo(this[t]))return this[t](e);return this}var E9=/\d/,hs=/\d\d/,w9=/\d{3}/,OT=/\d{4}/,Hy=/[+-]?\d{6}/,$n=/\d\d?/,x9=/\d\d\d\d?/,S9=/\d\d\d\d\d\d?/,zy=/\d{1,3}/,NT=/\d{1,4}/,Gy=/[+-]?\d{1,6}/,Of=/\d+/,$y=/[+-]?\d+/,qfe=/Z|[+-]\d\d:?\d\d/gi,Wy=/Z|[+-]\d\d(?::?\d\d)?/gi,Yfe=/[+-]?\d+(\.\d{1,3})?/,Zm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qy;qy={};function nt(t,e,n){qy[t]=Xo(e)?e:function(i,o){return i&&n?n:e}}function Kfe(t,e){return dn(qy,t)?qy[t](e._strict,e._locale):new RegExp(Xfe(t))}function Xfe(t){return ps(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,o,s){return n||i||o||s}))}function ps(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var kT={};function Tn(t,e){var n,i=e,o;for(typeof t=="string"&&(t=[t]),Ha(e)&&(i=function(s,a){a[e]=Yt(s)}),o=t.length,n=0;n<o;n++)kT[t[n]]=i}function Qm(t,e){Tn(t,function(n,i,o,s){o._w=o._w||{},e(n,o._w,o,s)})}function Jfe(t,e,n){e!=null&&dn(kT,t)&&kT[t](e,n._a,n,t)}var gi=0,za=1,Zo=2,Ir=3,_o=4,Ga=5,Du=6,Zfe=7,Qfe=8;function ehe(t,e){return(t%e+e)%e}var yr;Array.prototype.indexOf?yr=Array.prototype.indexOf:yr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Yy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ehe(e,12);return t+=(e-n)/12,n===1?By(t)?29:28:31-n%7%2}ht("M",["MM",2],"Mo",function(){return this.month()+1});ht("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ht("MMMM",0,0,function(t){return this.localeData().months(this,t)});pi("month","M");mi("month",8);nt("M",$n);nt("MM",$n,hs);nt("MMM",function(t,e){return e.monthsShortRegex(t)});nt("MMMM",function(t,e){return e.monthsRegex(t)});Tn(["M","MM"],function(t,e){e[za]=Yt(t)-1});Tn(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);o!=null?e[za]=o:Ut(n).invalidMonth=t});var the="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),T9="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),C9=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nhe=Zm,rhe=Zm;function ihe(t,e){return t?vo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||C9).test(e)?"format":"standalone"][t.month()]:vo(this._months)?this._months:this._months.standalone}function she(t,e){return t?vo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[C9.test(e)?"format":"standalone"][t.month()]:vo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ohe(t,e,n){var i,o,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Ko([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(o=yr.call(this._shortMonthsParse,a),o!==-1?o:null):(o=yr.call(this._longMonthsParse,a),o!==-1?o:null):e==="MMM"?(o=yr.call(this._shortMonthsParse,a),o!==-1?o:(o=yr.call(this._longMonthsParse,a),o!==-1?o:null)):(o=yr.call(this._longMonthsParse,a),o!==-1?o:(o=yr.call(this._shortMonthsParse,a),o!==-1?o:null))}function ahe(t,e,n){var i,o,s;if(this._monthsParseExact)return ohe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Ko([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function M9(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Yt(e);else if(e=t.localeData().monthsParse(e),!Ha(e))return t}return n=Math.min(t.date(),Yy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function A9(t){return t!=null?(M9(this,t),Be.updateOffset(this,!0),this):Vy(this,"Month")}function lhe(){return Yy(this.year(),this.month())}function che(t){return this._monthsParseExact?(dn(this,"_monthsRegex")||P9.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(dn(this,"_monthsShortRegex")||(this._monthsShortRegex=nhe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function uhe(t){return this._monthsParseExact?(dn(this,"_monthsRegex")||P9.call(this),t?this._monthsStrictRegex:this._monthsRegex):(dn(this,"_monthsRegex")||(this._monthsRegex=rhe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function P9(){function t(a,l){return l.length-a.length}var e=[],n=[],i=[],o,s;for(o=0;o<12;o++)s=Ko([2e3,o]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),i.push(this.months(s,"")),i.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),i.sort(t),o=0;o<12;o++)e[o]=ps(e[o]),n[o]=ps(n[o]);for(o=0;o<24;o++)i[o]=ps(i[o]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ht("Y",0,0,function(){var t=this.year();return t<=9999?Jo(t,4):"+"+t});ht(0,["YY",2],0,function(){return this.year()%100});ht(0,["YYYY",4],0,"year");ht(0,["YYYYY",5],0,"year");ht(0,["YYYYYY",6,!0],0,"year");pi("year","y");mi("year",1);nt("Y",$y);nt("YY",$n,hs);nt("YYYY",NT,OT);nt("YYYYY",Gy,Hy);nt("YYYYYY",Gy,Hy);Tn(["YYYYY","YYYYYY"],gi);Tn("YYYY",function(t,e){e[gi]=t.length===2?Be.parseTwoDigitYear(t):Yt(t)});Tn("YY",function(t,e){e[gi]=Be.parseTwoDigitYear(t)});Tn("Y",function(t,e){e[gi]=parseInt(t,10)});function eg(t){return By(t)?366:365}Be.parseTwoDigitYear=function(t){return Yt(t)+(Yt(t)>68?1900:2e3)};var R9=If("FullYear",!0);function dhe(){return By(this.year())}function fhe(t,e,n,i,o,s,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,i,o,s,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,i,o,s,a),l}function tg(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ky(t,e,n){var i=7+e-n,o=(7+tg(t,0,i).getUTCDay()-e)%7;return-o+i-1}function L9(t,e,n,i,o){var s=(7+n-i)%7,a=Ky(t,i,o),l=1+7*(e-1)+s+a,c,u;return l<=0?(c=t-1,u=eg(c)+l):l>eg(t)?(c=t+1,u=l-eg(t)):(c=t,u=l),{year:c,dayOfYear:u}}function ng(t,e,n){var i=Ky(t.year(),e,n),o=Math.floor((t.dayOfYear()-i-1)/7)+1,s,a;return o<1?(a=t.year()-1,s=o+$a(a,e,n)):o>$a(t.year(),e,n)?(s=o-$a(t.year(),e,n),a=t.year()+1):(a=t.year(),s=o),{week:s,year:a}}function $a(t,e,n){var i=Ky(t,e,n),o=Ky(t+1,e,n);return(eg(t)-i+o)/7}ht("w",["ww",2],"wo","week");ht("W",["WW",2],"Wo","isoWeek");pi("week","w");pi("isoWeek","W");mi("week",5);mi("isoWeek",5);nt("w",$n);nt("ww",$n,hs);nt("W",$n);nt("WW",$n,hs);Qm(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=Yt(t)});function hhe(t){return ng(t,this._week.dow,this._week.doy).week}var phe={dow:0,doy:6};function mhe(){return this._week.dow}function ghe(){return this._week.doy}function vhe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function yhe(t){var e=ng(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ht("d",0,"do","day");ht("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ht("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ht("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ht("e",0,0,"weekday");ht("E",0,0,"isoWeekday");pi("day","d");pi("weekday","e");pi("isoWeekday","E");mi("day",11);mi("weekday",11);mi("isoWeekday",11);nt("d",$n);nt("e",$n);nt("E",$n);nt("dd",function(t,e){return e.weekdaysMinRegex(t)});nt("ddd",function(t,e){return e.weekdaysShortRegex(t)});nt("dddd",function(t,e){return e.weekdaysRegex(t)});Qm(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);o!=null?e.d=o:Ut(n).invalidWeekday=t});Qm(["d","e","E"],function(t,e,n,i){e[i]=Yt(t)});function _he(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function bhe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function DT(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Ehe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),I9="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),whe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xhe=Zm,She=Zm,The=Zm;function Che(t,e){var n=vo(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?DT(n,this._week.dow):t?n[t.day()]:n}function Mhe(t){return t===!0?DT(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ahe(t){return t===!0?DT(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Phe(t,e,n){var i,o,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Ko([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(o=yr.call(this._weekdaysParse,a),o!==-1?o:null):e==="ddd"?(o=yr.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null):e==="dddd"?(o=yr.call(this._weekdaysParse,a),o!==-1||(o=yr.call(this._shortWeekdaysParse,a),o!==-1)?o:(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null)):e==="ddd"?(o=yr.call(this._shortWeekdaysParse,a),o!==-1||(o=yr.call(this._weekdaysParse,a),o!==-1)?o:(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null)):(o=yr.call(this._minWeekdaysParse,a),o!==-1||(o=yr.call(this._weekdaysParse,a),o!==-1)?o:(o=yr.call(this._shortWeekdaysParse,a),o!==-1?o:null))}function Rhe(t,e,n){var i,o,s;if(this._weekdaysParseExact)return Phe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=Ko([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Lhe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=_he(t,this.localeData()),this.add(t-e,"d")):e}function Ihe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Ohe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=bhe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Nhe(t){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||FT.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(dn(this,"_weekdaysRegex")||(this._weekdaysRegex=xhe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function khe(t){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||FT.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=She),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Dhe(t){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||FT.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=The),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function FT(){function t(d,f){return f.length-d.length}var e=[],n=[],i=[],o=[],s,a,l,c,u;for(s=0;s<7;s++)a=Ko([2e3,1]).day(s),l=ps(this.weekdaysMin(a,"")),c=ps(this.weekdaysShort(a,"")),u=ps(this.weekdays(a,"")),e.push(l),n.push(c),i.push(u),o.push(l),o.push(c),o.push(u);e.sort(t),n.sort(t),i.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function UT(){return this.hours()%12||12}function Fhe(){return this.hours()||24}ht("H",["HH",2],0,"hour");ht("h",["hh",2],0,UT);ht("k",["kk",2],0,Fhe);ht("hmm",0,0,function(){return""+UT.apply(this)+Jo(this.minutes(),2)});ht("hmmss",0,0,function(){return""+UT.apply(this)+Jo(this.minutes(),2)+Jo(this.seconds(),2)});ht("Hmm",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)});ht("Hmmss",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)+Jo(this.seconds(),2)});function O9(t,e){ht(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}O9("a",!0);O9("A",!1);pi("hour","h");mi("hour",13);function N9(t,e){return e._meridiemParse}nt("a",N9);nt("A",N9);nt("H",$n);nt("h",$n);nt("k",$n);nt("HH",$n,hs);nt("hh",$n,hs);nt("kk",$n,hs);nt("hmm",x9);nt("hmmss",S9);nt("Hmm",x9);nt("Hmmss",S9);Tn(["H","HH"],Ir);Tn(["k","kk"],function(t,e,n){var i=Yt(t);e[Ir]=i===24?0:i});Tn(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Tn(["h","hh"],function(t,e,n){e[Ir]=Yt(t),Ut(n).bigHour=!0});Tn("hmm",function(t,e,n){var i=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[_o]=Yt(t.substr(i)),Ut(n).bigHour=!0});Tn("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[_o]=Yt(t.substr(i,2)),e[Ga]=Yt(t.substr(o)),Ut(n).bigHour=!0});Tn("Hmm",function(t,e,n){var i=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[_o]=Yt(t.substr(i))});Tn("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[_o]=Yt(t.substr(i,2)),e[Ga]=Yt(t.substr(o))});function Uhe(t){return(t+"").toLowerCase().charAt(0)==="p"}var jhe=/[ap]\.?m?\.?/i,Bhe=If("Hours",!0);function Vhe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var k9={calendar:Rfe,longDateFormat:Nfe,invalidDate:Dfe,ordinal:Ufe,dayOfMonthOrdinalParse:jfe,relativeTime:Vfe,months:the,monthsShort:T9,week:phe,weekdays:Ehe,weekdaysMin:whe,weekdaysShort:I9,meridiemParse:jhe},Qn={},rg={},ig;function Hhe(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function D9(t){return t&&t.toLowerCase().replace("_","-")}function zhe(t){for(var e=0,n,i,o,s;e<t.length;){for(s=D9(t[e]).split("-"),n=s.length,i=D9(t[e+1]),i=i?i.split("-"):null;n>0;){if(o=Xy(s.slice(0,n).join("-")),o)return o;if(i&&i.length>=n&&Hhe(s,i)>=n-1)break;n--}e++}return ig}function Ghe(t){return t.match("^[^/\\\\]*$")!=null}function Xy(t){var e=null,n;if(Qn[t]===void 0&&typeof module!="undefined"&&module&&module.exports&&Ghe(t))try{e=ig._abbr,n=require,n("./locale/"+t),mc(e)}catch{Qn[t]=null}return Qn[t]}function mc(t,e){var n;return t&&(Ki(e)?n=Wa(t):n=jT(t,e),n?ig=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ig._abbr}function jT(t,e){if(e!==null){var n,i=k9;if(e.abbr=t,Qn[t]!=null)v9("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Qn[t]._config;else if(e.parentLocale!=null)if(Qn[e.parentLocale]!=null)i=Qn[e.parentLocale]._config;else if(n=Xy(e.parentLocale),n!=null)i=n._config;else return rg[e.parentLocale]||(rg[e.parentLocale]=[]),rg[e.parentLocale].push({name:t,config:e}),null;return Qn[t]=new AT(MT(i,e)),rg[t]&&rg[t].forEach(function(o){jT(o.name,o.config)}),mc(t),Qn[t]}else return delete Qn[t],null}function $he(t,e){if(e!=null){var n,i,o=k9;Qn[t]!=null&&Qn[t].parentLocale!=null?Qn[t].set(MT(Qn[t]._config,e)):(i=Xy(t),i!=null&&(o=i._config),e=MT(o,e),i==null&&(e.abbr=t),n=new AT(e),n.parentLocale=Qn[t],Qn[t]=n),mc(t)}else Qn[t]!=null&&(Qn[t].parentLocale!=null?(Qn[t]=Qn[t].parentLocale,t===mc()&&mc(t)):Qn[t]!=null&&delete Qn[t]);return Qn[t]}function Wa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ig;if(!vo(t)){if(e=Xy(t),e)return e;t=[t]}return zhe(t)}function Whe(){return PT(Qn)}function BT(t){var e,n=t._a;return n&&Ut(t).overflow===-2&&(e=n[za]<0||n[za]>11?za:n[Zo]<1||n[Zo]>Yy(n[gi],n[za])?Zo:n[Ir]<0||n[Ir]>24||n[Ir]===24&&(n[_o]!==0||n[Ga]!==0||n[Du]!==0)?Ir:n[_o]<0||n[_o]>59?_o:n[Ga]<0||n[Ga]>59?Ga:n[Du]<0||n[Du]>999?Du:-1,Ut(t)._overflowDayOfYear&&(e<gi||e>Zo)&&(e=Zo),Ut(t)._overflowWeeks&&e===-1&&(e=Zfe),Ut(t)._overflowWeekday&&e===-1&&(e=Qfe),Ut(t).overflow=e),t}var qhe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yhe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Khe=/Z|[+-]\d\d(?::?\d\d)?/,Jy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],VT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xhe=/^\/?Date\((-?\d+)/i,Jhe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zhe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function F9(t){var e,n,i=t._i,o=qhe.exec(i)||Yhe.exec(i),s,a,l,c,u=Jy.length,d=VT.length;if(o){for(Ut(t).iso=!0,e=0,n=u;e<n;e++)if(Jy[e][1].exec(o[1])){a=Jy[e][0],s=Jy[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(o[3]){for(e=0,n=d;e<n;e++)if(VT[e][1].exec(o[3])){l=(o[2]||" ")+VT[e][0];break}if(l==null){t._isValid=!1;return}}if(!s&&l!=null){t._isValid=!1;return}if(o[4])if(Khe.exec(o[4]))c="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(c||""),zT(t)}else t._isValid=!1}function Qhe(t,e,n,i,o,s){var a=[epe(t),T9.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return s&&a.push(parseInt(s,10)),a}function epe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function tpe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function npe(t,e,n){if(t){var i=I9.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(i!==o)return Ut(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function rpe(t,e,n){if(t)return Zhe[t];if(e)return 0;var i=parseInt(n,10),o=i%100,s=(i-o)/100;return s*60+o}function U9(t){var e=Jhe.exec(tpe(t._i)),n;if(e){if(n=Qhe(e[4],e[3],e[2],e[5],e[6],e[7]),!npe(e[1],n,t))return;t._a=n,t._tzm=rpe(e[8],e[9],e[10]),t._d=tg.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ut(t).rfc2822=!0}else t._isValid=!1}function ipe(t){var e=Xhe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(F9(t),t._isValid===!1)delete t._isValid;else return;if(U9(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Be.createFromInputFallback(t)}Be.createFromInputFallback=zs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Nf(t,e,n){return t!=null?t:e!=null?e:n}function spe(t){var e=new Date(Be.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function HT(t){var e,n,i=[],o,s,a;if(!t._d){for(o=spe(t),t._w&&t._a[Zo]==null&&t._a[za]==null&&ope(t),t._dayOfYear!=null&&(a=Nf(t._a[gi],o[gi]),(t._dayOfYear>eg(a)||t._dayOfYear===0)&&(Ut(t)._overflowDayOfYear=!0),n=tg(a,0,t._dayOfYear),t._a[za]=n.getUTCMonth(),t._a[Zo]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=o[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ir]===24&&t._a[_o]===0&&t._a[Ga]===0&&t._a[Du]===0&&(t._nextDay=!0,t._a[Ir]=0),t._d=(t._useUTC?tg:fhe).apply(null,i),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ir]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==s&&(Ut(t).weekdayMismatch=!0)}}function ope(t){var e,n,i,o,s,a,l,c,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Nf(e.GG,t._a[gi],ng(Wn(),1,4).year),i=Nf(e.W,1),o=Nf(e.E,1),(o<1||o>7)&&(c=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,u=ng(Wn(),s,a),n=Nf(e.gg,t._a[gi],u.year),i=Nf(e.w,u.week),e.d!=null?(o=e.d,(o<0||o>6)&&(c=!0)):e.e!=null?(o=e.e+s,(e.e<0||e.e>6)&&(c=!0)):o=s),i<1||i>$a(n,s,a)?Ut(t)._overflowWeeks=!0:c!=null?Ut(t)._overflowWeekday=!0:(l=L9(n,i,o,s,a),t._a[gi]=l.year,t._dayOfYear=l.dayOfYear)}Be.ISO_8601=function(){};Be.RFC_2822=function(){};function zT(t){if(t._f===Be.ISO_8601){F9(t);return}if(t._f===Be.RFC_2822){U9(t);return}t._a=[],Ut(t).empty=!0;var e=""+t._i,n,i,o,s,a,l=e.length,c=0,u,d;for(o=y9(t._f,t._locale).match(RT)||[],d=o.length,n=0;n<d;n++)s=o[n],i=(e.match(Kfe(s,t))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&Ut(t).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),c+=i.length),Lf[s]?(i?Ut(t).empty=!1:Ut(t).unusedTokens.push(s),Jfe(s,i,t)):t._strict&&!i&&Ut(t).unusedTokens.push(s);Ut(t).charsLeftOver=l-c,e.length>0&&Ut(t).unusedInput.push(e),t._a[Ir]<=12&&Ut(t).bigHour===!0&&t._a[Ir]>0&&(Ut(t).bigHour=void 0),Ut(t).parsedDateParts=t._a.slice(0),Ut(t).meridiem=t._meridiem,t._a[Ir]=ape(t._locale,t._a[Ir],t._meridiem),u=Ut(t).era,u!==null&&(t._a[gi]=t._locale.erasConvertYear(u,t._a[gi])),HT(t),BT(t)}function ape(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function lpe(t){var e,n,i,o,s,a,l=!1,c=t._f.length;if(c===0){Ut(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<c;o++)s=0,a=!1,e=CT({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],zT(e),ST(e)&&(a=!0),s+=Ut(e).charsLeftOver,s+=Ut(e).unusedTokens.length*10,Ut(e).score=s,l?s<i&&(i=s,n=e):(i==null||s<i||a)&&(i=s,n=e,a&&(l=!0));pc(t,n||e)}function cpe(t){if(!t._d){var e=IT(t._i),n=e.day===void 0?e.date:e.day;t._a=h9([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),HT(t)}}function upe(t){var e=new Xm(BT(j9(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function j9(t){var e=t._i,n=t._f;return t._locale=t._locale||Wa(t._l),e===null||n===void 0&&e===""?Fy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),yo(e)?new Xm(BT(e)):(Km(e)?t._d=e:vo(n)?lpe(t):n?zT(t):dpe(t),ST(t)||(t._d=null),t))}function dpe(t){var e=t._i;Ki(e)?t._d=new Date(Be.now()):Km(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ipe(t):vo(e)?(t._a=h9(e.slice(0),function(n){return parseInt(n,10)}),HT(t)):ku(e)?cpe(t):Ha(e)?t._d=new Date(e):Be.createFromInputFallback(t)}function B9(t,e,n,i,o){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(ku(t)&&wT(t)||vo(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=t,s._f=e,s._strict=i,upe(s)}function Wn(t,e,n,i){return B9(t,e,n,i,!1)}var fpe=zs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Fy()}),hpe=zs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Fy()});function V9(t,e){var n,i;if(e.length===1&&vo(e[0])&&(e=e[0]),!e.length)return Wn();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function ppe(){var t=[].slice.call(arguments,0);return V9("isBefore",t)}function mpe(){var t=[].slice.call(arguments,0);return V9("isAfter",t)}var gpe=function(){return Date.now?Date.now():+new Date},sg=["year","quarter","month","week","day","hour","minute","second","millisecond"];function vpe(t){var e,n=!1,i,o=sg.length;for(e in t)if(dn(t,e)&&!(yr.call(sg,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<o;++i)if(t[sg[i]]){if(n)return!1;parseFloat(t[sg[i]])!==Yt(t[sg[i]])&&(n=!0)}return!0}function ype(){return this._isValid}function _pe(){return bo(NaN)}function Zy(t){var e=IT(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=vpe(e),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+a+s*7,this._months=+o+i*3+n*12,this._data={},this._locale=Wa(),this._bubble()}function Qy(t){return t instanceof Zy}function GT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function bpe(t,e,n){var i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0,a;for(a=0;a<i;a++)(n&&t[a]!==e[a]||!n&&Yt(t[a])!==Yt(e[a]))&&s++;return s+o}function H9(t,e){ht(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Jo(~~(n/60),2)+e+Jo(~~n%60,2)})}H9("Z",":");H9("ZZ","");nt("Z",Wy);nt("ZZ",Wy);Tn(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=$T(Wy,t)});var Epe=/([\+\-]|\d\d)/gi;function $T(t,e){var n=(e||"").match(t),i,o,s;return n===null?null:(i=n[n.length-1]||[],o=(i+"").match(Epe)||["-",0,0],s=+(o[1]*60)+Yt(o[2]),s===0?0:o[0]==="+"?s:-s)}function WT(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(yo(t)||Km(t)?t.valueOf():Wn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),Be.updateOffset(n,!1),n):Wn(t).local()}function qT(t){return-Math.round(t._d.getTimezoneOffset())}Be.updateOffset=function(){};function wpe(t,e,n){var i=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=$T(Wy,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=qT(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?W9(this,bo(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Be.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:qT(this)}function xpe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Spe(t){return this.utcOffset(0,t)}function Tpe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qT(this),"m")),this}function Cpe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=$T(qfe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Mpe(t){return this.isValid()?(t=t?Wn(t).utcOffset():0,(this.utcOffset()-t)%60==0):!1}function Ape(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ppe(){if(!Ki(this._isDSTShifted))return this._isDSTShifted;var t={},e;return CT(t,this),t=j9(t),t._a?(e=t._isUTC?Ko(t._a):Wn(t._a),this._isDSTShifted=this.isValid()&&bpe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rpe(){return this.isValid()?!this._isUTC:!1}function Lpe(){return this.isValid()?this._isUTC:!1}function z9(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ipe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ope=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bo(t,e){var n=t,i=null,o,s,a;return Qy(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ha(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=Ipe.exec(t))?(o=i[1]==="-"?-1:1,n={y:0,d:Yt(i[Zo])*o,h:Yt(i[Ir])*o,m:Yt(i[_o])*o,s:Yt(i[Ga])*o,ms:Yt(GT(i[Du]*1e3))*o}):(i=Ope.exec(t))?(o=i[1]==="-"?-1:1,n={y:Fu(i[2],o),M:Fu(i[3],o),w:Fu(i[4],o),d:Fu(i[5],o),h:Fu(i[6],o),m:Fu(i[7],o),s:Fu(i[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=Npe(Wn(n.from),Wn(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Zy(n),Qy(t)&&dn(t,"_locale")&&(s._locale=t._locale),Qy(t)&&dn(t,"_isValid")&&(s._isValid=t._isValid),s}bo.fn=Zy.prototype;bo.invalid=_pe;function Fu(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function G9(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Npe(t,e){var n;return t.isValid()&&e.isValid()?(e=WT(e,t),t.isBefore(e)?n=G9(t,e):(n=G9(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function $9(t,e){return function(n,i){var o,s;return i!==null&&!isNaN(+i)&&(v9(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),o=bo(n,i),W9(this,o,t),this}}function W9(t,e,n,i){var o=e._milliseconds,s=GT(e._days),a=GT(e._months);!t.isValid()||(i=i==null?!0:i,a&&M9(t,Vy(t,"Month")+a*n),s&&b9(t,"Date",Vy(t,"Date")+s*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&Be.updateOffset(t,s||a))}var kpe=$9(1,"add"),Dpe=$9(-1,"subtract");function q9(t){return typeof t=="string"||t instanceof String}function Fpe(t){return yo(t)||Km(t)||q9(t)||Ha(t)||jpe(t)||Upe(t)||t===null||t===void 0}function Upe(t){var e=ku(t)&&!wT(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s,a=i.length;for(o=0;o<a;o+=1)s=i[o],n=n||dn(t,s);return e&&n}function jpe(t){var e=vo(t),n=!1;return e&&(n=t.filter(function(i){return!Ha(i)&&q9(t)}).length===0),e&&n}function Bpe(t){var e=ku(t)&&!wT(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<i.length;o+=1)s=i[o],n=n||dn(t,s);return e&&n}function Vpe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hpe(t,e){arguments.length===1&&(arguments[0]?Fpe(arguments[0])?(t=arguments[0],e=void 0):Bpe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Wn(),i=WT(n,this).startOf("day"),o=Be.calendarFormat(this,i)||"sameElse",s=e&&(Xo(e[o])?e[o].call(this,n):e[o]);return this.format(s||this.localeData().calendar(o,this,Wn(n)))}function zpe(){return new Xm(this)}function Gpe(t,e){var n=yo(t)?t:Wn(t);return this.isValid()&&n.isValid()?(e=Gs(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function $pe(t,e){var n=yo(t)?t:Wn(t);return this.isValid()&&n.isValid()?(e=Gs(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Wpe(t,e,n,i){var o=yo(t)?t:Wn(t),s=yo(e)?e:Wn(e);return this.isValid()&&o.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(i[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function qpe(t,e){var n=yo(t)?t:Wn(t),i;return this.isValid()&&n.isValid()?(e=Gs(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Ype(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Kpe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xpe(t,e,n){var i,o,s;if(!this.isValid())return NaN;if(i=WT(t,this),!i.isValid())return NaN;switch(o=(i.utcOffset()-this.utcOffset())*6e4,e=Gs(e),e){case"year":s=e_(this,i)/12;break;case"month":s=e_(this,i);break;case"quarter":s=e_(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return n?s:$s(s)}function e_(t,e){if(t.date()<e.date())return-e_(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),o,s;return e-i<0?(o=t.clone().add(n-1,"months"),s=(e-i)/(i-o)):(o=t.clone().add(n+1,"months"),s=(e-i)/(o-i)),-(n+s)||0}Be.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Be.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Jpe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zpe(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?jy(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jy(n,"Z")):jy(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qpe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,o,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+i+o+s)}function eme(t){t||(t=this.isUtc()?Be.defaultFormatUtc:Be.defaultFormat);var e=jy(this,t);return this.localeData().postformat(e)}function tme(t,e){return this.isValid()&&(yo(t)&&t.isValid()||Wn(t).isValid())?bo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function nme(t){return this.from(Wn(),t)}function rme(t,e){return this.isValid()&&(yo(t)&&t.isValid()||Wn(t).isValid())?bo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ime(t){return this.to(Wn(),t)}function Y9(t){var e;return t===void 0?this._locale._abbr:(e=Wa(t),e!=null&&(this._locale=e),this)}var K9=zs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function X9(){return this._locale}var t_=1e3,kf=60*t_,n_=60*kf,J9=(365*400+97)*24*n_;function Df(t,e){return(t%e+e)%e}function Z9(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-J9:new Date(t,e,n).valueOf()}function Q9(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-J9:Date.UTC(t,e,n)}function sme(t){var e,n;if(t=Gs(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Q9:Z9,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Df(e+(this._isUTC?0:this.utcOffset()*kf),n_);break;case"minute":e=this._d.valueOf(),e-=Df(e,kf);break;case"second":e=this._d.valueOf(),e-=Df(e,t_);break}return this._d.setTime(e),Be.updateOffset(this,!0),this}function ome(t){var e,n;if(t=Gs(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Q9:Z9,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=n_-Df(e+(this._isUTC?0:this.utcOffset()*kf),n_)-1;break;case"minute":e=this._d.valueOf(),e+=kf-Df(e,kf)-1;break;case"second":e=this._d.valueOf(),e+=t_-Df(e,t_)-1;break}return this._d.setTime(e),Be.updateOffset(this,!0),this}function ame(){return this._d.valueOf()-(this._offset||0)*6e4}function lme(){return Math.floor(this.valueOf()/1e3)}function cme(){return new Date(this.valueOf())}function ume(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dme(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function fme(){return this.isValid()?this.toISOString():null}function hme(){return ST(this)}function pme(){return pc({},Ut(this))}function mme(){return Ut(this).overflow}function gme(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ht("N",0,0,"eraAbbr");ht("NN",0,0,"eraAbbr");ht("NNN",0,0,"eraAbbr");ht("NNNN",0,0,"eraName");ht("NNNNN",0,0,"eraNarrow");ht("y",["y",1],"yo","eraYear");ht("y",["yy",2],0,"eraYear");ht("y",["yyy",3],0,"eraYear");ht("y",["yyyy",4],0,"eraYear");nt("N",YT);nt("NN",YT);nt("NNN",YT);nt("NNNN",Mme);nt("NNNNN",Ame);Tn(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var o=n._locale.erasParse(t,i,n._strict);o?Ut(n).era=o:Ut(n).invalidEra=t});nt("y",Of);nt("yy",Of);nt("yyy",Of);nt("yyyy",Of);nt("yo",Pme);Tn(["y","yy","yyy","yyyy"],gi);Tn(["yo"],function(t,e,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[gi]=n._locale.eraYearOrdinalParse(t,o):e[gi]=parseInt(t,10)});function vme(t,e){var n,i,o,s=this._eras||Wa("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":o=Be(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=Be(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function yme(t,e,n){var i,o,s=this.eras(),a,l,c;for(t=t.toUpperCase(),i=0,o=s.length;i<o;++i)if(a=s[i].name.toUpperCase(),l=s[i].abbr.toUpperCase(),c=s[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return s[i];break;case"NNNN":if(a===t)return s[i];break;case"NNNNN":if(c===t)return s[i];break}else if([a,l,c].indexOf(t)>=0)return s[i]}function _me(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Be(t.since).year():Be(t.since).year()+(e-t.offset)*n}function bme(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function Eme(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function wme(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function xme(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-Be(o[t].since).year())*n+o[t].offset;return this.year()}function Sme(t){return dn(this,"_erasNameRegex")||KT.call(this),t?this._erasNameRegex:this._erasRegex}function Tme(t){return dn(this,"_erasAbbrRegex")||KT.call(this),t?this._erasAbbrRegex:this._erasRegex}function Cme(t){return dn(this,"_erasNarrowRegex")||KT.call(this),t?this._erasNarrowRegex:this._erasRegex}function YT(t,e){return e.erasAbbrRegex(t)}function Mme(t,e){return e.erasNameRegex(t)}function Ame(t,e){return e.erasNarrowRegex(t)}function Pme(t,e){return e._eraYearOrdinalRegex||Of}function KT(){var t=[],e=[],n=[],i=[],o,s,a=this.eras();for(o=0,s=a.length;o<s;++o)e.push(ps(a[o].name)),t.push(ps(a[o].abbr)),n.push(ps(a[o].narrow)),i.push(ps(a[o].name)),i.push(ps(a[o].abbr)),i.push(ps(a[o].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ht(0,["gg",2],0,function(){return this.weekYear()%100});ht(0,["GG",2],0,function(){return this.isoWeekYear()%100});function r_(t,e){ht(0,[t,t.length],0,e)}r_("gggg","weekYear");r_("ggggg","weekYear");r_("GGGG","isoWeekYear");r_("GGGGG","isoWeekYear");pi("weekYear","gg");pi("isoWeekYear","GG");mi("weekYear",1);mi("isoWeekYear",1);nt("G",$y);nt("g",$y);nt("GG",$n,hs);nt("gg",$n,hs);nt("GGGG",NT,OT);nt("gggg",NT,OT);nt("GGGGG",Gy,Hy);nt("ggggg",Gy,Hy);Qm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=Yt(t)});Qm(["gg","GG"],function(t,e,n,i){e[i]=Be.parseTwoDigitYear(t)});function Rme(t){return e7.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Lme(t){return e7.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ime(){return $a(this.year(),1,4)}function Ome(){return $a(this.isoWeekYear(),1,4)}function Nme(){var t=this.localeData()._week;return $a(this.year(),t.dow,t.doy)}function kme(){var t=this.localeData()._week;return $a(this.weekYear(),t.dow,t.doy)}function e7(t,e,n,i,o){var s;return t==null?ng(this,i,o).year:(s=$a(t,i,o),e>s&&(e=s),Dme.call(this,t,e,n,i,o))}function Dme(t,e,n,i,o){var s=L9(t,e,n,i,o),a=tg(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}ht("Q",0,"Qo","quarter");pi("quarter","Q");mi("quarter",7);nt("Q",E9);Tn("Q",function(t,e){e[za]=(Yt(t)-1)*3});function Fme(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ht("D",["DD",2],"Do","date");pi("date","D");mi("date",9);nt("D",$n);nt("DD",$n,hs);nt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Tn(["D","DD"],Zo);Tn("Do",function(t,e){e[Zo]=Yt(t.match($n)[0])});var t7=If("Date",!0);ht("DDD",["DDDD",3],"DDDo","dayOfYear");pi("dayOfYear","DDD");mi("dayOfYear",4);nt("DDD",zy);nt("DDDD",w9);Tn(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Yt(t)});function Ume(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ht("m",["mm",2],0,"minute");pi("minute","m");mi("minute",14);nt("m",$n);nt("mm",$n,hs);Tn(["m","mm"],_o);var jme=If("Minutes",!1);ht("s",["ss",2],0,"second");pi("second","s");mi("second",15);nt("s",$n);nt("ss",$n,hs);Tn(["s","ss"],Ga);var Bme=If("Seconds",!1);ht("S",0,0,function(){return~~(this.millisecond()/100)});ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ht(0,["SSS",3],0,"millisecond");ht(0,["SSSS",4],0,function(){return this.millisecond()*10});ht(0,["SSSSS",5],0,function(){return this.millisecond()*100});ht(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ht(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ht(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ht(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});pi("millisecond","ms");mi("millisecond",16);nt("S",zy,E9);nt("SS",zy,hs);nt("SSS",zy,w9);var gc,n7;for(gc="SSSS";gc.length<=9;gc+="S")nt(gc,Of);function Vme(t,e){e[Du]=Yt(("0."+t)*1e3)}for(gc="S";gc.length<=9;gc+="S")Tn(gc,Vme);n7=If("Milliseconds",!1);ht("z",0,0,"zoneAbbr");ht("zz",0,0,"zoneName");function Hme(){return this._isUTC?"UTC":""}function zme(){return this._isUTC?"Coordinated Universal Time":""}var Ne=Xm.prototype;Ne.add=kpe;Ne.calendar=Hpe;Ne.clone=zpe;Ne.diff=Xpe;Ne.endOf=ome;Ne.format=eme;Ne.from=tme;Ne.fromNow=nme;Ne.to=rme;Ne.toNow=ime;Ne.get=$fe;Ne.invalidAt=mme;Ne.isAfter=Gpe;Ne.isBefore=$pe;Ne.isBetween=Wpe;Ne.isSame=qpe;Ne.isSameOrAfter=Ype;Ne.isSameOrBefore=Kpe;Ne.isValid=hme;Ne.lang=K9;Ne.locale=Y9;Ne.localeData=X9;Ne.max=hpe;Ne.min=fpe;Ne.parsingFlags=pme;Ne.set=Wfe;Ne.startOf=sme;Ne.subtract=Dpe;Ne.toArray=ume;Ne.toObject=dme;Ne.toDate=cme;Ne.toISOString=Zpe;Ne.inspect=Qpe;typeof Symbol!="undefined"&&Symbol.for!=null&&(Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ne.toJSON=fme;Ne.toString=Jpe;Ne.unix=lme;Ne.valueOf=ame;Ne.creationData=gme;Ne.eraName=bme;Ne.eraNarrow=Eme;Ne.eraAbbr=wme;Ne.eraYear=xme;Ne.year=R9;Ne.isLeapYear=dhe;Ne.weekYear=Rme;Ne.isoWeekYear=Lme;Ne.quarter=Ne.quarters=Fme;Ne.month=A9;Ne.daysInMonth=lhe;Ne.week=Ne.weeks=vhe;Ne.isoWeek=Ne.isoWeeks=yhe;Ne.weeksInYear=Nme;Ne.weeksInWeekYear=kme;Ne.isoWeeksInYear=Ime;Ne.isoWeeksInISOWeekYear=Ome;Ne.date=t7;Ne.day=Ne.days=Lhe;Ne.weekday=Ihe;Ne.isoWeekday=Ohe;Ne.dayOfYear=Ume;Ne.hour=Ne.hours=Bhe;Ne.minute=Ne.minutes=jme;Ne.second=Ne.seconds=Bme;Ne.millisecond=Ne.milliseconds=n7;Ne.utcOffset=wpe;Ne.utc=Spe;Ne.local=Tpe;Ne.parseZone=Cpe;Ne.hasAlignedHourOffset=Mpe;Ne.isDST=Ape;Ne.isLocal=Rpe;Ne.isUtcOffset=Lpe;Ne.isUtc=z9;Ne.isUTC=z9;Ne.zoneAbbr=Hme;Ne.zoneName=zme;Ne.dates=zs("dates accessor is deprecated. Use date instead.",t7);Ne.months=zs("months accessor is deprecated. Use month instead",A9);Ne.years=zs("years accessor is deprecated. Use year instead",R9);Ne.zone=zs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",xpe);Ne.isDSTShifted=zs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ppe);function Gme(t){return Wn(t*1e3)}function $me(){return Wn.apply(null,arguments).parseZone()}function r7(t){return t}var fn=AT.prototype;fn.calendar=Lfe;fn.longDateFormat=kfe;fn.invalidDate=Ffe;fn.ordinal=Bfe;fn.preparse=r7;fn.postformat=r7;fn.relativeTime=Hfe;fn.pastFuture=zfe;fn.set=Pfe;fn.eras=vme;fn.erasParse=yme;fn.erasConvertYear=_me;fn.erasAbbrRegex=Tme;fn.erasNameRegex=Sme;fn.erasNarrowRegex=Cme;fn.months=ihe;fn.monthsShort=she;fn.monthsParse=ahe;fn.monthsRegex=uhe;fn.monthsShortRegex=che;fn.week=hhe;fn.firstDayOfYear=ghe;fn.firstDayOfWeek=mhe;fn.weekdays=Che;fn.weekdaysMin=Ahe;fn.weekdaysShort=Mhe;fn.weekdaysParse=Rhe;fn.weekdaysRegex=Nhe;fn.weekdaysShortRegex=khe;fn.weekdaysMinRegex=Dhe;fn.isPM=Uhe;fn.meridiem=Vhe;function i_(t,e,n,i){var o=Wa(),s=Ko().set(i,e);return o[n](s,t)}function i7(t,e,n){if(Ha(t)&&(e=t,t=void 0),t=t||"",e!=null)return i_(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=i_(t,i,n,"month");return o}function XT(t,e,n,i){typeof t=="boolean"?(Ha(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ha(e)&&(n=e,e=void 0),e=e||"");var o=Wa(),s=t?o._week.dow:0,a,l=[];if(n!=null)return i_(e,(n+s)%7,i,"day");for(a=0;a<7;a++)l[a]=i_(e,(a+s)%7,i,"day");return l}function Wme(t,e){return i7(t,e,"months")}function qme(t,e){return i7(t,e,"monthsShort")}function Yme(t,e,n){return XT(t,e,n,"weekdays")}function Kme(t,e,n){return XT(t,e,n,"weekdaysShort")}function Xme(t,e,n){return XT(t,e,n,"weekdaysMin")}mc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Yt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Be.lang=zs("moment.lang is deprecated. Use moment.locale instead.",mc);Be.langData=zs("moment.langData is deprecated. Use moment.localeData instead.",Wa);var qa=Math.abs;function Jme(){var t=this._data;return this._milliseconds=qa(this._milliseconds),this._days=qa(this._days),this._months=qa(this._months),t.milliseconds=qa(t.milliseconds),t.seconds=qa(t.seconds),t.minutes=qa(t.minutes),t.hours=qa(t.hours),t.months=qa(t.months),t.years=qa(t.years),this}function s7(t,e,n,i){var o=bo(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Zme(t,e){return s7(this,t,e,1)}function Qme(t,e){return s7(this,t,e,-1)}function o7(t){return t<0?Math.floor(t):Math.ceil(t)}function ege(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,o,s,a,l,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=o7(JT(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,o=$s(t/1e3),i.seconds=o%60,s=$s(o/60),i.minutes=s%60,a=$s(s/60),i.hours=a%24,e+=$s(a/24),c=$s(a7(e)),n+=c,e-=o7(JT(c)),l=$s(n/12),n%=12,i.days=e,i.months=n,i.years=l,this}function a7(t){return t*4800/146097}function JT(t){return t*146097/4800}function tge(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=Gs(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+a7(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(JT(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function nge(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Yt(this._months/12)*31536e6:NaN}function Ya(t){return function(){return this.as(t)}}var rge=Ya("ms"),ige=Ya("s"),sge=Ya("m"),oge=Ya("h"),age=Ya("d"),lge=Ya("w"),cge=Ya("M"),uge=Ya("Q"),dge=Ya("y");function fge(){return bo(this)}function hge(t){return t=Gs(t),this.isValid()?this[t+"s"]():NaN}function Uu(t){return function(){return this.isValid()?this._data[t]:NaN}}var pge=Uu("milliseconds"),mge=Uu("seconds"),gge=Uu("minutes"),vge=Uu("hours"),yge=Uu("days"),_ge=Uu("months"),bge=Uu("years");function Ege(){return $s(this.days()/7)}var Ka=Math.round,Ff={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wge(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function xge(t,e,n,i){var o=bo(t).abs(),s=Ka(o.as("s")),a=Ka(o.as("m")),l=Ka(o.as("h")),c=Ka(o.as("d")),u=Ka(o.as("M")),d=Ka(o.as("w")),f=Ka(o.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=e,h[3]=+t>0,h[4]=i,wge.apply(null,h)}function Sge(t){return t===void 0?Ka:typeof t=="function"?(Ka=t,!0):!1}function Tge(t,e){return Ff[t]===void 0?!1:e===void 0?Ff[t]:(Ff[t]=e,t==="s"&&(Ff.ss=e-1),!0)}function Cge(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Ff,o,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},Ff,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),o=this.localeData(),s=xge(this,!n,i,o),n&&(s=o.pastFuture(+this,s)),o.postformat(s)}var ZT=Math.abs;function Uf(t){return(t>0)-(t<0)||+t}function s_(){if(!this.isValid())return this.localeData().invalidDate();var t=ZT(this._milliseconds)/1e3,e=ZT(this._days),n=ZT(this._months),i,o,s,a,l=this.asSeconds(),c,u,d,f;return l?(i=$s(t/60),o=$s(i/60),t%=60,i%=60,s=$s(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Uf(this._months)!==Uf(l)?"-":"",d=Uf(this._days)!==Uf(l)?"-":"",f=Uf(this._milliseconds)!==Uf(l)?"-":"",c+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(o||i||t?"T":"")+(o?f+o+"H":"")+(i?f+i+"M":"")+(t?f+a+"S":"")):"P0D"}var on=Zy.prototype;on.isValid=ype;on.abs=Jme;on.add=Zme;on.subtract=Qme;on.as=tge;on.asMilliseconds=rge;on.asSeconds=ige;on.asMinutes=sge;on.asHours=oge;on.asDays=age;on.asWeeks=lge;on.asMonths=cge;on.asQuarters=uge;on.asYears=dge;on.valueOf=nge;on._bubble=ege;on.clone=fge;on.get=hge;on.milliseconds=pge;on.seconds=mge;on.minutes=gge;on.hours=vge;on.days=yge;on.weeks=Ege;on.months=_ge;on.years=bge;on.humanize=Cge;on.toISOString=s_;on.toString=s_;on.toJSON=s_;on.locale=Y9;on.localeData=X9;on.toIsoString=zs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",s_);on.lang=K9;ht("X",0,0,"unix");ht("x",0,0,"valueOf");nt("x",$y);nt("X",Yfe);Tn("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Tn("x",function(t,e,n){n._d=new Date(Yt(t))});//! moment.js
Be.version="2.29.3";Mfe(Wn);Be.fn=Ne;Be.min=ppe;Be.max=mpe;Be.now=gpe;Be.utc=Ko;Be.unix=Gme;Be.months=Wme;Be.isDate=Km;Be.locale=mc;Be.invalid=Fy;Be.duration=bo;Be.isMoment=yo;Be.weekdays=Yme;Be.parseZone=$me;Be.localeData=Wa;Be.isDuration=Qy;Be.monthsShort=qme;Be.weekdaysMin=Xme;Be.defineLocale=jT;Be.updateLocale=$he;Be.locales=Whe;Be.weekdaysShort=Kme;Be.normalizeUnits=Gs;Be.relativeTimeRounding=Sge;Be.relativeTimeThreshold=Tge;Be.calendarFormat=Vpe;Be.prototype=Ne;Be.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Mge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Be}),Age=Yo,Pge=function(){return Age.Date.now()},Rge=Pge,Lge=/\s/;function Ige(t){for(var e=t.length;e--&&Lge.test(t.charAt(e)););return e}var Oge=Ige,Nge=Oge,kge=/^\s+/;function Dge(t){return t&&t.slice(0,Nge(t)+1).replace(kge,"")}var Fge=Dge,Uge=Fge,l7=ja,jge=Sy,c7=0/0,Bge=/^[-+]0x[0-9a-f]+$/i,Vge=/^0b[01]+$/i,Hge=/^0o[0-7]+$/i,zge=parseInt;function Gge(t){if(typeof t=="number")return t;if(jge(t))return c7;if(l7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=l7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Uge(t);var n=Vge.test(t);return n||Hge.test(t)?zge(t.slice(2),n?2:8):Bge.test(t)?c7:+t}var QT=Gge,$ge=ja,e5=Rge,u7=QT,Wge="Expected a function",qge=Math.max,Yge=Math.min;function Kge(t,e,n){var i,o,s,a,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Wge);e=u7(e)||0,$ge(n)&&(d=!!n.leading,f="maxWait"in n,s=f?qge(u7(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function v(R){var A=i,L=o;return i=o=void 0,u=R,a=t.apply(L,A),a}function m(R){return u=R,l=setTimeout(E,e),d?v(R):a}function _(R){var A=R-c,L=R-u,k=e-A;return f?Yge(k,s-L):k}function S(R){var A=R-c,L=R-u;return c===void 0||A>=e||A<0||f&&L>=s}function E(){var R=e5();if(S(R))return w(R);l=setTimeout(E,_(R))}function w(R){return l=void 0,h&&i?v(R):(i=o=void 0,a)}function T(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function C(){return l===void 0?a:w(e5())}function P(){var R=e5(),A=S(R);if(i=arguments,o=this,c=R,A){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(E,e),v(c)}return l===void 0&&(l=setTimeout(E,e)),a}return P.cancel=T,P.flush=C,P}var og=Kge,Xge=Ly,Jge=Wk,Zge=Yk;function Qge(t,e){return Zge(Jge(t,e,Xge),t+"")}var e0e=Qge,t0e=xk,n0e=mT;function r0e(t){return t!=null&&n0e(t.length)&&!t0e(t)}var t5=r0e,i0e=Gm,s0e=t5,o0e=Ry,a0e=ja;function l0e(t,e,n){if(!a0e(n))return!1;var i=typeof e;return(i=="number"?s0e(n)&&o0e(e,n.length):i=="string"&&e in n)?i0e(n[e],t):!1}var c0e=l0e;function u0e(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var d7=u0e,o_={exports:{}};function d0e(){return!1}var f0e=d0e;(function(t,e){var n=Yo,i=f0e,o=e&&!e.nodeType&&e,s=o&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;t.exports=u})(o_,o_.exports);var h0e=Hm,p0e=mT,m0e=zm,g0e="[object Arguments]",v0e="[object Array]",y0e="[object Boolean]",_0e="[object Date]",b0e="[object Error]",E0e="[object Function]",w0e="[object Map]",x0e="[object Number]",S0e="[object Object]",T0e="[object RegExp]",C0e="[object Set]",M0e="[object String]",A0e="[object WeakMap]",P0e="[object ArrayBuffer]",R0e="[object DataView]",L0e="[object Float32Array]",I0e="[object Float64Array]",O0e="[object Int8Array]",N0e="[object Int16Array]",k0e="[object Int32Array]",D0e="[object Uint8Array]",F0e="[object Uint8ClampedArray]",U0e="[object Uint16Array]",j0e="[object Uint32Array]",qn={};qn[L0e]=qn[I0e]=qn[O0e]=qn[N0e]=qn[k0e]=qn[D0e]=qn[F0e]=qn[U0e]=qn[j0e]=!0;qn[g0e]=qn[v0e]=qn[P0e]=qn[y0e]=qn[R0e]=qn[_0e]=qn[b0e]=qn[E0e]=qn[w0e]=qn[x0e]=qn[S0e]=qn[T0e]=qn[C0e]=qn[M0e]=qn[A0e]=!1;function B0e(t){return m0e(t)&&p0e(t.length)&&!!qn[h0e(t)]}var V0e=B0e;function H0e(t){return function(e){return t(e)}}var z0e=H0e,n5={exports:{}};(function(t,e){var n=yk,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s&&n.process,l=function(){try{var c=o&&o.require&&o.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(n5,n5.exports);var G0e=V0e,$0e=z0e,f7=n5.exports,h7=f7&&f7.isTypedArray,W0e=h7?$0e(h7):G0e,p7=W0e,q0e=d7,Y0e=pT,K0e=qo,X0e=o_.exports,J0e=Ry,Z0e=p7,Q0e=Object.prototype,eve=Q0e.hasOwnProperty;function tve(t,e){var n=K0e(t),i=!n&&Y0e(t),o=!n&&!i&&X0e(t),s=!n&&!i&&!o&&Z0e(t),a=n||i||o||s,l=a?q0e(t.length,String):[],c=l.length;for(var u in t)(e||eve.call(t,u))&&!(a&&(u=="length"||o&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||J0e(u,c)))&&l.push(u);return l}var m7=tve,nve=Object.prototype;function rve(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nve;return t===n}var g7=rve;function ive(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sve=ive,ove=ja,ave=g7,lve=sve,cve=Object.prototype,uve=cve.hasOwnProperty;function dve(t){if(!ove(t))return lve(t);var e=ave(t),n=[];for(var i in t)i=="constructor"&&(e||!uve.call(t,i))||n.push(i);return n}var fve=dve,hve=m7,pve=fve,mve=t5;function gve(t){return mve(t)?hve(t,!0):pve(t)}var vve=gve,yve=e0e,_ve=Gm,bve=c0e,Eve=vve,v7=Object.prototype,wve=v7.hasOwnProperty,xve=yve(function(t,e){t=Object(t);var n=-1,i=e.length,o=i>2?e[2]:void 0;for(o&&bve(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=Eve(s),l=-1,c=a.length;++l<c;){var u=a[l],d=t[u];(d===void 0||_ve(d,v7[u])&&!wve.call(t,u))&&(t[u]=s[u])}return t}),ju=xve;const y7=Symbol("Comlink.proxy"),Sve=Symbol("Comlink.endpoint"),_7=Symbol("Comlink.releaseProxy"),r5=Symbol("Comlink.thrown"),b7=t=>typeof t=="object"&&t!==null||typeof t=="function",Tve={canHandle:t=>b7(t)&&t[y7],serialize(t){const{port1:e,port2:n}=new MessageChannel;return w7(t,e),[n,[n]]},deserialize(t){return t.start(),S7(t)}},Cve={canHandle:t=>b7(t)&&r5 in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},E7=new Map([["proxy",Tve],["throw",Cve]]);function w7(t,e=self){e.addEventListener("message",function n(i){if(!i||!i.data)return;const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Bu);let c;try{const u=a.slice(0,-1).reduce((f,h)=>f[h],t),d=a.reduce((f,h)=>f[h],t);switch(s){case"GET":c=d;break;case"SET":u[a.slice(-1)[0]]=Bu(i.data.value),c=!0;break;case"APPLY":c=d.apply(u,l);break;case"CONSTRUCT":{const f=new d(...l);c=Rve(f)}break;case"ENDPOINT":{const{port1:f,port2:h}=new MessageChannel;w7(t,h),c=Pve(f,[f])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[r5]:0}}Promise.resolve(c).catch(u=>({value:u,[r5]:0})).then(u=>{const[d,f]=s5(u);e.postMessage(Object.assign(Object.assign({},d),{id:o}),f),s==="RELEASE"&&(e.removeEventListener("message",n),x7(e))})}),e.start&&e.start()}function Mve(t){return t.constructor.name==="MessagePort"}function x7(t){Mve(t)&&t.close()}function S7(t,e){return i5(t,[],e)}function a_(t){if(t)throw new Error("Proxy has been released and is not useable")}function i5(t,e=[],n=function(){}){let i=!1;const o=new Proxy(n,{get(s,a){if(a_(i),a===_7)return()=>jf(t,{type:"RELEASE",path:e.map(l=>l.toString())}).then(()=>{x7(t),i=!0});if(a==="then"){if(e.length===0)return{then:()=>o};const l=jf(t,{type:"GET",path:e.map(c=>c.toString())}).then(Bu);return l.then.bind(l)}return i5(t,[...e,a])},set(s,a,l){a_(i);const[c,u]=s5(l);return jf(t,{type:"SET",path:[...e,a].map(d=>d.toString()),value:c},u).then(Bu)},apply(s,a,l){a_(i);const c=e[e.length-1];if(c===Sve)return jf(t,{type:"ENDPOINT"}).then(Bu);if(c==="bind")return i5(t,e.slice(0,-1));const[u,d]=T7(l);return jf(t,{type:"APPLY",path:e.map(f=>f.toString()),argumentList:u},d).then(Bu)},construct(s,a){a_(i);const[l,c]=T7(a);return jf(t,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:l},c).then(Bu)}});return o}function Ave(t){return Array.prototype.concat.apply([],t)}function T7(t){const e=t.map(s5);return[e.map(n=>n[0]),Ave(e.map(n=>n[1]))]}const C7=new WeakMap;function Pve(t,e){return C7.set(t,e),t}function Rve(t){return Object.assign(t,{[y7]:!0})}function s5(t){for(const[e,n]of E7)if(n.canHandle(t)){const[i,o]=n.serialize(t);return[{type:"HANDLER",name:e,value:i},o]}return[{type:"RAW",value:t},C7.get(t)||[]]}function Bu(t){switch(t.type){case"HANDLER":return E7.get(t.name).deserialize(t.value);case"RAW":return t.value}}function jf(t,e,n){return new Promise(i=>{const o=Lve();t.addEventListener("message",function s(a){!a.data||!a.data.id||a.data.id!==o||(t.removeEventListener("message",s),i(a.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)})}function Lve(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var o5={},Ive={},Ove=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ive}),M7=JQ(Ove),a5={};(function(t){function e(s,a){for(var l=0,c=s.length-1;c>=0;c--){var u=s[c];u==="."?s.splice(c,1):u===".."?(s.splice(c,1),l++):l&&(s.splice(c,1),l--)}if(a)for(;l--;l)s.unshift("..");return s}t.resolve=function(){for(var s="",a=!1,l=arguments.length-1;l>=-1&&!a;l--){var c=l>=0?arguments[l]:process.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)continue;s=c+"/"+s,a=c.charAt(0)==="/"}return s=e(i(s.split("/"),function(u){return!!u}),!a).join("/"),(a?"/":"")+s||"."},t.normalize=function(s){var a=t.isAbsolute(s),l=o(s,-1)==="/";return s=e(i(s.split("/"),function(c){return!!c}),!a).join("/"),!s&&!a&&(s="."),s&&l&&(s+="/"),(a?"/":"")+s},t.isAbsolute=function(s){return s.charAt(0)==="/"},t.join=function(){var s=Array.prototype.slice.call(arguments,0);return t.normalize(i(s,function(a,l){if(typeof a!="string")throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},t.relative=function(s,a){s=t.resolve(s).substr(1),a=t.resolve(a).substr(1);function l(m){for(var _=0;_<m.length&&m[_]==="";_++);for(var S=m.length-1;S>=0&&m[S]==="";S--);return _>S?[]:m.slice(_,S-_+1)}for(var c=l(s.split("/")),u=l(a.split("/")),d=Math.min(c.length,u.length),f=d,h=0;h<d;h++)if(c[h]!==u[h]){f=h;break}for(var v=[],h=f;h<c.length;h++)v.push("..");return v=v.concat(u.slice(f)),v.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(s){if(typeof s!="string"&&(s=s+""),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,c=-1,u=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!u){c=d;break}}else u=!1;return c===-1?l?"/":".":l&&c===1?"/":s.slice(0,c)};function n(s){typeof s!="string"&&(s=s+"");var a=0,l=-1,c=!0,u;for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":s.slice(a,l)}t.basename=function(s,a){var l=n(s);return a&&l.substr(-1*a.length)===a&&(l=l.substr(0,l.length-a.length)),l},t.extname=function(s){typeof s!="string"&&(s=s+"");for(var a=-1,l=0,c=-1,u=!0,d=0,f=s.length-1;f>=0;--f){var h=s.charCodeAt(f);if(h===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),h===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)};function i(s,a){if(s.filter)return s.filter(a);for(var l=[],c=0;c<s.length;c++)a(s[c],c,s)&&l.push(s[c]);return l}var o="ab".substr(-1)==="b"?function(s,a,l){return s.substr(a,l)}:function(s,a,l){return a<0&&(a=s.length+a),s.substr(a,l)}})(a5);const Nve=M7,A7=a5,kve=M7;function P7(t){console.log(`[dotenv][DEBUG] ${t}`)}const Dve=`
`,Fve=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,Uve=/\\n/g,jve=/\r\n|\n|\r/;function R7(t,e){const n=Boolean(e&&e.debug),i={};return t.toString().split(jve).forEach(function(o,s){const a=o.match(Fve);if(a!=null){const l=a[1];let c=a[2]||"";const u=c.length-1,d=c[0]==='"'&&c[u]==='"';c[0]==="'"&&c[u]==="'"||d?(c=c.substring(1,u),d&&(c=c.replace(Uve,Dve))):c=c.trim(),i[l]=c}else n&&P7(`did not match key and value when parsing line ${s+1}: ${o}`)}),i}function Bve(t){return t[0]==="~"?A7.join(kve.homedir(),t.slice(1)):t}function Vve(t){let e=A7.resolve(process.cwd(),".env"),n="utf8",i=!1;t&&(t.path!=null&&(e=Bve(t.path)),t.encoding!=null&&(n=t.encoding),t.debug!=null&&(i=!0));try{const o=R7(Nve.readFileSync(e,{encoding:n}),{debug:i});return Object.keys(o).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?i&&P7(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=o[s]}),{parsed:o}}catch(o){return{error:o}}}o5.config=Vve;o5.parse=R7;var L7=function(){if(!("WebSocket"in window))return function(){return{open:function(){},setURL:function(){},close:function(){}}};function t(e,n,i){var o={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};i||(i={});for(var s in o)typeof i[s]!="undefined"?this[s]=i[s]:this[s]=o[s];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var a=this,l,c=!1,u=!1,d=document.createElement("div");d.addEventListener("open",function(h){a.onopen(h)}),d.addEventListener("close",function(h){a.onclose(h)}),d.addEventListener("connecting",function(h){a.onconnecting(h)}),d.addEventListener("message",function(h){a.onmessage(h)}),d.addEventListener("error",function(h){a.onerror(h)}),this.addEventListener=d.addEventListener.bind(d),this.removeEventListener=d.removeEventListener.bind(d),this.dispatchEvent=d.dispatchEvent.bind(d);function f(h,v=null){var m=document.createEvent("CustomEvent");return m.initCustomEvent(h,!1,!1,v),m}this.open=function(h){if(c=!1,l=new WebSocket(a.url,n||[]),l.binaryType=this.binaryType,h){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else d.dispatchEvent(f("connecting")),this.reconnectAttempts=0;(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",a.url);var v=l,m=setTimeout(function(){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",a.url),u=!0,v.close(),u=!1},a.timeoutInterval);l.onopen=function(_){clearTimeout(m),(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onopen",a.url),a.protocol=l.protocol,a.readyState=WebSocket.OPEN,a.reconnectAttempts=0;var S=f("open");S.isReconnect=h,h=!1,d.dispatchEvent(S)},l.onclose=function(_){if(clearTimeout(E),l=null,c)a.readyState=WebSocket.CLOSED,d.dispatchEvent(f("close")),c=!1;else{a.readyState=WebSocket.CONNECTING;var S=f("connecting");S.code=_.code,S.reason=_.reason,S.wasClean=_.wasClean,d.dispatchEvent(S),!h&&!u&&((a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onclose",a.url),d.dispatchEvent(f("close")));var E=a.reconnectInterval*Math.pow(a.reconnectDecay,a.reconnectAttempts);setTimeout(function(){a.reconnectAttempts++,a.open(!0)},E>a.maxReconnectInterval?a.maxReconnectInterval:E)}},l.onmessage=function(_){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",a.url,_.data);var S=f("message");S.data=_.data,d.dispatchEvent(S)},l.onerror=function(_){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onerror",a.url,_),d.dispatchEvent(f("error"))}},this.automaticOpen==!0&&this.open(!1),this.send=function(h){if(l)return(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","send",a.url,h),l.send(h);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(h,v){typeof h=="undefined"&&(h=1e3),c=!0,l&&l.close(h,v)},this.refresh=function(){l&&l.close()},this.setURL=function(h){this.url=h}}return t.prototype.onopen=function(e){},t.prototype.onclose=function(e){},t.prototype.onconnecting=function(e){},t.prototype.onmessage=function(e){},t.prototype.onerror=function(e){},t.debugAll=!1,t.CONNECTING=WebSocket.CONNECTING,t.OPEN=WebSocket.OPEN,t.CLOSING=WebSocket.CLOSING,t.CLOSED=WebSocket.CLOSED,t}();const I7=window||{};function Hve({randomId:t,setTimeoutMock:e,clearTimeoutMock:n,application:i}){const o=e||I7.setTimeout,s=n||I7.clearTimeout,a=t();let l=null;const c={};let u=null,d=null;const f=new Map,h=[],v=function(B){return(B.force||z.ws.isOpen)&&z.ws.send(JSON.stringify(B)),z.ws.isOpen},m=function(B){const q=JSON.parse(JSON.stringify(B));return l.stripAddedFields(q),v({type:"client-oplist",opList:q})},_=function(B,q){let{content:W}=B;for(let j=q.length-1;j>=0;j--){const $=q[j];for(let ie=$.ops.length-1;ie>=0;ie--){const Q=$.ops[ie];if(Q.docId===B.docId)switch(Q.type){case"insert":W=W.substring(0,Q.position)+W.substring(Q.position+Q.text.length);break;case"remove":W=W.substring(0,Q.position)+Q.text+W.substring(Q.position);break}}}return W},S=function(){const B=[u.opList];(d!=null?d.opList.ops.length:void 0)>0&&B.push(d.opList);const q={},W={},j={};for(const ie of B)for(const Q of ie.ops)Q.type==="unlink"&&(W[Q.docId]=!0);const $=[];for(const ie of B)for(const Q of ie.ops){switch(Q.type){case"add":if(q[Q.docId]=!0,W[Q.docId])continue;j[Q.docId]=!0;break;case"rename":if(q[Q.docId]&&W[Q.docId])continue;break;case"unlink":if(q[Q.docId])continue;break;case"insert":case"remove":if(W[Q.docId])continue;if(!j[Q.docId]){const le=_(l.document(Q.docId),B),he=l.applyEdit(le,Q);Q.type="set-content",Q.content=he,delete Q.text,j[Q.docId]=!0}break}$.push(Q)}if($.length>0)return v({type:"resolve-offline-edits",ops:$,force:!0})},E=function(B){if(i.editorIsPreviewingRewind()){i.receivedMasterStateDuringRewind(!0);return}u&&S(),l=lee({state:B});for(const q in c){const W=c[q];s(W),delete c[q]}u&&u.resolve(),(d!=null?d.opList.ops.length:void 0)>0&&d.resolve(),u=null,U(),z.ws.isOpen=!0,N("connected",z.ws.isOpen),N("new-state",B)},w=function(B){var W;let q;if(i.editorIsPreviewingRewind()){i.receivedMasterStateDuringRewind(!0);return}B[0]&&B[0].id===((W=u==null?void 0:u.opList)==null?void 0:W.id)&&(l.setVersion(B[0].version+1),q=B.shift(),u.resolve(q),u=null);for(q of B)T(q,{doNotHandleQueued:!0});z.ws.isOpen=!0,N("connected",z.ws.isOpen),k()},T=function(B,{doNotHandleQueued:q}={}){if(i.editorIsPreviewingRewind()){h.push(B);return}I(B),l.apply(B),l.setVersion(B.version+1),N("oplist",B),q||k()},C=function({document:B,missingDocId:q}){let W;if(q){W=l.document(q),W.reject(new Error(`document ${W.docId} not found on the server`));return}W=l.document(B.docId),l.registerDocument(B.docId,B),W.resolve(W)},P=function(B){s(c[B.id]),delete c[B.id]},R=function(B){l.setVersion(B.version+1),s(c[B.id]),delete c[B.id],u.resolve(B),u=null,k()},A=function(B){l.setVersion(B+1),N("accepted-offline-edits")},L=B=>N("broadcast",B),k=function(){!u&&d.opList.ops.length>0&&(u=d,U()),u&&(u.opList.id=t(),u.opList.version=l.version(),m(u.opList)&&(c[u.opList.id]=o(O(u.opList),5e3)))},U=function(){d={opList:{ops:[]}};const B=new Promise(function(q,W){d.resolve=q,d.reject=W});d.promise=B},O=B=>function(){delete c[B.id],z.ws.refresh()},I=function(B){u&&z.updateOps(u.opList.ops,B.ops),z.updateOps(d.opList.ops,B.ops)},F=()=>v({type:"master-state",clientId:a,lastSync:l!=null?l.lastSync():void 0,registeredDocIds:l!=null?l.registeredDocIds():void 0,force:!0}),N=(B,q=null)=>Array.from(f.values()).map(W=>W(B,q)),H=function(B){l.apply(B),N("oplist",B)},z={ws:new L7(void 0,null,{automaticOpen:!1,timeoutInterval:15e3,reconnectInterval:1e3,maxReconnectInterval:5e3}),handleEvent(B){switch(B.type){case"open":F();break;case"message":const q=JSON.parse(B.data);switch(q.type){case"master-state":E(q.state);break;case"master-state-update":w(q.opLists);break;case"master-oplist":T(q.opList);break;case"register-document":C(q);break;case"rejected-oplist":P(q.opList);break;case"accepted-oplist":R(q.opList);break;case"accepted-offline-edits":A(q.version);break;case"broadcast":L(q.payload);break;case"lint-results":i.updateBackendLintingResults(q.filePath,q.results);break;case"error":q.errorCode==="OWNER_NOT_IN_GOOD_STANDING"?i.ownerNotInGoodStandingOverlayVisible(!0):q.errorCode==="UPTIME_LIMITS_EXCEEDED"?i.uptimeLimitsExceededOverlayVisible(!0):q.errorCode==="ANONYMOUS_PROJECT_DELETED"?i.anonymousProjectDeletedOverlayVisible(!0):q.errorCode==="GLITCH_SUBSCRIPTION_REQUIRED"&&i.glitchSubscriptionRequiredOverlayVisible(!0),z.ws.close(3e3);break}q.canBroadcast!=null&&N("can-broadcast",q.canBroadcast);break;case"close":z.ws.isOpen=!1;for(const W in c){const j=c[W];s(j),delete c[W]}N("connected",z.ws.isOpen);break}},connect(B){return new Promise((q,W)=>{i.notifyConnectionNotEstablished(!1),i.notifyGenericError(!1),z.ws.setURL(B);let j=3;z.ws.isOpen?z.ws.refresh():(z.ws.open(),z.ws.onclose=$=>{if($.code!==1e3){if($.code===3e3||i.uptimeLimitsExceededOverlayVisible()||i.anonymousProjectDeletedOverlayVisible()||i.glitchSubscriptionRequiredOverlayVisible())return;navigator.onLine||i.notifyGenericError({message:"You are offline. Please connect to the Internet and try again."})}z.handleEvent($)},z.ws.onopen=$=>{z.handleEvent($)},z.ws.onerror=()=>{j-=1,j<=0&&(Yi(new Error("Connection Error"),{tags:{errorType:"connectionError"}}),i.notifyConnectionNotEstablished(!0),z.ws.close(),W())},z.ws.onmessage=$=>{JSON.parse($.data).type==="master-state"&&q(),j=3,z.handleEvent($)})})},disconnect(){z.ws.close()},clientId(){return a},ot(){return l},isConnected(){return z.ws.isOpen},sendOps(B){let q;const W={id:t(),version:l.version(),ops:JSON.parse(JSON.stringify(B))};l.apply(W,{registerOnAdd:!0}),W.ops.some($=>["add","rename","unlink"].includes($.type))&&N("filetree-updated"),W.ops.forEach($=>delete $.content);const j={id:W.id,version:W.version,ops:W.ops};return W.ops=B,u?(d.opList.ops=d.opList.ops.concat(j.ops),d.promise):(u={},q=new Promise(function(ie,Q){return u.resolve=ie,u.reject=Q}),u.promise=q,u.opList=j,m(W)&&(c[W.id]=o(O(W),5e3)),q)},sendBroadcast(B){return v({type:"broadcast",payload:B})},document(B){const q=l.document(B);if(q!=null?q.promise:void 0)return q.promise;const W=new Promise(function(j,$){var Q;if(!q)return i.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:(Q=i==null?void 0:i.currentProject())==null?void 0:Q.domain()}}),$(new Error(`document ${B} not found`));if(q.resolve=j,q.reject=$,!v({type:"register-document",docId:B}))return $(new Error("connection is closed, retry"))});return q!=null&&(q.promise=W),W},async documentByPath(B){const q=l.documentByPath(B);if(!q)throw new Error(`document ${B} not found`);return await z.document(q.docId)},documentImmediate(B){return l.document(B)},documentByPathImmediate(B){return l.documentByPath(B)},idToPath(B){return l.idToPath(B)},updateOps(B,q){return B.map(W=>q.map(j=>l.updateOp(W,j,H)))},addEventListener(B,q){return f.set(B,q)},removeEventListener(B){return f.delete(B)},awaitAck(){return u},pending(){return d},timeoutHandlers(){return c},opListsReceivedDuringRewind(){return h}};return z}var l_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,i="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,v=4,m=1,_=2,S=1,E=2,w=4,T=8,C=16,P=32,R=64,A=128,L=256,k=512,U=30,O="...",I=800,F=16,N=1,H=2,z=3,B=1/0,q=9007199254740991,W=17976931348623157e292,j=0/0,$=4294967295,ie=$-1,Q=$>>>1,le=[["ary",A],["bind",S],["bindKey",E],["curry",T],["curryRight",C],["flip",k],["partial",P],["partialRight",R],["rearg",L]],he="[object Arguments]",ue="[object Array]",Ie="[object AsyncFunction]",Me="[object Boolean]",ke="[object Date]",Ze="[object DOMException]",pt="[object Error]",be="[object Function]",De="[object GeneratorFunction]",Ae="[object Map]",Qe="[object Number]",Xe="[object Null]",mt="[object Object]",Mt="[object Promise]",jt="[object Proxy]",hn="[object RegExp]",ne="[object Set]",J="[object String]",Te="[object Symbol]",Oe="[object Undefined]",ze="[object WeakMap]",Re="[object WeakSet]",vt="[object ArrayBuffer]",ct="[object DataView]",He="[object Float32Array]",se="[object Float64Array]",Ve="[object Int8Array]",je="[object Int16Array]",St="[object Int32Array]",st="[object Uint8Array]",kt="[object Uint8ClampedArray]",We="[object Uint16Array]",Lt="[object Uint32Array]",Sn=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,Ss=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ts=/&(?:amp|lt|gt|quot|#39);/g,Io=/[&<>"']/g,nv=RegExp(ts.source),rv=RegExp(Io.source),JE=/<%-([\s\S]+?)%>/g,_d=/<%([\s\S]+?)%>/g,iv=/<%=([\s\S]+?)%>/g,ap=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sv=/^\w*$/,ZE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lp=/[\\^$.*+?()[\]{}|]/g,QE=RegExp(lp.source),Z=/^\s+/,fe=/\s/,_e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ge=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,It=/[()=,{}\[\]\/\s]/,Bt=/\\(\\)?/g,Pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Vt=/^[-+]0x[0-9a-f]+$/i,Zt=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,wa=/^0o[0-7]+$/i,Al=/^(?:0|[1-9]\d*)$/,ln=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ei=/($^)/,hr=/['\n\r\u2028\u2029\\]/g,wi="\\ud800-\\udfff",bd="\\u0300-\\u036f",Ts="\\ufe20-\\ufe2f",so="\\u20d0-\\u20ff",Mr=bd+Ts+so,Pl="\\u2700-\\u27bf",Ui="a-z\\xdf-\\xf6\\xf8-\\xff",zW="\\xac\\xb1\\xd7\\xf7",GW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$W="\\u2000-\\u206f",WW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jP="A-Z\\xc0-\\xd6\\xd8-\\xde",BP="\\ufe0e\\ufe0f",VP=zW+GW+$W+WW,ew="['\u2019]",qW="["+wi+"]",HP="["+VP+"]",ov="["+Mr+"]",zP="\\d+",YW="["+Pl+"]",GP="["+Ui+"]",$P="[^"+wi+VP+zP+Pl+Ui+jP+"]",tw="\\ud83c[\\udffb-\\udfff]",KW="(?:"+ov+"|"+tw+")",WP="[^"+wi+"]",nw="(?:\\ud83c[\\udde6-\\uddff]){2}",rw="[\\ud800-\\udbff][\\udc00-\\udfff]",Ed="["+jP+"]",qP="\\u200d",YP="(?:"+GP+"|"+$P+")",XW="(?:"+Ed+"|"+$P+")",KP="(?:"+ew+"(?:d|ll|m|re|s|t|ve))?",XP="(?:"+ew+"(?:D|LL|M|RE|S|T|VE))?",JP=KW+"?",ZP="["+BP+"]?",JW="(?:"+qP+"(?:"+[WP,nw,rw].join("|")+")"+ZP+JP+")*",ZW="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QW="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",QP=ZP+JP+JW,eq="(?:"+[YW,nw,rw].join("|")+")"+QP,tq="(?:"+[WP+ov+"?",ov,nw,rw,qW].join("|")+")",nq=RegExp(ew,"g"),rq=RegExp(ov,"g"),iw=RegExp(tw+"(?="+tw+")|"+tq+QP,"g"),iq=RegExp([Ed+"?"+GP+"+"+KP+"(?="+[HP,Ed,"$"].join("|")+")",XW+"+"+XP+"(?="+[HP,Ed+YP,"$"].join("|")+")",Ed+"?"+YP+"+"+KP,Ed+"+"+XP,QW,ZW,zP,eq].join("|"),"g"),sq=RegExp("["+qP+wi+Mr+BP+"]"),oq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,aq=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lq=-1,Hn={};Hn[He]=Hn[se]=Hn[Ve]=Hn[je]=Hn[St]=Hn[st]=Hn[kt]=Hn[We]=Hn[Lt]=!0,Hn[he]=Hn[ue]=Hn[vt]=Hn[Me]=Hn[ct]=Hn[ke]=Hn[pt]=Hn[be]=Hn[Ae]=Hn[Qe]=Hn[mt]=Hn[hn]=Hn[ne]=Hn[J]=Hn[ze]=!1;var Dn={};Dn[he]=Dn[ue]=Dn[vt]=Dn[ct]=Dn[Me]=Dn[ke]=Dn[He]=Dn[se]=Dn[Ve]=Dn[je]=Dn[St]=Dn[Ae]=Dn[Qe]=Dn[mt]=Dn[hn]=Dn[ne]=Dn[J]=Dn[Te]=Dn[st]=Dn[kt]=Dn[We]=Dn[Lt]=!0,Dn[pt]=Dn[be]=Dn[ze]=!1;var cq={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},uq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dq={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hq=parseFloat,pq=parseInt,eR=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,mq=typeof self=="object"&&self&&self.Object===Object&&self,Gr=eR||mq||Function("return this")(),sw=e&&!e.nodeType&&e,Zc=sw&&!0&&t&&!t.nodeType&&t,tR=Zc&&Zc.exports===sw,ow=tR&&eR.process,Cs=function(){try{var ae=Zc&&Zc.require&&Zc.require("util").types;return ae||ow&&ow.binding&&ow.binding("util")}catch{}}(),nR=Cs&&Cs.isArrayBuffer,rR=Cs&&Cs.isDate,iR=Cs&&Cs.isMap,sR=Cs&&Cs.isRegExp,oR=Cs&&Cs.isSet,aR=Cs&&Cs.isTypedArray;function ns(ae,Ee,pe){switch(pe.length){case 0:return ae.call(Ee);case 1:return ae.call(Ee,pe[0]);case 2:return ae.call(Ee,pe[0],pe[1]);case 3:return ae.call(Ee,pe[0],pe[1],pe[2])}return ae.apply(Ee,pe)}function gq(ae,Ee,pe,tt){for(var Ot=-1,pn=ae==null?0:ae.length;++Ot<pn;){var Ar=ae[Ot];Ee(tt,Ar,pe(Ar),ae)}return tt}function Ms(ae,Ee){for(var pe=-1,tt=ae==null?0:ae.length;++pe<tt&&Ee(ae[pe],pe,ae)!==!1;);return ae}function vq(ae,Ee){for(var pe=ae==null?0:ae.length;pe--&&Ee(ae[pe],pe,ae)!==!1;);return ae}function lR(ae,Ee){for(var pe=-1,tt=ae==null?0:ae.length;++pe<tt;)if(!Ee(ae[pe],pe,ae))return!1;return!0}function Rl(ae,Ee){for(var pe=-1,tt=ae==null?0:ae.length,Ot=0,pn=[];++pe<tt;){var Ar=ae[pe];Ee(Ar,pe,ae)&&(pn[Ot++]=Ar)}return pn}function av(ae,Ee){var pe=ae==null?0:ae.length;return!!pe&&wd(ae,Ee,0)>-1}function aw(ae,Ee,pe){for(var tt=-1,Ot=ae==null?0:ae.length;++tt<Ot;)if(pe(Ee,ae[tt]))return!0;return!1}function Jn(ae,Ee){for(var pe=-1,tt=ae==null?0:ae.length,Ot=Array(tt);++pe<tt;)Ot[pe]=Ee(ae[pe],pe,ae);return Ot}function Ll(ae,Ee){for(var pe=-1,tt=Ee.length,Ot=ae.length;++pe<tt;)ae[Ot+pe]=Ee[pe];return ae}function lw(ae,Ee,pe,tt){var Ot=-1,pn=ae==null?0:ae.length;for(tt&&pn&&(pe=ae[++Ot]);++Ot<pn;)pe=Ee(pe,ae[Ot],Ot,ae);return pe}function yq(ae,Ee,pe,tt){var Ot=ae==null?0:ae.length;for(tt&&Ot&&(pe=ae[--Ot]);Ot--;)pe=Ee(pe,ae[Ot],Ot,ae);return pe}function cw(ae,Ee){for(var pe=-1,tt=ae==null?0:ae.length;++pe<tt;)if(Ee(ae[pe],pe,ae))return!0;return!1}var _q=uw("length");function bq(ae){return ae.split("")}function Eq(ae){return ae.match(At)||[]}function cR(ae,Ee,pe){var tt;return pe(ae,function(Ot,pn,Ar){if(Ee(Ot,pn,Ar))return tt=pn,!1}),tt}function lv(ae,Ee,pe,tt){for(var Ot=ae.length,pn=pe+(tt?1:-1);tt?pn--:++pn<Ot;)if(Ee(ae[pn],pn,ae))return pn;return-1}function wd(ae,Ee,pe){return Ee===Ee?Oq(ae,Ee,pe):lv(ae,uR,pe)}function wq(ae,Ee,pe,tt){for(var Ot=pe-1,pn=ae.length;++Ot<pn;)if(tt(ae[Ot],Ee))return Ot;return-1}function uR(ae){return ae!==ae}function dR(ae,Ee){var pe=ae==null?0:ae.length;return pe?fw(ae,Ee)/pe:j}function uw(ae){return function(Ee){return Ee==null?n:Ee[ae]}}function dw(ae){return function(Ee){return ae==null?n:ae[Ee]}}function fR(ae,Ee,pe,tt,Ot){return Ot(ae,function(pn,Ar,An){pe=tt?(tt=!1,pn):Ee(pe,pn,Ar,An)}),pe}function xq(ae,Ee){var pe=ae.length;for(ae.sort(Ee);pe--;)ae[pe]=ae[pe].value;return ae}function fw(ae,Ee){for(var pe,tt=-1,Ot=ae.length;++tt<Ot;){var pn=Ee(ae[tt]);pn!==n&&(pe=pe===n?pn:pe+pn)}return pe}function hw(ae,Ee){for(var pe=-1,tt=Array(ae);++pe<ae;)tt[pe]=Ee(pe);return tt}function Sq(ae,Ee){return Jn(Ee,function(pe){return[pe,ae[pe]]})}function hR(ae){return ae&&ae.slice(0,vR(ae)+1).replace(Z,"")}function rs(ae){return function(Ee){return ae(Ee)}}function pw(ae,Ee){return Jn(Ee,function(pe){return ae[pe]})}function cp(ae,Ee){return ae.has(Ee)}function pR(ae,Ee){for(var pe=-1,tt=ae.length;++pe<tt&&wd(Ee,ae[pe],0)>-1;);return pe}function mR(ae,Ee){for(var pe=ae.length;pe--&&wd(Ee,ae[pe],0)>-1;);return pe}function Tq(ae,Ee){for(var pe=ae.length,tt=0;pe--;)ae[pe]===Ee&&++tt;return tt}var Cq=dw(cq),Mq=dw(uq);function Aq(ae){return"\\"+fq[ae]}function Pq(ae,Ee){return ae==null?n:ae[Ee]}function xd(ae){return sq.test(ae)}function Rq(ae){return oq.test(ae)}function Lq(ae){for(var Ee,pe=[];!(Ee=ae.next()).done;)pe.push(Ee.value);return pe}function mw(ae){var Ee=-1,pe=Array(ae.size);return ae.forEach(function(tt,Ot){pe[++Ee]=[Ot,tt]}),pe}function gR(ae,Ee){return function(pe){return ae(Ee(pe))}}function Il(ae,Ee){for(var pe=-1,tt=ae.length,Ot=0,pn=[];++pe<tt;){var Ar=ae[pe];(Ar===Ee||Ar===d)&&(ae[pe]=d,pn[Ot++]=pe)}return pn}function cv(ae){var Ee=-1,pe=Array(ae.size);return ae.forEach(function(tt){pe[++Ee]=tt}),pe}function Iq(ae){var Ee=-1,pe=Array(ae.size);return ae.forEach(function(tt){pe[++Ee]=[tt,tt]}),pe}function Oq(ae,Ee,pe){for(var tt=pe-1,Ot=ae.length;++tt<Ot;)if(ae[tt]===Ee)return tt;return-1}function Nq(ae,Ee,pe){for(var tt=pe+1;tt--;)if(ae[tt]===Ee)return tt;return tt}function Sd(ae){return xd(ae)?Dq(ae):_q(ae)}function oo(ae){return xd(ae)?Fq(ae):bq(ae)}function vR(ae){for(var Ee=ae.length;Ee--&&fe.test(ae.charAt(Ee)););return Ee}var kq=dw(dq);function Dq(ae){for(var Ee=iw.lastIndex=0;iw.test(ae);)++Ee;return Ee}function Fq(ae){return ae.match(iw)||[]}function Uq(ae){return ae.match(iq)||[]}var jq=function ae(Ee){Ee=Ee==null?Gr:Td.defaults(Gr.Object(),Ee,Td.pick(Gr,aq));var pe=Ee.Array,tt=Ee.Date,Ot=Ee.Error,pn=Ee.Function,Ar=Ee.Math,An=Ee.Object,gw=Ee.RegExp,Bq=Ee.String,As=Ee.TypeError,uv=pe.prototype,Vq=pn.prototype,Cd=An.prototype,dv=Ee["__core-js_shared__"],fv=Vq.toString,bn=Cd.hasOwnProperty,Hq=0,yR=function(){var y=/[^.]+$/.exec(dv&&dv.keys&&dv.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),hv=Cd.toString,zq=fv.call(An),Gq=Gr._,$q=gw("^"+fv.call(bn).replace(lp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pv=tR?Ee.Buffer:n,Ol=Ee.Symbol,mv=Ee.Uint8Array,_R=pv?pv.allocUnsafe:n,gv=gR(An.getPrototypeOf,An),bR=An.create,ER=Cd.propertyIsEnumerable,vv=uv.splice,wR=Ol?Ol.isConcatSpreadable:n,up=Ol?Ol.iterator:n,Qc=Ol?Ol.toStringTag:n,yv=function(){try{var y=iu(An,"defineProperty");return y({},"",{}),y}catch{}}(),Wq=Ee.clearTimeout!==Gr.clearTimeout&&Ee.clearTimeout,qq=tt&&tt.now!==Gr.Date.now&&tt.now,Yq=Ee.setTimeout!==Gr.setTimeout&&Ee.setTimeout,_v=Ar.ceil,bv=Ar.floor,vw=An.getOwnPropertySymbols,Kq=pv?pv.isBuffer:n,xR=Ee.isFinite,Xq=uv.join,Jq=gR(An.keys,An),Pr=Ar.max,ii=Ar.min,Zq=tt.now,Qq=Ee.parseInt,SR=Ar.random,eY=uv.reverse,yw=iu(Ee,"DataView"),dp=iu(Ee,"Map"),_w=iu(Ee,"Promise"),Md=iu(Ee,"Set"),fp=iu(Ee,"WeakMap"),hp=iu(An,"create"),Ev=fp&&new fp,Ad={},tY=su(yw),nY=su(dp),rY=su(_w),iY=su(Md),sY=su(fp),wv=Ol?Ol.prototype:n,pp=wv?wv.valueOf:n,TR=wv?wv.toString:n;function Y(y){if(or(y)&&!Dt(y)&&!(y instanceof Qt)){if(y instanceof Ps)return y;if(bn.call(y,"__wrapped__"))return CL(y)}return new Ps(y)}var Pd=function(){function y(){}return function(x){if(!rr(x))return{};if(bR)return bR(x);y.prototype=x;var M=new y;return y.prototype=n,M}}();function xv(){}function Ps(y,x){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}Y.templateSettings={escape:JE,evaluate:_d,interpolate:iv,variable:"",imports:{_:Y}},Y.prototype=xv.prototype,Y.prototype.constructor=Y,Ps.prototype=Pd(xv.prototype),Ps.prototype.constructor=Ps;function Qt(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function oY(){var y=new Qt(this.__wrapped__);return y.__actions__=ji(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=ji(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=ji(this.__views__),y}function aY(){if(this.__filtered__){var y=new Qt(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function lY(){var y=this.__wrapped__.value(),x=this.__dir__,M=Dt(y),D=x<0,G=M?y.length:0,X=bK(0,G,this.__views__),re=X.start,oe=X.end,ce=oe-re,we=D?oe:re-1,xe=this.__iteratees__,Ce=xe.length,Ye=0,lt=ii(ce,this.__takeCount__);if(!M||!D&&G==ce&&lt==ce)return KR(y,this.__actions__);var yt=[];e:for(;ce--&&Ye<lt;){we+=x;for(var Ht=-1,_t=y[we];++Ht<Ce;){var Kt=xe[Ht],en=Kt.iteratee,os=Kt.type,Ti=en(_t);if(os==H)_t=Ti;else if(!Ti){if(os==N)continue e;break e}}yt[Ye++]=_t}return yt}Qt.prototype=Pd(xv.prototype),Qt.prototype.constructor=Qt;function eu(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function cY(){this.__data__=hp?hp(null):{},this.size=0}function uY(y){var x=this.has(y)&&delete this.__data__[y];return this.size-=x?1:0,x}function dY(y){var x=this.__data__;if(hp){var M=x[y];return M===c?n:M}return bn.call(x,y)?x[y]:n}function fY(y){var x=this.__data__;return hp?x[y]!==n:bn.call(x,y)}function hY(y,x){var M=this.__data__;return this.size+=this.has(y)?0:1,M[y]=hp&&x===n?c:x,this}eu.prototype.clear=cY,eu.prototype.delete=uY,eu.prototype.get=dY,eu.prototype.has=fY,eu.prototype.set=hY;function xa(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function pY(){this.__data__=[],this.size=0}function mY(y){var x=this.__data__,M=Sv(x,y);if(M<0)return!1;var D=x.length-1;return M==D?x.pop():vv.call(x,M,1),--this.size,!0}function gY(y){var x=this.__data__,M=Sv(x,y);return M<0?n:x[M][1]}function vY(y){return Sv(this.__data__,y)>-1}function yY(y,x){var M=this.__data__,D=Sv(M,y);return D<0?(++this.size,M.push([y,x])):M[D][1]=x,this}xa.prototype.clear=pY,xa.prototype.delete=mY,xa.prototype.get=gY,xa.prototype.has=vY,xa.prototype.set=yY;function Sa(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function _Y(){this.size=0,this.__data__={hash:new eu,map:new(dp||xa),string:new eu}}function bY(y){var x=Dv(this,y).delete(y);return this.size-=x?1:0,x}function EY(y){return Dv(this,y).get(y)}function wY(y){return Dv(this,y).has(y)}function xY(y,x){var M=Dv(this,y),D=M.size;return M.set(y,x),this.size+=M.size==D?0:1,this}Sa.prototype.clear=_Y,Sa.prototype.delete=bY,Sa.prototype.get=EY,Sa.prototype.has=wY,Sa.prototype.set=xY;function tu(y){var x=-1,M=y==null?0:y.length;for(this.__data__=new Sa;++x<M;)this.add(y[x])}function SY(y){return this.__data__.set(y,c),this}function TY(y){return this.__data__.has(y)}tu.prototype.add=tu.prototype.push=SY,tu.prototype.has=TY;function ao(y){var x=this.__data__=new xa(y);this.size=x.size}function CY(){this.__data__=new xa,this.size=0}function MY(y){var x=this.__data__,M=x.delete(y);return this.size=x.size,M}function AY(y){return this.__data__.get(y)}function PY(y){return this.__data__.has(y)}function RY(y,x){var M=this.__data__;if(M instanceof xa){var D=M.__data__;if(!dp||D.length<o-1)return D.push([y,x]),this.size=++M.size,this;M=this.__data__=new Sa(D)}return M.set(y,x),this.size=M.size,this}ao.prototype.clear=CY,ao.prototype.delete=MY,ao.prototype.get=AY,ao.prototype.has=PY,ao.prototype.set=RY;function CR(y,x){var M=Dt(y),D=!M&&ou(y),G=!M&&!D&&Ul(y),X=!M&&!D&&!G&&Od(y),re=M||D||G||X,oe=re?hw(y.length,Bq):[],ce=oe.length;for(var we in y)(x||bn.call(y,we))&&!(re&&(we=="length"||G&&(we=="offset"||we=="parent")||X&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Aa(we,ce)))&&oe.push(we);return oe}function MR(y){var x=y.length;return x?y[Rw(0,x-1)]:n}function LY(y,x){return Fv(ji(y),nu(x,0,y.length))}function IY(y){return Fv(ji(y))}function bw(y,x,M){(M!==n&&!lo(y[x],M)||M===n&&!(x in y))&&Ta(y,x,M)}function mp(y,x,M){var D=y[x];(!(bn.call(y,x)&&lo(D,M))||M===n&&!(x in y))&&Ta(y,x,M)}function Sv(y,x){for(var M=y.length;M--;)if(lo(y[M][0],x))return M;return-1}function OY(y,x,M,D){return Nl(y,function(G,X,re){x(D,G,M(G),re)}),D}function AR(y,x){return y&&No(x,Dr(x),y)}function NY(y,x){return y&&No(x,Vi(x),y)}function Ta(y,x,M){x=="__proto__"&&yv?yv(y,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):y[x]=M}function Ew(y,x){for(var M=-1,D=x.length,G=pe(D),X=y==null;++M<D;)G[M]=X?n:t2(y,x[M]);return G}function nu(y,x,M){return y===y&&(M!==n&&(y=y<=M?y:M),x!==n&&(y=y>=x?y:x)),y}function Rs(y,x,M,D,G,X){var re,oe=x&f,ce=x&h,we=x&v;if(M&&(re=G?M(y,D,G,X):M(y)),re!==n)return re;if(!rr(y))return y;var xe=Dt(y);if(xe){if(re=wK(y),!oe)return ji(y,re)}else{var Ce=si(y),Ye=Ce==be||Ce==De;if(Ul(y))return ZR(y,oe);if(Ce==mt||Ce==he||Ye&&!G){if(re=ce||Ye?{}:vL(y),!oe)return ce?dK(y,NY(re,y)):uK(y,AR(re,y))}else{if(!Dn[Ce])return G?y:{};re=xK(y,Ce,oe)}}X||(X=new ao);var lt=X.get(y);if(lt)return lt;X.set(y,re),WL(y)?y.forEach(function(_t){re.add(Rs(_t,x,M,_t,y,X))}):GL(y)&&y.forEach(function(_t,Kt){re.set(Kt,Rs(_t,x,M,Kt,y,X))});var yt=we?ce?Vw:Bw:ce?Vi:Dr,Ht=xe?n:yt(y);return Ms(Ht||y,function(_t,Kt){Ht&&(Kt=_t,_t=y[Kt]),mp(re,Kt,Rs(_t,x,M,Kt,y,X))}),re}function kY(y){var x=Dr(y);return function(M){return PR(M,y,x)}}function PR(y,x,M){var D=M.length;if(y==null)return!D;for(y=An(y);D--;){var G=M[D],X=x[G],re=y[G];if(re===n&&!(G in y)||!X(re))return!1}return!0}function RR(y,x,M){if(typeof y!="function")throw new As(a);return wp(function(){y.apply(n,M)},x)}function gp(y,x,M,D){var G=-1,X=av,re=!0,oe=y.length,ce=[],we=x.length;if(!oe)return ce;M&&(x=Jn(x,rs(M))),D?(X=aw,re=!1):x.length>=o&&(X=cp,re=!1,x=new tu(x));e:for(;++G<oe;){var xe=y[G],Ce=M==null?xe:M(xe);if(xe=D||xe!==0?xe:0,re&&Ce===Ce){for(var Ye=we;Ye--;)if(x[Ye]===Ce)continue e;ce.push(xe)}else X(x,Ce,D)||ce.push(xe)}return ce}var Nl=rL(Oo),LR=rL(xw,!0);function DY(y,x){var M=!0;return Nl(y,function(D,G,X){return M=!!x(D,G,X),M}),M}function Tv(y,x,M){for(var D=-1,G=y.length;++D<G;){var X=y[D],re=x(X);if(re!=null&&(oe===n?re===re&&!ss(re):M(re,oe)))var oe=re,ce=X}return ce}function FY(y,x,M,D){var G=y.length;for(M=Ft(M),M<0&&(M=-M>G?0:G+M),D=D===n||D>G?G:Ft(D),D<0&&(D+=G),D=M>D?0:YL(D);M<D;)y[M++]=x;return y}function IR(y,x){var M=[];return Nl(y,function(D,G,X){x(D,G,X)&&M.push(D)}),M}function $r(y,x,M,D,G){var X=-1,re=y.length;for(M||(M=TK),G||(G=[]);++X<re;){var oe=y[X];x>0&&M(oe)?x>1?$r(oe,x-1,M,D,G):Ll(G,oe):D||(G[G.length]=oe)}return G}var ww=iL(),OR=iL(!0);function Oo(y,x){return y&&ww(y,x,Dr)}function xw(y,x){return y&&OR(y,x,Dr)}function Cv(y,x){return Rl(x,function(M){return Pa(y[M])})}function ru(y,x){x=Dl(x,y);for(var M=0,D=x.length;y!=null&&M<D;)y=y[ko(x[M++])];return M&&M==D?y:n}function NR(y,x,M){var D=x(y);return Dt(y)?D:Ll(D,M(y))}function xi(y){return y==null?y===n?Oe:Xe:Qc&&Qc in An(y)?_K(y):IK(y)}function Sw(y,x){return y>x}function UY(y,x){return y!=null&&bn.call(y,x)}function jY(y,x){return y!=null&&x in An(y)}function BY(y,x,M){return y>=ii(x,M)&&y<Pr(x,M)}function Tw(y,x,M){for(var D=M?aw:av,G=y[0].length,X=y.length,re=X,oe=pe(X),ce=1/0,we=[];re--;){var xe=y[re];re&&x&&(xe=Jn(xe,rs(x))),ce=ii(xe.length,ce),oe[re]=!M&&(x||G>=120&&xe.length>=120)?new tu(re&&xe):n}xe=y[0];var Ce=-1,Ye=oe[0];e:for(;++Ce<G&&we.length<ce;){var lt=xe[Ce],yt=x?x(lt):lt;if(lt=M||lt!==0?lt:0,!(Ye?cp(Ye,yt):D(we,yt,M))){for(re=X;--re;){var Ht=oe[re];if(!(Ht?cp(Ht,yt):D(y[re],yt,M)))continue e}Ye&&Ye.push(yt),we.push(lt)}}return we}function VY(y,x,M,D){return Oo(y,function(G,X,re){x(D,M(G),X,re)}),D}function vp(y,x,M){x=Dl(x,y),y=EL(y,x);var D=y==null?y:y[ko(Is(x))];return D==null?n:ns(D,y,M)}function kR(y){return or(y)&&xi(y)==he}function HY(y){return or(y)&&xi(y)==vt}function zY(y){return or(y)&&xi(y)==ke}function yp(y,x,M,D,G){return y===x?!0:y==null||x==null||!or(y)&&!or(x)?y!==y&&x!==x:GY(y,x,M,D,yp,G)}function GY(y,x,M,D,G,X){var re=Dt(y),oe=Dt(x),ce=re?ue:si(y),we=oe?ue:si(x);ce=ce==he?mt:ce,we=we==he?mt:we;var xe=ce==mt,Ce=we==mt,Ye=ce==we;if(Ye&&Ul(y)){if(!Ul(x))return!1;re=!0,xe=!1}if(Ye&&!xe)return X||(X=new ao),re||Od(y)?pL(y,x,M,D,G,X):vK(y,x,ce,M,D,G,X);if(!(M&m)){var lt=xe&&bn.call(y,"__wrapped__"),yt=Ce&&bn.call(x,"__wrapped__");if(lt||yt){var Ht=lt?y.value():y,_t=yt?x.value():x;return X||(X=new ao),G(Ht,_t,M,D,X)}}return Ye?(X||(X=new ao),yK(y,x,M,D,G,X)):!1}function $Y(y){return or(y)&&si(y)==Ae}function Cw(y,x,M,D){var G=M.length,X=G,re=!D;if(y==null)return!X;for(y=An(y);G--;){var oe=M[G];if(re&&oe[2]?oe[1]!==y[oe[0]]:!(oe[0]in y))return!1}for(;++G<X;){oe=M[G];var ce=oe[0],we=y[ce],xe=oe[1];if(re&&oe[2]){if(we===n&&!(ce in y))return!1}else{var Ce=new ao;if(D)var Ye=D(we,xe,ce,y,x,Ce);if(!(Ye===n?yp(xe,we,m|_,D,Ce):Ye))return!1}}return!0}function DR(y){if(!rr(y)||MK(y))return!1;var x=Pa(y)?$q:Xn;return x.test(su(y))}function WY(y){return or(y)&&xi(y)==hn}function qY(y){return or(y)&&si(y)==ne}function YY(y){return or(y)&&zv(y.length)&&!!Hn[xi(y)]}function FR(y){return typeof y=="function"?y:y==null?Hi:typeof y=="object"?Dt(y)?BR(y[0],y[1]):jR(y):sI(y)}function Mw(y){if(!Ep(y))return Jq(y);var x=[];for(var M in An(y))bn.call(y,M)&&M!="constructor"&&x.push(M);return x}function KY(y){if(!rr(y))return LK(y);var x=Ep(y),M=[];for(var D in y)D=="constructor"&&(x||!bn.call(y,D))||M.push(D);return M}function Aw(y,x){return y<x}function UR(y,x){var M=-1,D=Bi(y)?pe(y.length):[];return Nl(y,function(G,X,re){D[++M]=x(G,X,re)}),D}function jR(y){var x=zw(y);return x.length==1&&x[0][2]?_L(x[0][0],x[0][1]):function(M){return M===y||Cw(M,y,x)}}function BR(y,x){return $w(y)&&yL(x)?_L(ko(y),x):function(M){var D=t2(M,y);return D===n&&D===x?n2(M,y):yp(x,D,m|_)}}function Mv(y,x,M,D,G){y!==x&&ww(x,function(X,re){if(G||(G=new ao),rr(X))XY(y,x,re,M,Mv,D,G);else{var oe=D?D(qw(y,re),X,re+"",y,x,G):n;oe===n&&(oe=X),bw(y,re,oe)}},Vi)}function XY(y,x,M,D,G,X,re){var oe=qw(y,M),ce=qw(x,M),we=re.get(ce);if(we){bw(y,M,we);return}var xe=X?X(oe,ce,M+"",y,x,re):n,Ce=xe===n;if(Ce){var Ye=Dt(ce),lt=!Ye&&Ul(ce),yt=!Ye&&!lt&&Od(ce);xe=ce,Ye||lt||yt?Dt(oe)?xe=oe:pr(oe)?xe=ji(oe):lt?(Ce=!1,xe=ZR(ce,!0)):yt?(Ce=!1,xe=QR(ce,!0)):xe=[]:xp(ce)||ou(ce)?(xe=oe,ou(oe)?xe=KL(oe):(!rr(oe)||Pa(oe))&&(xe=vL(ce))):Ce=!1}Ce&&(re.set(ce,xe),G(xe,ce,D,X,re),re.delete(ce)),bw(y,M,xe)}function VR(y,x){var M=y.length;if(!!M)return x+=x<0?M:0,Aa(x,M)?y[x]:n}function HR(y,x,M){x.length?x=Jn(x,function(X){return Dt(X)?function(re){return ru(re,X.length===1?X[0]:X)}:X}):x=[Hi];var D=-1;x=Jn(x,rs(gt()));var G=UR(y,function(X,re,oe){var ce=Jn(x,function(we){return we(X)});return{criteria:ce,index:++D,value:X}});return xq(G,function(X,re){return cK(X,re,M)})}function JY(y,x){return zR(y,x,function(M,D){return n2(y,D)})}function zR(y,x,M){for(var D=-1,G=x.length,X={};++D<G;){var re=x[D],oe=ru(y,re);M(oe,re)&&_p(X,Dl(re,y),oe)}return X}function ZY(y){return function(x){return ru(x,y)}}function Pw(y,x,M,D){var G=D?wq:wd,X=-1,re=x.length,oe=y;for(y===x&&(x=ji(x)),M&&(oe=Jn(y,rs(M)));++X<re;)for(var ce=0,we=x[X],xe=M?M(we):we;(ce=G(oe,xe,ce,D))>-1;)oe!==y&&vv.call(oe,ce,1),vv.call(y,ce,1);return y}function GR(y,x){for(var M=y?x.length:0,D=M-1;M--;){var G=x[M];if(M==D||G!==X){var X=G;Aa(G)?vv.call(y,G,1):Ow(y,G)}}return y}function Rw(y,x){return y+bv(SR()*(x-y+1))}function QY(y,x,M,D){for(var G=-1,X=Pr(_v((x-y)/(M||1)),0),re=pe(X);X--;)re[D?X:++G]=y,y+=M;return re}function Lw(y,x){var M="";if(!y||x<1||x>q)return M;do x%2&&(M+=y),x=bv(x/2),x&&(y+=y);while(x);return M}function Gt(y,x){return Yw(bL(y,x,Hi),y+"")}function eK(y){return MR(Nd(y))}function tK(y,x){var M=Nd(y);return Fv(M,nu(x,0,M.length))}function _p(y,x,M,D){if(!rr(y))return y;x=Dl(x,y);for(var G=-1,X=x.length,re=X-1,oe=y;oe!=null&&++G<X;){var ce=ko(x[G]),we=M;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return y;if(G!=re){var xe=oe[ce];we=D?D(xe,ce,oe):n,we===n&&(we=rr(xe)?xe:Aa(x[G+1])?[]:{})}mp(oe,ce,we),oe=oe[ce]}return y}var $R=Ev?function(y,x){return Ev.set(y,x),y}:Hi,nK=yv?function(y,x){return yv(y,"toString",{configurable:!0,enumerable:!1,value:i2(x),writable:!0})}:Hi;function rK(y){return Fv(Nd(y))}function Ls(y,x,M){var D=-1,G=y.length;x<0&&(x=-x>G?0:G+x),M=M>G?G:M,M<0&&(M+=G),G=x>M?0:M-x>>>0,x>>>=0;for(var X=pe(G);++D<G;)X[D]=y[D+x];return X}function iK(y,x){var M;return Nl(y,function(D,G,X){return M=x(D,G,X),!M}),!!M}function Av(y,x,M){var D=0,G=y==null?D:y.length;if(typeof x=="number"&&x===x&&G<=Q){for(;D<G;){var X=D+G>>>1,re=y[X];re!==null&&!ss(re)&&(M?re<=x:re<x)?D=X+1:G=X}return G}return Iw(y,x,Hi,M)}function Iw(y,x,M,D){var G=0,X=y==null?0:y.length;if(X===0)return 0;x=M(x);for(var re=x!==x,oe=x===null,ce=ss(x),we=x===n;G<X;){var xe=bv((G+X)/2),Ce=M(y[xe]),Ye=Ce!==n,lt=Ce===null,yt=Ce===Ce,Ht=ss(Ce);if(re)var _t=D||yt;else we?_t=yt&&(D||Ye):oe?_t=yt&&Ye&&(D||!lt):ce?_t=yt&&Ye&&!lt&&(D||!Ht):lt||Ht?_t=!1:_t=D?Ce<=x:Ce<x;_t?G=xe+1:X=xe}return ii(X,ie)}function WR(y,x){for(var M=-1,D=y.length,G=0,X=[];++M<D;){var re=y[M],oe=x?x(re):re;if(!M||!lo(oe,ce)){var ce=oe;X[G++]=re===0?0:re}}return X}function qR(y){return typeof y=="number"?y:ss(y)?j:+y}function is(y){if(typeof y=="string")return y;if(Dt(y))return Jn(y,is)+"";if(ss(y))return TR?TR.call(y):"";var x=y+"";return x=="0"&&1/y==-B?"-0":x}function kl(y,x,M){var D=-1,G=av,X=y.length,re=!0,oe=[],ce=oe;if(M)re=!1,G=aw;else if(X>=o){var we=x?null:mK(y);if(we)return cv(we);re=!1,G=cp,ce=new tu}else ce=x?[]:oe;e:for(;++D<X;){var xe=y[D],Ce=x?x(xe):xe;if(xe=M||xe!==0?xe:0,re&&Ce===Ce){for(var Ye=ce.length;Ye--;)if(ce[Ye]===Ce)continue e;x&&ce.push(Ce),oe.push(xe)}else G(ce,Ce,M)||(ce!==oe&&ce.push(Ce),oe.push(xe))}return oe}function Ow(y,x){return x=Dl(x,y),y=EL(y,x),y==null||delete y[ko(Is(x))]}function YR(y,x,M,D){return _p(y,x,M(ru(y,x)),D)}function Pv(y,x,M,D){for(var G=y.length,X=D?G:-1;(D?X--:++X<G)&&x(y[X],X,y););return M?Ls(y,D?0:X,D?X+1:G):Ls(y,D?X+1:0,D?G:X)}function KR(y,x){var M=y;return M instanceof Qt&&(M=M.value()),lw(x,function(D,G){return G.func.apply(G.thisArg,Ll([D],G.args))},M)}function Nw(y,x,M){var D=y.length;if(D<2)return D?kl(y[0]):[];for(var G=-1,X=pe(D);++G<D;)for(var re=y[G],oe=-1;++oe<D;)oe!=G&&(X[G]=gp(X[G]||re,y[oe],x,M));return kl($r(X,1),x,M)}function XR(y,x,M){for(var D=-1,G=y.length,X=x.length,re={};++D<G;){var oe=D<X?x[D]:n;M(re,y[D],oe)}return re}function kw(y){return pr(y)?y:[]}function Dw(y){return typeof y=="function"?y:Hi}function Dl(y,x){return Dt(y)?y:$w(y,x)?[y]:TL(yn(y))}var sK=Gt;function Fl(y,x,M){var D=y.length;return M=M===n?D:M,!x&&M>=D?y:Ls(y,x,M)}var JR=Wq||function(y){return Gr.clearTimeout(y)};function ZR(y,x){if(x)return y.slice();var M=y.length,D=_R?_R(M):new y.constructor(M);return y.copy(D),D}function Fw(y){var x=new y.constructor(y.byteLength);return new mv(x).set(new mv(y)),x}function oK(y,x){var M=x?Fw(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.byteLength)}function aK(y){var x=new y.constructor(y.source,Jt.exec(y));return x.lastIndex=y.lastIndex,x}function lK(y){return pp?An(pp.call(y)):{}}function QR(y,x){var M=x?Fw(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.length)}function eL(y,x){if(y!==x){var M=y!==n,D=y===null,G=y===y,X=ss(y),re=x!==n,oe=x===null,ce=x===x,we=ss(x);if(!oe&&!we&&!X&&y>x||X&&re&&ce&&!oe&&!we||D&&re&&ce||!M&&ce||!G)return 1;if(!D&&!X&&!we&&y<x||we&&M&&G&&!D&&!X||oe&&M&&G||!re&&G||!ce)return-1}return 0}function cK(y,x,M){for(var D=-1,G=y.criteria,X=x.criteria,re=G.length,oe=M.length;++D<re;){var ce=eL(G[D],X[D]);if(ce){if(D>=oe)return ce;var we=M[D];return ce*(we=="desc"?-1:1)}}return y.index-x.index}function tL(y,x,M,D){for(var G=-1,X=y.length,re=M.length,oe=-1,ce=x.length,we=Pr(X-re,0),xe=pe(ce+we),Ce=!D;++oe<ce;)xe[oe]=x[oe];for(;++G<re;)(Ce||G<X)&&(xe[M[G]]=y[G]);for(;we--;)xe[oe++]=y[G++];return xe}function nL(y,x,M,D){for(var G=-1,X=y.length,re=-1,oe=M.length,ce=-1,we=x.length,xe=Pr(X-oe,0),Ce=pe(xe+we),Ye=!D;++G<xe;)Ce[G]=y[G];for(var lt=G;++ce<we;)Ce[lt+ce]=x[ce];for(;++re<oe;)(Ye||G<X)&&(Ce[lt+M[re]]=y[G++]);return Ce}function ji(y,x){var M=-1,D=y.length;for(x||(x=pe(D));++M<D;)x[M]=y[M];return x}function No(y,x,M,D){var G=!M;M||(M={});for(var X=-1,re=x.length;++X<re;){var oe=x[X],ce=D?D(M[oe],y[oe],oe,M,y):n;ce===n&&(ce=y[oe]),G?Ta(M,oe,ce):mp(M,oe,ce)}return M}function uK(y,x){return No(y,Gw(y),x)}function dK(y,x){return No(y,mL(y),x)}function Rv(y,x){return function(M,D){var G=Dt(M)?gq:OY,X=x?x():{};return G(M,y,gt(D,2),X)}}function Rd(y){return Gt(function(x,M){var D=-1,G=M.length,X=G>1?M[G-1]:n,re=G>2?M[2]:n;for(X=y.length>3&&typeof X=="function"?(G--,X):n,re&&Si(M[0],M[1],re)&&(X=G<3?n:X,G=1),x=An(x);++D<G;){var oe=M[D];oe&&y(x,oe,D,X)}return x})}function rL(y,x){return function(M,D){if(M==null)return M;if(!Bi(M))return y(M,D);for(var G=M.length,X=x?G:-1,re=An(M);(x?X--:++X<G)&&D(re[X],X,re)!==!1;);return M}}function iL(y){return function(x,M,D){for(var G=-1,X=An(x),re=D(x),oe=re.length;oe--;){var ce=re[y?oe:++G];if(M(X[ce],ce,X)===!1)break}return x}}function fK(y,x,M){var D=x&S,G=bp(y);function X(){var re=this&&this!==Gr&&this instanceof X?G:y;return re.apply(D?M:this,arguments)}return X}function sL(y){return function(x){x=yn(x);var M=xd(x)?oo(x):n,D=M?M[0]:x.charAt(0),G=M?Fl(M,1).join(""):x.slice(1);return D[y]()+G}}function Ld(y){return function(x){return lw(rI(nI(x).replace(nq,"")),y,"")}}function bp(y){return function(){var x=arguments;switch(x.length){case 0:return new y;case 1:return new y(x[0]);case 2:return new y(x[0],x[1]);case 3:return new y(x[0],x[1],x[2]);case 4:return new y(x[0],x[1],x[2],x[3]);case 5:return new y(x[0],x[1],x[2],x[3],x[4]);case 6:return new y(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new y(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var M=Pd(y.prototype),D=y.apply(M,x);return rr(D)?D:M}}function hK(y,x,M){var D=bp(y);function G(){for(var X=arguments.length,re=pe(X),oe=X,ce=Id(G);oe--;)re[oe]=arguments[oe];var we=X<3&&re[0]!==ce&&re[X-1]!==ce?[]:Il(re,ce);if(X-=we.length,X<M)return uL(y,x,Lv,G.placeholder,n,re,we,n,n,M-X);var xe=this&&this!==Gr&&this instanceof G?D:y;return ns(xe,this,re)}return G}function oL(y){return function(x,M,D){var G=An(x);if(!Bi(x)){var X=gt(M,3);x=Dr(x),M=function(oe){return X(G[oe],oe,G)}}var re=y(x,M,D);return re>-1?G[X?x[re]:re]:n}}function aL(y){return Ma(function(x){var M=x.length,D=M,G=Ps.prototype.thru;for(y&&x.reverse();D--;){var X=x[D];if(typeof X!="function")throw new As(a);if(G&&!re&&kv(X)=="wrapper")var re=new Ps([],!0)}for(D=re?D:M;++D<M;){X=x[D];var oe=kv(X),ce=oe=="wrapper"?Hw(X):n;ce&&Ww(ce[0])&&ce[1]==(A|T|P|L)&&!ce[4].length&&ce[9]==1?re=re[kv(ce[0])].apply(re,ce[3]):re=X.length==1&&Ww(X)?re[oe]():re.thru(X)}return function(){var we=arguments,xe=we[0];if(re&&we.length==1&&Dt(xe))return re.plant(xe).value();for(var Ce=0,Ye=M?x[Ce].apply(this,we):xe;++Ce<M;)Ye=x[Ce].call(this,Ye);return Ye}})}function Lv(y,x,M,D,G,X,re,oe,ce,we){var xe=x&A,Ce=x&S,Ye=x&E,lt=x&(T|C),yt=x&k,Ht=Ye?n:bp(y);function _t(){for(var Kt=arguments.length,en=pe(Kt),os=Kt;os--;)en[os]=arguments[os];if(lt)var Ti=Id(_t),as=Tq(en,Ti);if(D&&(en=tL(en,D,G,lt)),X&&(en=nL(en,X,re,lt)),Kt-=as,lt&&Kt<we){var mr=Il(en,Ti);return uL(y,x,Lv,_t.placeholder,M,en,mr,oe,ce,we-Kt)}var co=Ce?M:this,La=Ye?co[y]:y;return Kt=en.length,oe?en=OK(en,oe):yt&&Kt>1&&en.reverse(),xe&&ce<Kt&&(en.length=ce),this&&this!==Gr&&this instanceof _t&&(La=Ht||bp(La)),La.apply(co,en)}return _t}function lL(y,x){return function(M,D){return VY(M,y,x(D),{})}}function Iv(y,x){return function(M,D){var G;if(M===n&&D===n)return x;if(M!==n&&(G=M),D!==n){if(G===n)return D;typeof M=="string"||typeof D=="string"?(M=is(M),D=is(D)):(M=qR(M),D=qR(D)),G=y(M,D)}return G}}function Uw(y){return Ma(function(x){return x=Jn(x,rs(gt())),Gt(function(M){var D=this;return y(x,function(G){return ns(G,D,M)})})})}function Ov(y,x){x=x===n?" ":is(x);var M=x.length;if(M<2)return M?Lw(x,y):x;var D=Lw(x,_v(y/Sd(x)));return xd(x)?Fl(oo(D),0,y).join(""):D.slice(0,y)}function pK(y,x,M,D){var G=x&S,X=bp(y);function re(){for(var oe=-1,ce=arguments.length,we=-1,xe=D.length,Ce=pe(xe+ce),Ye=this&&this!==Gr&&this instanceof re?X:y;++we<xe;)Ce[we]=D[we];for(;ce--;)Ce[we++]=arguments[++oe];return ns(Ye,G?M:this,Ce)}return re}function cL(y){return function(x,M,D){return D&&typeof D!="number"&&Si(x,M,D)&&(M=D=n),x=Ra(x),M===n?(M=x,x=0):M=Ra(M),D=D===n?x<M?1:-1:Ra(D),QY(x,M,D,y)}}function Nv(y){return function(x,M){return typeof x=="string"&&typeof M=="string"||(x=Os(x),M=Os(M)),y(x,M)}}function uL(y,x,M,D,G,X,re,oe,ce,we){var xe=x&T,Ce=xe?re:n,Ye=xe?n:re,lt=xe?X:n,yt=xe?n:X;x|=xe?P:R,x&=~(xe?R:P),x&w||(x&=~(S|E));var Ht=[y,x,G,lt,Ce,yt,Ye,oe,ce,we],_t=M.apply(n,Ht);return Ww(y)&&wL(_t,Ht),_t.placeholder=D,xL(_t,y,x)}function jw(y){var x=Ar[y];return function(M,D){if(M=Os(M),D=D==null?0:ii(Ft(D),292),D&&xR(M)){var G=(yn(M)+"e").split("e"),X=x(G[0]+"e"+(+G[1]+D));return G=(yn(X)+"e").split("e"),+(G[0]+"e"+(+G[1]-D))}return x(M)}}var mK=Md&&1/cv(new Md([,-0]))[1]==B?function(y){return new Md(y)}:a2;function dL(y){return function(x){var M=si(x);return M==Ae?mw(x):M==ne?Iq(x):Sq(x,y(x))}}function Ca(y,x,M,D,G,X,re,oe){var ce=x&E;if(!ce&&typeof y!="function")throw new As(a);var we=D?D.length:0;if(we||(x&=~(P|R),D=G=n),re=re===n?re:Pr(Ft(re),0),oe=oe===n?oe:Ft(oe),we-=G?G.length:0,x&R){var xe=D,Ce=G;D=G=n}var Ye=ce?n:Hw(y),lt=[y,x,M,D,G,xe,Ce,X,re,oe];if(Ye&&RK(lt,Ye),y=lt[0],x=lt[1],M=lt[2],D=lt[3],G=lt[4],oe=lt[9]=lt[9]===n?ce?0:y.length:Pr(lt[9]-we,0),!oe&&x&(T|C)&&(x&=~(T|C)),!x||x==S)var yt=fK(y,x,M);else x==T||x==C?yt=hK(y,x,oe):(x==P||x==(S|P))&&!G.length?yt=pK(y,x,M,D):yt=Lv.apply(n,lt);var Ht=Ye?$R:wL;return xL(Ht(yt,lt),y,x)}function fL(y,x,M,D){return y===n||lo(y,Cd[M])&&!bn.call(D,M)?x:y}function hL(y,x,M,D,G,X){return rr(y)&&rr(x)&&(X.set(x,y),Mv(y,x,n,hL,X),X.delete(x)),y}function gK(y){return xp(y)?n:y}function pL(y,x,M,D,G,X){var re=M&m,oe=y.length,ce=x.length;if(oe!=ce&&!(re&&ce>oe))return!1;var we=X.get(y),xe=X.get(x);if(we&&xe)return we==x&&xe==y;var Ce=-1,Ye=!0,lt=M&_?new tu:n;for(X.set(y,x),X.set(x,y);++Ce<oe;){var yt=y[Ce],Ht=x[Ce];if(D)var _t=re?D(Ht,yt,Ce,x,y,X):D(yt,Ht,Ce,y,x,X);if(_t!==n){if(_t)continue;Ye=!1;break}if(lt){if(!cw(x,function(Kt,en){if(!cp(lt,en)&&(yt===Kt||G(yt,Kt,M,D,X)))return lt.push(en)})){Ye=!1;break}}else if(!(yt===Ht||G(yt,Ht,M,D,X))){Ye=!1;break}}return X.delete(y),X.delete(x),Ye}function vK(y,x,M,D,G,X,re){switch(M){case ct:if(y.byteLength!=x.byteLength||y.byteOffset!=x.byteOffset)return!1;y=y.buffer,x=x.buffer;case vt:return!(y.byteLength!=x.byteLength||!X(new mv(y),new mv(x)));case Me:case ke:case Qe:return lo(+y,+x);case pt:return y.name==x.name&&y.message==x.message;case hn:case J:return y==x+"";case Ae:var oe=mw;case ne:var ce=D&m;if(oe||(oe=cv),y.size!=x.size&&!ce)return!1;var we=re.get(y);if(we)return we==x;D|=_,re.set(y,x);var xe=pL(oe(y),oe(x),D,G,X,re);return re.delete(y),xe;case Te:if(pp)return pp.call(y)==pp.call(x)}return!1}function yK(y,x,M,D,G,X){var re=M&m,oe=Bw(y),ce=oe.length,we=Bw(x),xe=we.length;if(ce!=xe&&!re)return!1;for(var Ce=ce;Ce--;){var Ye=oe[Ce];if(!(re?Ye in x:bn.call(x,Ye)))return!1}var lt=X.get(y),yt=X.get(x);if(lt&&yt)return lt==x&&yt==y;var Ht=!0;X.set(y,x),X.set(x,y);for(var _t=re;++Ce<ce;){Ye=oe[Ce];var Kt=y[Ye],en=x[Ye];if(D)var os=re?D(en,Kt,Ye,x,y,X):D(Kt,en,Ye,y,x,X);if(!(os===n?Kt===en||G(Kt,en,M,D,X):os)){Ht=!1;break}_t||(_t=Ye=="constructor")}if(Ht&&!_t){var Ti=y.constructor,as=x.constructor;Ti!=as&&"constructor"in y&&"constructor"in x&&!(typeof Ti=="function"&&Ti instanceof Ti&&typeof as=="function"&&as instanceof as)&&(Ht=!1)}return X.delete(y),X.delete(x),Ht}function Ma(y){return Yw(bL(y,n,PL),y+"")}function Bw(y){return NR(y,Dr,Gw)}function Vw(y){return NR(y,Vi,mL)}var Hw=Ev?function(y){return Ev.get(y)}:a2;function kv(y){for(var x=y.name+"",M=Ad[x],D=bn.call(Ad,x)?M.length:0;D--;){var G=M[D],X=G.func;if(X==null||X==y)return G.name}return x}function Id(y){var x=bn.call(Y,"placeholder")?Y:y;return x.placeholder}function gt(){var y=Y.iteratee||s2;return y=y===s2?FR:y,arguments.length?y(arguments[0],arguments[1]):y}function Dv(y,x){var M=y.__data__;return CK(x)?M[typeof x=="string"?"string":"hash"]:M.map}function zw(y){for(var x=Dr(y),M=x.length;M--;){var D=x[M],G=y[D];x[M]=[D,G,yL(G)]}return x}function iu(y,x){var M=Pq(y,x);return DR(M)?M:n}function _K(y){var x=bn.call(y,Qc),M=y[Qc];try{y[Qc]=n;var D=!0}catch{}var G=hv.call(y);return D&&(x?y[Qc]=M:delete y[Qc]),G}var Gw=vw?function(y){return y==null?[]:(y=An(y),Rl(vw(y),function(x){return ER.call(y,x)}))}:l2,mL=vw?function(y){for(var x=[];y;)Ll(x,Gw(y)),y=gv(y);return x}:l2,si=xi;(yw&&si(new yw(new ArrayBuffer(1)))!=ct||dp&&si(new dp)!=Ae||_w&&si(_w.resolve())!=Mt||Md&&si(new Md)!=ne||fp&&si(new fp)!=ze)&&(si=function(y){var x=xi(y),M=x==mt?y.constructor:n,D=M?su(M):"";if(D)switch(D){case tY:return ct;case nY:return Ae;case rY:return Mt;case iY:return ne;case sY:return ze}return x});function bK(y,x,M){for(var D=-1,G=M.length;++D<G;){var X=M[D],re=X.size;switch(X.type){case"drop":y+=re;break;case"dropRight":x-=re;break;case"take":x=ii(x,y+re);break;case"takeRight":y=Pr(y,x-re);break}}return{start:y,end:x}}function EK(y){var x=y.match(ge);return x?x[1].split(Se):[]}function gL(y,x,M){x=Dl(x,y);for(var D=-1,G=x.length,X=!1;++D<G;){var re=ko(x[D]);if(!(X=y!=null&&M(y,re)))break;y=y[re]}return X||++D!=G?X:(G=y==null?0:y.length,!!G&&zv(G)&&Aa(re,G)&&(Dt(y)||ou(y)))}function wK(y){var x=y.length,M=new y.constructor(x);return x&&typeof y[0]=="string"&&bn.call(y,"index")&&(M.index=y.index,M.input=y.input),M}function vL(y){return typeof y.constructor=="function"&&!Ep(y)?Pd(gv(y)):{}}function xK(y,x,M){var D=y.constructor;switch(x){case vt:return Fw(y);case Me:case ke:return new D(+y);case ct:return oK(y,M);case He:case se:case Ve:case je:case St:case st:case kt:case We:case Lt:return QR(y,M);case Ae:return new D;case Qe:case J:return new D(y);case hn:return aK(y);case ne:return new D;case Te:return lK(y)}}function SK(y,x){var M=x.length;if(!M)return y;var D=M-1;return x[D]=(M>1?"& ":"")+x[D],x=x.join(M>2?", ":" "),y.replace(_e,`{
/* [wrapped with `+x+`] */
`)}function TK(y){return Dt(y)||ou(y)||!!(wR&&y&&y[wR])}function Aa(y,x){var M=typeof y;return x=x==null?q:x,!!x&&(M=="number"||M!="symbol"&&Al.test(y))&&y>-1&&y%1==0&&y<x}function Si(y,x,M){if(!rr(M))return!1;var D=typeof x;return(D=="number"?Bi(M)&&Aa(x,M.length):D=="string"&&x in M)?lo(M[x],y):!1}function $w(y,x){if(Dt(y))return!1;var M=typeof y;return M=="number"||M=="symbol"||M=="boolean"||y==null||ss(y)?!0:sv.test(y)||!ap.test(y)||x!=null&&y in An(x)}function CK(y){var x=typeof y;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?y!=="__proto__":y===null}function Ww(y){var x=kv(y),M=Y[x];if(typeof M!="function"||!(x in Qt.prototype))return!1;if(y===M)return!0;var D=Hw(M);return!!D&&y===D[0]}function MK(y){return!!yR&&yR in y}var AK=dv?Pa:c2;function Ep(y){var x=y&&y.constructor,M=typeof x=="function"&&x.prototype||Cd;return y===M}function yL(y){return y===y&&!rr(y)}function _L(y,x){return function(M){return M==null?!1:M[y]===x&&(x!==n||y in An(M))}}function PK(y){var x=Vv(y,function(D){return M.size===u&&M.clear(),D}),M=x.cache;return x}function RK(y,x){var M=y[1],D=x[1],G=M|D,X=G<(S|E|A),re=D==A&&M==T||D==A&&M==L&&y[7].length<=x[8]||D==(A|L)&&x[7].length<=x[8]&&M==T;if(!(X||re))return y;D&S&&(y[2]=x[2],G|=M&S?0:w);var oe=x[3];if(oe){var ce=y[3];y[3]=ce?tL(ce,oe,x[4]):oe,y[4]=ce?Il(y[3],d):x[4]}return oe=x[5],oe&&(ce=y[5],y[5]=ce?nL(ce,oe,x[6]):oe,y[6]=ce?Il(y[5],d):x[6]),oe=x[7],oe&&(y[7]=oe),D&A&&(y[8]=y[8]==null?x[8]:ii(y[8],x[8])),y[9]==null&&(y[9]=x[9]),y[0]=x[0],y[1]=G,y}function LK(y){var x=[];if(y!=null)for(var M in An(y))x.push(M);return x}function IK(y){return hv.call(y)}function bL(y,x,M){return x=Pr(x===n?y.length-1:x,0),function(){for(var D=arguments,G=-1,X=Pr(D.length-x,0),re=pe(X);++G<X;)re[G]=D[x+G];G=-1;for(var oe=pe(x+1);++G<x;)oe[G]=D[G];return oe[x]=M(re),ns(y,this,oe)}}function EL(y,x){return x.length<2?y:ru(y,Ls(x,0,-1))}function OK(y,x){for(var M=y.length,D=ii(x.length,M),G=ji(y);D--;){var X=x[D];y[D]=Aa(X,M)?G[X]:n}return y}function qw(y,x){if(!(x==="constructor"&&typeof y[x]=="function")&&x!="__proto__")return y[x]}var wL=SL($R),wp=Yq||function(y,x){return Gr.setTimeout(y,x)},Yw=SL(nK);function xL(y,x,M){var D=x+"";return Yw(y,SK(D,NK(EK(D),M)))}function SL(y){var x=0,M=0;return function(){var D=Zq(),G=F-(D-M);if(M=D,G>0){if(++x>=I)return arguments[0]}else x=0;return y.apply(n,arguments)}}function Fv(y,x){var M=-1,D=y.length,G=D-1;for(x=x===n?D:x;++M<x;){var X=Rw(M,G),re=y[X];y[X]=y[M],y[M]=re}return y.length=x,y}var TL=PK(function(y){var x=[];return y.charCodeAt(0)===46&&x.push(""),y.replace(ZE,function(M,D,G,X){x.push(G?X.replace(Bt,"$1"):D||M)}),x});function ko(y){if(typeof y=="string"||ss(y))return y;var x=y+"";return x=="0"&&1/y==-B?"-0":x}function su(y){if(y!=null){try{return fv.call(y)}catch{}try{return y+""}catch{}}return""}function NK(y,x){return Ms(le,function(M){var D="_."+M[0];x&M[1]&&!av(y,D)&&y.push(D)}),y.sort()}function CL(y){if(y instanceof Qt)return y.clone();var x=new Ps(y.__wrapped__,y.__chain__);return x.__actions__=ji(y.__actions__),x.__index__=y.__index__,x.__values__=y.__values__,x}function kK(y,x,M){(M?Si(y,x,M):x===n)?x=1:x=Pr(Ft(x),0);var D=y==null?0:y.length;if(!D||x<1)return[];for(var G=0,X=0,re=pe(_v(D/x));G<D;)re[X++]=Ls(y,G,G+=x);return re}function DK(y){for(var x=-1,M=y==null?0:y.length,D=0,G=[];++x<M;){var X=y[x];X&&(G[D++]=X)}return G}function FK(){var y=arguments.length;if(!y)return[];for(var x=pe(y-1),M=arguments[0],D=y;D--;)x[D-1]=arguments[D];return Ll(Dt(M)?ji(M):[M],$r(x,1))}var UK=Gt(function(y,x){return pr(y)?gp(y,$r(x,1,pr,!0)):[]}),jK=Gt(function(y,x){var M=Is(x);return pr(M)&&(M=n),pr(y)?gp(y,$r(x,1,pr,!0),gt(M,2)):[]}),BK=Gt(function(y,x){var M=Is(x);return pr(M)&&(M=n),pr(y)?gp(y,$r(x,1,pr,!0),n,M):[]});function VK(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:Ft(x),Ls(y,x<0?0:x,D)):[]}function HK(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:Ft(x),x=D-x,Ls(y,0,x<0?0:x)):[]}function zK(y,x){return y&&y.length?Pv(y,gt(x,3),!0,!0):[]}function GK(y,x){return y&&y.length?Pv(y,gt(x,3),!0):[]}function $K(y,x,M,D){var G=y==null?0:y.length;return G?(M&&typeof M!="number"&&Si(y,x,M)&&(M=0,D=G),FY(y,x,M,D)):[]}function ML(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var G=M==null?0:Ft(M);return G<0&&(G=Pr(D+G,0)),lv(y,gt(x,3),G)}function AL(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var G=D-1;return M!==n&&(G=Ft(M),G=M<0?Pr(D+G,0):ii(G,D-1)),lv(y,gt(x,3),G,!0)}function PL(y){var x=y==null?0:y.length;return x?$r(y,1):[]}function WK(y){var x=y==null?0:y.length;return x?$r(y,B):[]}function qK(y,x){var M=y==null?0:y.length;return M?(x=x===n?1:Ft(x),$r(y,x)):[]}function YK(y){for(var x=-1,M=y==null?0:y.length,D={};++x<M;){var G=y[x];D[G[0]]=G[1]}return D}function RL(y){return y&&y.length?y[0]:n}function KK(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var G=M==null?0:Ft(M);return G<0&&(G=Pr(D+G,0)),wd(y,x,G)}function XK(y){var x=y==null?0:y.length;return x?Ls(y,0,-1):[]}var JK=Gt(function(y){var x=Jn(y,kw);return x.length&&x[0]===y[0]?Tw(x):[]}),ZK=Gt(function(y){var x=Is(y),M=Jn(y,kw);return x===Is(M)?x=n:M.pop(),M.length&&M[0]===y[0]?Tw(M,gt(x,2)):[]}),QK=Gt(function(y){var x=Is(y),M=Jn(y,kw);return x=typeof x=="function"?x:n,x&&M.pop(),M.length&&M[0]===y[0]?Tw(M,n,x):[]});function eX(y,x){return y==null?"":Xq.call(y,x)}function Is(y){var x=y==null?0:y.length;return x?y[x-1]:n}function tX(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var G=D;return M!==n&&(G=Ft(M),G=G<0?Pr(D+G,0):ii(G,D-1)),x===x?Nq(y,x,G):lv(y,uR,G,!0)}function nX(y,x){return y&&y.length?VR(y,Ft(x)):n}var rX=Gt(LL);function LL(y,x){return y&&y.length&&x&&x.length?Pw(y,x):y}function iX(y,x,M){return y&&y.length&&x&&x.length?Pw(y,x,gt(M,2)):y}function sX(y,x,M){return y&&y.length&&x&&x.length?Pw(y,x,n,M):y}var oX=Ma(function(y,x){var M=y==null?0:y.length,D=Ew(y,x);return GR(y,Jn(x,function(G){return Aa(G,M)?+G:G}).sort(eL)),D});function aX(y,x){var M=[];if(!(y&&y.length))return M;var D=-1,G=[],X=y.length;for(x=gt(x,3);++D<X;){var re=y[D];x(re,D,y)&&(M.push(re),G.push(D))}return GR(y,G),M}function Kw(y){return y==null?y:eY.call(y)}function lX(y,x,M){var D=y==null?0:y.length;return D?(M&&typeof M!="number"&&Si(y,x,M)?(x=0,M=D):(x=x==null?0:Ft(x),M=M===n?D:Ft(M)),Ls(y,x,M)):[]}function cX(y,x){return Av(y,x)}function uX(y,x,M){return Iw(y,x,gt(M,2))}function dX(y,x){var M=y==null?0:y.length;if(M){var D=Av(y,x);if(D<M&&lo(y[D],x))return D}return-1}function fX(y,x){return Av(y,x,!0)}function hX(y,x,M){return Iw(y,x,gt(M,2),!0)}function pX(y,x){var M=y==null?0:y.length;if(M){var D=Av(y,x,!0)-1;if(lo(y[D],x))return D}return-1}function mX(y){return y&&y.length?WR(y):[]}function gX(y,x){return y&&y.length?WR(y,gt(x,2)):[]}function vX(y){var x=y==null?0:y.length;return x?Ls(y,1,x):[]}function yX(y,x,M){return y&&y.length?(x=M||x===n?1:Ft(x),Ls(y,0,x<0?0:x)):[]}function _X(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:Ft(x),x=D-x,Ls(y,x<0?0:x,D)):[]}function bX(y,x){return y&&y.length?Pv(y,gt(x,3),!1,!0):[]}function EX(y,x){return y&&y.length?Pv(y,gt(x,3)):[]}var wX=Gt(function(y){return kl($r(y,1,pr,!0))}),xX=Gt(function(y){var x=Is(y);return pr(x)&&(x=n),kl($r(y,1,pr,!0),gt(x,2))}),SX=Gt(function(y){var x=Is(y);return x=typeof x=="function"?x:n,kl($r(y,1,pr,!0),n,x)});function TX(y){return y&&y.length?kl(y):[]}function CX(y,x){return y&&y.length?kl(y,gt(x,2)):[]}function MX(y,x){return x=typeof x=="function"?x:n,y&&y.length?kl(y,n,x):[]}function Xw(y){if(!(y&&y.length))return[];var x=0;return y=Rl(y,function(M){if(pr(M))return x=Pr(M.length,x),!0}),hw(x,function(M){return Jn(y,uw(M))})}function IL(y,x){if(!(y&&y.length))return[];var M=Xw(y);return x==null?M:Jn(M,function(D){return ns(x,n,D)})}var AX=Gt(function(y,x){return pr(y)?gp(y,x):[]}),PX=Gt(function(y){return Nw(Rl(y,pr))}),RX=Gt(function(y){var x=Is(y);return pr(x)&&(x=n),Nw(Rl(y,pr),gt(x,2))}),LX=Gt(function(y){var x=Is(y);return x=typeof x=="function"?x:n,Nw(Rl(y,pr),n,x)}),IX=Gt(Xw);function OX(y,x){return XR(y||[],x||[],mp)}function NX(y,x){return XR(y||[],x||[],_p)}var kX=Gt(function(y){var x=y.length,M=x>1?y[x-1]:n;return M=typeof M=="function"?(y.pop(),M):n,IL(y,M)});function OL(y){var x=Y(y);return x.__chain__=!0,x}function DX(y,x){return x(y),y}function Uv(y,x){return x(y)}var FX=Ma(function(y){var x=y.length,M=x?y[0]:0,D=this.__wrapped__,G=function(X){return Ew(X,y)};return x>1||this.__actions__.length||!(D instanceof Qt)||!Aa(M)?this.thru(G):(D=D.slice(M,+M+(x?1:0)),D.__actions__.push({func:Uv,args:[G],thisArg:n}),new Ps(D,this.__chain__).thru(function(X){return x&&!X.length&&X.push(n),X}))});function UX(){return OL(this)}function jX(){return new Ps(this.value(),this.__chain__)}function BX(){this.__values__===n&&(this.__values__=qL(this.value()));var y=this.__index__>=this.__values__.length,x=y?n:this.__values__[this.__index__++];return{done:y,value:x}}function VX(){return this}function HX(y){for(var x,M=this;M instanceof xv;){var D=CL(M);D.__index__=0,D.__values__=n,x?G.__wrapped__=D:x=D;var G=D;M=M.__wrapped__}return G.__wrapped__=y,x}function zX(){var y=this.__wrapped__;if(y instanceof Qt){var x=y;return this.__actions__.length&&(x=new Qt(this)),x=x.reverse(),x.__actions__.push({func:Uv,args:[Kw],thisArg:n}),new Ps(x,this.__chain__)}return this.thru(Kw)}function GX(){return KR(this.__wrapped__,this.__actions__)}var $X=Rv(function(y,x,M){bn.call(y,M)?++y[M]:Ta(y,M,1)});function WX(y,x,M){var D=Dt(y)?lR:DY;return M&&Si(y,x,M)&&(x=n),D(y,gt(x,3))}function qX(y,x){var M=Dt(y)?Rl:IR;return M(y,gt(x,3))}var YX=oL(ML),KX=oL(AL);function XX(y,x){return $r(jv(y,x),1)}function JX(y,x){return $r(jv(y,x),B)}function ZX(y,x,M){return M=M===n?1:Ft(M),$r(jv(y,x),M)}function NL(y,x){var M=Dt(y)?Ms:Nl;return M(y,gt(x,3))}function kL(y,x){var M=Dt(y)?vq:LR;return M(y,gt(x,3))}var QX=Rv(function(y,x,M){bn.call(y,M)?y[M].push(x):Ta(y,M,[x])});function eJ(y,x,M,D){y=Bi(y)?y:Nd(y),M=M&&!D?Ft(M):0;var G=y.length;return M<0&&(M=Pr(G+M,0)),Gv(y)?M<=G&&y.indexOf(x,M)>-1:!!G&&wd(y,x,M)>-1}var tJ=Gt(function(y,x,M){var D=-1,G=typeof x=="function",X=Bi(y)?pe(y.length):[];return Nl(y,function(re){X[++D]=G?ns(x,re,M):vp(re,x,M)}),X}),nJ=Rv(function(y,x,M){Ta(y,M,x)});function jv(y,x){var M=Dt(y)?Jn:UR;return M(y,gt(x,3))}function rJ(y,x,M,D){return y==null?[]:(Dt(x)||(x=x==null?[]:[x]),M=D?n:M,Dt(M)||(M=M==null?[]:[M]),HR(y,x,M))}var iJ=Rv(function(y,x,M){y[M?0:1].push(x)},function(){return[[],[]]});function sJ(y,x,M){var D=Dt(y)?lw:fR,G=arguments.length<3;return D(y,gt(x,4),M,G,Nl)}function oJ(y,x,M){var D=Dt(y)?yq:fR,G=arguments.length<3;return D(y,gt(x,4),M,G,LR)}function aJ(y,x){var M=Dt(y)?Rl:IR;return M(y,Hv(gt(x,3)))}function lJ(y){var x=Dt(y)?MR:eK;return x(y)}function cJ(y,x,M){(M?Si(y,x,M):x===n)?x=1:x=Ft(x);var D=Dt(y)?LY:tK;return D(y,x)}function uJ(y){var x=Dt(y)?IY:rK;return x(y)}function dJ(y){if(y==null)return 0;if(Bi(y))return Gv(y)?Sd(y):y.length;var x=si(y);return x==Ae||x==ne?y.size:Mw(y).length}function fJ(y,x,M){var D=Dt(y)?cw:iK;return M&&Si(y,x,M)&&(x=n),D(y,gt(x,3))}var hJ=Gt(function(y,x){if(y==null)return[];var M=x.length;return M>1&&Si(y,x[0],x[1])?x=[]:M>2&&Si(x[0],x[1],x[2])&&(x=[x[0]]),HR(y,$r(x,1),[])}),Bv=qq||function(){return Gr.Date.now()};function pJ(y,x){if(typeof x!="function")throw new As(a);return y=Ft(y),function(){if(--y<1)return x.apply(this,arguments)}}function DL(y,x,M){return x=M?n:x,x=y&&x==null?y.length:x,Ca(y,A,n,n,n,n,x)}function FL(y,x){var M;if(typeof x!="function")throw new As(a);return y=Ft(y),function(){return--y>0&&(M=x.apply(this,arguments)),y<=1&&(x=n),M}}var Jw=Gt(function(y,x,M){var D=S;if(M.length){var G=Il(M,Id(Jw));D|=P}return Ca(y,D,x,M,G)}),UL=Gt(function(y,x,M){var D=S|E;if(M.length){var G=Il(M,Id(UL));D|=P}return Ca(x,D,y,M,G)});function jL(y,x,M){x=M?n:x;var D=Ca(y,T,n,n,n,n,n,x);return D.placeholder=jL.placeholder,D}function BL(y,x,M){x=M?n:x;var D=Ca(y,C,n,n,n,n,n,x);return D.placeholder=BL.placeholder,D}function VL(y,x,M){var D,G,X,re,oe,ce,we=0,xe=!1,Ce=!1,Ye=!0;if(typeof y!="function")throw new As(a);x=Os(x)||0,rr(M)&&(xe=!!M.leading,Ce="maxWait"in M,X=Ce?Pr(Os(M.maxWait)||0,x):X,Ye="trailing"in M?!!M.trailing:Ye);function lt(mr){var co=D,La=G;return D=G=n,we=mr,re=y.apply(La,co),re}function yt(mr){return we=mr,oe=wp(Kt,x),xe?lt(mr):re}function Ht(mr){var co=mr-ce,La=mr-we,oI=x-co;return Ce?ii(oI,X-La):oI}function _t(mr){var co=mr-ce,La=mr-we;return ce===n||co>=x||co<0||Ce&&La>=X}function Kt(){var mr=Bv();if(_t(mr))return en(mr);oe=wp(Kt,Ht(mr))}function en(mr){return oe=n,Ye&&D?lt(mr):(D=G=n,re)}function os(){oe!==n&&JR(oe),we=0,D=ce=G=oe=n}function Ti(){return oe===n?re:en(Bv())}function as(){var mr=Bv(),co=_t(mr);if(D=arguments,G=this,ce=mr,co){if(oe===n)return yt(ce);if(Ce)return JR(oe),oe=wp(Kt,x),lt(ce)}return oe===n&&(oe=wp(Kt,x)),re}return as.cancel=os,as.flush=Ti,as}var mJ=Gt(function(y,x){return RR(y,1,x)}),gJ=Gt(function(y,x,M){return RR(y,Os(x)||0,M)});function vJ(y){return Ca(y,k)}function Vv(y,x){if(typeof y!="function"||x!=null&&typeof x!="function")throw new As(a);var M=function(){var D=arguments,G=x?x.apply(this,D):D[0],X=M.cache;if(X.has(G))return X.get(G);var re=y.apply(this,D);return M.cache=X.set(G,re)||X,re};return M.cache=new(Vv.Cache||Sa),M}Vv.Cache=Sa;function Hv(y){if(typeof y!="function")throw new As(a);return function(){var x=arguments;switch(x.length){case 0:return!y.call(this);case 1:return!y.call(this,x[0]);case 2:return!y.call(this,x[0],x[1]);case 3:return!y.call(this,x[0],x[1],x[2])}return!y.apply(this,x)}}function yJ(y){return FL(2,y)}var _J=sK(function(y,x){x=x.length==1&&Dt(x[0])?Jn(x[0],rs(gt())):Jn($r(x,1),rs(gt()));var M=x.length;return Gt(function(D){for(var G=-1,X=ii(D.length,M);++G<X;)D[G]=x[G].call(this,D[G]);return ns(y,this,D)})}),Zw=Gt(function(y,x){var M=Il(x,Id(Zw));return Ca(y,P,n,x,M)}),HL=Gt(function(y,x){var M=Il(x,Id(HL));return Ca(y,R,n,x,M)}),bJ=Ma(function(y,x){return Ca(y,L,n,n,n,x)});function EJ(y,x){if(typeof y!="function")throw new As(a);return x=x===n?x:Ft(x),Gt(y,x)}function wJ(y,x){if(typeof y!="function")throw new As(a);return x=x==null?0:Pr(Ft(x),0),Gt(function(M){var D=M[x],G=Fl(M,0,x);return D&&Ll(G,D),ns(y,this,G)})}function xJ(y,x,M){var D=!0,G=!0;if(typeof y!="function")throw new As(a);return rr(M)&&(D="leading"in M?!!M.leading:D,G="trailing"in M?!!M.trailing:G),VL(y,x,{leading:D,maxWait:x,trailing:G})}function SJ(y){return DL(y,1)}function TJ(y,x){return Zw(Dw(x),y)}function CJ(){if(!arguments.length)return[];var y=arguments[0];return Dt(y)?y:[y]}function MJ(y){return Rs(y,v)}function AJ(y,x){return x=typeof x=="function"?x:n,Rs(y,v,x)}function PJ(y){return Rs(y,f|v)}function RJ(y,x){return x=typeof x=="function"?x:n,Rs(y,f|v,x)}function LJ(y,x){return x==null||PR(y,x,Dr(x))}function lo(y,x){return y===x||y!==y&&x!==x}var IJ=Nv(Sw),OJ=Nv(function(y,x){return y>=x}),ou=kR(function(){return arguments}())?kR:function(y){return or(y)&&bn.call(y,"callee")&&!ER.call(y,"callee")},Dt=pe.isArray,NJ=nR?rs(nR):HY;function Bi(y){return y!=null&&zv(y.length)&&!Pa(y)}function pr(y){return or(y)&&Bi(y)}function kJ(y){return y===!0||y===!1||or(y)&&xi(y)==Me}var Ul=Kq||c2,DJ=rR?rs(rR):zY;function FJ(y){return or(y)&&y.nodeType===1&&!xp(y)}function UJ(y){if(y==null)return!0;if(Bi(y)&&(Dt(y)||typeof y=="string"||typeof y.splice=="function"||Ul(y)||Od(y)||ou(y)))return!y.length;var x=si(y);if(x==Ae||x==ne)return!y.size;if(Ep(y))return!Mw(y).length;for(var M in y)if(bn.call(y,M))return!1;return!0}function jJ(y,x){return yp(y,x)}function BJ(y,x,M){M=typeof M=="function"?M:n;var D=M?M(y,x):n;return D===n?yp(y,x,n,M):!!D}function Qw(y){if(!or(y))return!1;var x=xi(y);return x==pt||x==Ze||typeof y.message=="string"&&typeof y.name=="string"&&!xp(y)}function VJ(y){return typeof y=="number"&&xR(y)}function Pa(y){if(!rr(y))return!1;var x=xi(y);return x==be||x==De||x==Ie||x==jt}function zL(y){return typeof y=="number"&&y==Ft(y)}function zv(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=q}function rr(y){var x=typeof y;return y!=null&&(x=="object"||x=="function")}function or(y){return y!=null&&typeof y=="object"}var GL=iR?rs(iR):$Y;function HJ(y,x){return y===x||Cw(y,x,zw(x))}function zJ(y,x,M){return M=typeof M=="function"?M:n,Cw(y,x,zw(x),M)}function GJ(y){return $L(y)&&y!=+y}function $J(y){if(AK(y))throw new Ot(s);return DR(y)}function WJ(y){return y===null}function qJ(y){return y==null}function $L(y){return typeof y=="number"||or(y)&&xi(y)==Qe}function xp(y){if(!or(y)||xi(y)!=mt)return!1;var x=gv(y);if(x===null)return!0;var M=bn.call(x,"constructor")&&x.constructor;return typeof M=="function"&&M instanceof M&&fv.call(M)==zq}var e2=sR?rs(sR):WY;function YJ(y){return zL(y)&&y>=-q&&y<=q}var WL=oR?rs(oR):qY;function Gv(y){return typeof y=="string"||!Dt(y)&&or(y)&&xi(y)==J}function ss(y){return typeof y=="symbol"||or(y)&&xi(y)==Te}var Od=aR?rs(aR):YY;function KJ(y){return y===n}function XJ(y){return or(y)&&si(y)==ze}function JJ(y){return or(y)&&xi(y)==Re}var ZJ=Nv(Aw),QJ=Nv(function(y,x){return y<=x});function qL(y){if(!y)return[];if(Bi(y))return Gv(y)?oo(y):ji(y);if(up&&y[up])return Lq(y[up]());var x=si(y),M=x==Ae?mw:x==ne?cv:Nd;return M(y)}function Ra(y){if(!y)return y===0?y:0;if(y=Os(y),y===B||y===-B){var x=y<0?-1:1;return x*W}return y===y?y:0}function Ft(y){var x=Ra(y),M=x%1;return x===x?M?x-M:x:0}function YL(y){return y?nu(Ft(y),0,$):0}function Os(y){if(typeof y=="number")return y;if(ss(y))return j;if(rr(y)){var x=typeof y.valueOf=="function"?y.valueOf():y;y=rr(x)?x+"":x}if(typeof y!="string")return y===0?y:+y;y=hR(y);var M=Zt.test(y);return M||wa.test(y)?pq(y.slice(2),M?2:8):Vt.test(y)?j:+y}function KL(y){return No(y,Vi(y))}function eZ(y){return y?nu(Ft(y),-q,q):y===0?y:0}function yn(y){return y==null?"":is(y)}var tZ=Rd(function(y,x){if(Ep(x)||Bi(x)){No(x,Dr(x),y);return}for(var M in x)bn.call(x,M)&&mp(y,M,x[M])}),XL=Rd(function(y,x){No(x,Vi(x),y)}),$v=Rd(function(y,x,M,D){No(x,Vi(x),y,D)}),nZ=Rd(function(y,x,M,D){No(x,Dr(x),y,D)}),rZ=Ma(Ew);function iZ(y,x){var M=Pd(y);return x==null?M:AR(M,x)}var sZ=Gt(function(y,x){y=An(y);var M=-1,D=x.length,G=D>2?x[2]:n;for(G&&Si(x[0],x[1],G)&&(D=1);++M<D;)for(var X=x[M],re=Vi(X),oe=-1,ce=re.length;++oe<ce;){var we=re[oe],xe=y[we];(xe===n||lo(xe,Cd[we])&&!bn.call(y,we))&&(y[we]=X[we])}return y}),oZ=Gt(function(y){return y.push(n,hL),ns(JL,n,y)});function aZ(y,x){return cR(y,gt(x,3),Oo)}function lZ(y,x){return cR(y,gt(x,3),xw)}function cZ(y,x){return y==null?y:ww(y,gt(x,3),Vi)}function uZ(y,x){return y==null?y:OR(y,gt(x,3),Vi)}function dZ(y,x){return y&&Oo(y,gt(x,3))}function fZ(y,x){return y&&xw(y,gt(x,3))}function hZ(y){return y==null?[]:Cv(y,Dr(y))}function pZ(y){return y==null?[]:Cv(y,Vi(y))}function t2(y,x,M){var D=y==null?n:ru(y,x);return D===n?M:D}function mZ(y,x){return y!=null&&gL(y,x,UY)}function n2(y,x){return y!=null&&gL(y,x,jY)}var gZ=lL(function(y,x,M){x!=null&&typeof x.toString!="function"&&(x=hv.call(x)),y[x]=M},i2(Hi)),vZ=lL(function(y,x,M){x!=null&&typeof x.toString!="function"&&(x=hv.call(x)),bn.call(y,x)?y[x].push(M):y[x]=[M]},gt),yZ=Gt(vp);function Dr(y){return Bi(y)?CR(y):Mw(y)}function Vi(y){return Bi(y)?CR(y,!0):KY(y)}function _Z(y,x){var M={};return x=gt(x,3),Oo(y,function(D,G,X){Ta(M,x(D,G,X),D)}),M}function bZ(y,x){var M={};return x=gt(x,3),Oo(y,function(D,G,X){Ta(M,G,x(D,G,X))}),M}var EZ=Rd(function(y,x,M){Mv(y,x,M)}),JL=Rd(function(y,x,M,D){Mv(y,x,M,D)}),wZ=Ma(function(y,x){var M={};if(y==null)return M;var D=!1;x=Jn(x,function(X){return X=Dl(X,y),D||(D=X.length>1),X}),No(y,Vw(y),M),D&&(M=Rs(M,f|h|v,gK));for(var G=x.length;G--;)Ow(M,x[G]);return M});function xZ(y,x){return ZL(y,Hv(gt(x)))}var SZ=Ma(function(y,x){return y==null?{}:JY(y,x)});function ZL(y,x){if(y==null)return{};var M=Jn(Vw(y),function(D){return[D]});return x=gt(x),zR(y,M,function(D,G){return x(D,G[0])})}function TZ(y,x,M){x=Dl(x,y);var D=-1,G=x.length;for(G||(G=1,y=n);++D<G;){var X=y==null?n:y[ko(x[D])];X===n&&(D=G,X=M),y=Pa(X)?X.call(y):X}return y}function CZ(y,x,M){return y==null?y:_p(y,x,M)}function MZ(y,x,M,D){return D=typeof D=="function"?D:n,y==null?y:_p(y,x,M,D)}var QL=dL(Dr),eI=dL(Vi);function AZ(y,x,M){var D=Dt(y),G=D||Ul(y)||Od(y);if(x=gt(x,4),M==null){var X=y&&y.constructor;G?M=D?new X:[]:rr(y)?M=Pa(X)?Pd(gv(y)):{}:M={}}return(G?Ms:Oo)(y,function(re,oe,ce){return x(M,re,oe,ce)}),M}function PZ(y,x){return y==null?!0:Ow(y,x)}function RZ(y,x,M){return y==null?y:YR(y,x,Dw(M))}function LZ(y,x,M,D){return D=typeof D=="function"?D:n,y==null?y:YR(y,x,Dw(M),D)}function Nd(y){return y==null?[]:pw(y,Dr(y))}function IZ(y){return y==null?[]:pw(y,Vi(y))}function OZ(y,x,M){return M===n&&(M=x,x=n),M!==n&&(M=Os(M),M=M===M?M:0),x!==n&&(x=Os(x),x=x===x?x:0),nu(Os(y),x,M)}function NZ(y,x,M){return x=Ra(x),M===n?(M=x,x=0):M=Ra(M),y=Os(y),BY(y,x,M)}function kZ(y,x,M){if(M&&typeof M!="boolean"&&Si(y,x,M)&&(x=M=n),M===n&&(typeof x=="boolean"?(M=x,x=n):typeof y=="boolean"&&(M=y,y=n)),y===n&&x===n?(y=0,x=1):(y=Ra(y),x===n?(x=y,y=0):x=Ra(x)),y>x){var D=y;y=x,x=D}if(M||y%1||x%1){var G=SR();return ii(y+G*(x-y+hq("1e-"+((G+"").length-1))),x)}return Rw(y,x)}var DZ=Ld(function(y,x,M){return x=x.toLowerCase(),y+(M?tI(x):x)});function tI(y){return r2(yn(y).toLowerCase())}function nI(y){return y=yn(y),y&&y.replace(ln,Cq).replace(rq,"")}function FZ(y,x,M){y=yn(y),x=is(x);var D=y.length;M=M===n?D:nu(Ft(M),0,D);var G=M;return M-=x.length,M>=0&&y.slice(M,G)==x}function UZ(y){return y=yn(y),y&&rv.test(y)?y.replace(Io,Mq):y}function jZ(y){return y=yn(y),y&&QE.test(y)?y.replace(lp,"\\$&"):y}var BZ=Ld(function(y,x,M){return y+(M?"-":"")+x.toLowerCase()}),VZ=Ld(function(y,x,M){return y+(M?" ":"")+x.toLowerCase()}),HZ=sL("toLowerCase");function zZ(y,x,M){y=yn(y),x=Ft(x);var D=x?Sd(y):0;if(!x||D>=x)return y;var G=(x-D)/2;return Ov(bv(G),M)+y+Ov(_v(G),M)}function GZ(y,x,M){y=yn(y),x=Ft(x);var D=x?Sd(y):0;return x&&D<x?y+Ov(x-D,M):y}function $Z(y,x,M){y=yn(y),x=Ft(x);var D=x?Sd(y):0;return x&&D<x?Ov(x-D,M)+y:y}function WZ(y,x,M){return M||x==null?x=0:x&&(x=+x),Qq(yn(y).replace(Z,""),x||0)}function qZ(y,x,M){return(M?Si(y,x,M):x===n)?x=1:x=Ft(x),Lw(yn(y),x)}function YZ(){var y=arguments,x=yn(y[0]);return y.length<3?x:x.replace(y[1],y[2])}var KZ=Ld(function(y,x,M){return y+(M?"_":"")+x.toLowerCase()});function XZ(y,x,M){return M&&typeof M!="number"&&Si(y,x,M)&&(x=M=n),M=M===n?$:M>>>0,M?(y=yn(y),y&&(typeof x=="string"||x!=null&&!e2(x))&&(x=is(x),!x&&xd(y))?Fl(oo(y),0,M):y.split(x,M)):[]}var JZ=Ld(function(y,x,M){return y+(M?" ":"")+r2(x)});function ZZ(y,x,M){return y=yn(y),M=M==null?0:nu(Ft(M),0,y.length),x=is(x),y.slice(M,M+x.length)==x}function QZ(y,x,M){var D=Y.templateSettings;M&&Si(y,x,M)&&(x=n),y=yn(y),x=$v({},x,D,fL);var G=$v({},x.imports,D.imports,fL),X=Dr(G),re=pw(G,X),oe,ce,we=0,xe=x.interpolate||Ei,Ce="__p += '",Ye=gw((x.escape||Ei).source+"|"+xe.source+"|"+(xe===iv?Pt:Ei).source+"|"+(x.evaluate||Ei).source+"|$","g"),lt="//# sourceURL="+(bn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lq+"]")+`
`;y.replace(Ye,function(_t,Kt,en,os,Ti,as){return en||(en=os),Ce+=y.slice(we,as).replace(hr,Aq),Kt&&(oe=!0,Ce+=`' +
__e(`+Kt+`) +
'`),Ti&&(ce=!0,Ce+=`';
`+Ti+`;
__p += '`),en&&(Ce+=`' +
((__t = (`+en+`)) == null ? '' : __t) +
'`),we=as+_t.length,_t}),Ce+=`';
`;var yt=bn.call(x,"variable")&&x.variable;if(!yt)Ce=`with (obj) {
`+Ce+`
}
`;else if(It.test(yt))throw new Ot(l);Ce=(ce?Ce.replace(Sn,""):Ce).replace(vn,"$1").replace(Ss,"$1;"),Ce="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ce+`return __p
}`;var Ht=iI(function(){return pn(X,lt+"return "+Ce).apply(n,re)});if(Ht.source=Ce,Qw(Ht))throw Ht;return Ht}function eQ(y){return yn(y).toLowerCase()}function tQ(y){return yn(y).toUpperCase()}function nQ(y,x,M){if(y=yn(y),y&&(M||x===n))return hR(y);if(!y||!(x=is(x)))return y;var D=oo(y),G=oo(x),X=pR(D,G),re=mR(D,G)+1;return Fl(D,X,re).join("")}function rQ(y,x,M){if(y=yn(y),y&&(M||x===n))return y.slice(0,vR(y)+1);if(!y||!(x=is(x)))return y;var D=oo(y),G=mR(D,oo(x))+1;return Fl(D,0,G).join("")}function iQ(y,x,M){if(y=yn(y),y&&(M||x===n))return y.replace(Z,"");if(!y||!(x=is(x)))return y;var D=oo(y),G=pR(D,oo(x));return Fl(D,G).join("")}function sQ(y,x){var M=U,D=O;if(rr(x)){var G="separator"in x?x.separator:G;M="length"in x?Ft(x.length):M,D="omission"in x?is(x.omission):D}y=yn(y);var X=y.length;if(xd(y)){var re=oo(y);X=re.length}if(M>=X)return y;var oe=M-Sd(D);if(oe<1)return D;var ce=re?Fl(re,0,oe).join(""):y.slice(0,oe);if(G===n)return ce+D;if(re&&(oe+=ce.length-oe),e2(G)){if(y.slice(oe).search(G)){var we,xe=ce;for(G.global||(G=gw(G.source,yn(Jt.exec(G))+"g")),G.lastIndex=0;we=G.exec(xe);)var Ce=we.index;ce=ce.slice(0,Ce===n?oe:Ce)}}else if(y.indexOf(is(G),oe)!=oe){var Ye=ce.lastIndexOf(G);Ye>-1&&(ce=ce.slice(0,Ye))}return ce+D}function oQ(y){return y=yn(y),y&&nv.test(y)?y.replace(ts,kq):y}var aQ=Ld(function(y,x,M){return y+(M?" ":"")+x.toUpperCase()}),r2=sL("toUpperCase");function rI(y,x,M){return y=yn(y),x=M?n:x,x===n?Rq(y)?Uq(y):Eq(y):y.match(x)||[]}var iI=Gt(function(y,x){try{return ns(y,n,x)}catch(M){return Qw(M)?M:new Ot(M)}}),lQ=Ma(function(y,x){return Ms(x,function(M){M=ko(M),Ta(y,M,Jw(y[M],y))}),y});function cQ(y){var x=y==null?0:y.length,M=gt();return y=x?Jn(y,function(D){if(typeof D[1]!="function")throw new As(a);return[M(D[0]),D[1]]}):[],Gt(function(D){for(var G=-1;++G<x;){var X=y[G];if(ns(X[0],this,D))return ns(X[1],this,D)}})}function uQ(y){return kY(Rs(y,f))}function i2(y){return function(){return y}}function dQ(y,x){return y==null||y!==y?x:y}var fQ=aL(),hQ=aL(!0);function Hi(y){return y}function s2(y){return FR(typeof y=="function"?y:Rs(y,f))}function pQ(y){return jR(Rs(y,f))}function mQ(y,x){return BR(y,Rs(x,f))}var gQ=Gt(function(y,x){return function(M){return vp(M,y,x)}}),vQ=Gt(function(y,x){return function(M){return vp(y,M,x)}});function o2(y,x,M){var D=Dr(x),G=Cv(x,D);M==null&&!(rr(x)&&(G.length||!D.length))&&(M=x,x=y,y=this,G=Cv(x,Dr(x)));var X=!(rr(M)&&"chain"in M)||!!M.chain,re=Pa(y);return Ms(G,function(oe){var ce=x[oe];y[oe]=ce,re&&(y.prototype[oe]=function(){var we=this.__chain__;if(X||we){var xe=y(this.__wrapped__),Ce=xe.__actions__=ji(this.__actions__);return Ce.push({func:ce,args:arguments,thisArg:y}),xe.__chain__=we,xe}return ce.apply(y,Ll([this.value()],arguments))})}),y}function yQ(){return Gr._===this&&(Gr._=Gq),this}function a2(){}function _Q(y){return y=Ft(y),Gt(function(x){return VR(x,y)})}var bQ=Uw(Jn),EQ=Uw(lR),wQ=Uw(cw);function sI(y){return $w(y)?uw(ko(y)):ZY(y)}function xQ(y){return function(x){return y==null?n:ru(y,x)}}var SQ=cL(),TQ=cL(!0);function l2(){return[]}function c2(){return!1}function CQ(){return{}}function MQ(){return""}function AQ(){return!0}function PQ(y,x){if(y=Ft(y),y<1||y>q)return[];var M=$,D=ii(y,$);x=gt(x),y-=$;for(var G=hw(D,x);++M<y;)x(M);return G}function RQ(y){return Dt(y)?Jn(y,ko):ss(y)?[y]:ji(TL(yn(y)))}function LQ(y){var x=++Hq;return yn(y)+x}var IQ=Iv(function(y,x){return y+x},0),OQ=jw("ceil"),NQ=Iv(function(y,x){return y/x},1),kQ=jw("floor");function DQ(y){return y&&y.length?Tv(y,Hi,Sw):n}function FQ(y,x){return y&&y.length?Tv(y,gt(x,2),Sw):n}function UQ(y){return dR(y,Hi)}function jQ(y,x){return dR(y,gt(x,2))}function BQ(y){return y&&y.length?Tv(y,Hi,Aw):n}function VQ(y,x){return y&&y.length?Tv(y,gt(x,2),Aw):n}var HQ=Iv(function(y,x){return y*x},1),zQ=jw("round"),GQ=Iv(function(y,x){return y-x},0);function $Q(y){return y&&y.length?fw(y,Hi):0}function WQ(y,x){return y&&y.length?fw(y,gt(x,2)):0}return Y.after=pJ,Y.ary=DL,Y.assign=tZ,Y.assignIn=XL,Y.assignInWith=$v,Y.assignWith=nZ,Y.at=rZ,Y.before=FL,Y.bind=Jw,Y.bindAll=lQ,Y.bindKey=UL,Y.castArray=CJ,Y.chain=OL,Y.chunk=kK,Y.compact=DK,Y.concat=FK,Y.cond=cQ,Y.conforms=uQ,Y.constant=i2,Y.countBy=$X,Y.create=iZ,Y.curry=jL,Y.curryRight=BL,Y.debounce=VL,Y.defaults=sZ,Y.defaultsDeep=oZ,Y.defer=mJ,Y.delay=gJ,Y.difference=UK,Y.differenceBy=jK,Y.differenceWith=BK,Y.drop=VK,Y.dropRight=HK,Y.dropRightWhile=zK,Y.dropWhile=GK,Y.fill=$K,Y.filter=qX,Y.flatMap=XX,Y.flatMapDeep=JX,Y.flatMapDepth=ZX,Y.flatten=PL,Y.flattenDeep=WK,Y.flattenDepth=qK,Y.flip=vJ,Y.flow=fQ,Y.flowRight=hQ,Y.fromPairs=YK,Y.functions=hZ,Y.functionsIn=pZ,Y.groupBy=QX,Y.initial=XK,Y.intersection=JK,Y.intersectionBy=ZK,Y.intersectionWith=QK,Y.invert=gZ,Y.invertBy=vZ,Y.invokeMap=tJ,Y.iteratee=s2,Y.keyBy=nJ,Y.keys=Dr,Y.keysIn=Vi,Y.map=jv,Y.mapKeys=_Z,Y.mapValues=bZ,Y.matches=pQ,Y.matchesProperty=mQ,Y.memoize=Vv,Y.merge=EZ,Y.mergeWith=JL,Y.method=gQ,Y.methodOf=vQ,Y.mixin=o2,Y.negate=Hv,Y.nthArg=_Q,Y.omit=wZ,Y.omitBy=xZ,Y.once=yJ,Y.orderBy=rJ,Y.over=bQ,Y.overArgs=_J,Y.overEvery=EQ,Y.overSome=wQ,Y.partial=Zw,Y.partialRight=HL,Y.partition=iJ,Y.pick=SZ,Y.pickBy=ZL,Y.property=sI,Y.propertyOf=xQ,Y.pull=rX,Y.pullAll=LL,Y.pullAllBy=iX,Y.pullAllWith=sX,Y.pullAt=oX,Y.range=SQ,Y.rangeRight=TQ,Y.rearg=bJ,Y.reject=aJ,Y.remove=aX,Y.rest=EJ,Y.reverse=Kw,Y.sampleSize=cJ,Y.set=CZ,Y.setWith=MZ,Y.shuffle=uJ,Y.slice=lX,Y.sortBy=hJ,Y.sortedUniq=mX,Y.sortedUniqBy=gX,Y.split=XZ,Y.spread=wJ,Y.tail=vX,Y.take=yX,Y.takeRight=_X,Y.takeRightWhile=bX,Y.takeWhile=EX,Y.tap=DX,Y.throttle=xJ,Y.thru=Uv,Y.toArray=qL,Y.toPairs=QL,Y.toPairsIn=eI,Y.toPath=RQ,Y.toPlainObject=KL,Y.transform=AZ,Y.unary=SJ,Y.union=wX,Y.unionBy=xX,Y.unionWith=SX,Y.uniq=TX,Y.uniqBy=CX,Y.uniqWith=MX,Y.unset=PZ,Y.unzip=Xw,Y.unzipWith=IL,Y.update=RZ,Y.updateWith=LZ,Y.values=Nd,Y.valuesIn=IZ,Y.without=AX,Y.words=rI,Y.wrap=TJ,Y.xor=PX,Y.xorBy=RX,Y.xorWith=LX,Y.zip=IX,Y.zipObject=OX,Y.zipObjectDeep=NX,Y.zipWith=kX,Y.entries=QL,Y.entriesIn=eI,Y.extend=XL,Y.extendWith=$v,o2(Y,Y),Y.add=IQ,Y.attempt=iI,Y.camelCase=DZ,Y.capitalize=tI,Y.ceil=OQ,Y.clamp=OZ,Y.clone=MJ,Y.cloneDeep=PJ,Y.cloneDeepWith=RJ,Y.cloneWith=AJ,Y.conformsTo=LJ,Y.deburr=nI,Y.defaultTo=dQ,Y.divide=NQ,Y.endsWith=FZ,Y.eq=lo,Y.escape=UZ,Y.escapeRegExp=jZ,Y.every=WX,Y.find=YX,Y.findIndex=ML,Y.findKey=aZ,Y.findLast=KX,Y.findLastIndex=AL,Y.findLastKey=lZ,Y.floor=kQ,Y.forEach=NL,Y.forEachRight=kL,Y.forIn=cZ,Y.forInRight=uZ,Y.forOwn=dZ,Y.forOwnRight=fZ,Y.get=t2,Y.gt=IJ,Y.gte=OJ,Y.has=mZ,Y.hasIn=n2,Y.head=RL,Y.identity=Hi,Y.includes=eJ,Y.indexOf=KK,Y.inRange=NZ,Y.invoke=yZ,Y.isArguments=ou,Y.isArray=Dt,Y.isArrayBuffer=NJ,Y.isArrayLike=Bi,Y.isArrayLikeObject=pr,Y.isBoolean=kJ,Y.isBuffer=Ul,Y.isDate=DJ,Y.isElement=FJ,Y.isEmpty=UJ,Y.isEqual=jJ,Y.isEqualWith=BJ,Y.isError=Qw,Y.isFinite=VJ,Y.isFunction=Pa,Y.isInteger=zL,Y.isLength=zv,Y.isMap=GL,Y.isMatch=HJ,Y.isMatchWith=zJ,Y.isNaN=GJ,Y.isNative=$J,Y.isNil=qJ,Y.isNull=WJ,Y.isNumber=$L,Y.isObject=rr,Y.isObjectLike=or,Y.isPlainObject=xp,Y.isRegExp=e2,Y.isSafeInteger=YJ,Y.isSet=WL,Y.isString=Gv,Y.isSymbol=ss,Y.isTypedArray=Od,Y.isUndefined=KJ,Y.isWeakMap=XJ,Y.isWeakSet=JJ,Y.join=eX,Y.kebabCase=BZ,Y.last=Is,Y.lastIndexOf=tX,Y.lowerCase=VZ,Y.lowerFirst=HZ,Y.lt=ZJ,Y.lte=QJ,Y.max=DQ,Y.maxBy=FQ,Y.mean=UQ,Y.meanBy=jQ,Y.min=BQ,Y.minBy=VQ,Y.stubArray=l2,Y.stubFalse=c2,Y.stubObject=CQ,Y.stubString=MQ,Y.stubTrue=AQ,Y.multiply=HQ,Y.nth=nX,Y.noConflict=yQ,Y.noop=a2,Y.now=Bv,Y.pad=zZ,Y.padEnd=GZ,Y.padStart=$Z,Y.parseInt=WZ,Y.random=kZ,Y.reduce=sJ,Y.reduceRight=oJ,Y.repeat=qZ,Y.replace=YZ,Y.result=TZ,Y.round=zQ,Y.runInContext=ae,Y.sample=lJ,Y.size=dJ,Y.snakeCase=KZ,Y.some=fJ,Y.sortedIndex=cX,Y.sortedIndexBy=uX,Y.sortedIndexOf=dX,Y.sortedLastIndex=fX,Y.sortedLastIndexBy=hX,Y.sortedLastIndexOf=pX,Y.startCase=JZ,Y.startsWith=ZZ,Y.subtract=GQ,Y.sum=$Q,Y.sumBy=WQ,Y.template=QZ,Y.times=PQ,Y.toFinite=Ra,Y.toInteger=Ft,Y.toLength=YL,Y.toLower=eQ,Y.toNumber=Os,Y.toSafeInteger=eZ,Y.toString=yn,Y.toUpper=tQ,Y.trim=nQ,Y.trimEnd=rQ,Y.trimStart=iQ,Y.truncate=sQ,Y.unescape=oQ,Y.uniqueId=LQ,Y.upperCase=aQ,Y.upperFirst=r2,Y.each=NL,Y.eachRight=kL,Y.first=RL,o2(Y,function(){var y={};return Oo(Y,function(x,M){bn.call(Y.prototype,M)||(y[M]=x)}),y}(),{chain:!1}),Y.VERSION=i,Ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){Y[y].placeholder=Y}),Ms(["drop","take"],function(y,x){Qt.prototype[y]=function(M){M=M===n?1:Pr(Ft(M),0);var D=this.__filtered__&&!x?new Qt(this):this.clone();return D.__filtered__?D.__takeCount__=ii(M,D.__takeCount__):D.__views__.push({size:ii(M,$),type:y+(D.__dir__<0?"Right":"")}),D},Qt.prototype[y+"Right"]=function(M){return this.reverse()[y](M).reverse()}}),Ms(["filter","map","takeWhile"],function(y,x){var M=x+1,D=M==N||M==z;Qt.prototype[y]=function(G){var X=this.clone();return X.__iteratees__.push({iteratee:gt(G,3),type:M}),X.__filtered__=X.__filtered__||D,X}}),Ms(["head","last"],function(y,x){var M="take"+(x?"Right":"");Qt.prototype[y]=function(){return this[M](1).value()[0]}}),Ms(["initial","tail"],function(y,x){var M="drop"+(x?"":"Right");Qt.prototype[y]=function(){return this.__filtered__?new Qt(this):this[M](1)}}),Qt.prototype.compact=function(){return this.filter(Hi)},Qt.prototype.find=function(y){return this.filter(y).head()},Qt.prototype.findLast=function(y){return this.reverse().find(y)},Qt.prototype.invokeMap=Gt(function(y,x){return typeof y=="function"?new Qt(this):this.map(function(M){return vp(M,y,x)})}),Qt.prototype.reject=function(y){return this.filter(Hv(gt(y)))},Qt.prototype.slice=function(y,x){y=Ft(y);var M=this;return M.__filtered__&&(y>0||x<0)?new Qt(M):(y<0?M=M.takeRight(-y):y&&(M=M.drop(y)),x!==n&&(x=Ft(x),M=x<0?M.dropRight(-x):M.take(x-y)),M)},Qt.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Qt.prototype.toArray=function(){return this.take($)},Oo(Qt.prototype,function(y,x){var M=/^(?:filter|find|map|reject)|While$/.test(x),D=/^(?:head|last)$/.test(x),G=Y[D?"take"+(x=="last"?"Right":""):x],X=D||/^find/.test(x);!G||(Y.prototype[x]=function(){var re=this.__wrapped__,oe=D?[1]:arguments,ce=re instanceof Qt,we=oe[0],xe=ce||Dt(re),Ce=function(Kt){var en=G.apply(Y,Ll([Kt],oe));return D&&Ye?en[0]:en};xe&&M&&typeof we=="function"&&we.length!=1&&(ce=xe=!1);var Ye=this.__chain__,lt=!!this.__actions__.length,yt=X&&!Ye,Ht=ce&&!lt;if(!X&&xe){re=Ht?re:new Qt(this);var _t=y.apply(re,oe);return _t.__actions__.push({func:Uv,args:[Ce],thisArg:n}),new Ps(_t,Ye)}return yt&&Ht?y.apply(this,oe):(_t=this.thru(Ce),yt?D?_t.value()[0]:_t.value():_t)})}),Ms(["pop","push","shift","sort","splice","unshift"],function(y){var x=uv[y],M=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",D=/^(?:pop|shift)$/.test(y);Y.prototype[y]=function(){var G=arguments;if(D&&!this.__chain__){var X=this.value();return x.apply(Dt(X)?X:[],G)}return this[M](function(re){return x.apply(Dt(re)?re:[],G)})}}),Oo(Qt.prototype,function(y,x){var M=Y[x];if(M){var D=M.name+"";bn.call(Ad,D)||(Ad[D]=[]),Ad[D].push({name:x,func:M})}}),Ad[Lv(n,E).name]=[{name:"wrapper",func:n}],Qt.prototype.clone=oY,Qt.prototype.reverse=aY,Qt.prototype.value=lY,Y.prototype.at=FX,Y.prototype.chain=UX,Y.prototype.commit=jX,Y.prototype.next=BX,Y.prototype.plant=HX,Y.prototype.reverse=zX,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=GX,Y.prototype.first=Y.prototype.head,up&&(Y.prototype[up]=VX),Y},Td=jq();Zc?((Zc.exports=Td)._=Td,sw._=Td):Gr._=Td}).call(Wt)})(l_,l_.exports);const O7=[{type:"image",extensions:["gif","ico","jpeg","jpg","png","svg"]},{type:"audio",extensions:["ogg","mp3","wav"]},{type:"pdf",extensions:["pdf"]},{text:!0,type:"logic",extensions:["js","jsx","coffee","ts","rb","ruby","py","swift","tsx"]},{text:!0,type:"data",extensions:["json","cson","csv"]},{text:!0,type:"info",extensions:["md","markdown","mdown","txt"]},{text:!0,type:"view",extensions:["html","jade","jadelet","haml","hbs","ejs","pug"]},{text:!0,type:"style",extensions:["css","less","stylus","styl"]}],zve=new Set(l_.exports.flatMap(O7.filter(({text:t})=>t),"extensions")),Gve=/(^text\/)|(^application\/json$)|(^application\/(x-)?javascript$)|(application\/xhtml\+xml$)/;function l5(t){let e;return t&&(e=t.match(/\.([^\.\/]*)$/))?e[1]:""}function N7(t){return t===".env"?"env":O7.reduce((n,i)=>(i.extensions.forEach(o=>n[o]=i.type),n),{})[l5(t)]||"other"}function ag(t){return t.preventDefault(),!1}function $ve(t,e,n){for(var i=t.length,o=-1;n--&&o++<i&&(o=t.indexOf(e,o),!(o<0)););return o}function Wve(t){return[37,38,39,40,16,91,18,17].includes(t)}function c5(t){return t.type.match(Gve)||t.type===""&&zve.has(l5(t.name).toLowerCase())}function qve(t,e){return e=e||"readAsText",new Promise(function(n,i){const o=new window.FileReader;return o.onload=()=>n(o.result),o.onerror=i,o[e](t)})}function Bf(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(()=>t[Math.floor(Math.random()*t.length)]).join("")}function c_(t){const e=["..","$","~","\\","*"];for(let n of e)if(t.indexOf(n)>-1)return!0;if(t.substring(0,1)==="/"||t.substr(-1)==="/")return!0}function k7(t){return t?t.replace(/https?\:\/\/[^\/]+\/[^\/]+\//,`${oT}/`):""}function D7(t){return new Promise(function(e,n){const i=new Image;return i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}function u5(){try{return!!window.localStorage}catch{return!1}}function Yve({application:t,editor:e,otClient:n,randomId:i}){let o;i==null&&(i=Bf);const s=et.Doc(""),a=500;let l=!1;const c={};let u=!1,d=!1,f=Promise.resolve(),h={},v=null;const m={},_=function(N,H,z=""){let B;return N.getEditor()&&(u=!0),N.getEditor()?B=N.getEditor().operation.bind(N.getEditor()):B=q=>q(),B(()=>(()=>{const q=[];for(let $ of H){var W,j;switch(($.type==="insert"||$.type==="remove")&&(j=N.posFromIndex($.position),W=N.posFromIndex($.position+$.text.length)),$.type){case"insert":q.push(N.replaceRange($.text,j,j,z));break;case"remove":q.push(N.replaceRange("",j,W,z));break;case"unlink":q.push(o.close(N.docId));break;default:q.push(void 0)}}return q})())},S=function(N){const H=w(N.ops);for(let z in H){const B=H[z];_(c[z],B),c[z]&&(E(c[z].undoStack,JSON.parse(JSON.stringify(B))),E(c[z].redoStack,B))}return f.then(o.renderRemoteSelections)};var E=function(N,H){if(!!N)return N.map(z=>n.updateOps(z,H))},w=function(N){const H=["insert","remove","unlink"],z={};for(let B of N)B.clientId||!c[B.docId]||H.indexOf(B.type)<0||(B.type==="insert"||B.type==="remove")&&B.text.length===0||(z[B.docId]||(z[B.docId]=[]),z[B.docId].push(B));return z};const T=N=>o.close(),C=function(N,H){if(!(!N||!N.readOnly&&!!Kve(N.lastCursor(),z=>z.clientId)&&N.lastCursor().clientId!==H.clientId))return H.selection?N.lastCursor({documentId:H.selection.docId,cursor:H.selection.cursor,clientId:H.clientId}):N.lastCursor(null)},P=function({selection:N}){if(N){const H=t.remoteUserByClientId(N.clientId);N.selection?(m[N.clientId]||(m[N.clientId]={}),m[N.clientId].selection=N.selection):((m[N.clientId]!=null?m[N.clientId].marker:void 0)&&m[N.clientId].marker.clear(),delete m[N.clientId]),C(H,N),f.then(o.renderRemoteSelections)}},R=function(N,H){if(!t.editorIsPreviewingRewind()){if(!u){let z;const[B,q]=Array.from(o.cmChangesToOps(N.getDoc(),H));f=n.sendOps(B),(z=N.getDoc()).undoStack==null&&(z.undoStack=[]),o.addOpsToStack(N.getDoc().undoStack,q,a),N.getDoc().redoStack=[]}return u=!1,d=!1,O()}},A=function(N){const H=[];for(let z of N)H.unshift({docId:z.docId,text:z.text,position:z.position,type:z.type==="insert"?"remove":"insert"});return H},L=function(N,...H){const z=H[0],B=z[z.length-1];return B.type==="insert"?N.setCursor(N.posFromIndex(B.position+B.text.length)):N.setCursor(N.posFromIndex(B.position)),e.scrollIntoView(null,200)},k=function(N,H){const z=document.createElement("div");z.style.display="inline-block",z.style.width=z.style.height=0;const B=document.createElement("div");return B.style.position="relative",B.style.top=`-${e.defaultTextHeight()*.75}px`,B.style.left="-1px",B.style.width="2px",B.style.height=`${e.defaultTextHeight()}px`,B.style.backgroundColor=N,H||(B.style.filter="grayscale(50%)"),z.appendChild(B),z},U=function(){if(!t.editorIsPreviewingRewind())return d=!0};var O=function(){if(t.updateCurrentPositionState(),!d)return F(o.broadcastSelection,100)};let I=null;var F=function(N,H){return I&&clearTimeout(I),I=setTimeout(N,H)};return o={connect(){return et.commands.undo=o.undo,et.commands.redo=o.redo,e.on("change",U),e.on("changes",R),e.on("cursorActivity",O),n.addEventListener(o,o.handleOTEvent),e.swapDoc(s),e.setOption("readOnly",!0),v=setInterval(()=>o.broadcastSelection({force:!0}),15e3)},disconnect(){return e.off("change",U),e.off("changes",R),e.off("cursorActivity",O),n.removeEventListener(o),clearInterval(v),e.swapDoc(s),e.setOption("readOnly",!0)},createPathOps(N){const H=[];let z=n.documentByPathImmediate("."),B=z.docId;N.forEach(function(W){let j;if(z&&(j=z.children[W]))return z=n.documentImmediate(j),B=z.docId;{const $=i();return H.push({type:"add",name:W,docId:$,docType:"directory",parentId:B}),z=null,B=$}});const q=z?z.docId:B;return{ops:H,leafId:q}},createFile(N){const H=et.Doc("");H.docId=N.id(),c[N.id()]=H;const z=N.path().split("/"),B=z.pop(),{ops:q,leafId:W}=o.createPathOps(z);return q.push({type:"add",name:B,docId:N.id(),docType:"file",parentId:W}),n.sendOps(q)},deleteFile(N){return n.sendOps([{type:"unlink",docId:N.id()}])},deleteFolder(N){return n.sendOps([{type:"unlink",docId:N}])},renameFile(N){const H=N.path().split("/"),z=H.pop(),{ops:B,leafId:q}=o.createPathOps(H);return B.push({type:"rename",docId:N.id(),newName:z,newParentId:q}),n.sendOps(B)},renameFolder(N,H){const z=n.documentImmediate(N);return n.sendOps([{type:"rename",docId:N,newName:H,newParentId:z.parentId}])},getCMDoc(N){let H;if(c[N])return H=c[N];{if(!n.ot().isRegistered(N))throw new Error(`document ${N} not registered`);const z=n.ot().document(N);return H=et.Doc(z.content),H.docId=N,c[N]=H}},open(N){const H=o.getCMDoc(N);return e.swapDoc(H),e.setOption("readOnly",l),!t.editorIsEmbedded()&&document.activeElement!==document.querySelector(".console-frame")&&e.focus(),o.renderRemoteSelections(),o.broadcastSelection({force:!0}),H},close(N){if(N==null&&({docId:N}=e.getDoc()),!c[N])return;const H=c[N];if(delete c[N],H.getEditor())return e.swapDoc(s),e.setOption("readOnly",!0)},handleOTEvent(N,H){switch(N){case"oplist":return S(H);case"new-state":return T();case"broadcast":return P(H)}},selectionAlreadySent(N){return N&&!h||!N&&h?!1:h.docId===N.docId&&h.startIndex===N.startIndex&&h.endIndex===N.endIndex},broadcastSelection({force:N}={}){if(!(!n.ot()||!t.canBroadcast())&&typeof f.then=="function")return f.then(function(){let H;const z=t.currentUser(),B=e.getDoc();if(B===s)H=null,z.lastCursor(null);else{let q,W;const j=e.listSelections()[0],$=e.indexFromPos(j.anchor),ie=e.indexFromPos(j.head);$<=ie?[W,q]=Array.from([$,ie]):[W,q]=Array.from([ie,$]);const Q=B.posFromIndex(W);if(H={docId:B.docId,startIndex:W,endIndex:q,cursor:Q,version:n.ot().version(),color:typeof z.color=="function"?z.color():void 0,focus:document.hasFocus(),readOnly:t.projectIsReadOnlyForCurrentUser()},z.lastCursor({cursor:Q,documentId:B.docId,clientId:n.clientId()}),!N&&o.selectionAlreadySent(H))return}return h=H,n.sendBroadcast({selection:{clientId:n.clientId(),userId:t.currentUser().id(),selection:H}})})},renderRemoteSelections(){return(()=>{const N=[];for(let z in m){var H;const B=m[z],{marker:q,selection:W}=B;if(W.version!==n.ot().version()||W.readOnly||(q!=null&&q.clear(),!c[W.docId]))continue;const j=c[W.docId];W.startIndex===W.endIndex?H={inclusiveRight:!0,clearWhenEmpty:!1,replacedWith:k(W.color,W.focus)}:H={css:`background-color: ${W.color}`,inclusiveRight:!0};const[$,ie]=Array.from([j.posFromIndex(W.startIndex),j.posFromIndex(W.endIndex)]);N.push(B.marker=j.markText($,ie,H))}return N})()},cmChangesToOps(N,H){const z=[],B=[];let q=le=>N.indexFromPos(le);const W=le=>le[le.length-1],j=function(le){if(le.length===0)return 0;let he=0;for(let ue of le)he+=ue.length;return he+le.length-1},$=function(le,he){return le.line<he.line?-1:le.line>he.line?1:le.ch<he.ch?-1:le.ch>he.ch?1:0},ie=(le,he)=>$(le,he)<=0,Q=(le,he)=>function(ue){let Ie;return ie(ue,he.from)?le(ue):ie(he.to,ue)?(he.to.line<ue.line?{ch:Ie}=ue:he.text.length<=1?Ie=ue.ch-(he.to.ch-he.from.ch)+j(he.text):Ie=ue.ch-he.to.ch+W(he.text).length,le({line:ue.line+he.text.length-1-(he.to.line-he.from.line),ch:Ie})+j(he.removed)-j(he.text)):he.from.line===ue.line?le(he.from)+ue.ch-he.from.ch:le(he.from)+j(he.removed.slice(0,ue.line-he.from.line))+1+ue.ch};for(let le=H.length-1;le>=0;le--){const he=H[le];q=Q(q,he);const ue=q(he.from),Ie=he.text.join(`
`),Me=he.removed.join(`
`);Ie.length>0&&(z.unshift({docId:N.docId,type:"insert",text:Ie,position:ue}),B.push({docId:N.docId,type:"remove",text:Ie,position:ue})),Me.length>0&&(z.unshift({docId:N.docId,type:"remove",text:Me,position:ue}),B.push({docId:N.docId,type:"insert",text:Me,position:ue}))}return[z,B]},addOpsToStack(N,H,z){const B=H.concat(N[0]);if(N.length>0&&o.continuousOps(B)?N[0]=B:N.unshift(H),z&&N.length>z)return N.splice(z)},continuousOps(N){const H=N[0],z=N[0].text.match(/\s/),B=N[0].type;let q=N[0].position;for(let W of N){if(W!==H){if(W.type==="remove"&&W.position+W.text.length!==q||W.type==="insert"&&W.position-W.text.length!==q)return!1;q=W.position}if(W.type!==B||W.text.length>1||z&&!W.text.match(/\s/)||!z&&W.text.match(/\s/))return!1}return!0},setReadOnly(N){return l=N},undo(){const N=e.getDoc();if(!((N.undoStack!=null?N.undoStack.length:void 0)>0))return;const H=N.undoStack.shift();return _(N,H,"+input"),L(N,H),N.redoStack.unshift(A(H)),f=n.sendOps(H)},redo(){const N=e.getDoc();if(!((N.redoStack!=null?N.redoStack.length:void 0)>0))return;const H=N.redoStack.shift();return _(N,H,"+input"),L(N,H),N.undoStack.unshift(A(H)),f=n.sendOps(H)},cmDocuments(){return c},remoteSelections(){return m}}}function Kve(t,e){return typeof t!="undefined"&&t!==null?e(t):void 0}const Xve=(t,e)=>t[e]=function(n){return arguments.length>0?(t.I[e]=n,t):t.I[e]};var Qo=(t={},e={})=>(t=t||{},e=e||{},F7(e,{I:t,attrAccessor(...n){return n.forEach(i=>Xve(e,i)),e},attrReader(...n){return n.forEach(i=>e[i]=()=>t[i]),e},extend(...n){return F7(e,...Array.from(n))},async include(n){return n(t,e)},attrObservable(...n){return n.forEach(function(i){return e[i]=te(t[i]),e[i].observe(o=>t[i]=o)}),e},attrDatum(n,i){let o;return t[n]=o=i(t[n]),e[n]=te(o),e[n].observe(s=>t[n]=s),e},attrData(n,i){const o=(t[n]||[]).map(s=>i(s));return e[n]=te(o),e[n].observe(s=>t[n]=s.map(a=>i(a))),e},attrModel(n,i){const o=i(t[n]);return e[n]=te(o),e[n].observe(s=>t[n]=s.I),e},attrModels(n,i){const o=(t[n]||[]).map(s=>i(s));return e[n]=te(o),e[n].observe(s=>t[n]=s.map(a=>a.I)),e},toJSON(){return t}})),F7=function(t,...e){for(let n of e)for(let i in n)t[i]=n[i];return t};const Ws=function(t={}){if(t=t||{},ju(t,{uuid:Bf(),content:"",base64Content:void 0,extensionType:"",path:"",modifiedByRewind:!1,addedByRewind:!1,deletedByRewind:!1,rewindPatches:void 0}),!t.path)throw new Error("File must have a path");const e=Qo(t);return e.attrAccessor("projectId"),e.attrObservable(...Array.from(Object.keys(t)||[])),e.attrObservable("renaming"),e.extend({extension(){return l5(e.path())},withoutExtension(){return e.path().replace(/\.[^\.\/]*$/,"")},name(){return e.path().replace(/(.*\/)/g,"")},id(){return e.uuid()},folders(){const n=e.path().split("/");return n.splice(0,n.length-1)},isMedia(){return e.base64Content()!=null},type(){return"file"},hasImmutableFilename(){return e.path()===".env"||e.path().startsWith(".data/")}}),e.extensionType(N7(e.path())),e};Ws.randomUUID=Bf;const U7=function(t={}){if(t=t||{},ju(t,{name:"",children:[],uuid:Bf(),level:0,rewindPreviewPath:null}),!t.name)throw new Error("Folder must have a folder name");const e=Qo(t);return e.attrAccessor("name"),e.attrObservable("children","uuid","level","rewindPreviewPath"),e.attrObservable("renaming"),e.extend({sortChildren(){e.children().sort((n,i)=>n.type()===i.type()?n.name()>=i.name()?1:-1:n.type()==="folder"?-1:1)},id(){return e.uuid()},type(){return"folder"}}),e.children.observe(e.sortChildren),e},u_=function(t={},e){return t=t||{},e=e||Qo(t),ju(t,{files:[]}),e.attrModels("files",Ws),e};class j7 extends Error{constructor(e,n,i){const o=e.status||e.status===0?e.status:"",s=e.statusText||"",a=`${o} ${s}`.trim(),l=a?`status code ${a}`:"an unknown error";super(`Request failed with ${l}`);Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=n,this.options=i}}class B7 extends Error{constructor(e){super("Request timed out");Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}const d_=t=>t!==null&&typeof t=="object",f_=(...t)=>{for(const e of t)if((!d_(e)||Array.isArray(e))&&typeof e!="undefined")throw new TypeError("The `options` argument must be an object");return d5({},...t)},V7=(t={},e={})=>{const n=new globalThis.Headers(t),i=e instanceof globalThis.Headers,o=new globalThis.Headers(e);for(const[s,a]of o.entries())i&&a==="undefined"||a===void 0?n.delete(s):n.set(s,a);return n},d5=(...t)=>{let e={},n={};for(const i of t)if(Array.isArray(i))Array.isArray(e)||(e=[]),e=[...e,...i];else if(d_(i)){for(let[o,s]of Object.entries(i))d_(s)&&o in e&&(s=d5(e[o],s)),e=Ge(de({},e),{[o]:s});d_(i.headers)&&(n=V7(n,i.headers),e.headers=n)}return e},Jve=(()=>{let t=!1,e=!1;return typeof globalThis.ReadableStream=="function"&&(e=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")),t&&!e})(),Zve=typeof globalThis.AbortController=="function",Qve=typeof globalThis.ReadableStream=="function",e1e=typeof globalThis.FormData=="function",H7=["get","post","put","patch","head","delete"],t1e={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},f5=2147483647,z7=Symbol("stop"),n1e=t=>H7.includes(t)?t.toUpperCase():t,r1e=["get","put","head","delete","options","trace"],i1e=[408,413,429,500,502,503,504],G7=[413,429,503],$7={limit:2,methods:r1e,statusCodes:i1e,afterStatusCodes:G7,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY},s1e=(t={})=>{if(typeof t=="number")return Ge(de({},$7),{limit:t});if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return Ge(de(de({},$7),t),{afterStatusCodes:G7})};async function o1e(t,e,n){return new Promise((i,o)=>{const s=setTimeout(()=>{e&&e.abort(),o(new B7(t))},n.timeout);n.fetch(t).then(i).catch(o).then(()=>{clearTimeout(s)})})}const a1e=Boolean(globalThis.DOMException);function W7(t){var n,i;if(a1e)return new DOMException((n=t==null?void 0:t.reason)!=null?n:"The operation was aborted.","AbortError");const e=new Error((i=t==null?void 0:t.reason)!=null?i:"The operation was aborted.");return e.name="AbortError",e}async function l1e(t,{signal:e}){return new Promise((n,i)=>{if(e){if(e.aborted){i(W7(e));return}e.addEventListener("abort",o,{once:!0})}function o(){i(W7(e)),clearTimeout(s)}const s=setTimeout(()=>{e==null||e.removeEventListener("abort",o),n()},t)})}class h_{static create(e,n){const i=new h_(e,n),o=async()=>{if(i._options.timeout>f5)throw new RangeError(`The \`timeout\` option cannot be greater than ${f5}`);await Promise.resolve();let l=await i._fetch();for(const c of i._options.hooks.afterResponse){const u=await c(i.request,i._options,i._decorateResponse(l.clone()));u instanceof globalThis.Response&&(l=u)}if(i._decorateResponse(l),!l.ok&&i._options.throwHttpErrors){let c=new j7(l,i.request,i._options);for(const u of i._options.hooks.beforeError)c=await u(c);throw c}if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Qve)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(l.clone(),i._options.onDownloadProgress)}return l},a=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(o):o();for(const[l,c]of Object.entries(t1e))a[l]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||c);const d=(await a).clone();if(l==="json"){if(d.status===204||(await d.clone().arrayBuffer()).byteLength===0)return"";if(n.parseJson)return n.parseJson(await d.text())}return d[l]()};return a}constructor(e,n={}){var i,o,s;if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e,this._options=Ge(de({credentials:this._input.credentials||"same-origin"},n),{headers:V7(this._input.headers,n.headers),hooks:d5({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},n.hooks),method:n1e((i=n.method)!=null?i:this._input.method),prefixUrl:String(n.prefixUrl||""),retry:s1e(n.retry),throwHttpErrors:n.throwHttpErrors!==!1,timeout:typeof n.timeout=="undefined"?1e4:n.timeout,fetch:(o=n.fetch)!=null?o:globalThis.fetch.bind(globalThis)}),typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Zve){if(this.abortController=new globalThis.AbortController,this._options.signal){const a=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(a.reason)})}this._options.signal=this.abortController.signal}if(Jve&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const a=typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),l="?"+a,c=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,l);(e1e&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(c,de({},this.request)),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",(s=this._options.headers.get("content-type"))!=null?s:"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof B7)){if(e instanceof j7){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const i=e.response.headers.get("Retry-After");if(i&&this._options.retry.afterStatusCodes.includes(e.response.status)){let o=Number(i);return Number.isNaN(o)?o=Date.parse(i)-Date.now():o*=1e3,typeof this._options.retry.maxRetryAfter!="undefined"&&o>this._options.retry.maxRetryAfter?0:o}if(e.response.status===413)return 0}const n=.3;return Math.min(this._options.retry.backoffLimit,n*2**(this._retryCount-1)*1e3)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(n){const i=Math.min(this._calculateRetryDelay(n),f5);if(i!==0&&this._retryCount>0){await l1e(i,{signal:this._options.signal});for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:n,retryCount:this._retryCount})===z7)return;return this._retry(e)}throw n}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const n=await e(this.request,this._options);if(n instanceof Request){this.request=n;break}if(n instanceof Response)return n}return this._options.timeout===!1?this._options.fetch(this.request.clone()):o1e(this.request.clone(),this.abortController,this._options)}_stream(e,n){const i=Number(e.headers.get("content-length"))||0;let o=0;return e.status===204?(n&&n({percent:1,totalBytes:i,transferredBytes:o},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(s){const a=e.body.getReader();n&&n({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function l(){const{done:c,value:u}=await a.read();if(c){s.close();return}if(n){o+=u.byteLength;const d=i===0?0:o/i;n({percent:d,transferredBytes:o,totalBytes:i},u)}s.enqueue(u),await l()}await l()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}/*! MIT License  Sindre Sorhus */const h5=t=>{const e=(n,i)=>h_.create(n,f_(t,i));for(const n of H7)e[n]=(i,o)=>h_.create(i,f_(t,o,{method:n}));return e.create=n=>h5(f_(n)),e.extend=n=>h5(f_(t,n)),e.stop=z7,e},c1e=h5();var Xa=c1e;class p_{constructor(e=null){this.token=e,this.client=Xa.extend({credentials:"omit",prefixUrl:"https://api.github.com",hooks:{beforeRequest:[n=>{if(window.Cypress&&e){n.headers.set("Authorization",`Basic ${btoa(`glitch-test:${e}`)}`);return}this.token!==null&&n.headers.set("Authorization",`token ${this.token}`)}]}})}setToken(e){this.token=e}async getOAuthScopes(){return((await this.client.head("")).headers.get("X-OAuth-Scopes")||"").split(", ")}getRepo(e){return this.client.get(`repos/${e}`).json()}getUser(){return this.client.get("user").json()}getRepoContents(e){return this.client.get(`repos/${e}/contents`).json()}ensureRepoExists(e){return this.client.head(`repos/${e}`).then(()=>!0,()=>!1)}getProjectPermissionsForUser(e,n){return this.client.get(`repos/${e}/collaborators/${n}/permission`).json()}getLicense(e){return this.client.get(`licenses/${e}`,{headers:{accept:"application/vnd.github.drax-preview+json"}}).json()}getCodeOfConduct(e){return this.client.get(`codes_of_conduct/${e}`,{headers:{accept:"application/vnd.github.scarlet-witch-preview+json"}}).json()}static authorizationUrl(e,n="user:email"){const i=`https://${window.location.hostname}/login/github`,o=encodeURIComponent(i);return`https://github.com/login/oauth/authorize?client_id=${e}&scope=${n}&redirect_uri=${o}`}static codeToUserUrl(e){return`${Wo}/auth/github/${e}`}static providerName(){return"GitHub"}}kd(p_,"HTTPError",Xa.HTTPError),kd(p_,"TimeoutError",Xa.TimeoutError);const p5=function(t,e){return t=t||{},e=e||Qo(t),ju(t,{id:0,name:"hello-team",url:"hello-team",description:"",hasCoverImage:!1,hasAvatarImage:!1,isVerified:!1}),e.attrObservable("id","name","url","description","backgroundColor","createdAt","updatedAt","hasCoverImage","location","isVerified","hasAvatarImage"),e.extend({avatarUrl(n,i=window.application){return n=n||"small",e.hasAvatarImage()?`https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${e.id()}/${n}`:"https://cdn.glitch.me/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819"},teamPageUrl(){return`/@${e.url()}`}}),e},vc=".glitch-assets",m5=".glitchdotcom.json",xt={NONE:0,MEMBER:20,ADMIN:30},q7=90,Y7=75,K7=/\r\n|[\n\v\f\r\x85\u2028\u2029]/,u1e="boosted-apps",d1e=["*.log","*.pid","*.pid.lock","*.pyc","*.save.*","*.seed","*.tgz",".bash_history",".bashrc",".bundle",".cache",".cargo",".config",".data",".env",".eslintcache",".glitch-meta",".glitchdotcom.json",".gomix-meta",".grunt",".local",".lock-wscript",".next",".node-gyp",".node_repl_history",".npm",".npmrc",".nuget",".nyc_output",".profile",".pnpm-modules",".pnpm_node_modules",".ssh",".subversion",".viminfo",".yarn-integrity","bower_components","build/Release","coverage","jspm_packages","lib-cov","logs","node_modules","npm-debug.log*","pnpm-debug.log*","package-lock.json","pids","target","typings","yarn-debug.log*","yarn-error.log*",".git-credentials","shrinkwrap.yaml",".config","*.ttf","*.eot","*.woff","*.sqlite3","*.cur","*.zip"],f1e=Object.freeze(["a9975ea6-8949-4bab-addb-8a95021dc2da","c62efef6-1e75-45cf-b248-afeccdda9477","2f80c958-3bc4-4f47-8e97-6a5c8684ac2c","cad20829-cd7f-405a-95e8-5e17b206a304","67d48f87-b878-4afe-81c6-dc588981ce7a"]),X7="glitch-hello-node",g5="33ebcb39-397a-4ab9-bc6a-868aeb7914e1",h1e=()=>["glitch-hello-website","glitch-hello-node","glitch-hello-react","glitch-hello-eleventy","glitch-hello-sqlite"],p1e=["avatarUpdatedAt","description","domain","private","privacy"],v5=()=>document.location.pathname.replace(/^\/embed/,"/edit"),yc=function(t={},e){return t=t||{},e=e||Qo(t),ju(t,{name:"hello-world",domain:"hello-world",description:"",users:[],teams:[],projectOnProductionOnly:!1}),e.attrModel("filetree",u_),e.attrModels("teams",p5),e.attrObservable("avatarUpdatedAt","description","avatarUrl","gitRepoUrl","domain","privacy","private","updatedAt","remixChain","users","projectOnProductionOnly","suspendedReason","isBoosted","hostingBackend","appType","edgeBadgeMode"),e.attrReader("id","baseId","createdAt","inviteToken"),e.extend({name(){return e.domain()},publishedUrl(){return mk.replace("%s",e.domain())},editorUrl(){return`${`${document.location.origin}${v5()}`}#!/${e.domain()}`},remixUrl(){return`${`${document.location.origin}${v5()}`}#!/remix/${e.domain()}`},gitAccessToken(){return`${window.application.currentUser().gitAccessToken()}`},readGitUrl(){return`${Wo}/git/${e.domain()}`},previewSizeQuery(n){return n||n===0?`&previewSize=${Math.round(n)}`:""},attributionHiddenQuery(n){return n?`&attributionHidden=${n}`:""},previewFirstQuery(n){return n?`&previewFirst=${n}`:""},sidebarCollapsedQuery(n){return n?`&sidebarCollapsed=${n}`:""},embedUrl(n){const i=`${document.location.origin}/embed/#!/embed/${e.domain()}`,o=e.previewSizeQuery(n.previewSize),s=e.attributionHiddenQuery(n.attributionHidden),a=e.previewFirstQuery(n.previewFirst),l=e.sidebarCollapsedQuery(n.sidebarCollapsed);return`${i}?path=${n.path}${o}${s}${a}${l}`},files(){return e.filetree().files()},accessLevel(n){if(n.isSupport())return xt.ADMIN;const[i]=Array.from(e.users().filter(({id:o})=>o===n.id()));return i?i.projectPermission.accessLevel:0},readOnlyFor(n){return e.accessLevel(n)===0},temporaryAvatar:te(null),avatarUrl(){""+document.location.origin+v5();const n=+new Date(e.avatarUpdatedAt()),i=n?`?${n}`:"";return e.projectOnProductionOnly()?`https://cdn.glitch.me/project-avatar/${e.id()}.png${i}`:`${oT}/project-avatar/${e.id()}.png${i}`},hasAvatar(){if(!e.avatarUpdatedAt())return!1;const n=Be(e.updatedAt()),i=yc.AVATAR_SUPPORT_DATE;return n.diff(i)>0},avatar(){const n=e.temporaryAvatar(),i=e.avatarUrl(),o=e.hasAvatar();if(n)return n;if(o)return i},defaultFile(){const n=e.files().filter(function(s){const a=s.path();return!(a===".env"||a===vc||a.startsWith(".data/"))}),[i]=Array.from(n.filter(function(s){return s.path().toLowerCase().match(/^(glitch_)?readme\.(md|mdown|markdown)$/i)})),[o]=Array.from(n.filter(function(s){return s.path().toLowerCase()==="server.js"}));return i||o||n[0]},saveData(n){const i=de(de({},t),n);return Kk(i,p1e)},saveImmediate(n,i={}){if(window.application.projectIsReadOnlyForCurrentUser())return null;const o=e.id(),s=e.saveData(i);return n.updateProject(o,s)},adminUsers(){return e.users()},getOwner(){const n=e.users().sort((o,s)=>o.projectPermission.createdAt>s.projectPermission.createdAt?1:-1),i=n.filter(o=>o.projectPermission.accessLevel===xt.ADMIN)[0];return i||n.filter(o=>o.projectPermission.accessLevel===xt.MEMBER)[0]},getType(){return e.baseId()===g5?"gitImport":f1e.includes(e.baseId())?"starterProject":"remix"},projectUser(n){n=parseInt(n);const[i]=Array.from(e.users().filter(o=>o.id===n));return i},touchImmediate(n){const i=e.id(),o={};if(n.editorIsEmbedded()&&(o.isEmbedded=!0),!n.projectIsReadOnlyForCurrentUser())return n.glitchApi().v0.projectTouch(i,o).catch(s=>Yi(s))},hasTeams(){if(e.teams().length)return!0},projectPageUrl(){return`/~${e.domain()}`}}),e.save=og(e.saveImmediate,1e3),e.touch=og(e.touchImmediate,5e3,{leading:!0}),e};yc.AVATAR_SUPPORT_DATE=Be("2016-10-27T01:31:53.559Z");var m1e={rgb2hsl:lg,rgb2hsv:m_,rgb2hwb:cg,rgb2cmyk:ug,rgb2keyword:dg,rgb2xyz:y5,rgb2lab:_5,rgb2lch:g1e,hsl2rgb:g_,hsl2hsv:v1e,hsl2hwb:y1e,hsl2cmyk:_1e,hsl2keyword:b1e,hsv2rgb:v_,hsv2hsl:E1e,hsv2hwb:w1e,hsv2cmyk:x1e,hsv2keyword:S1e,hwb2rgb:fg,hwb2hsl:T1e,hwb2hsv:C1e,hwb2cmyk:M1e,hwb2keyword:A1e,cmyk2rgb:hg,cmyk2hsl:P1e,cmyk2hsv:R1e,cmyk2hwb:L1e,cmyk2keyword:I1e,keyword2rgb:Vu,keyword2hsl:D1e,keyword2hsv:F1e,keyword2hwb:U1e,keyword2cmyk:j1e,keyword2lab:B1e,keyword2xyz:V1e,xyz2rgb:J7,xyz2lab:Z7,xyz2lch:O1e,lab2xyz:b5,lab2rgb:Q7,lab2lch:E5,lch2lab:w5,lch2xyz:N1e,lch2rgb:k1e};function lg(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=s-o,l,c,u;return s==o?l=0:e==s?l=(n-i)/a:n==s?l=2+(i-e)/a:i==s&&(l=4+(e-n)/a),l=Math.min(l*60,360),l<0&&(l+=360),u=(o+s)/2,s==o?c=0:u<=.5?c=a/(s+o):c=a/(2-s-o),[l,c*100,u*100]}function m_(t){var e=t[0],n=t[1],i=t[2],o=Math.min(e,n,i),s=Math.max(e,n,i),a=s-o,l,c,u;return s==0?c=0:c=a/s*1e3/10,s==o?l=0:e==s?l=(n-i)/a:n==s?l=2+(i-e)/a:i==s&&(l=4+(e-n)/a),l=Math.min(l*60,360),l<0&&(l+=360),u=s/255*1e3/10,[l,c,u]}function cg(t){var e=t[0],n=t[1],i=t[2],o=lg(t)[0],s=1/255*Math.min(e,Math.min(n,i)),i=1-1/255*Math.max(e,Math.max(n,i));return[o,s*100,i*100]}function ug(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,o,s,a,l;return l=Math.min(1-e,1-n,1-i),o=(1-e-l)/(1-l)||0,s=(1-n-l)/(1-l)||0,a=(1-i-l)/(1-l)||0,[o*100,s*100,a*100,l*100]}function dg(t){return eD[JSON.stringify(t)]}function y5(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var o=e*.4124+n*.3576+i*.1805,s=e*.2126+n*.7152+i*.0722,a=e*.0193+n*.1192+i*.9505;return[o*100,s*100,a*100]}function _5(t){var e=y5(t),n=e[0],i=e[1],o=e[2],s,a,l;return n/=95.047,i/=100,o/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=116*i-16,a=500*(n-i),l=200*(i-o),[s,a,l]}function g1e(t){return E5(_5(t))}function g_(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,o,s,a,l,c;if(n==0)return c=i*255,[c,c,c];i<.5?s=i*(1+n):s=i+n-i*n,o=2*i-s,l=[0,0,0];for(var u=0;u<3;u++)a=e+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?c=o+(s-o)*6*a:2*a<1?c=s:3*a<2?c=o+(s-o)*(2/3-a)*6:c=o,l[u]=c*255;return l}function v1e(t){var e=t[0],n=t[1]/100,i=t[2]/100,o,s;return i===0?[0,0,0]:(i*=2,n*=i<=1?i:2-i,s=(i+n)/2,o=2*n/(i+n),[e,o*100,s*100])}function y1e(t){return cg(g_(t))}function _1e(t){return ug(g_(t))}function b1e(t){return dg(g_(t))}function v_(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,o=Math.floor(e)%6,s=e-Math.floor(e),a=255*i*(1-n),l=255*i*(1-n*s),c=255*i*(1-n*(1-s)),i=255*i;switch(o){case 0:return[i,c,a];case 1:return[l,i,a];case 2:return[a,i,c];case 3:return[a,l,i];case 4:return[c,a,i];case 5:return[i,a,l]}}function E1e(t){var e=t[0],n=t[1]/100,i=t[2]/100,o,s;return s=(2-n)*i,o=n*i,o/=s<=1?s:2-s,o=o||0,s/=2,[e,o*100,s*100]}function w1e(t){return cg(v_(t))}function x1e(t){return ug(v_(t))}function S1e(t){return dg(v_(t))}function fg(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,o=n+i,s,a,l,c;switch(o>1&&(n/=o,i/=o),s=Math.floor(6*e),a=1-i,l=6*e-s,(s&1)!=0&&(l=1-l),c=n+l*(a-n),s){default:case 6:case 0:r=a,g=c,b=n;break;case 1:r=c,g=a,b=n;break;case 2:r=n,g=a,b=c;break;case 3:r=n,g=c,b=a;break;case 4:r=c,g=n,b=a;break;case 5:r=a,g=n,b=c;break}return[r*255,g*255,b*255]}function T1e(t){return lg(fg(t))}function C1e(t){return m_(fg(t))}function M1e(t){return ug(fg(t))}function A1e(t){return dg(fg(t))}function hg(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100,s,a,l;return s=1-Math.min(1,e*(1-o)+o),a=1-Math.min(1,n*(1-o)+o),l=1-Math.min(1,i*(1-o)+o),[s*255,a*255,l*255]}function P1e(t){return lg(hg(t))}function R1e(t){return m_(hg(t))}function L1e(t){return cg(hg(t))}function I1e(t){return dg(hg(t))}function J7(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o,s,a;return o=e*3.2406+n*-1.5372+i*-.4986,s=e*-.9689+n*1.8758+i*.0415,a=e*.0557+n*-.204+i*1.057,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[o*255,s*255,a*255]}function Z7(t){var e=t[0],n=t[1],i=t[2],o,s,a;return e/=95.047,n/=100,i/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*n-16,s=500*(e-n),a=200*(n-i),[o,s,a]}function O1e(t){return E5(Z7(t))}function b5(t){var e=t[0],n=t[1],i=t[2],o,s,a,l;return e<=8?(s=e*100/903.3,l=7.787*(s/100)+16/116):(s=100*Math.pow((e+16)/116,3),l=Math.pow(s/100,1/3)),o=o/95.047<=.008856?o=95.047*(n/500+l-16/116)/7.787:95.047*Math.pow(n/500+l,3),a=a/108.883<=.008859?a=108.883*(l-i/200-16/116)/7.787:108.883*Math.pow(l-i/200,3),[o,s,a]}function E5(t){var e=t[0],n=t[1],i=t[2],o,s,a;return o=Math.atan2(i,n),s=o*360/2/Math.PI,s<0&&(s+=360),a=Math.sqrt(n*n+i*i),[e,a,s]}function Q7(t){return J7(b5(t))}function w5(t){var e=t[0],n=t[1],i=t[2],o,s,a;return a=i/360*2*Math.PI,o=n*Math.cos(a),s=n*Math.sin(a),[e,o,s]}function N1e(t){return b5(w5(t))}function k1e(t){return Q7(w5(t))}function Vu(t){return x5[t]}function D1e(t){return lg(Vu(t))}function F1e(t){return m_(Vu(t))}function U1e(t){return cg(Vu(t))}function j1e(t){return ug(Vu(t))}function B1e(t){return _5(Vu(t))}function V1e(t){return y5(Vu(t))}var x5={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},eD={};for(var tD in x5)eD[JSON.stringify(x5[tD])]=tD;var S5=m1e,Hu=function(){return new mg};for(var pg in S5){Hu[pg+"Raw"]=function(t){return function(e){return typeof e=="number"&&(e=Array.prototype.slice.call(arguments)),S5[t](e)}}(pg);var nD=/(\w+)2(\w+)/.exec(pg),T5=nD[1],H1e=nD[2];Hu[T5]=Hu[T5]||{},Hu[T5][H1e]=Hu[pg]=function(t){return function(e){typeof e=="number"&&(e=Array.prototype.slice.call(arguments));var n=S5[t](e);if(typeof n=="string"||n===void 0)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(pg)}var mg=function(){this.convs={}};mg.prototype.routeSpace=function(t,e){var n=e[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))};mg.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this};mg.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=Hu[n][t](i),this.convs[t]=e}return e};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){mg.prototype[t]=function(e){return this.routeSpace(t,arguments)}});var z1e=Hu,G1e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C5=G1e,$1e={getRgba:M5,getHsla:A5,getRgb:W1e,getHsl:q1e,getHwb:rD,getAlpha:Y1e,hexString:K1e,rgbString:X1e,rgbaString:iD,percentString:J1e,percentaString:sD,hslString:Z1e,hslaString:oD,hwbString:Q1e,keyword:eye};function M5(t){if(!!t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\D+)/,a=[0,0,0],l=1,c=t.match(e);if(c){c=c[1];for(var u=0;u<a.length;u++)a[u]=parseInt(c[u]+c[u],16)}else if(c=t.match(n)){c=c[1];for(var u=0;u<a.length;u++)a[u]=parseInt(c.slice(u*2,u*2+2),16)}else if(c=t.match(i)){for(var u=0;u<a.length;u++)a[u]=parseInt(c[u+1]);l=parseFloat(c[4])}else if(c=t.match(o)){for(var u=0;u<a.length;u++)a[u]=Math.round(parseFloat(c[u+1])*2.55);l=parseFloat(c[4])}else if(c=t.match(s)){if(c[1]=="transparent")return[0,0,0,0];if(a=C5[c[1]],!a)return}for(var u=0;u<a.length;u++)a[u]=ea(a[u],0,255);return!l&&l!=0?l=1:l=ea(l,0,1),a[3]=l,a}}function A5(t){if(!!t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),o=ea(parseInt(n[1]),0,360),s=ea(parseFloat(n[2]),0,100),a=ea(parseFloat(n[3]),0,100),l=ea(isNaN(i)?1:i,0,1);return[o,s,a,l]}}}function rD(t){if(!!t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),o=ea(parseInt(n[1]),0,360),s=ea(parseFloat(n[2]),0,100),a=ea(parseFloat(n[3]),0,100),l=ea(isNaN(i)?1:i,0,1);return[o,s,a,l]}}}function W1e(t){var e=M5(t);return e&&e.slice(0,3)}function q1e(t){var e=A5(t);return e&&e.slice(0,3)}function Y1e(t){var e=M5(t);if(e)return e[3];if(e=A5(t))return e[3];if(e=rD(t))return e[3]}function K1e(t){return"#"+P5(t[0])+P5(t[1])+P5(t[2])}function X1e(t,e){return e<1||t[3]&&t[3]<1?iD(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function iD(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function J1e(t,e){if(e<1||t[3]&&t[3]<1)return sD(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+o+"%)"}function sD(t,e){var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+n+"%, "+i+"%, "+o+"%, "+(e||t[3]||1)+")"}function Z1e(t,e){return e<1||t[3]&&t[3]<1?oD(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function oD(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function Q1e(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==void 0&&e!==1?", "+e:"")+")"}function eye(t){return aD[t.slice(0,3)]}function ea(t,e,n){return Math.min(Math.max(e,t),n)}function P5(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var aD={};for(var lD in C5)aD[C5[lD]]=lD;var tye=z1e,Eo=$1e,ta=function(t){if(t instanceof ta)return t;if(!(this instanceof ta))return new ta(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},typeof t=="string"){var e=Eo.getRgba(t);if(e)this.setValues("rgb",e);else if(e=Eo.getHsla(t))this.setValues("hsl",e);else if(e=Eo.getHwb(t))this.setValues("hwb",e);else throw new Error('Unable to parse color from string "'+t+'"')}else if(typeof t=="object"){var e=t;if(e.r!==void 0||e.red!==void 0)this.setValues("rgb",e);else if(e.l!==void 0||e.lightness!==void 0)this.setValues("hsl",e);else if(e.v!==void 0||e.value!==void 0)this.setValues("hsv",e);else if(e.w!==void 0||e.whiteness!==void 0)this.setValues("hwb",e);else if(e.c!==void 0||e.cyan!==void 0)this.setValues("cmyk",e);else throw new Error("Unable to parse color from object "+JSON.stringify(t))}};ta.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return this.values.alpha!==1?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return t===void 0?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return Eo.hexString(this.values.rgb)},rgbString:function(){return Eo.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Eo.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Eo.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Eo.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Eo.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Eo.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Eo.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=t[0]*.3+t[1]*.59+t[2]*.11;return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=e<0?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){var n=this,i=t,o=e!==void 0?e:.5,s=2*o-1,a=n.alpha()-i.alpha(),l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2,c=1-l;return this.rgb(l*n.red()+c*i.red(),l*n.green()+c*i.green(),l*n.blue()+c*i.blue()).alpha(n.alpha()*o+i.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){return new ta(this.rgb())}};ta.prototype.getValues=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=this.values[t][n];return this.values.alpha!=1&&(e.a=this.values.alpha),e};ta.prototype.setValues=function(t,e){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if(t=="alpha")o=e;else if(e.length)this.values[t]=e.slice(0,t.length),o=e[t.length];else if(e[t.charAt(0)]!==void 0){for(var s=0;s<t.length;s++)this.values[t][s]=e[t.charAt(s)];o=e.a}else if(e[n[t][0]]!==void 0){for(var a=n[t],s=0;s<t.length;s++)this.values[t][s]=e[a[s]];o=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,o!==void 0?o:this.values.alpha)),t!="alpha"){for(var s=0;s<t.length;s++){var l=Math.max(0,Math.min(i[t][s],this.values[t][s]));this.values[t][s]=Math.round(l)}for(var c in n){c!=t&&(this.values[c]=tye[t][c](this.values[t]));for(var s=0;s<c.length;s++){var l=Math.max(0,Math.min(i[c][s],this.values[c][s]));this.values[c][s]=Math.round(l)}}return!0}};ta.prototype.setSpace=function(t,e){var n=e[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)};ta.prototype.setChannel=function(t,e,n){return n===void 0?this.values[t][e]:(this.values[t][e]=n,this.setValues(t,this.values[t]),this)};var cD=ta,R5={exports:{}};(function(t,e){(function(n,i){{var o=i();t&&t.exports&&(e=t.exports=o),e.randomColor=o}})(Wt,function(){var n=null,i={};E();var o=[],s=function(A){if(A=A||{},A.seed!==void 0&&A.seed!==null&&A.seed===parseInt(A.seed,10))n=A.seed;else if(typeof A.seed=="string")n=P(A.seed);else{if(A.seed!==void 0&&A.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var L,k,U;if(A.count!==null&&A.count!==void 0){for(var O=A.count,I=[],F=0;F<A.count;F++)o.push(!1);for(A.count=null;O>I.length;){var N=s(A);n!==null&&(A.seed=n),I.push(N)}return A.count=O,I}return L=a(A),k=l(L,A),U=c(L,k,A),u([L,k,U],A)};function a(A){if(o.length>0){var L=R(A.hue),k=m(L),U=(L[1]-L[0])/o.length,O=parseInt((k-L[0])/U);o[O]===!0?O=(O+2)%o.length:o[O]=!0;var I=(L[0]+O*U)%359,F=(L[0]+(O+1)*U)%359;return L=[I,F],k=m(L),k<0&&(k=360+k),k}else{var L=f(A.hue);return k=m(L),k<0&&(k=360+k),k}}function l(A,L){if(L.hue==="monochrome")return 0;if(L.luminosity==="random")return m([0,100]);var k=h(A),U=k[0],O=k[1];switch(L.luminosity){case"bright":U=55;break;case"dark":U=O-10;break;case"light":O=55;break}return m([U,O])}function c(A,L,k){var U=d(A,L),O=100;switch(k.luminosity){case"dark":O=U+20;break;case"light":U=(O+U)/2;break;case"random":U=0,O=100;break}return m([U,O])}function u(A,L){switch(L.format){case"hsvArray":return A;case"hslArray":return C(A);case"hsl":var k=C(A);return"hsl("+k[0]+", "+k[1]+"%, "+k[2]+"%)";case"hsla":var U=C(A),O=L.alpha||Math.random();return"hsla("+U[0]+", "+U[1]+"%, "+U[2]+"%, "+O+")";case"rgbArray":return w(A);case"rgb":var I=w(A);return"rgb("+I.join(", ")+")";case"rgba":var F=w(A),O=L.alpha||Math.random();return"rgba("+F.join(", ")+", "+O+")";default:return _(A)}}function d(A,L){for(var k=v(A).lowerBounds,U=0;U<k.length-1;U++){var O=k[U][0],I=k[U][1],F=k[U+1][0],N=k[U+1][1];if(L>=O&&L<=F){var H=(N-I)/(F-O),z=I-H*O;return H*L+z}}return 0}function f(A){if(typeof parseInt(A)=="number"){var L=parseInt(A);if(L<360&&L>0)return[L,L]}if(typeof A=="string"){if(i[A]){var k=i[A];if(k.hueRange)return k.hueRange}else if(A.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(A)[0];return[U,U]}}return[0,360]}function h(A){return v(A).saturationRange}function v(A){A>=334&&A<=360&&(A-=360);for(var L in i){var k=i[L];if(k.hueRange&&A>=k.hueRange[0]&&A<=k.hueRange[1])return i[L]}return"Color not found"}function m(A){if(n===null){var L=.618033988749895,k=Math.random();return k+=L,k%=1,Math.floor(A[0]+k*(A[1]+1-A[0]))}else{var U=A[1]||1,O=A[0]||0;n=(n*9301+49297)%233280;var I=n/233280;return Math.floor(O+I*(U-O))}}function _(A){var L=w(A);function k(O){var I=O.toString(16);return I.length==1?"0"+I:I}var U="#"+k(L[0])+k(L[1])+k(L[2]);return U}function S(A,L,k){var U=k[0][0],O=k[k.length-1][0],I=k[k.length-1][1],F=k[0][1];i[A]={hueRange:L,lowerBounds:k,saturationRange:[U,O],brightnessRange:[I,F]}}function E(){S("monochrome",null,[[0,0],[100,0]]),S("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),S("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),S("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),S("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),S("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),S("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),S("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function w(A){var L=A[0];L===0&&(L=1),L===360&&(L=359),L=L/360;var k=A[1]/100,U=A[2]/100,O=Math.floor(L*6),I=L*6-O,F=U*(1-k),N=U*(1-I*k),H=U*(1-(1-I)*k),z=256,B=256,q=256;switch(O){case 0:z=U,B=H,q=F;break;case 1:z=N,B=U,q=F;break;case 2:z=F,B=U,q=H;break;case 3:z=F,B=N,q=U;break;case 4:z=H,B=F,q=U;break;case 5:z=U,B=F,q=N;break}var W=[Math.floor(z*255),Math.floor(B*255),Math.floor(q*255)];return W}function T(A){A=A.replace(/^#/,""),A=A.length===3?A.replace(/(.)/g,"$1$1"):A;var L=parseInt(A.substr(0,2),16)/255,k=parseInt(A.substr(2,2),16)/255,U=parseInt(A.substr(4,2),16)/255,O=Math.max(L,k,U),I=O-Math.min(L,k,U),F=O?I/O:0;switch(O){case L:return[60*((k-U)/I%6)||0,F,O];case k:return[60*((U-L)/I+2)||0,F,O];case U:return[60*((L-k)/I+4)||0,F,O]}}function C(A){var L=A[0],k=A[1]/100,U=A[2]/100,O=(2-k)*U;return[L,Math.round(k*U/(O<1?O:2-O)*1e4)/100,O/2*100]}function P(A){for(var L=0,k=0;k!==A.length&&!(L>=Number.MAX_SAFE_INTEGER);k++)L+=A.charCodeAt(k);return L}function R(A){if(isNaN(A)){if(typeof A=="string"){if(i[A]){var k=i[A];if(k.hueRange)return k.hueRange}else if(A.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(A)[0];return v(U).hueRange}}}else{var L=parseInt(A);if(L<360&&L>0)return v(A).hueRange}return[0,360]}return s})})(R5,R5.exports);var na=R5.exports;const nye=100,rye=()=>na({luminosity:"light"}),iye=(t,e)=>t.uuid()===e.uuid()&&t.projectId()===e.projectId(),sye=(t,e,n)=>t.filter(i=>!iye(e,i)).concat([e]).slice(-n),qs=function(t={},e){t=t||{},e=e||Qo(t),ju(t,{avatarThumbnailUrl:null,avatarUrl:null,awaitingInvite:!1,color:rye(),hasLikedCurrentProject:!1,id:-Math.floor(Math.random()*65536),lastSeen:Date.now(),login:null,name:null,recentFiles:[],isOnline:!0,teams:[],tabId:`${Math.floor(Math.random()*65536)}`,gitUser:null,isGlitchRewind:!1,emails:[],features:[],gitAccessToken:null,description:""});const n=t.removeAwaitingInviteTimeout!=null?t.removeAwaitingInviteTimeout:15*1e3;return e.attrAccessor("avatarThumbnailUrl","avatarUrl","githubToken","facebookToken","login","name","color","createdAt","tabId","facebookId","isSupport","description"),e.attrObservable("thanksReceived","thanksCount","isThankedByCurrentUser","isOnline","awaitingInvite","emails","id","lastSeen","hasLikedCurrentProject","paidPlan","isFetching","gitUser","isGlitchRewind","features","gitAccessToken","persistentToken"),e.attrModels("recentFiles",Ws),e.attrModels("teams",p5),e.attrObservable("lastCursor"),e.extend({broadcastData({project:i}={}){const o={avatarUrl:e.avatarUrl(),avatarThumbnailUrl:e.avatarThumbnailUrl(),awaitingInvite:e.awaitingInvite(),id:t.id,name:t.name,login:t.login,color:t.color,lastCursor:e.lastCursor(),thanksReceived:!1,tabId:e.tabId(),teams:e.teams()};return i&&(o.readOnly=i.readOnlyFor(e),o.projectPermission={userId:t.id,projectId:i.id(),accessLevel:i.accessLevel(e)}),o},primaryEmail(){return e.emails().find(i=>i.verified&&i.primary)},currentDocument(){var i,o;return((i=e.recentFiles.last())==null?void 0:i.uuid())||((o=e.lastCursor())==null?void 0:o.documentId)},secondaryColor(){return cD(t.color).darken(.1).rgbString()},addRecentFile(i,o){const s=Ws({uuid:i.uuid(),path:i.path(),projectId:o}),a=e.recentFiles();if(!i.path().startsWith(".data/"))return e.recentFiles(sye(a,s,nye))},loggedIn(){return!!e.login()},registerAnon(i){return i.post("v1/users/anon").then(function({id:o,persistentToken:s,color:a}){return e.persistentToken(s),e.id(o),e.color(a)})},update(i){return Object.keys(i).forEach(function(o){var s;if(!(o==="lastCursor"&&((s=e.lastCursor())==null?void 0:s.clientId)&&(!i[o]||e.lastCursor().clientId!==i[o].clientId))){if(o==="awaitingInvite"&&e.awaitingInvite()){i.awaitingInvite?(clearTimeout(e.removeAwaitingInviteHandler),e.removeAwaitingInviteHandler=null,e.awaitingInvite(!0)):e.removeAwaitingInviteHandler||(e.removeAwaitingInviteHandler=setTimeout(function(){return e.removeAwaitingInviteHandler=null,e.awaitingInvite(!1)},n));return}if(e[o])return o==="teams"?e[o](i[o].map(a=>p5(a))):e[o](i[o])}})},isAnon(){if(!e.login())return!0},userAvatarUrl(i){if(i=i||"small",!e.isAnon())return i==="large"?e.avatarUrl():e.avatarThumbnailUrl()},profileUrl(){return e.login()?`/@${e.login()}`:`/user/${e.id()}`},updateThanks(i){return i.glitchApi().v0.getThanks(e.id()).then(function(o){e.thanksCount(o.length);const[s]=Array.from(o.filter(({thankerUserId:a})=>a===i.currentUser().id()));return e.isThankedByCurrentUser(!!s)}).catch(function(o){console.warn(`Could not fetch updated thanks count for @${e.login()}: ${o.response.status} ${o.response.statusText}`)})},addThanks(i){return e.isThankedByCurrentUser(!0),e.thanksCount.increment(1),i.glitchApi().addThanks(e.id()).then(function(){const o={user:e.broadcastData()};return o.user.thankedBy=i.currentUser().id(),i.broadcast(o)})},removeThanks(i){return e.isThankedByCurrentUser(!1),e.thanksCount.decrement(1),i.glitchApi().deleteThanks(e.id()).then(function(){const o={user:e.broadcastData()};return o.user.unThankedBy=i.currentUser().id(),i.broadcast(o)})}}),e};qs.Anon=qs({login:"I should sign in",name:"Anonymous"},null);class oye{page(){}track(){}identify(){}setCurrentProject(){}setCurrentUser(){}}function aye(){return new oye}function lye(t){let e=/Chrome/i.test(t)&&!/Edge/i.test(t),n=/iPhone|iPad|Android/i.test(t),i=/android/i.test(t),o=/iPad|iPhone|iPod/.test(t)&&!window.MSStream,s=/Mac/i.test(t);return{isChrome:e,isMobile:n,isAndroid:i,isIOS:o,isMacOS:s,isAppleDevice:o||s}}function cye(t,e){let n=0,i=0,o=[];for(;n<t.length&&i<e.length;)t[n]<e[i]?n++:(e[i]<t[n]||(o.push(t[n]),n++),i++);return o}const uD=K.exports.createContext(null);function uye({application:t,children:e}){return p.createElement(uD.Provider,{value:t},e)}function ve(){const t=K.exports.useContext(uD);return t||new Error("useApplication can only be used in a child of the Application component.")}const y_="userPrefs";function gg(t){return`changed:${t}`}const zu=new u9;function __(t){try{return JSON.parse(window.localStorage.getItem(t))}catch{return null}}function L5(t,e){try{window.localStorage.setItem(t,JSON.stringify(e)),zu.emit(gg(t),e)}catch{console.warn("Could not save to localStorage. (localStorage is disabled in private Safari windows)")}}function dye(t){try{window.localStorage.removeItem(t)}catch{}}function dD(t){if(zu.listenerCount(gg(t.key))>0)try{zu.emit(gg(t.key),JSON.parse(t.newValue))}catch{}}function fD(t,e){zu.listenerCount()===0&&window.addEventListener("storage",dD),zu.on(gg(t),e)}function hD(t,e){zu.off(gg(t),e),zu.listenerCount()===0&&window.removeEventListener("storage",dD)}function fye(t={},e=null){t=t||{},e=e||Qo(t);const n=new WeakMap;return e.extend({getLocal:__,storeLocal:L5,removeLocal:dye,getUserPrefs(){return __(y_)||{}},getUserPref(i){return e.getUserPrefs()[i]},updateUserPrefs(i,o){const s=e.getUserPrefs();s[i]=o,e.storeLocal(y_,s)},onUserPrefChange(i,o){let s=e.getUserPrefs();const a=l=>{s[i]!==l[i]&&o(l[i]),s=l};n.set(o,a),fD(y_,a)},removeUserPrefChangeListener(i,o){const s=n.get(o);n.delete(o),hD(y_,s)}})}function wo(t){return Object.entries(t).flatMap(([e,n])=>Array.isArray(n)?n.map(o=>[e,o]):[[e,n]]).filter(([e,n])=>n!=null)}const I5={accessLevel:xt.MEMBER};class hye{constructor(e){kd(this,"customDomainPreviewHostName");this.client=e}getProject(e,o={}){var s=o,{showDeleted:n=!1}=s,i=un(s,["showDeleted"]);return this.client.get(`projects/${e}`,de({searchParams:wo({showDeleted:n.toString()})},i)).json()}boot(i={}){var o=i,{latestProjectOnly:e="false"}=o,n=un(o,["latestProjectOnly"]);return this.client.get("boot",de({searchParams:wo({latestProjectOnly:e})},n)).json()}projectSetEnv(e,n,i={}){return this.client.post(`projects/${e}/setenv`,de({json:{env:n}},i)).json()}projectExec(e,n,i={}){return this.client.post(`projects/${e}/exec`,de({json:{command:n},timeout:6e4},i)).json()}projectTouch(e,n,i={}){return this.client.patch(`projects/${e}/touch`,de({json:n},i)).json()}projectEdited(e,n,i={}){return this.client.post(`projects/${e}/edited`,de({json:n},i)).json()}projectDomainChanged(e,n={}){return this.client.post("project/domainChanged",de({searchParams:wo({projectId:e})},n)).json()}projectGithubExport(e,n,i,o={}){return this.client.post("project/githubExport",de({searchParams:wo({projectId:e,repo:n,commitMessage:i}),timeout:3e4},o))}projectGithubImport(e,n,s={}){var a=s,{path:i}=a,o=un(a,["path"]);return this.client.post("project/githubImport",de({searchParams:wo({projectId:e,repo:n,path:i}),timeout:3e4},o))}importGitRepoIntoProject(e,n,o={}){var i=un(o,[]);return this.client.post(`projects/${e}/git/import`,de({json:{repoUrl:n},timeout:3e4},i))}getProjectGitCommits(e,n={}){return this.client.get(`projects/${e}/git/commits`,de({timeout:120*1e3},n)).json()}getProjectGitDiff(e,n,i={}){return this.client.get(`projects/${e}/git/diff/${n}`,de({timeout:120*1e3},i)).json()}projectGitCommitChanges(e,n={}){return this.client.post(`projects/${e}/git/commitChanges`,de({timeout:120*1e3},n)).json()}projectGitRevert(e,n,i={}){return this.client.post(`projects/${e}/git/revert/${n}`,de({timeout:120*1e3,json:{ots:[]}},i))}projectJoin(e,n={}){return this.client.post(`projects/${e}/join`,n).json()}createProjectPermission(e,n,i,o={}){return this.client.post(`project_permissions/${e}`,de({json:{userId:n,projectId:e,accessLevel:i}},o)).json()}teamProjectJoin(e,n,i={}){return this.client.post(`teams/${e}/projects/${n}/join`,i).json()}getUser(e,n={}){return this.client.get(`users/${e}`,n).json()}getThanks(e,n={}){return this.client.get(`thanks/${e}`,n).json()}}class pD extends Error{constructor(e,...n){super(...n);this.gitRepoUrl=e}}const UP=class{constructor(e=null){this.token=e,this.client=Xa.extend({credentials:"include",timeout:2e4,prefixUrl:Wo,hooks:{beforeRequest:[n=>{this.token!==null&&n.headers.set("Authorization",this.token)}]}}),this.v0=new hye(this.client)}setToken(e){this.token=e}getProject(e,n={}){return this.client.get("v1/projects/by/id",de({searchParams:wo({id:e})},n)).json()}getProjectsByDomain(e,n={}){return this.client.get("v1/projects/by/domain",de({searchParams:wo({domain:e}),timeout:6e4},n)).json()}getProjectCollections(e,o={}){var s=o,{limit:n=10}=s,i=un(s,["limit"]);return this.client.get("v1/projects/by/id/collections",de({searchParams:wo({id:e,limit:n})},i)).json()}createProject(e,n={}){return this.client.post("v1/projects",de({json:e},n)).json()}remixProject(e,n,i={}){return this.client.post(`v1/projects/${e}/remix`,de({json:n},i)).json().catch(o=>{if(o instanceof UP.HTTPError&&o.response.status===404&&n.gitRepoUrl)throw new pD(n.gitRepoUrl)})}remixProjectByDomain(e,n,i={}){return this.client.post(`v1/projects/by/domain/${e}/remix`,de({json:n},i)).json()}updateProject(e,n,i={}){return this.client.patch(`v1/projects/${e}`,de({json:n},i)).json()}deleteProject(e,n={}){return this.client.delete(`v1/projects/${e}`,n).json()}restoreProject(e,n={}){return this.client.post(`v1/projects/${e}/undelete`,n).json()}deleteProjectUser(e,n,i={}){return this.client.delete(`v1/projects/${e}/users/${n}`,i).json()}transferOwnership(e,n,i={}){return this.client.post(`v1/projects/${e}/owner/${n}`,i).json()}copyAsset(e,n,i,o={}){return this.client.put(`v1/projects/${e}/asset/${n}`,de({json:i},o)).json()}async getPendingInvites(e,n={}){var o;const i=await this.client.get(`v1/projects/${e}/invites`,n).json();return i.invites=(o=i.invites)==null?void 0:o.map(s=>Ge(de({},s),{projectPermission:I5})),i}cancelInvite(e,n,i={}){return this.client.delete(`v1/projects/${e}/invites/${n}`,i).json()}async inviteUserToProject(e,n,i={}){const o=await this.client.post(`v1/projects/${e}/invites`,de({json:{userId:n}},i)).json();return o.projectPermission=I5,o}async inviteEmailToProject(e,n,i={}){const o=await this.client.post(`v1/projects/${e}/invites`,de({json:{email:n}},i)).json();return o.projectPermission=I5,o}getProjectPolicy(e,o={}){var s=o,{contentType:n}=s,i=un(s,["contentType"]);return this.client.get(`v1/projects/${e}/policy`,de({searchParams:wo({contentType:n})},i)).json()}getProjectAvatarPolicy(e,n={}){return this.client.get(`v1/projects/${e}/avatar/policy`,n).json()}createAnonymousUser(e={}){return this.client.post("v1/users/anon",e).json()}getUserGlitchPro(e,n={}){return this.client.get(`v1/users/${e}/glitchPro`,n).json()}updateUser(e,n,i={}){return this.client.patch(`v1/users/${e}`,de({json:n},i)).json()}addThanks(e,n={}){return this.client.put(`v1/users/${e}/thanks`,n).json()}deleteThanks(e,n={}){return this.client.delete(`v1/users/${e}/thanks`,n).json()}getGlitchPro(e={}){return this.client.get("v1/payments/glitchPro",e).json()}getCollection(e,o={}){var s=o,{limit:n}=s,i=un(s,["limit"]);return this.client.get(`v1/collections/${e}/projects`,de({searchParams:wo({limit:n})},i)).json()}getCollectionByFullUrl(e,n={}){return this.client.get("v1/collections/by/fullUrl",de({searchParams:wo({fullUrl:e})},n)).json()}addProjectToCollection(e,n,i={}){return this.client.put(`v1/collections/${e}/projects/${n}`,i).json()}removeProjectFromCollection(e,n,i={}){return this.client.delete(`v1/collections/${e}/projects/${n}`,i).json()}searchUsers(e){return this.client.get(`v1/search/users?q=${e}&limit=4`).json()}getSearchCreds(e={}){return this.client.get("v1/search/creds",e).json()}createAuthorizationToken(e,n={}){return this.client.post("v1/auth/authorizationToken",de({json:{requestToken:e}},n)).json()}getProjectDomains(e){return this.client.get(`v1/projects/${e}/domains`).json()}addProjectDomain(e,n){return this.client.post(`v1/projects/${e}/domains`,{json:{domain:n}}).json()}removeProjectDomain(e,n){return this.client.delete(`v1/projects/${e}/domains`,{json:{domain:n}}).json()}deployTo(e,n){return this.client.post(`v1/projects/${e}/publish/${n}`).json()}getMarketingLeads(){return this.client.get("v1/marketingLeads/").json()}signUpForFastly(e){return this.client.post(`v1/marketingLeads/${e}`).json()}};let ms=UP;kd(ms,"HTTPError",Xa.HTTPError),kd(ms,"TimeoutError",Xa.TimeoutError);const mD="cachedUser",gD=t=>`editor.user.${t}.recentFiles`,pye=100;function mye(){const t=__(mD);return t!==null&&typeof t=="object"&&"persistentToken"in t?t:null}function gye(t){const e=__(gD(t));return Array.isArray(e)===!1?[]:e}function vye(t){return L5(mD,t)}function yye(t,e){return L5(gD(t),e)}const _ye=hI({id:"user",initial:"loading",context:{error:null,user:null,recentFiles:null},states:{loading:{invoke:{src:"fetchOrCreateUser",onDone:{target:"active",actions:["assignUser","fetchAndAssignRecentFiles"]},onError:"error"}},active:{type:"parallel",entry:"saveToCache",states:{awaitingInvite:{initial:"idle",states:{idle:{on:{TOGGLE_AWAITING_INVITE:"active"}},active:{on:{TOGGLE_AWAITING_INVITE:"idle"}}}}},on:{FILE_OPENED:{actions:["addRecentFile","saveToCache"]},TEXT_SELECTED:{actions:["assignLastCursor"]},CACHED_USER_CHANGE:[{cond:"persistentTokenIsSame",actions:["assignUser"]},{cond:"notInCypress",actions:["reloadPage"]}]}},error:{entry:"assignError",on:{RETRY:"loading"}}}});function bye(){return{actions:{assignError:Sp({error:(t,e)=>e.data}),assignLastCursor:Sp({lastCursor:(t,e)=>e.data}),assignUser:Sp({user:(t,e)=>e.data}),addRecentFile:Sp({recentFiles:(t,e)=>{const n=e.data;return(t.recentFiles||[]).filter(a=>a.path!==n.path||a.projectId!==n.projectId).concat(n).slice(-pye)}}),fetchAndAssignRecentFiles:Sp({recentFiles:(t,e)=>gye(t.user.id)}),reloadPage:()=>{window.document.location.reload()},saveToCache:t=>{try{vye(t.user),yye(t.user.id,t.recentFiles)}catch{console.error("Could not set cachedUser in localStorage")}}},services:{fetchOrCreateUser:async()=>{let t=mye();const e=new ms(t&&t.persistentToken);if(t!==null)try{if(t=(await e.v0.boot({latestProjectOnly:!0})).user,t.login){const i=await e.getGlitchPro();t.isProUser=i==null?void 0:i.isActive}}catch(n){if(!(n instanceof ms.HTTPError)||n.response.status>=500)throw n;t=null}return t===null&&(t=await e.createAnonymousUser()),t}},guards:{persistentTokenIsSame:(t,e)=>e.data&&t.user.persistentToken===e.data.persistentToken,notInCypress:(t,e)=>!("Cypress"in window)}}}function Eye(){const t=ve();return pI(t.userMachine)}function Gu(){var e;const[t]=Eye();return(e=t==null?void 0:t.context)==null?void 0:e.user}function wye(){return mI(_ye.withConfig(bye()),{devTools:!0})}const xye=window||{},Sye=()=>na({luminosity:"light"});function Tye(t){return{uuid:()=>t.uuid,path:()=>t.path,projectId:()=>t.projectId,extensionType:()=>"",name:()=>t.path.replace(/(.*\/)/g,"")}}function Cye(t){return{id:()=>t.id,name:()=>t.name,url:()=>t.url,description:()=>t.description,backgroundColor:()=>t.backgroundColor,createdAt:()=>t.createdAt,updatedAt:()=>t.updatedAt,hasCoverImage:()=>t.hasCoverImage,location:()=>t.location,isVerified:()=>t.isVerified,hasAvatarImage:()=>t.hasAvatarImage,avatarUrl(e,n=xye.application){return e=e||"small",t.hasAvatarImage&&n.environment()==="development"?`https://s3.amazonaws.com/hyperdev-development/team-avatar/${t.id}/${e}`:t.hasAvatarImage?`https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${t.id}/${e}`:"https://cdn.glitch.me/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819"},teamPageUrl(){return`/@${t.url}`}}}function Mye(t){const e=te(null),n=te(!1),i=te(null),o=te([]),s=te([]);let a=null,l=null,c=null;t.onTransition(f=>{if(f.matches("active")===!1){e(null),n(!1),i(null),o([]),s([]),a=null,l=null,c=null;return}i(f.context.lastCursor||null),a!==f.context.user&&(a=f.context.user,e(a)),n()!==t.state.matches("active.awaitingInvite.active")&&n(t.state.matches("active.awaitingInvite.active")),l!==f.context.recentFiles&&(l=f.context.recentFiles,o(Array.isArray(l)?l.map(h=>Tye(h)):[])),c!==f.context.user.teams&&(c=f.context.user.teams,s(Array.isArray(c)?c.map(h=>Cye(h)):[]))});const u=(f,h)=>te(()=>{const v=e();return v&&f in v?v[f]:h}),d={get I(){return Ge(de({},a),{awaitingInvite:t.state.matches("active.awaitingInvite.active"),recentFiles:l,teams:c})},avatarThumbnailUrl:u("avatarThumbnailUrl",null),avatarUrl:u("avatarUrl",null),githubToken:u("githubToken"),facebookToken:u("facebookToken"),login:u("login",null),name:u("name",null),color:u("color",Sye()),createdAt:u("createdAt"),tabId:u("tabId",`${Math.floor(Math.random()*65536)}`),facebookId:u("facebookId"),isSupport:u("isSupport"),description:u("description",""),thanksReceived:u("thanksReceived"),thanksCount:u("thanksCount"),isThankedByCurrentUser:u("isThankedByCurrentUser"),isOnline:u("isOnline",!0),emails:u("emails",[]),id:u("id",-Math.floor(Math.random()*65536)),lastSeen:u("lastSeen",Date.now()),readOnly:u("readOnly",null),hasLikedCurrentProject:u("hasLikedCurrentProject",!1),paidPlan:u("paidPlan"),isFetching:u("isFetching"),gitUser:u("gitUser",null),isGlitchRewind:u("isGlitchRewind",!1),features:u("features",[]),gitAccessToken:u("gitAccessToken",null),persistentToken:u("persistentToken"),recentFiles(){return o()},awaitingInvite(...f){if(f.length===0)return n();const[h]=f;n()!==h&&t.send("TOGGLE_AWAITING_INVITE")},lastCursor(...f){if(f.length===0)return i();const[h]=f;l_.exports.isEqual(i(),h)||t.send({type:"TEXT_SELECTED",data:h})},addRecentFile(f,h){const v={uuid:f.uuid(),path:f.path(),projectId:h};v.path.startsWith(".data/")===!1&&t.send({type:"FILE_OPENED",data:v})},teams(){return s()},broadcastData({project:f}={}){const h={avatarUrl:d.avatarUrl(),avatarThumbnailUrl:d.avatarThumbnailUrl(),awaitingInvite:d.awaitingInvite(),id:d.id(),name:d.name(),login:d.login(),color:d.color(),lastCursor:d.lastCursor(),readOnly:d.readOnly(),thanksReceived:!1,tabId:d.tabId(),teams:d.teams()};return f&&(h.projectPermission={userId:d.id(),projectId:f.id(),accessLevel:f.accessLevel(d)}),h},primaryEmail(){return d.emails().find(f=>f.verified&&f.primary)},currentDocument(){const f=d.recentFiles().slice(-1)[0];if(f)return f.uuid();const h=d.lastCursor();if(h)return h.documentId},secondaryColor(){return cD(d.color()).darken(.1).rgbString()},loggedIn(){return!!d.login()},isAnon(){return d.login()===null},userAvatarUrl(f){if(f=f||"small",!d.isAnon())return f==="large"?d.avatarUrl():d.avatarThumbnailUrl()},profileUrl(){return d.login()?`/@${d.login()}`:`/user/${d.id()}`},updateThanks(){}};return d}class vD extends Error{}class Aye{async execute(){throw new vD}}class Pye{constructor({recaptcha:e,container:n,siteKey:i}){this.ready=new Promise((o,s)=>{e.ready(()=>{const a=e.render(n,{sitekey:i,size:"invisible",callback:l=>{e.reset(a),this.callback&&this.callback(l)}});o({recaptcha:e,widgetId:a})})})}async executeImpl(){this.pendingExecute&&await this.pendingExecute;const{recaptcha:e,widgetId:n}=await this.ready;return e.execute(n),await new Promise((o,s)=>{this.callback=a=>{o(a)}})}async execute(){return this.pendingExecute=this.executeImpl(),this.pendingExecute}}const yD=(t,e)=>{if(!e)return t.currentProjectIndex(-1);const n=t.projects().filter(i=>i.id()!==e.id);return t.projects([new yc(e),...n]),t.currentProjectIndex(0)},Rye=hI({id:"project",initial:"idle",states:{idle:{},createProject:{entry:["removeProjectOnApplication"],invoke:{src:"createProject",onDone:"connectToProject",onError:"projectCreateFailed"}},loadProjectMetadata:{invoke:{src:"getProjectMetadata",onDone:"loadedProjectMetadata",onError:"projectLoadFailed"}},loadedProjectMetadata:{on:{CONNECT_TO_PROJECT:"connectToProject.connecting"}},connectToProject:{type:"compound",initial:"loadProjectMetadata",states:{loadProjectMetadata:{invoke:{src:"getProjectMetadata",onDone:"connecting",onError:"connectionFailed"}},connecting:{invoke:{src:"connectToProjectOnApplication",onDone:[{cond:"creatingProjectFromGitHubRepo",target:"importGitHub"},{cond:"creatingProjectFromGitRepo",target:"importGitRepo"},{target:"connected"}],onError:"connectionFailed"}},reconnecting:{invoke:{src:"reconnectToProjectOnApplication",onDone:"connected",onError:"connectionFailed"}},importGitHub:{invoke:{src:"importGitHub",onDone:"connected",onError:"connectionFailed"}},importGitRepo:{invoke:{src:"importGitRepo",onDone:"connected",onError:"connectionFailed"}},connected:{entry:["setProjectIsLoadedOnApplication"],exit:["clearProjectIsLoadedOnApplication"],on:{CURRENT_USER_JOINED:{actions:["clearUserPositionIsRestoredOnApplication"],target:"connecting"},CURRENT_USER_LEFT:{actions:["clearUserPositionIsRestoredOnApplication"],target:"connecting"},REWIND_EXITED:"connecting",USER_IDLE:{actions:["disconnectFromProjectOnApplication"],target:"disconnected"},IMPORT_GITHUB:"importGitHub"}},disconnected:{on:{USER_RETURNED:"reconnecting"}},connectionFailed:{entry:["showProjectConnectionFailedNotificationOnApplication"],exit:["hideProjectConnectionFailedNotificationOnApplication"]}}},projectLoadFailed:{entry:["showProjectLoadFailedNotificationOnApplication"],exit:["hideProjectLoadFailedNotificationOnApplication"]},projectCreateFailed:{entry:["showProjectCreateFailureNotification"],exit:["removeProjectCreateFailureNotification"]}},on:{LOAD_PROJECT_METADATA:"loadProjectMetadata",CONNECT_TO_PROJECT:"connectToProject",CREATE_PROJECT:"createProject"}});function Lye(t,e){return{actions:{disconnectFromProjectOnApplication(n,i){t.disconnectFromLogs(),t.disconnectFromOT()},clearUserPositionIsRestoredOnApplication(n,i){t.userPositionIsRestored(!1)},showProjectLoadFailedNotificationOnApplication(n,i){t.notifyProjectLoadFailed(!0),t.loadWelcomeProject()},hideProjectLoadFailedNotificationOnApplication(n,i){t.notifyProjectLoadFailed(!1)},showProjectConnectionFailedNotificationOnApplication(n,i){t.notifyProjectConnectionFailed(!0)},hideProjectConnectionFailedNotificationOnApplication(n,i){t.notifyProjectConnectionFailed(!1)},setProjectIsLoadedOnApplication(n,i){t.updateUrlHashForProject(t.currentProject(),{replace:!0}),t.projectIsLoaded(!0)},clearProjectIsLoadedOnApplication(n,i){t.projectIsLoaded(!1)},removeProjectOnApplication(n,i){yD(t,null)},async showProjectCreateFailureNotification(n,i){const o=i.data,s=await o.response.json();o instanceof vD?t.notifyRecaptchaUnavailable(!0):o instanceof ms.HTTPError&&o.response.status===401?t.notifyGenericError({message:"It is not possible to create the project. The project you are remixing is private."}):o instanceof ms.HTTPError&&o.response.status===422&&s.code==="NEW_ACCOUNT_RESOURCE_CREATION_LIMIT"?t.notifyGenericError({message:"New accounts have a project limit. If you would like to create additional projects, please try again in a couple days."}):o instanceof pD?(t.notifyImportingGitRepo(!1),t.notifyGitRepositoryNotFoundError({gitRepoUrl:o.gitRepoUrl})):t.notifyGenericError({message:"An error occurred when trying to create this project, please try again later."}),window.__CY_APPLICATION_READY__=!0,window.location.href="/edit/#!/"},removeProjectCreateFailureNotification(){t.notifyRecaptchaUnavailable(!1),t.notifyGenericError(!1),t.notifyGitRepositoryNotFoundError(!1)}},guards:{creatingProjectFromGitHubRepo:(n,i)=>i.data.importGitHubRepo,creatingProjectFromGitRepo:(n,i)=>i.data.importGitRepoUrl},services:{connectToProjectOnApplication:async(n,i)=>(await t.connectToProject(t.currentProject()),{importGitRepoUrl:i.data.importGitRepoUrl,importGitHubRepo:i.data.importGitHubRepo,env:i.data.env}),createProject:async(n,i)=>{const{baseProjectDomain:o,baseProjectId:s,desiredDomain:a,env:l,importGitHubRepo:c,importGitRepoUrl:u,projectOwner:d}=i.data;c?t.notifyImportingGitRepo({repoUrl:`https://github.com/${c}`}):u&&t.notifyImportingGitRepo({repoUrl:u});const f={domain:a},h=Object.keys(l||{});f.remixReferer=document.referrer;try{d.isAnon()&&(f.recaptcha=await e.execute()),u?f.gitRepoUrl=u:c&&(f.gitRepoUrl=`https://github.com/${c}.git`);let v;s?v=await t.glitchApi().remixProject(s,f):o?v=await t.glitchApi().remixProjectByDomain(o,f):v=await t.glitchApi().remixProjectByDomain(X7,f),h.length>0&&await t.glitchApi().v0.projectSetEnv(v.domain,l),v.users==null&&(v.users=[{id:d.id(),projectPermission:{accessLevel:xt.ADMIN}}]);const m=yc(v);t.analytics.setCurrentProject(m);const _={},E=new URLSearchParams(t.history.location.search).get("url");if(E){const w=new URL(E);_.gitDomain=w.hostname}else window.location.hash.includes("import/github")&&(_.gitDomain="github.com");return t.analytics.track("Project Created",_),t.digitalOceanStatus(null),t.digitalOceanDeploy(null),t.digitalOceanPackageManagerSwitched(!1),t.fastlyStatus(null),t.packageManager("pnpm"),{domain:m.domain(),env:l,importGitHubRepo:c,importGitRepoUrl:u}}catch(v){throw v}},getProjectMetadata:async(n,i)=>{const{domain:o,env:s,importGitHubRepo:a,importGitRepoUrl:l}=i.data;try{const c=await t.glitchApi().v0.getProject(o);if(!c){const u=new URL("/edit/404.html",window.location);return u.searchParams.set("projectDomainOrId",o),window.location=u.href,null}return yD(t,c),{env:s,projectMetadata:c,importGitHubRepo:a,importGitRepoUrl:l}}catch(c){return t.notifyGenericError(!0),Yi(c),null}},importGitHub:async(n,i)=>{const{importGitHubRepo:o,path:s}=i.data,a=t.github();try{await a.getRepoContents(o),await t.glitchApi().v0.projectGithubImport(t.currentProject().id(),o,{path:s}),t.analytics.track("GitHub Repository Imported"),t.notifyImportingGitRepo(!1),t.notifyGitImportSuccess(!0)}catch(l){if(t.notifyImportingGitRepo(!1),!(l instanceof ms.HTTPError)){t.notifyGenericError(!0);return}const c=await l.response.json().catch(()=>null);l.response.status===404?c&&c.message==="This repository is empty."?t.notifyGithubEmptyRepositoryError(!0):t.notifyGitRepositoryNotFoundError({gitRepoUrl:`https://github.com/${o}`}):(c&&c.stderr?Yi(new Error(c.stderr)):Yi(new Error("GitHub import failed")),t.notifyGenericError(!0))}},importGitRepo:async(n,i)=>{t.files([]);const{env:o,importGitRepoUrl:s}=i.data;try{await t.glitchApi().v0.importGitRepoIntoProject(t.currentProjectId(),s),Object.keys(o).length>0&&await t.glitchApi().v0.projectSetEnv(t.currentProjectDomain(),o),t.notifyImportingGitRepo(!1)}catch(a){throw Yi(a),t.notifyGenericError("We couldn't import this git repo; please try again later"),a}},reconnectToProjectOnApplication:async(n,i)=>{t.notifyReconnecting(!0),await t.connectToProject(t.currentProject()),t.notifyReconnecting(!1)}}}}function Iye(t){let e;return window.grecaptcha?e=new Pye({recaptcha:window.grecaptcha,container:document.getElementById("__recaptcha"),siteKey:nae}):e=new Aye,mI(Rye.withConfig(Lye(t,e)),{devTools:!0})}function Oye(){const t=ve();return pI(t.projectMachine)}var O5={exports:{}};/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/(function(t,e){(function(i,o){t.exports=o()})(Wt,function(){return function(n){var i={};function o(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}return o.m=n,o.c=i,o.p="",o(0)}([function(n,i,o){i.__esModule=!0,i.canonicalize=i.convertChangesToXML=i.convertChangesToDMP=i.merge=i.parsePatch=i.applyPatches=i.applyPatch=i.createPatch=i.createTwoFilesPatch=i.structuredPatch=i.diffArrays=i.diffJson=i.diffCss=i.diffSentences=i.diffTrimmedLines=i.diffLines=i.diffWordsWithSpace=i.diffWords=i.diffChars=i.Diff=void 0;var s=o(1),a=C(s),l=o(2),c=o(3),u=o(5),d=o(6),f=o(7),h=o(8),v=o(9),m=o(10),_=o(11),S=o(13),E=o(14),w=o(16),T=o(17);function C(P){return P&&P.__esModule?P:{default:P}}i.Diff=a.default,i.diffChars=l.diffChars,i.diffWords=c.diffWords,i.diffWordsWithSpace=c.diffWordsWithSpace,i.diffLines=u.diffLines,i.diffTrimmedLines=u.diffTrimmedLines,i.diffSentences=d.diffSentences,i.diffCss=f.diffCss,i.diffJson=h.diffJson,i.diffArrays=v.diffArrays,i.structuredPatch=E.structuredPatch,i.createTwoFilesPatch=E.createTwoFilesPatch,i.createPatch=E.createPatch,i.applyPatch=m.applyPatch,i.applyPatches=m.applyPatches,i.parsePatch=_.parsePatch,i.merge=S.merge,i.convertChangesToDMP=w.convertChangesToDMP,i.convertChangesToXML=T.convertChangesToXML,i.canonicalize=h.canonicalize},function(n,i){i.__esModule=!0,i.default=o;function o(){}o.prototype={diff:function(c,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=d.callback;typeof d=="function"&&(f=d,d={}),this.options=d;var h=this;function v(R){return f?(setTimeout(function(){f(void 0,R)},0),!0):R}c=this.castInput(c),u=this.castInput(u),c=this.removeEmpty(this.tokenize(c)),u=this.removeEmpty(this.tokenize(u));var m=u.length,_=c.length,S=1,E=m+_,w=[{newPos:-1,components:[]}],T=this.extractCommon(w[0],u,c,0);if(w[0].newPos+1>=m&&T+1>=_)return v([{value:this.join(u),count:u.length}]);function C(){for(var R=-1*S;R<=S;R+=2){var A=void 0,L=w[R-1],k=w[R+1],U=(k?k.newPos:0)-R;L&&(w[R-1]=void 0);var O=L&&L.newPos+1<m,I=k&&0<=U&&U<_;if(!O&&!I){w[R]=void 0;continue}if(!O||I&&L.newPos<k.newPos?(A=a(k),h.pushComponent(A.components,void 0,!0)):(A=L,A.newPos++,h.pushComponent(A.components,!0,void 0)),U=h.extractCommon(A,u,c,R),A.newPos+1>=m&&U+1>=_)return v(s(h,A.components,u,c,h.useLongestToken));w[R]=A}S++}if(f)(function R(){setTimeout(function(){if(S>E)return f();C()||R()},0)})();else for(;S<=E;){var P=C();if(P)return P}},pushComponent:function(c,u,d){var f=c[c.length-1];f&&f.added===u&&f.removed===d?c[c.length-1]={count:f.count+1,added:u,removed:d}:c.push({count:1,added:u,removed:d})},extractCommon:function(c,u,d,f){for(var h=u.length,v=d.length,m=c.newPos,_=m-f,S=0;m+1<h&&_+1<v&&this.equals(u[m+1],d[_+1]);)m++,_++,S++;return S&&c.components.push({count:S}),c.newPos=m,_},equals:function(c,u){return this.options.comparator?this.options.comparator(c,u):c===u||this.options.ignoreCase&&c.toLowerCase()===u.toLowerCase()},removeEmpty:function(c){for(var u=[],d=0;d<c.length;d++)c[d]&&u.push(c[d]);return u},castInput:function(c){return c},tokenize:function(c){return c.split("")},join:function(c){return c.join("")}};function s(l,c,u,d,f){for(var h=0,v=c.length,m=0,_=0;h<v;h++){var S=c[h];if(S.removed){if(S.value=l.join(d.slice(_,_+S.count)),_+=S.count,h&&c[h-1].added){var w=c[h-1];c[h-1]=c[h],c[h]=w}}else{if(!S.added&&f){var E=u.slice(m,m+S.count);E=E.map(function(C,P){var R=d[_+P];return R.length>C.length?R:C}),S.value=l.join(E)}else S.value=l.join(u.slice(m,m+S.count));m+=S.count,S.added||(_+=S.count)}}var T=c[v-1];return v>1&&typeof T.value=="string"&&(T.added||T.removed)&&l.equals("",T.value)&&(c[v-2].value+=T.value,c.pop()),c}function a(l){return{newPos:l.newPos,components:l.components.slice(0)}}},function(n,i,o){i.__esModule=!0,i.characterDiff=void 0,i.diffChars=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.characterDiff=new a.default;function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.wordDiff=void 0,i.diffWords=h,i.diffWordsWithSpace=v;var s=o(1),a=c(s),l=o(4);function c(m){return m&&m.__esModule?m:{default:m}}var u=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,d=/\S/,f=i.wordDiff=new a.default;f.equals=function(m,_){return this.options.ignoreCase&&(m=m.toLowerCase(),_=_.toLowerCase()),m===_||this.options.ignoreWhitespace&&!d.test(m)&&!d.test(_)},f.tokenize=function(m){for(var _=m.split(/(\s+|\b)/),S=0;S<_.length-1;S++)!_[S+1]&&_[S+2]&&u.test(_[S])&&u.test(_[S+2])&&(_[S]+=_[S+2],_.splice(S+1,2),S--);return _};function h(m,_,S){return S=(0,l.generateOptions)(S,{ignoreWhitespace:!0}),f.diff(m,_,S)}function v(m,_,S){return f.diff(m,_,S)}},function(n,i){i.__esModule=!0,i.generateOptions=o;function o(s,a){if(typeof s=="function")a.callback=s;else if(s)for(var l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);return a}},function(n,i,o){i.__esModule=!0,i.lineDiff=void 0,i.diffLines=d,i.diffTrimmedLines=f;var s=o(1),a=c(s),l=o(4);function c(h){return h&&h.__esModule?h:{default:h}}var u=i.lineDiff=new a.default;u.tokenize=function(h){var v=[],m=h.split(/(\n|\r\n)/);m[m.length-1]||m.pop();for(var _=0;_<m.length;_++){var S=m[_];_%2&&!this.options.newlineIsToken?v[v.length-1]+=S:(this.options.ignoreWhitespace&&(S=S.trim()),v.push(S))}return v};function d(h,v,m){return u.diff(h,v,m)}function f(h,v,m){var _=(0,l.generateOptions)(m,{ignoreWhitespace:!0});return u.diff(h,v,_)}},function(n,i,o){i.__esModule=!0,i.sentenceDiff=void 0,i.diffSentences=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.sentenceDiff=new a.default;c.tokenize=function(d){return d.split(/(\S.+?[.!?])(?=\s+|$)/)};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.cssDiff=void 0,i.diffCss=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.cssDiff=new a.default;c.tokenize=function(d){return d.split(/([{}:;,]|\s+)/)};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.jsonDiff=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};i.diffJson=h,i.canonicalize=v;var a=o(1),l=u(a),c=o(5);function u(m){return m&&m.__esModule?m:{default:m}}var d=Object.prototype.toString,f=i.jsonDiff=new l.default;f.useLongestToken=!0,f.tokenize=c.lineDiff.tokenize,f.castInput=function(m){var _=this.options,S=_.undefinedReplacement,E=_.stringifyReplacer,w=E===void 0?function(T,C){return typeof C=="undefined"?S:C}:E;return typeof m=="string"?m:JSON.stringify(v(m,null,null,w),w,"  ")},f.equals=function(m,_){return l.default.prototype.equals.call(f,m.replace(/,([\r\n])/g,"$1"),_.replace(/,([\r\n])/g,"$1"))};function h(m,_,S){return f.diff(m,_,S)}function v(m,_,S,E,w){_=_||[],S=S||[],E&&(m=E(w,m));var T=void 0;for(T=0;T<_.length;T+=1)if(_[T]===m)return S[T];var C=void 0;if(d.call(m)==="[object Array]"){for(_.push(m),C=new Array(m.length),S.push(C),T=0;T<m.length;T+=1)C[T]=v(m[T],_,S,E,w);return _.pop(),S.pop(),C}if(m&&m.toJSON&&(m=m.toJSON()),(typeof m=="undefined"?"undefined":s(m))==="object"&&m!==null){_.push(m),C={},S.push(C);var P=[],R=void 0;for(R in m)m.hasOwnProperty(R)&&P.push(R);for(P.sort(),T=0;T<P.length;T+=1)R=P[T],C[R]=v(m[R],_,S,E,R);_.pop(),S.pop()}else C=m;return C}},function(n,i,o){i.__esModule=!0,i.arrayDiff=void 0,i.diffArrays=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.arrayDiff=new a.default;c.tokenize=function(d){return d.slice()},c.join=c.removeEmpty=function(d){return d};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.applyPatch=u,i.applyPatches=d;var s=o(11),a=o(12),l=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function u(f,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof h=="string"&&(h=(0,s.parsePatch)(h)),Array.isArray(h)){if(h.length>1)throw new Error("applyPatch only works with a single input.");h=h[0]}var m=f.split(/\r\n|[\n\v\f\r\x85]/),_=f.match(/\r\n|[\n\v\f\r\x85]/g)||[],S=h.hunks,E=v.compareLine||function(ue,Ie,Me,ke){return Ie===ke},w=0,T=v.fuzzFactor||0,C=0,P=0,R=void 0,A=void 0;function L(ue,Ie){for(var Me=0;Me<ue.lines.length;Me++){var ke=ue.lines[Me],Ze=ke.length>0?ke[0]:" ",pt=ke.length>0?ke.substr(1):ke;if(Ze===" "||Ze==="-"){if(!E(Ie+1,m[Ie],Ze,pt)&&(w++,w>T))return!1;Ie++}}return!0}for(var k=0;k<S.length;k++){for(var U=S[k],O=m.length-U.oldLines,I=0,F=P+U.oldStart-1,N=(0,l.default)(F,C,O);I!==void 0;I=N())if(L(U,F+I)){U.offset=P+=I;break}if(I===void 0)return!1;C=U.offset+U.oldStart+U.oldLines}for(var H=0,z=0;z<S.length;z++){var B=S[z],q=B.oldStart+B.offset+H-1;H+=B.newLines-B.oldLines,q<0&&(q=0);for(var W=0;W<B.lines.length;W++){var j=B.lines[W],$=j.length>0?j[0]:" ",ie=j.length>0?j.substr(1):j,Q=B.linedelimiters[W];if($===" ")q++;else if($==="-")m.splice(q,1),_.splice(q,1);else if($==="+")m.splice(q,0,ie),_.splice(q,0,Q),q++;else if($==="\\"){var le=B.lines[W-1]?B.lines[W-1][0]:null;le==="+"?R=!0:le==="-"&&(A=!0)}}}if(R)for(;!m[m.length-1];)m.pop(),_.pop();else A&&(m.push(""),_.push(`
`));for(var he=0;he<m.length-1;he++)m[he]=m[he]+_[he];return m.join("")}function d(f,h){typeof f=="string"&&(f=(0,s.parsePatch)(f));var v=0;function m(){var _=f[v++];if(!_)return h.complete();h.loadFile(_,function(S,E){if(S)return h.complete(S);var w=u(E,_,h);h.patched(_,w,function(T){if(T)return h.complete(T);m()})})}m()}},function(n,i){i.__esModule=!0,i.parsePatch=o;function o(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.split(/\r\n|[\n\v\f\r\x85]/),c=s.match(/\r\n|[\n\v\f\r\x85]/g)||[],u=[],d=0;function f(){var m={};for(u.push(m);d<l.length;){var _=l[d];if(/^(\-\-\-|\+\+\+|@@)\s/.test(_))break;var S=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(_);S&&(m.index=S[1]),d++}for(h(m),h(m),m.hunks=[];d<l.length;){var E=l[d];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(E))break;if(/^@@/.test(E))m.hunks.push(v());else{if(E&&a.strict)throw new Error("Unknown line "+(d+1)+" "+JSON.stringify(E));d++}}}function h(m){var _=/^(---|\+\+\+)\s+(.*)$/.exec(l[d]);if(_){var S=_[1]==="---"?"old":"new",E=_[2].split("	",2),w=E[0].replace(/\\\\/g,"\\");/^".*"$/.test(w)&&(w=w.substr(1,w.length-2)),m[S+"FileName"]=w,m[S+"Header"]=(E[1]||"").trim(),d++}}function v(){for(var m=d,_=l[d++],S=_.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),E={oldStart:+S[1],oldLines:+S[2]||1,newStart:+S[3],newLines:+S[4]||1,lines:[],linedelimiters:[]},w=0,T=0;d<l.length&&!(l[d].indexOf("--- ")===0&&d+2<l.length&&l[d+1].indexOf("+++ ")===0&&l[d+2].indexOf("@@")===0);d++){var C=l[d].length==0&&d!=l.length-1?" ":l[d][0];if(C==="+"||C==="-"||C===" "||C==="\\")E.lines.push(l[d]),E.linedelimiters.push(c[d]||`
`),C==="+"?w++:C==="-"?T++:C===" "&&(w++,T++);else break}if(!w&&E.newLines===1&&(E.newLines=0),!T&&E.oldLines===1&&(E.oldLines=0),a.strict){if(w!==E.newLines)throw new Error("Added line count did not match for hunk at line "+(m+1));if(T!==E.oldLines)throw new Error("Removed line count did not match for hunk at line "+(m+1))}return E}for(;d<l.length;)f();return u}},function(n,i){i.__esModule=!0,i.default=function(o,s,a){var l=!0,c=!1,u=!1,d=1;return function f(){if(l&&!u){if(c?d++:l=!1,o+d<=a)return d;u=!0}if(!c)return u||(l=!0),s<=o-d?-d++:(c=!0,f())}}},function(n,i,o){i.__esModule=!0,i.calcLineCount=u,i.merge=d;var s=o(14),a=o(11),l=o(15);function c(O){if(Array.isArray(O)){for(var I=0,F=Array(O.length);I<O.length;I++)F[I]=O[I];return F}else return Array.from(O)}function u(O){var I=U(O.lines),F=I.oldLines,N=I.newLines;F!==void 0?O.oldLines=F:delete O.oldLines,N!==void 0?O.newLines=N:delete O.newLines}function d(O,I,F){O=f(O,F),I=f(I,F);var N={};(O.index||I.index)&&(N.index=O.index||I.index),(O.newFileName||I.newFileName)&&(h(O)?h(I)?(N.oldFileName=v(N,O.oldFileName,I.oldFileName),N.newFileName=v(N,O.newFileName,I.newFileName),N.oldHeader=v(N,O.oldHeader,I.oldHeader),N.newHeader=v(N,O.newHeader,I.newHeader)):(N.oldFileName=O.oldFileName,N.newFileName=O.newFileName,N.oldHeader=O.oldHeader,N.newHeader=O.newHeader):(N.oldFileName=I.oldFileName||O.oldFileName,N.newFileName=I.newFileName||O.newFileName,N.oldHeader=I.oldHeader||O.oldHeader,N.newHeader=I.newHeader||O.newHeader)),N.hunks=[];for(var H=0,z=0,B=0,q=0;H<O.hunks.length||z<I.hunks.length;){var W=O.hunks[H]||{oldStart:1/0},j=I.hunks[z]||{oldStart:1/0};if(m(W,j))N.hunks.push(_(W,B)),H++,q+=W.newLines-W.oldLines;else if(m(j,W))N.hunks.push(_(j,q)),z++,B+=j.newLines-j.oldLines;else{var $={oldStart:Math.min(W.oldStart,j.oldStart),oldLines:0,newStart:Math.min(W.newStart+B,j.oldStart+q),newLines:0,lines:[]};S($,W.oldStart,W.lines,j.oldStart,j.lines),z++,H++,N.hunks.push($)}}return N}function f(O,I){if(typeof O=="string"){if(/^@@/m.test(O)||/^Index:/m.test(O))return(0,a.parsePatch)(O)[0];if(!I)throw new Error("Must provide a base reference or pass in a patch");return(0,s.structuredPatch)(void 0,void 0,I,O)}return O}function h(O){return O.newFileName&&O.newFileName!==O.oldFileName}function v(O,I,F){return I===F?I:(O.conflict=!0,{mine:I,theirs:F})}function m(O,I){return O.oldStart<I.oldStart&&O.oldStart+O.oldLines<I.oldStart}function _(O,I){return{oldStart:O.oldStart,oldLines:O.oldLines,newStart:O.newStart+I,newLines:O.newLines,lines:O.lines}}function S(O,I,F,N,H){var z={offset:I,lines:F,index:0},B={offset:N,lines:H,index:0};for(C(O,z,B),C(O,B,z);z.index<z.lines.length&&B.index<B.lines.length;){var q=z.lines[z.index],W=B.lines[B.index];if((q[0]==="-"||q[0]==="+")&&(W[0]==="-"||W[0]==="+"))E(O,z,B);else if(q[0]==="+"&&W[0]===" "){var j;(j=O.lines).push.apply(j,c(R(z)))}else if(W[0]==="+"&&q[0]===" "){var $;($=O.lines).push.apply($,c(R(B)))}else q[0]==="-"&&W[0]===" "?w(O,z,B):W[0]==="-"&&q[0]===" "?w(O,B,z,!0):q===W?(O.lines.push(q),z.index++,B.index++):T(O,R(z),R(B))}P(O,z),P(O,B),u(O)}function E(O,I,F){var N=R(I),H=R(F);if(L(N)&&L(H)){if((0,l.arrayStartsWith)(N,H)&&k(F,N,N.length-H.length)){var z;(z=O.lines).push.apply(z,c(N));return}else if((0,l.arrayStartsWith)(H,N)&&k(I,H,H.length-N.length)){var B;(B=O.lines).push.apply(B,c(H));return}}else if((0,l.arrayEqual)(N,H)){var q;(q=O.lines).push.apply(q,c(N));return}T(O,N,H)}function w(O,I,F,N){var H=R(I),z=A(F,H);if(z.merged){var B;(B=O.lines).push.apply(B,c(z.merged))}else T(O,N?z:H,N?H:z)}function T(O,I,F){O.conflict=!0,O.lines.push({conflict:!0,mine:I,theirs:F})}function C(O,I,F){for(;I.offset<F.offset&&I.index<I.lines.length;){var N=I.lines[I.index++];O.lines.push(N),I.offset++}}function P(O,I){for(;I.index<I.lines.length;){var F=I.lines[I.index++];O.lines.push(F)}}function R(O){for(var I=[],F=O.lines[O.index][0];O.index<O.lines.length;){var N=O.lines[O.index];if(F==="-"&&N[0]==="+"&&(F="+"),F===N[0])I.push(N),O.index++;else break}return I}function A(O,I){for(var F=[],N=[],H=0,z=!1,B=!1;H<I.length&&O.index<O.lines.length;){var q=O.lines[O.index],W=I[H];if(W[0]==="+")break;if(z=z||q[0]!==" ",N.push(W),H++,q[0]==="+")for(B=!0;q[0]==="+";)F.push(q),q=O.lines[++O.index];W.substr(1)===q.substr(1)?(F.push(q),O.index++):B=!0}if((I[H]||"")[0]==="+"&&z&&(B=!0),B)return F;for(;H<I.length;)N.push(I[H++]);return{merged:N,changes:F}}function L(O){return O.reduce(function(I,F){return I&&F[0]==="-"},!0)}function k(O,I,F){for(var N=0;N<F;N++){var H=I[I.length-F+N].substr(1);if(O.lines[O.index+N]!==" "+H)return!1}return O.index+=F,!0}function U(O){var I=0,F=0;return O.forEach(function(N){if(typeof N!="string"){var H=U(N.mine),z=U(N.theirs);I!==void 0&&(H.oldLines===z.oldLines?I+=H.oldLines:I=void 0),F!==void 0&&(H.newLines===z.newLines?F+=H.newLines:F=void 0)}else F!==void 0&&(N[0]==="+"||N[0]===" ")&&F++,I!==void 0&&(N[0]==="-"||N[0]===" ")&&I++}),{oldLines:I,newLines:F}}},function(n,i,o){i.__esModule=!0,i.structuredPatch=l,i.createTwoFilesPatch=c,i.createPatch=u;var s=o(5);function a(d){if(Array.isArray(d)){for(var f=0,h=Array(d.length);f<d.length;f++)h[f]=d[f];return h}else return Array.from(d)}function l(d,f,h,v,m,_,S){S||(S={}),typeof S.context=="undefined"&&(S.context=4);var E=(0,s.diffLines)(h,v,S);E.push({value:"",lines:[]});function w(O){return O.map(function(I){return" "+I})}for(var T=[],C=0,P=0,R=[],A=1,L=1,k=function(I){var F=E[I],N=F.lines||F.value.replace(/\n$/,"").split(`
`);if(F.lines=N,F.added||F.removed){var H;if(!C){var z=E[I-1];C=A,P=L,z&&(R=S.context>0?w(z.lines.slice(-S.context)):[],C-=R.length,P-=R.length)}(H=R).push.apply(H,a(N.map(function(Q){return(F.added?"+":"-")+Q}))),F.added?L+=N.length:A+=N.length}else{if(C)if(N.length<=S.context*2&&I<E.length-2){var B;(B=R).push.apply(B,a(w(N)))}else{var q,W=Math.min(N.length,S.context);(q=R).push.apply(q,a(w(N.slice(0,W))));var j={oldStart:C,oldLines:A-C+W,newStart:P,newLines:L-P+W,lines:R};if(I>=E.length-2&&N.length<=S.context){var $=/\n$/.test(h),ie=/\n$/.test(v);N.length==0&&!$?R.splice(j.oldLines,0,"\\ No newline at end of file"):(!$||!ie)&&R.push("\\ No newline at end of file")}T.push(j),C=0,P=0,R=[]}A+=N.length,L+=N.length}},U=0;U<E.length;U++)k(U);return{oldFileName:d,newFileName:f,oldHeader:m,newHeader:_,hunks:T}}function c(d,f,h,v,m,_,S){var E=l(d,f,h,v,m,_,S),w=[];d==f&&w.push("Index: "+d),w.push("==================================================================="),w.push("--- "+E.oldFileName+(typeof E.oldHeader=="undefined"?"":"	"+E.oldHeader)),w.push("+++ "+E.newFileName+(typeof E.newHeader=="undefined"?"":"	"+E.newHeader));for(var T=0;T<E.hunks.length;T++){var C=E.hunks[T];w.push("@@ -"+C.oldStart+","+C.oldLines+" +"+C.newStart+","+C.newLines+" @@"),w.push.apply(w,C.lines)}return w.join(`
`)+`
`}function u(d,f,h,v,m,_){return c(d,d,f,h,v,m,_)}},function(n,i){i.__esModule=!0,i.arrayEqual=o,i.arrayStartsWith=s;function o(a,l){return a.length!==l.length?!1:s(a,l)}function s(a,l){if(l.length>a.length)return!1;for(var c=0;c<l.length;c++)if(l[c]!==a[c])return!1;return!0}},function(n,i){i.__esModule=!0,i.convertChangesToDMP=o;function o(s){for(var a=[],l=void 0,c=void 0,u=0;u<s.length;u++)l=s[u],l.added?c=1:l.removed?c=-1:c=0,a.push([c,l.value]);return a}},function(n,i){i.__esModule=!0,i.convertChangesToXML=o;function o(a){for(var l=[],c=0;c<a.length;c++){var u=a[c];u.added?l.push("<ins>"):u.removed&&l.push("<del>"),l.push(s(u.value)),u.added?l.push("</ins>"):u.removed&&l.push("</del>")}return l.join("")}function s(a){var l=a;return l=l.replace(/&/g,"&amp;"),l=l.replace(/</g,"&lt;"),l=l.replace(/>/g,"&gt;"),l=l.replace(/"/g,"&quot;"),l}}])})})(O5);var Nye="__lodash_hash_undefined__";function kye(t){return this.__data__.set(t,Nye),this}var Dye=kye;function Fye(t){return this.__data__.has(t)}var Uye=Fye,jye=dT,Bye=Dye,Vye=Uye;function b_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jye;++e<n;)this.add(t[e])}b_.prototype.add=b_.prototype.push=Bye;b_.prototype.has=Vye;var _D=b_;function Hye(t,e,n,i){for(var o=t.length,s=n+(i?1:-1);i?s--:++s<o;)if(e(t[s],s,t))return s;return-1}var zye=Hye;function Gye(t){return t!==t}var $ye=Gye;function Wye(t,e,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}var qye=Wye,Yye=zye,Kye=$ye,Xye=qye;function Jye(t,e,n){return e===e?Xye(t,e,n):Yye(t,Kye,n)}var Zye=Jye,Qye=Zye;function e_e(t,e){var n=t==null?0:t.length;return!!n&&Qye(t,e,0)>-1}var t_e=e_e;function n_e(t,e,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}var r_e=n_e;function i_e(t,e){return t.has(e)}var bD=i_e,s_e=Ou,o_e=Yo,a_e=s_e(o_e,"Set"),ED=a_e;function l_e(){}var c_e=l_e;function u_e(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var N5=u_e,k5=ED,d_e=c_e,f_e=N5,h_e=1/0,p_e=k5&&1/f_e(new k5([,-0]))[1]==h_e?function(t){return new k5(t)}:d_e,m_e=p_e,g_e=_D,v_e=t_e,y_e=r_e,__e=bD,b_e=m_e,E_e=N5,w_e=200;function x_e(t,e,n){var i=-1,o=v_e,s=t.length,a=!0,l=[],c=l;if(n)a=!1,o=y_e;else if(s>=w_e){var u=e?null:b_e(t);if(u)return E_e(u);a=!1,o=__e,c=new g_e}else c=e?[]:l;e:for(;++i<s;){var d=t[i],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else o(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var wD=x_e,S_e=wD;function T_e(t){return t&&t.length?S_e(t):[]}var xD=T_e;function C_e(t,e){async function n(){try{for(;i.pending!==null;){const o=i.pending;i.pending=null,await t(...o)}}finally{i.idle=!0}}const i=Object.assign((...o)=>{i.idle?(i.pending=o,i.idle=!1,n().catch(e)):i.pending=o},{idle:!0,pending:null});return i}async function D5(t,e){const n=t.fileByPath(e);if(n!=null?n.deletedByRewind():void 0)n.deletedByRewind(!1);else{const i=Ws({path:e,addedByRewind:!0});t.filetree().files.push(i)}}async function F5(t,e){const n=t.fileByPath(e);if(n!=null?n.addedByRewind():void 0)t.deleteFile(n,{silent:!0});else{const i=t.fileByPath(e);i&&i.deletedByRewind(!0)}}async function vg(t,e,n){let i=t.otsByPath();i[e]==null&&(i[e]=[]),i[e].push(n)}async function M_e(t,e,n){const i=t.fileByPath(e);i&&(i.modifiedByRewind(!0),i.rewindPatches(n),t.patchesByPath()[e]=n)}async function SD(t,e,n){return e.patchesAndOTs||(e.patchesAndOTs=Promise.all([F_e(t,e,n),U_e()])),e.patchesAndOTs}async function A_e(t){return t.hunks&&t.hunks.length>0&&t.oldFileName&&t.newFileName}function P_e(t){return t.receivedMasterStateDuringRewind()||t.otClient().opListsReceivedDuringRewind().length>0}function R_e(t){return xD(t.map(JSON.stringify)).map(JSON.parse)}function L_e(t){const e=[];return t.forEach(n=>{if(n.editsByUser.length)n.editsByUser.forEach(i=>{const o={id:i.user};e.push(o)});else if(n.gitEdits.files.length){const i={gitUser:n.gitUser,isGlitchRewind:n.commitMessage.includes("Rewound to commit")};e.push(i)}}),R_e(e)}async function I_e(t,e){try{let n=await t.glitchApi().v0.getUser(e.id);return qs(n)}catch(n){if(n.response.status===404)return console.log("\u{1F47B} ghost rewind user",e.id),qs(e);throw n}}async function O_e(t,e){let n=L_e(e);const i=await Promise.all(n.map(o=>{const s=t.currentProject().projectUser(o.id);return s!==void 0?(s.isOnline=!0,qs(s)):o.gitUser?qs(o):I_e(t,{id:o.id,isOnline:!0,color:na({luminosity:"light"})})}));t.rewindUsers(i)}function N_e(t){let e=null;for(const n of t)for(const i of n.editsByUser)for(const o of i.files)o&&(e===null?e=o.changeSize:e=Math.max(e,o.changeSize));return e}async function TD(t){const e=t.selectedFile();e&&(t.fileByPath(e.path())?(await t.ensureSession(e),t.setCurrentSession(e,{maintainScrollPosition:!0})):t.selectDefaultFile()),(!e||e.path()===vc)&&await t.showAssets()}async function k_e(t,e,n,i){let o=e===t.rewindRevisions().length?t.firstRevision:t.rewindRevisions()[e];t.displayedRevision(e===0?null:t.rewindRevisions()[e-1]),t.loadingRevision(!0),t.selectedRevision(o),n||t.playheadIndex(e),t.selectedFile()&&await t.selectedFile().diffSession;let[[s,a],l]=await SD(t,o,!1);t.filesWithDiffTooBig(a),console.log("\u25B6\uFE0F ",e,o,s),CD(t),s.forEach(h=>{if(h.oldFileName==="/dev/null"){const v=h.newFileName.substring(2);D5(t,v),t.patchesByPath()[v]=h}else if(h.newFileName==="/dev/null"){const v=h.oldFileName.substring(2);F5(t,v),t.patchesByPath()[v]=h}else{const v=h.oldFileName.substring(2);M_e(t,v,h)}});let c=0;for(;c<i;){const h=l.ots[c];switch(h.index=c,h.type){case"add":var u=h.path.substring(2);D5(t,u),vg(t,u,h);break;case"unlink":var d=h.oldPath.substring(2);F5(t,d),vg(t,d,h);break;case"rename":d=h.oldPath.substring(2),F5(t,d),vg(t,d,h);var f=h.newPath.substring(2);D5(t,f),vg(t,f,h);break;case"insert":case"remove":u=h.path.substring(2),vg(t,u,h);break}c+=1}t.loadingRevision(!1),await TD(t)}async function D_e(t){try{let e=await t.glitchApi().v0.getProjectGitCommits(t.currentProjectId());e.forEach((n,i)=>{i>0&&(n.nextHash=e[i-1].hash),n.editsByUser.forEach(o=>{for(let s in o.files){const a=o.files[s];a.path.startsWith("./")&&(a.path=a.path.substring(2)),t.pathIgnored(a.path)&&delete o.files[s]}}),n.gitEdits.files=n.gitEdits.files.filter(o=>!t.pathIgnored(o.path))}),e=e.filter(n=>n.hash==="Glitch-commit-end"?!1:n.editsByUser.length>0||n.gitEdits.files.length>0),e.forEach((n,i)=>{n.index=i}),t.firstRevision=e.pop(),t.rewindRevisions(e)}catch(e){throw t.notifyGenericError(!0),e}finally{t.gettingRewinds(!1)}}function CD(t){const e=[];t.files().forEach(n=>{n.diffSession=null,n.addedByRewind()&&e.push(n),n.modifiedByRewind(!1),n.rewindPatches(void 0),n.deletedByRewind(!1)}),e.forEach(n=>{t.filetree().files.remove(n)}),t.patchesByPath({}),t.otsByPath({})}async function F_e(t,e,n){const i=await t.glitchApi().v0.getProjectGitDiff(t.currentProjectId(),e.hash);let o,s;return typeof i=="string"?(o=i,s=""):[o,s]=Array.from(i),o===""?[[],[]]:(s?s=s.split(`
`):s=[],n&&(t.prefetchedDiffsTotal+=o.length),[O5.exports.parsePatch(o).filter(A_e),s])}function U_e(t,e){return Promise.resolve()}async function MD(t){if(!t.editorIsPreviewingRewind()||t.prefetchedDiffsTotal>=t.PREFETCH_LIMIT)return;const e=t.rewindRevisions();for(;t.prefetchIndex<e.length&&e[t.prefetchIndex].patchesAndOTs;)t.prefetchIndex+=1;t.prefetchIndex<e.length&&(await SD(t,e[t.prefetchIndex],!0),setTimeout(()=>MD(t),50))}function j_e(t,e){const n=C_e(k_e,o=>{e.notifyGenericError(!0)}),i=Object.assign(e,{rewindPanelVisible:te(!1),editorIsPreviewingRewind:te(!1),editorIsRewindingProject:te(!1),gettingRewinds:te(!1),receivedMasterStateDuringRewind:te(!1),rewindRevisions:te(null),firstRevision:null,selectedRevision:te(null),displayedRevision:te(null),rewindUsers:te(null),rewindLargestChangeSize:te(0),loadingRevision:te(!1),rewoundRevision:te(null),patchesByPath:te({}),otsByPath:te({}),PREFETCH_LIMIT:1e6,prefetchedDiffsTotal:0,prefetchIndex:0,filesWithDiffTooBig:te([]),playheadIndex:te(0),async initRewind(){i.editorIsPreviewingRewind(!0),i.editor().setOption("readOnly",!0),i.editor().setOption("styleActiveLine",!1),i.gettingRewinds(!0),i.otClient().awaitAck()&&await i.otClient().awaitAck(),await i.glitchApi().v0.projectGitCommitChanges(i.currentProjectId()),await D_e(i),console.log("\u23EA",i.rewindRevisions()),await O_e(i,i.rewindRevisions()),await MD(i),i.rewindLargestChangeSize(N_e(i.rewindRevisions())),i.updateEditorModeForFile(i.selectedFile()),i.markdownPreviewVisible(!1)},selectRevision(o,s=!1){n(i,o,s,void 0)},async rewindToRevision(o,s){try{i.editorIsPreviewingRewind(!1),i.editorIsRewindingProject(!0),i.rewoundRevision(i.displayedRevision()),await o.patchesAndOTs,await i.glitchApi().v0.projectGitRevert(i.currentProjectId(),o.hash),i.notifyEditorRewoundProject(!0)}catch(a){if(a instanceof ms.HTTPError){const l=await a.response.json().catch(()=>null);l!=null&&l.code&&window.alert(`Error rewinding: ${JSON.stringify(l)}`)}throw i.rewindPanelVisible(!1),i.editorIsRewindingProject(!1),a}i.rewindPanelVisible(!1),i.editorIsRewindingProject(!1)},async cleanupRewinds(){CD(i),i.rewindRevisions(null),i.rewindUsers(null),i.rewindLargestChangeSize(0),i.filesWithDiffTooBig([]),i.selectedRevision(null),i.displayedRevision(null),i.editorIsPreviewingRewind(!1),i.editor().setOption("readOnly",!1),i.editor().setOption("styleActiveLine",!i.isIOS),i.updateEditorModeForFile(i.selectedFile()),await TD(i),P_e(i)&&i.projectMachine.send({type:"REWIND_EXITED"})}});return i}const AD=t=>{const{policy:e,signature:n,accessKeyId:i}=t,{acl:o,bucket:s,namespace:a}=V_e(e),l=`https://s3.amazonaws.com/${s}`,c=function(u){const d=`${a}${u}`;return`${l}/${d}`};return{urlFor:c,upload({key:u,blob:d,cacheControl:f,contentType:h},v){const m=`${a}${u}`;return c(u),z_e(l,G_e({key:m,"Content-Type":h||d.type||"binary/octet-stream","Cache-Control":`max-age=${f||31536e3}`,AWSAccessKeyId:i,"x-amz-security-token":t.sessionToken,acl:o,policy:e,signature:n,file:d}),v).then(()=>`${l}/${a}${encodeURIComponent(u)}`)}}},PD=function(t,e){return t.filter(i=>typeof i=="object").map(i=>i[e]).filter(i=>i)[0]},B_e=t=>t.filter(function(...e){const[n,i,o]=Array.from(e[0]);return i==="$key"&&(n==="starts-with"||n==="eq")})[0][2];var V_e=function(t){const e=JSON.parse(atob(t)),{conditions:n}=e;return{acl:PD(n,"acl"),bucket:PD(n,"bucket"),namespace:B_e(n)}};const H_e=t=>t.status.toString()[0]==="2";var z_e=(t,e,n)=>new Promise(function(i,o){const s=new XMLHttpRequest;return s.open("POST",t,!0),s.upload!=null&&(s.upload.onprogress=n),s.onreadystatechange=function(a){if(s.readyState===4)return H_e(s)?i(s):o(s)},s.send(e)}),G_e=function(t){let e;return e=Object.keys(t).reduce(function(n,i){const o=t[i];return o&&n.append(i,o),n},new FormData)};const $_e=function(t,e){const n=function(o){const s=o.getValue().split(`
`).map(function(a){try{return JSON.parse(a)}catch{}}).filter(a=>a!=null);return e.assets(e.parseAssets(s))},i=o=>e.ensureSession(o).then(function(s){if(e.editor().swapDoc(s),o.assetsListener)return s;o.assetsListener=s;const a=()=>n(s);return s.on("change",a),a(),s});return e.extend({async assetSession(){let o=e.fileByPath(vc);return o||(o=await e.newFile(vc)),i(o)},parseAssets(o){const s={};return o.forEach(function(a){const l=a.uuid;return a.deleted?delete s[l]:s[l]=a}),Object.keys(s).map(a=>s[a])},newAsset(o){return e.showAssets().then(function(s){const a={line:s.lastLine(),ch:0};return s.replaceRange(JSON.stringify(o)+`
`,a)})},deleteAsset(o){return e.showAssets().then(function(s){const a={line:s.lastLine(),ch:0},l={uuid:o.uuid,deleted:!0};return s.replaceRange(JSON.stringify(l)+`
`,a)})},async renameAsset(o,s){const a=e.currentProject(),l=o.url.replace(/^https:\/\/[^/]+\//,"").replace("%2F","/");await e.glitchApi().copyAsset(a.id(),s,{sourceKey:l}),e.deleteAsset(o),o.name=s,o.url=`${oT}/${a.id()}/${s}`,e.newAsset(o)},generateUploadProgressEventHandler(o){return function({lengthComputable:s,loaded:a,total:l}){return s?o.ratio(a/l):o.ratio((1+o.ratio())/2)}},uploadAsset(o,s=!1){const a={ratio:te(0),isUploadedByUser:s},l=o.type||"binary/octet-stream";return e.pendingUploads.push(a),e.getPolicy({contentType:l}).then(c=>AD(c).upload({key:o.name,blob:o,contentType:l},e.generateUploadProgressEventHandler(a))).finally(function(){return e.pendingUploads.remove(a),e.currentProject().updatedAt(new Date().toISOString()),e.touchProject()})},uploadProjectAvatarAsset(o,s){s==null&&(s=e.currentProject());const a=URL.createObjectURL(o);s!=null&&s.temporaryAvatar(a);const l={ratio:te(0)};return e.pendingUploads.push(l),e.getProjectAvatarPolicy(s).then(c=>AD(c).upload({key:"",blob:o,cacheControl:60},e.generateUploadProgressEventHandler(l))).then(function(c){return s.avatarUpdatedAt(new Date().toISOString()),s.save(e.glitchApi()),c}).finally(c=>e.pendingUploads.remove(l))}})};var W_e=function(){function t(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var U5=function(){return new B5};function RD(t){return Array.isArray(t)?t:[t]}var Y_e=/^\s+$/,K_e=/^\\\!/,X_e=/^\\#/,j5="/",LD=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",B5=function(){function t(){q_e(this,t),this._rules=[],this[LD]=!0,this._initCache()}return W_e(t,[{key:"_initCache",value:function(){this._cache={}}},{key:"add",value:function(n){return this._added=!1,typeof n=="string"&&(n=n.split(/\r?\n/g)),RD(n).forEach(this._addPattern,this),this._added&&this._initCache(),this}},{key:"addPattern",value:function(n){return this.add(n)}},{key:"_addPattern",value:function(n){if(n&&n[LD]){this._rules=this._rules.concat(n._rules),this._added=!0;return}if(this._checkPattern(n)){var i=this._createRule(n);this._added=!0,this._rules.push(i)}}},{key:"_checkPattern",value:function(n){return n&&typeof n=="string"&&!Y_e.test(n)&&n.indexOf("#")!==0}},{key:"filter",value:function(n){var i=this;return RD(n).filter(function(o){return i._filter(o)})}},{key:"createFilter",value:function(){var n=this;return function(i){return n._filter(i)}}},{key:"ignores",value:function(n){return!this._filter(n)}},{key:"_createRule",value:function(n){var i=n,o=!1;n.indexOf("!")===0&&(o=!0,n=n.substr(1)),n=n.replace(K_e,"!").replace(X_e,"#");var s=Q_e(n,o);return{origin:i,pattern:n,negative:o,regex:s}}},{key:"_filter",value:function(n,i){return n?n in this._cache?this._cache[n]:(i||(i=n.split(j5)),i.pop(),this._cache[n]=i.length?this._filter(i.join(j5)+j5,i)&&this._test(n):this._test(n)):!1}},{key:"_test",value:function(n){var i=0;return this._rules.forEach(function(o){i^o.negative||(i=o.negative^o.regex.test(n))}),!i}}]),t}(),ID=[[/\\?\s+$/,function(t){return t.indexOf("\\")===0?" ":""}],[/\\\s/g,function(){return" "}],[/[\\\^$.|?*+()\[{]/g,function(t){return"\\"+t}],[/^\//,function(){return"^"}],[/\//g,function(){return"\\/"}],[/^\^*\\\*\\\*\\\//,function(){return"^(?:.*\\/)?"}]],OD=[[/^(?=[^\^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,function(t,e,n){return e+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"}],[/(^|[^\\]+)\\\*(?=.+)/g,function(t,e){return e+"[^\\/]*"}],[/(\^|\\\/)?\\\*$/,function(t,e){return(e?e+"[^/]+":"[^/]*")+"(?=$|\\/$)"}],[/\\\\\\/g,function(){return"\\"}]],J_e=[].concat(ID,[[/(?:[^*\/])$/,function(t){return t+"(?=$|\\/)"}]],OD),Z_e=[].concat(ID,[[/(?:[^*\/])$/,function(t){return t+"(?=$|\\/$)"}]],OD),ND={};function Q_e(t,e){var n=ND[t];if(n)return n;var i=e?Z_e:J_e,o=i.reduce(function(s,a){return s.replace(a[0],a[1].bind(t))},t);return ND[t]=new RegExp(o,"i")}if(typeof process!="undefined"&&(process.env&&{}.IGNORE_TEST_WIN32||process.platform==="win32")){var ebe=B5.prototype._filter,tbe=function(e){return/^\\\\\?\\/.test(e)||/[^\x00-\x80]+/.test(e)?e:e.replace(/\\/g,"/")};B5.prototype._filter=function(t,e){return t=tbe(t),ebe.call(this,t,e)}}const nbe=Wo.replace(/^http/,"ws");function rbe(t,e){let n,i,o,s=null,a=U5();const l=c=>i.idToPath(c).substring(2);return e.extend({clearConnectionErrors(){return Object.keys(e.connectionErrors).forEach(c=>e.connectionErrors[c](!1))},canBroadcast:te(!0),viewerCount:te(0),connectionErrors:{desyncError:te(!1),socketClosed:te(!1),socketError:te(!1)},otClient(){return i},otCodeMirror(){return o},broadcast(c){if(!(!e.canBroadcast()&&!e.currentUser().awaitingInvite()))return i!=null?i.sendBroadcast(c):void 0},async connectToOT(c,u,d){return new Promise(function(f,h){return s=f,i=u,o=d,e.clearConnectionErrors(),i.addEventListener(e,async function(v,m){switch(v){case"connected":return m?(e.connectionErrors.socketClosed(!1),e.connectionErrors.socketError(!1),e.broadcastUser()):e.connectionErrors.socketClosed(!0);case"new-state":return e.initFromMasterState(m,s);case"can-broadcast":return e.canBroadcast(m);case"oplist":return e.handleOpList(m);case"broadcast":return e.handleBroadcast(m);case"filetree-updated":return e.generateCollapsedFiletree()}}),i.connect(`${nbe}/${c.id()}/ot?authorization=${e.persistentToken()}`)})},disconnectFromOT(){if(i)return i.removeEventListener(e),i.disconnect()},pathIgnored(c){return a.ignores(c)&&c!==".gitignore"&&c!==".env"&&c!==".glitch-assets"},registerAllDirectories(c,u){return i.document(c).then(function(d){const f=[];for(let h in d.children){const v=d.children[h],m=i.documentImmediate(v),_=l(m.docId);m.docType==="directory"?f.push(m):e.pathIgnored(_)||u.push(m)}return Promise.all(f.map(h=>e.registerAllDirectories(h.docId,u)))})},loadGitIgnores(c){if(a=U5(),a.add(d1e),c){const u=c.content.split(K7).filter(d=>d.length>0&&!d.startsWith("#"));a.add(u)}return a},loadAllFilesIfEmbedded(c){return e.editorIsEmbedded()?Promise.all(c.map(u=>e.ensureSession(u,i))):Promise.resolve()},initFromMasterState(c,u){let d=[];const f=c.documents.root.children["."];return a=U5(),i.document(f).then(function(){for(let h in c.documents){const v=c.documents[h];if(v.name===".gitignore"&&v.docType==="file")return i.document(v.docId)}}).then(h=>a=e.loadGitIgnores(h)).then(()=>e.registerAllDirectories(f,d)).then(function(){return d=d.map(h=>({path:l(h.docId),uuid:h.docId})).filter(h=>!e.pathIgnored(h.path)).map(Ws),d.sort(e.alphabeticalize),e.filetree().files.observe(e.generateCollapsedFiletree),e.currentProject()&&(e.currentProject().filetree().files.observe(e.generateCollapsedFiletree),e.currentProject().filetree.observe(e.generateCollapsedFiletree)),e.editorIsPreviewingRewind.observe(e.generateCollapsedFiletree),e.editorIsRewindingProject.observe(e.generateCollapsedFiletree),e.filetree().files(d),e.loadAllFilesIfEmbedded(d)}).then(async()=>e.currentProject()?e.setProjectBoostStatus(e.currentProject()):Promise.resolve()).then(function(){var h;if(e.readDebuggerSetting(),e.readEslintrc(),e.readWatchJson(),e.readPrettierrc(),e.readEnv(),(h=e.selectedFile())==null?void 0:h.path().toLowerCase().endsWith(".md")){const v=e.currentProjectId(),m=e.getUserPref("markdownPreviewVisible"),_=(m!=null?m[v]:void 0)||!0;e.markdownPreviewVisible(_)}return e.selectCurrentFile(),u()}).catch(h=>{e.notifyGenericError(!0),Yi(h)})},selectCurrentFile(){e.restorePath()?(e.userPositionIsRestored(!1),e.selectFileByPathOrDefaultFile(e.restorePath())):e.selectDefaultFile()},handleOpList(c){c.ops.forEach(function(u){let d,f;if(u.docType==="directory")switch(u.type){case"add":d=[];const h=l(u.docId);if(!e.pathIgnored(h+"/"))return e.registerAllDirectories(u.docId,d).then(function(){d.forEach(v=>e.filetree().files.push(Ws({path:l(v.docId),uuid:v.docId})))});break;case"unlink":return f=u.oldPath?u.oldPath.substring(2):null,e.deleteFolder(u.docId,f,{silent:!0});case"rename":return f=u.oldPath.substring(2),e.pathIgnored(f+"/")?(d=[],e.registerAllDirectories(u.docId,d).then(function(){d.forEach(v=>e.filetree().files.push(Ws({path:l(v.docId),uuid:v.docId})))})):e.renameFolder(u.docId,f,u.newName,!1)}else switch(u.type){case"add":const h=l(u.parentId),v=h?h+"/"+u.name:u.name;if(!e.pathIgnored(v)){const m=Ws({path:v,uuid:u.docId});e.filetree().files.push(m)}break;case"unlink":return e.deleteFile(e.fileById(u.docId),{silent:!0});case"rename":return e.handleRename(u.docId)}})},handleRename(c){const u=l(c),d=e.fileByPath(u);d&&e.deleteFile(d,{silent:!0});const f=e.fileById(c);if(!f&&!e.pathIgnored(u)){const h=Ws({path:l(c),uuid:c});e.filetree().files.push(h)}else e.pathIgnored(u)?e.deleteFile(f,{silent:!0}):e.renameFile(f,u,!1)},resourceState(c){return c>q7?"error":c>Y7?"warning":"ok"},overallResourceState(){return e.projectContainerCpuStatus()==="error"||e.projectContainerMemoryStatus()==="error"||e.projectContainerDiskStatus()==="error"?"error":e.projectContainerCpuStatus()==="warning"||e.projectContainerMemoryStatus()==="warning"||e.projectContainerDiskStatus()==="warning"?"warning":"ok"},handleProjectPerformanceStats(c){return c.diskUsagePercent=c.diskUsage/c.diskSize*100,c.memoryUsagePercent=c.memoryUsage/c.memoryLimit*100,c.quotaUsagePercent==null&&(c.quotaUsagePercent=0),c.quotaUsagePercent*=100,e.projectContainerResourcesData(c),e.projectContainerResourcesDataLoaded(!0),e.projectContainerCpuStatus(e.resourceState(c.quotaUsagePercent)),e.projectContainerMemoryStatus(e.resourceState(c.memoryUsagePercent)),e.projectContainerDiskStatus(e.resourceState(c.diskUsagePercent)),e.projectContainerResourcesStatus(e.overallResourceState())},async handleBroadcast(c){const{user:u,viewerCount:d,projectName:f,remoteConnected:h,type:v}=c;if(v==="project-stats"&&e.handleProjectPerformanceStats(c),u&&!e.editorIsEmbedded()?await e.updateRemoteUser(u):f&&e.updateProjectName(f),d!=null&&e.viewerCount(d),h!=null&&h!==i.clientId())return e.broadcastUser()},OTNewFile(c){return o.createFile(c)},OTDeleteFile(c){return o.deleteFile(c)},OTDeleteFolder(c){return o.deleteFolder(c)},OTRenameFile(c){return o.renameFile(c)},OTRenameFolder(c,u){return o.renameFolder(c,u)},checkIfSevereDisconnection(){e.notifyReconnecting(!1);const c=n();return e.notifyConnectionError(c)}}),e.anyConnectionError=n=()=>Object.keys(e.connectionErrors).some(c=>e.connectionErrors[c]()),te(n).observe(function(c){if(e.connectionErrors.socketClosed()||e.notifyReconnecting()){if(e.userPositionIsRestored(!1),e.notifyReconnecting(c),e.notifyReconnected(!c),c)return setTimeout(e.checkIfSevereDisconnection,3e4)}else return e.notifyConnectionError(c)}),e}var ibe=og,sbe=ja,obe="Expected a function";function abe(t,e,n){var i=!0,o=!0;if(typeof t!="function")throw new TypeError(obe);return sbe(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ibe(t,e,{leading:i,maxWait:e,trailing:o})}var kD=abe,DD={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,o=0;e.Diff=function(s,a){return[s,a]},e.prototype.diff_main=function(s,a,l,c){typeof c=="undefined"&&(this.Diff_Timeout<=0?c=Number.MAX_VALUE:c=new Date().getTime()+this.Diff_Timeout*1e3);var u=c;if(s==null||a==null)throw new Error("Null input. (diff_main)");if(s==a)return s?[new e.Diff(o,s)]:[];typeof l=="undefined"&&(l=!0);var d=l,f=this.diff_commonPrefix(s,a),h=s.substring(0,f);s=s.substring(f),a=a.substring(f),f=this.diff_commonSuffix(s,a);var v=s.substring(s.length-f);s=s.substring(0,s.length-f),a=a.substring(0,a.length-f);var m=this.diff_compute_(s,a,d,u);return h&&m.unshift(new e.Diff(o,h)),v&&m.push(new e.Diff(o,v)),this.diff_cleanupMerge(m),m},e.prototype.diff_compute_=function(s,a,l,c){var u;if(!s)return[new e.Diff(i,a)];if(!a)return[new e.Diff(n,s)];var d=s.length>a.length?s:a,f=s.length>a.length?a:s,h=d.indexOf(f);if(h!=-1)return u=[new e.Diff(i,d.substring(0,h)),new e.Diff(o,f),new e.Diff(i,d.substring(h+f.length))],s.length>a.length&&(u[0][0]=u[2][0]=n),u;if(f.length==1)return[new e.Diff(n,s),new e.Diff(i,a)];var v=this.diff_halfMatch_(s,a);if(v){var m=v[0],_=v[1],S=v[2],E=v[3],w=v[4],T=this.diff_main(m,S,l,c),C=this.diff_main(_,E,l,c);return T.concat([new e.Diff(o,w)],C)}return l&&s.length>100&&a.length>100?this.diff_lineMode_(s,a,c):this.diff_bisect_(s,a,c)},e.prototype.diff_lineMode_=function(s,a,l){var c=this.diff_linesToChars_(s,a);s=c.chars1,a=c.chars2;var u=c.lineArray,d=this.diff_main(s,a,!1,l);this.diff_charsToLines_(d,u),this.diff_cleanupSemantic(d),d.push(new e.Diff(o,""));for(var f=0,h=0,v=0,m="",_="";f<d.length;){switch(d[f][0]){case i:v++,_+=d[f][1];break;case n:h++,m+=d[f][1];break;case o:if(h>=1&&v>=1){d.splice(f-h-v,h+v),f=f-h-v;for(var S=this.diff_main(m,_,!1,l),E=S.length-1;E>=0;E--)d.splice(f,0,S[E]);f=f+S.length}v=0,h=0,m="",_="";break}f++}return d.pop(),d},e.prototype.diff_bisect_=function(s,a,l){for(var c=s.length,u=a.length,d=Math.ceil((c+u)/2),f=d,h=2*d,v=new Array(h),m=new Array(h),_=0;_<h;_++)v[_]=-1,m[_]=-1;v[f+1]=0,m[f+1]=0;for(var S=c-u,E=S%2!=0,w=0,T=0,C=0,P=0,R=0;R<d&&!(new Date().getTime()>l);R++){for(var A=-R+w;A<=R-T;A+=2){var L=f+A,k;A==-R||A!=R&&v[L-1]<v[L+1]?k=v[L+1]:k=v[L-1]+1;for(var U=k-A;k<c&&U<u&&s.charAt(k)==a.charAt(U);)k++,U++;if(v[L]=k,k>c)T+=2;else if(U>u)w+=2;else if(E){var O=f+S-A;if(O>=0&&O<h&&m[O]!=-1){var I=c-m[O];if(k>=I)return this.diff_bisectSplit_(s,a,k,U,l)}}}for(var F=-R+C;F<=R-P;F+=2){var O=f+F,I;F==-R||F!=R&&m[O-1]<m[O+1]?I=m[O+1]:I=m[O-1]+1;for(var N=I-F;I<c&&N<u&&s.charAt(c-I-1)==a.charAt(u-N-1);)I++,N++;if(m[O]=I,I>c)P+=2;else if(N>u)C+=2;else if(!E){var L=f+S-F;if(L>=0&&L<h&&v[L]!=-1){var k=v[L],U=f+k-L;if(I=c-I,k>=I)return this.diff_bisectSplit_(s,a,k,U,l)}}}}return[new e.Diff(n,s),new e.Diff(i,a)]},e.prototype.diff_bisectSplit_=function(s,a,l,c,u){var d=s.substring(0,l),f=a.substring(0,c),h=s.substring(l),v=a.substring(c),m=this.diff_main(d,f,!1,u),_=this.diff_main(h,v,!1,u);return m.concat(_)},e.prototype.diff_linesToChars_=function(s,a){var l=[],c={};l[0]="";function u(v){for(var m="",_=0,S=-1,E=l.length;S<v.length-1;){S=v.indexOf(`
`,_),S==-1&&(S=v.length-1);var w=v.substring(_,S+1);(c.hasOwnProperty?c.hasOwnProperty(w):c[w]!==void 0)?m+=String.fromCharCode(c[w]):(E==d&&(w=v.substring(_),S=v.length),m+=String.fromCharCode(E),c[w]=E,l[E++]=w),_=S+1}return m}var d=4e4,f=u(s);d=65535;var h=u(a);return{chars1:f,chars2:h,lineArray:l}},e.prototype.diff_charsToLines_=function(s,a){for(var l=0;l<s.length;l++){for(var c=s[l][1],u=[],d=0;d<c.length;d++)u[d]=a[c.charCodeAt(d)];s[l][1]=u.join("")}},e.prototype.diff_commonPrefix=function(s,a){if(!s||!a||s.charAt(0)!=a.charAt(0))return 0;for(var l=0,c=Math.min(s.length,a.length),u=c,d=0;l<u;)s.substring(d,u)==a.substring(d,u)?(l=u,d=l):c=u,u=Math.floor((c-l)/2+l);return u},e.prototype.diff_commonSuffix=function(s,a){if(!s||!a||s.charAt(s.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,c=Math.min(s.length,a.length),u=c,d=0;l<u;)s.substring(s.length-u,s.length-d)==a.substring(a.length-u,a.length-d)?(l=u,d=l):c=u,u=Math.floor((c-l)/2+l);return u},e.prototype.diff_commonOverlap_=function(s,a){var l=s.length,c=a.length;if(l==0||c==0)return 0;l>c?s=s.substring(l-c):l<c&&(a=a.substring(0,l));var u=Math.min(l,c);if(s==a)return u;for(var d=0,f=1;;){var h=s.substring(u-f),v=a.indexOf(h);if(v==-1)return d;f+=v,(v==0||s.substring(u-f)==a.substring(0,f))&&(d=f,f++)}},e.prototype.diff_halfMatch_=function(s,a){if(this.Diff_Timeout<=0)return null;var l=s.length>a.length?s:a,c=s.length>a.length?a:s;if(l.length<4||c.length*2<l.length)return null;var u=this;function d(T,C,P){for(var R=T.substring(P,P+Math.floor(T.length/4)),A=-1,L="",k,U,O,I;(A=C.indexOf(R,A+1))!=-1;){var F=u.diff_commonPrefix(T.substring(P),C.substring(A)),N=u.diff_commonSuffix(T.substring(0,P),C.substring(0,A));L.length<N+F&&(L=C.substring(A-N,A)+C.substring(A,A+F),k=T.substring(0,P-N),U=T.substring(P+F),O=C.substring(0,A-N),I=C.substring(A+F))}return L.length*2>=T.length?[k,U,O,I,L]:null}var f=d(l,c,Math.ceil(l.length/4)),h=d(l,c,Math.ceil(l.length/2)),v;if(!f&&!h)return null;h?f?v=f[4].length>h[4].length?f:h:v=h:v=f;var m,_,S,E;s.length>a.length?(m=v[0],_=v[1],S=v[2],E=v[3]):(S=v[0],E=v[1],m=v[2],_=v[3]);var w=v[4];return[m,_,S,E,w]},e.prototype.diff_cleanupSemantic=function(s){for(var a=!1,l=[],c=0,u=null,d=0,f=0,h=0,v=0,m=0;d<s.length;)s[d][0]==o?(l[c++]=d,f=v,h=m,v=0,m=0,u=s[d][1]):(s[d][0]==i?v+=s[d][1].length:m+=s[d][1].length,u&&u.length<=Math.max(f,h)&&u.length<=Math.max(v,m)&&(s.splice(l[c-1],0,new e.Diff(n,u)),s[l[c-1]+1][0]=i,c--,c--,d=c>0?l[c-1]:-1,f=0,h=0,v=0,m=0,u=null,a=!0)),d++;for(a&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),d=1;d<s.length;){if(s[d-1][0]==n&&s[d][0]==i){var _=s[d-1][1],S=s[d][1],E=this.diff_commonOverlap_(_,S),w=this.diff_commonOverlap_(S,_);E>=w?(E>=_.length/2||E>=S.length/2)&&(s.splice(d,0,new e.Diff(o,S.substring(0,E))),s[d-1][1]=_.substring(0,_.length-E),s[d+1][1]=S.substring(E),d++):(w>=_.length/2||w>=S.length/2)&&(s.splice(d,0,new e.Diff(o,_.substring(0,w))),s[d-1][0]=i,s[d-1][1]=S.substring(0,S.length-w),s[d+1][0]=n,s[d+1][1]=_.substring(w),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(s){function a(w,T){if(!w||!T)return 6;var C=w.charAt(w.length-1),P=T.charAt(0),R=C.match(e.nonAlphaNumericRegex_),A=P.match(e.nonAlphaNumericRegex_),L=R&&C.match(e.whitespaceRegex_),k=A&&P.match(e.whitespaceRegex_),U=L&&C.match(e.linebreakRegex_),O=k&&P.match(e.linebreakRegex_),I=U&&w.match(e.blanklineEndRegex_),F=O&&T.match(e.blanklineStartRegex_);return I||F?5:U||O?4:R&&!L&&k?3:L||k?2:R||A?1:0}for(var l=1;l<s.length-1;){if(s[l-1][0]==o&&s[l+1][0]==o){var c=s[l-1][1],u=s[l][1],d=s[l+1][1],f=this.diff_commonSuffix(c,u);if(f){var h=u.substring(u.length-f);c=c.substring(0,c.length-f),u=h+u.substring(0,u.length-f),d=h+d}for(var v=c,m=u,_=d,S=a(c,u)+a(u,d);u.charAt(0)===d.charAt(0);){c+=u.charAt(0),u=u.substring(1)+d.charAt(0),d=d.substring(1);var E=a(c,u)+a(u,d);E>=S&&(S=E,v=c,m=u,_=d)}s[l-1][1]!=v&&(v?s[l-1][1]=v:(s.splice(l-1,1),l--),s[l][1]=m,_?s[l+1][1]=_:(s.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var a=!1,l=[],c=0,u=null,d=0,f=!1,h=!1,v=!1,m=!1;d<s.length;)s[d][0]==o?(s[d][1].length<this.Diff_EditCost&&(v||m)?(l[c++]=d,f=v,h=m,u=s[d][1]):(c=0,u=null),v=m=!1):(s[d][0]==n?m=!0:v=!0,u&&(f&&h&&v&&m||u.length<this.Diff_EditCost/2&&f+h+v+m==3)&&(s.splice(l[c-1],0,new e.Diff(n,u)),s[l[c-1]+1][0]=i,c--,u=null,f&&h?(v=m=!0,c=0):(c--,d=c>0?l[c-1]:-1,v=m=!1),a=!0)),d++;a&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(o,""));for(var a=0,l=0,c=0,u="",d="",f;a<s.length;)switch(s[a][0]){case i:c++,d+=s[a][1],a++;break;case n:l++,u+=s[a][1],a++;break;case o:l+c>1?(l!==0&&c!==0&&(f=this.diff_commonPrefix(d,u),f!==0&&(a-l-c>0&&s[a-l-c-1][0]==o?s[a-l-c-1][1]+=d.substring(0,f):(s.splice(0,0,new e.Diff(o,d.substring(0,f))),a++),d=d.substring(f),u=u.substring(f)),f=this.diff_commonSuffix(d,u),f!==0&&(s[a][1]=d.substring(d.length-f)+s[a][1],d=d.substring(0,d.length-f),u=u.substring(0,u.length-f))),a-=l+c,s.splice(a,l+c),u.length&&(s.splice(a,0,new e.Diff(n,u)),a++),d.length&&(s.splice(a,0,new e.Diff(i,d)),a++),a++):a!==0&&s[a-1][0]==o?(s[a-1][1]+=s[a][1],s.splice(a,1)):a++,c=0,l=0,u="",d="";break}s[s.length-1][1]===""&&s.pop();var h=!1;for(a=1;a<s.length-1;)s[a-1][0]==o&&s[a+1][0]==o&&(s[a][1].substring(s[a][1].length-s[a-1][1].length)==s[a-1][1]?(s[a][1]=s[a-1][1]+s[a][1].substring(0,s[a][1].length-s[a-1][1].length),s[a+1][1]=s[a-1][1]+s[a+1][1],s.splice(a-1,1),h=!0):s[a][1].substring(0,s[a+1][1].length)==s[a+1][1]&&(s[a-1][1]+=s[a+1][1],s[a][1]=s[a][1].substring(s[a+1][1].length)+s[a+1][1],s.splice(a+1,1),h=!0)),a++;h&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,a){var l=0,c=0,u=0,d=0,f;for(f=0;f<s.length&&(s[f][0]!==i&&(l+=s[f][1].length),s[f][0]!==n&&(c+=s[f][1].length),!(l>a));f++)u=l,d=c;return s.length!=f&&s[f][0]===n?d:d+(a-u)},e.prototype.diff_prettyHtml=function(s){for(var a=[],l=/&/g,c=/</g,u=/>/g,d=/\n/g,f=0;f<s.length;f++){var h=s[f][0],v=s[f][1],m=v.replace(l,"&amp;").replace(c,"&lt;").replace(u,"&gt;").replace(d,"&para;<br>");switch(h){case i:a[f]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case n:a[f]='<del style="background:#ffe6e6;">'+m+"</del>";break;case o:a[f]="<span>"+m+"</span>";break}}return a.join("")},e.prototype.diff_text1=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==i&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_text2=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==n&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_levenshtein=function(s){for(var a=0,l=0,c=0,u=0;u<s.length;u++){var d=s[u][0],f=s[u][1];switch(d){case i:l+=f.length;break;case n:c+=f.length;break;case o:a+=Math.max(l,c),l=0,c=0;break}}return a+=Math.max(l,c),a},e.prototype.diff_toDelta=function(s){for(var a=[],l=0;l<s.length;l++)switch(s[l][0]){case i:a[l]="+"+encodeURI(s[l][1]);break;case n:a[l]="-"+s[l][1].length;break;case o:a[l]="="+s[l][1].length;break}return a.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,a){for(var l=[],c=0,u=0,d=a.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{l[c++]=new e.Diff(i,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var v=parseInt(h,10);if(isNaN(v)||v<0)throw new Error("Invalid number in diff_fromDelta: "+h);var m=s.substring(u,u+=v);d[f].charAt(0)=="="?l[c++]=new e.Diff(o,m):l[c++]=new e.Diff(n,m);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return l},e.prototype.match_main=function(s,a,l){if(s==null||a==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,s.length)),s==a?0:s.length?s.substring(l,l+a.length)==a?l:this.match_bitap_(s,a,l):-1},e.prototype.match_bitap_=function(s,a,l){if(a.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var c=this.match_alphabet_(a),u=this;function d(k,U){var O=k/a.length,I=Math.abs(l-U);return u.Match_Distance?O+I/u.Match_Distance:I?1:O}var f=this.Match_Threshold,h=s.indexOf(a,l);h!=-1&&(f=Math.min(d(0,h),f),h=s.lastIndexOf(a,l+a.length),h!=-1&&(f=Math.min(d(0,h),f)));var v=1<<a.length-1;h=-1;for(var m,_,S=a.length+s.length,E,w=0;w<a.length;w++){for(m=0,_=S;m<_;)d(w,l+_)<=f?m=_:S=_,_=Math.floor((S-m)/2+m);S=_;var T=Math.max(1,l-_+1),C=Math.min(l+_,s.length)+a.length,P=Array(C+2);P[C+1]=(1<<w)-1;for(var R=C;R>=T;R--){var A=c[s.charAt(R-1)];if(w===0?P[R]=(P[R+1]<<1|1)&A:P[R]=(P[R+1]<<1|1)&A|((E[R+1]|E[R])<<1|1)|E[R+1],P[R]&v){var L=d(w,R-1);if(L<=f)if(f=L,h=R-1,h>l)T=Math.max(1,2*l-h);else break}}if(d(w+1,l)>f)break;E=P}return h},e.prototype.match_alphabet_=function(s){for(var a={},l=0;l<s.length;l++)a[s.charAt(l)]=0;for(var l=0;l<s.length;l++)a[s.charAt(l)]|=1<<s.length-l-1;return a},e.prototype.patch_addContext_=function(s,a){if(a.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var l=a.substring(s.start2,s.start2+s.length1),c=0;a.indexOf(l)!=a.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,l=a.substring(s.start2-c,s.start2+s.length1+c);c+=this.Patch_Margin;var u=a.substring(s.start2-c,s.start2);u&&s.diffs.unshift(new e.Diff(o,u));var d=a.substring(s.start2+s.length1,s.start2+s.length1+c);d&&s.diffs.push(new e.Diff(o,d)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+d.length,s.length2+=u.length+d.length}},e.prototype.patch_make=function(s,a,l){var c,u;if(typeof s=="string"&&typeof a=="string"&&typeof l=="undefined")c=s,u=this.diff_main(c,a,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof a=="undefined"&&typeof l=="undefined")u=s,c=this.diff_text1(u);else if(typeof s=="string"&&a&&typeof a=="object"&&typeof l=="undefined")c=s,u=a;else if(typeof s=="string"&&typeof a=="string"&&l&&typeof l=="object")c=s,u=l;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var d=[],f=new e.patch_obj,h=0,v=0,m=0,_=c,S=c,E=0;E<u.length;E++){var w=u[E][0],T=u[E][1];switch(!h&&w!==o&&(f.start1=v,f.start2=m),w){case i:f.diffs[h++]=u[E],f.length2+=T.length,S=S.substring(0,m)+T+S.substring(m);break;case n:f.length1+=T.length,f.diffs[h++]=u[E],S=S.substring(0,m)+S.substring(m+T.length);break;case o:T.length<=2*this.Patch_Margin&&h&&u.length!=E+1?(f.diffs[h++]=u[E],f.length1+=T.length,f.length2+=T.length):T.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,_),d.push(f),f=new e.patch_obj,h=0,_=S,v=m);break}w!==i&&(v+=T.length),w!==n&&(m+=T.length)}return h&&(this.patch_addContext_(f,_),d.push(f)),d},e.prototype.patch_deepCopy=function(s){for(var a=[],l=0;l<s.length;l++){var c=s[l],u=new e.patch_obj;u.diffs=[];for(var d=0;d<c.diffs.length;d++)u.diffs[d]=new e.Diff(c.diffs[d][0],c.diffs[d][1]);u.start1=c.start1,u.start2=c.start2,u.length1=c.length1,u.length2=c.length2,a[l]=u}return a},e.prototype.patch_apply=function(s,a){if(s.length==0)return[a,[]];s=this.patch_deepCopy(s);var l=this.patch_addPadding(s);a=l+a+l,this.patch_splitMax(s);for(var c=0,u=[],d=0;d<s.length;d++){var f=s[d].start2+c,h=this.diff_text1(s[d].diffs),v,m=-1;if(h.length>this.Match_MaxBits?(v=this.match_main(a,h.substring(0,this.Match_MaxBits),f),v!=-1&&(m=this.match_main(a,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(m==-1||v>=m)&&(v=-1))):v=this.match_main(a,h,f),v==-1)u[d]=!1,c-=s[d].length2-s[d].length1;else{u[d]=!0,c=v-f;var _;if(m==-1?_=a.substring(v,v+h.length):_=a.substring(v,m+this.Match_MaxBits),h==_)a=a.substring(0,v)+this.diff_text2(s[d].diffs)+a.substring(v+h.length);else{var S=this.diff_main(h,_,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(S)/h.length>this.Patch_DeleteThreshold)u[d]=!1;else{this.diff_cleanupSemanticLossless(S);for(var E=0,w,T=0;T<s[d].diffs.length;T++){var C=s[d].diffs[T];C[0]!==o&&(w=this.diff_xIndex(S,E)),C[0]===i?a=a.substring(0,v+w)+C[1]+a.substring(v+w):C[0]===n&&(a=a.substring(0,v+w)+a.substring(v+this.diff_xIndex(S,E+C[1].length))),C[0]!==n&&(E+=C[1].length)}}}}}return a=a.substring(l.length,a.length-l.length),[a,u]},e.prototype.patch_addPadding=function(s){for(var a=this.Patch_Margin,l="",c=1;c<=a;c++)l+=String.fromCharCode(c);for(var c=0;c<s.length;c++)s[c].start1+=a,s[c].start2+=a;var u=s[0],d=u.diffs;if(d.length==0||d[0][0]!=o)d.unshift(new e.Diff(o,l)),u.start1-=a,u.start2-=a,u.length1+=a,u.length2+=a;else if(a>d[0][1].length){var f=a-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],u.start1-=f,u.start2-=f,u.length1+=f,u.length2+=f}if(u=s[s.length-1],d=u.diffs,d.length==0||d[d.length-1][0]!=o)d.push(new e.Diff(o,l)),u.length1+=a,u.length2+=a;else if(a>d[d.length-1][1].length){var f=a-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,f),u.length1+=f,u.length2+=f}return l},e.prototype.patch_splitMax=function(s){for(var a=this.Match_MaxBits,l=0;l<s.length;l++)if(!(s[l].length1<=a)){var c=s[l];s.splice(l--,1);for(var u=c.start1,d=c.start2,f="";c.diffs.length!==0;){var h=new e.patch_obj,v=!0;for(h.start1=u-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new e.Diff(o,f)));c.diffs.length!==0&&h.length1<a-this.Patch_Margin;){var m=c.diffs[0][0],_=c.diffs[0][1];m===i?(h.length2+=_.length,d+=_.length,h.diffs.push(c.diffs.shift()),v=!1):m===n&&h.diffs.length==1&&h.diffs[0][0]==o&&_.length>2*a?(h.length1+=_.length,u+=_.length,v=!1,h.diffs.push(new e.Diff(m,_)),c.diffs.shift()):(_=_.substring(0,a-h.length1-this.Patch_Margin),h.length1+=_.length,u+=_.length,m===o?(h.length2+=_.length,d+=_.length):v=!1,h.diffs.push(new e.Diff(m,_)),_==c.diffs[0][1]?c.diffs.shift():c.diffs[0][1]=c.diffs[0][1].substring(_.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var S=this.diff_text1(c.diffs).substring(0,this.Patch_Margin);S!==""&&(h.length1+=S.length,h.length2+=S.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===o?h.diffs[h.diffs.length-1][1]+=S:h.diffs.push(new e.Diff(o,S))),v||s.splice(++l,0,h)}}},e.prototype.patch_toText=function(s){for(var a=[],l=0;l<s.length;l++)a[l]=s[l];return a.join("")},e.prototype.patch_fromText=function(s){var a=[];if(!s)return a;for(var l=s.split(`
`),c=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c<l.length;){var d=l[c].match(u);if(!d)throw new Error("Invalid patch string: "+l[c]);var f=new e.patch_obj;for(a.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),c++;c<l.length;){var h=l[c].charAt(0);try{var v=decodeURI(l[c].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+v)}if(h=="-")f.diffs.push(new e.Diff(n,v));else if(h=="+")f.diffs.push(new e.Diff(i,v));else if(h==" ")f.diffs.push(new e.Diff(o,v));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+v)}c++}}return a},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,a;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?a=this.start2+",0":this.length2==1?a=this.start2+1:a=this.start2+1+","+this.length2;for(var l=["@@ -"+s+" +"+a+` @@
`],c,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case i:c="+";break;case n:c="-";break;case o:c=" ";break}l[u+1]=c+encodeURI(this.diffs[u][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=o})(DD);var lbe=DD.exports;const FD={diffLineMode(t,e){const n=new lbe,i=n.diff_linesToChars_(t,e),o=n.diff_main(i.chars1,i.chars2,!1);return n.diff_charsToLines_(o,i.lineArray),o},applyDiffInline(t){const e=[],n=[];let i=0;return{content:t.map(function(...s){let[a,l]=Array.from(s[0]);const c=l.split(K7);let u=c.length;return c[c.length-1]===""?u-=1:l+=`
`,a!==0&&(a===1?e:n).push({start:i,end:i+u-1}),i+=u,l}).join(""),addedLines:e,removedLines:n}}};function cbe(t,e){const n={esversion:6};let i=[];const o=m=>m,s=function(m){const _=m-1;let S=0;for(const E of i){if(_<E.start||E.start<=_&&_<=E.end)break;S+=E.end-E.start+1}return m-S},a=function(){if((e.isIOS||e.isAndroid)&&window.innerWidth<415)return!0},l=function(){return a()?["CodeMirror-lint-markers"]:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]},c={tabSize:2,indentUnit:2,foldGutter:!0,highlightSelectionMatches:!0,lint:n,styleActiveLine:!e.isIOS,matchBrackets:!0,autoCloseBrackets:!0,autoCloseTags:!0,matchTags:{bothTags:!0},keyMap:"sublime",extraKeys:"extraKeys",lineNumbers:!a(),gutters:l()},u=document.createElement("article");u.id="text-editor",u.className="text-editor",u.ontouchend=()=>{e.closeAllPopOvers()};const d=et(u,c);d.on("cursorActivity",kD(()=>e.onCursorActivity(),200)),d.on("dragenter",(m,_)=>_.preventDefault()),et.commands.undo=()=>d.getDoc().undoHelper(),et.commands.redo=()=>d.getDoc().redoHelper();const f=function(){return e.isAppleDevice?"Alt":"Ctrl"},h=function(){return e.isAppleDevice?"Cmd":"Ctrl"},v=function(){return d.somethingSelected()?d.indentSelection("add"):d.replaceSelection(Array(d.getOption("indentUnit")+1).join(" "),"end","+input")};return d.setOption("extraKeys",{Tab:v,[`${f()}-Up`](){return d.execCommand("goLineStartSmart")},[`${f()}-Down`](){return d.execCommand("goLineEnd")},"Ctrl-G":"jumpToLine",[`${h()}-F`]:"findPersistent",[`${h()}-G`]:"findNext",[`Shift-${h()}-G`]:"findPrev"}),e.extend({editorElement:u,editor(){return d},setReadOnly(m){return d!=null?d.setOption("readOnly",m):void 0},getCursor(){return d.getCursor()},getCurrentSession(){return d.getDoc()},searchInputIsFocused(){return document.activeElement.id!=="project-search-input"},setCurrentSession(m,{maintainScrollPosition:_}={}){let S;et.signal(d,"file-blur"),e.editorIsPreviewingRewind()?S=m.diffSession.then(function(w){const T=e.editor().getCursor(),C=e.editor().getScrollInfo();d.swapDoc(w.content),_&&(e.editor().scrollTo(C.left,C.top),e.editor().setCursor(T.line,T.ch,{scroll:!1}));const P=(R,A)=>R.forEach(L=>d.markText({line:L.start,ch:0},{line:L.end+1,ch:0},{className:A}));return P(w.addedLines,"diff-added-line"),P(w.removedLines,"diff-removed-line"),i=w.removedLines}):(e.otCodeMirror().open(m.id()),S=Promise.resolve()),et.signal(d,"changeCursor"),setTimeout(function(){!e.searchInputIsFocused()&&!e.editorIsEmbedded()&&e.focusEditor()},0),e.setReadOnly(e.editorIsPreviewingRewind()||e.projectIsReadOnlyForCurrentUser()||e.editorIsEmbedded()&&!e.embedEditingEnabled());const E=e.backendLintingResults[m.path()];return E&&e.setLintResults(E),S.then(()=>e.updateEditorModeForFile(m))},trackFileHelper(m,_,S={}){!m||(e.selectedFile().extension()==="env"&&(e.dotenvViewVisible()===!0?S.editorType="gui":S.editorType="plaintext"),e.analytics.track(_,Ge(de({},S),{fileTotalLines:e.editor().lineCount(),fileId:m.id(),fileName:m.name(),fileType:e.selectedFile().extension()})))},lintingLoaded:!1,performLint(){if(!!e.lintingLoaded)return d.performLint()},setLintResults(m){return d.setLintResults(m)},firstFocus:!0,focusEditor(){if(e.firstFocus&&e.editorIsEmbedded()){e.firstFocus=!1;return}return d.focus()},setEditorOption(m,_){return d.setOption(m,_)},refreshEditor(){const m=document.querySelector(".editor-wrap .editor-helper");if(document.querySelector(".editor-wrap")){const S=document.querySelector(".editor-wrap").getBoundingClientRect();let E=S.height,w=S.top;if(m){const C=m.getBoundingClientRect().height;E=S.height-C,w=S.top+C}const T=document.documentElement.style;T.setProperty("--editor-top-position",`${w}px`),T.setProperty("--editor-left-position",`${S.left}px`),T.setProperty("--editor-width",`${S.width}px`),T.setProperty("--editor-height",`${E}px`),d.refresh()}},goToLine(m){const _={line:m,ch:0},{top:S}=d.charCoords(_,"local"),E=d.getScrollerElement().offsetHeight/2;return d.scrollTo(null,S-E-5),d.setSelection(_)},defaultLineNumberFormatter:o,rewindLineNumberFormatter:s,updateEditorModeForFile(m){if(!(!m||(typeof e.selectedFile=="function"?e.selectedFile():void 0)&&m!==(typeof e.selectedFile=="function"?e.selectedFile():void 0))){if(e.filesWithDiffTooBig().includes(m.path())){d.setOption("mode","text/plain");return}if(m.name()!==vc){const _=et.findModeByFileName(m.name());if(_){d.setOption("mode",_.mode);const S=e.editorIsPreviewingRewind()?s:o;d.setOption("lineNumberFormatter",S);const E=e.editorIsPreviewingRewind()||m.extension()==="less"||m.extension()==="scss"||m.extension()==="sass"||m.extension()==="php"||m.extension()==="ejs"||m.extension()==="ts"||m.extension()==="tsx";d.setOption("lint",E?!1:n)}else d.setOption("mode","text/plain")}m.path()===".env"&&d.setOption("mode","text/x-dotenv"),m.path()===".eslintrc"&&d.setOption("mode","application/json"),m.path()===".prettierrc"&&d.setOption("mode","application/json"),m.extension()==="json"&&d.setOption("mode","application/json"),m.extension()==="coffee"&&d.setOption("mode","coffeescript"),m.extension()==="jsx"&&d.setOption("mode","jsx"),["handlebars","hbs","njk","eta","njk","ejs","svelte"].some(_=>_===m.extension())&&d.setOption("mode",{name:"handlebars",base:"text/html"}),m.extension()==="md"&&d.setOption("mode","markdown"),e.setLineWrapping(m),setTimeout(e.refreshAndLint,100),setTimeout(()=>e.setLineHighlights(m),100)}},setLineWrapping(m){e.wrapText()?d.setOption("lineWrapping",!0):d.setOption("lineWrapping",!1)},setLineHighlights(m){if(e.highlightFilePath()===m.path())for(const _ of e.highlights()){const S={line:_-1,ch:0},E={line:_-1,ch:null};e.getCurrentSession().markText(S,E,{css:"background: yellow"})}},refreshAndLint(){return e.refreshEditor(),e.performLint()},ensureSession(m){return m.addedByRewind()?m.session=Promise.resolve():m.session==null&&(m.session=e.initSession(m,e.otClient())),e.editorIsPreviewingRewind()?m.session.then(()=>m.diffSession!=null?m.diffSession:m.diffSession=e.initDiffSession(m)):m.session},trackChange(){return e.trackFileHelper(e.selectedFile(),"File Edited"),e.touchProject()},initSession(m,_){return _.document(m.id()).then(function(S){if(S.base64Content!=null)return m.base64Content(S.base64Content),{};const E=e.otCodeMirror().getCMDoc(m.id());let w=!0;if(m.content(E.getValue()),w=!1,!e.userPositionIsRestored()&&e.restorePath()===m.path()){const T=e.restoreLine(),C=e.restoreCharacter();d.on("viewportChange",function P(){d.off("viewportChange",P),d.setCursor(T-1,C,{scroll:!1}),d.scrollIntoView(d.getCursor(),d.getScrollInfo().clientHeight/2)}),e.userPositionIsRestored(!0)}else E.setCursor(0,0);return w=!1,m.content.observe(function(T){if(m.path()===".env"){const R=T.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0;e.readEnv(),e.debuggerEnabled(R)}if(m.path()==="watch.json"&&e.readWatchJson(),m.path()===".eslintrc.json"&&e.readEslintrc(),m.path()===".prettierrc"&&e.readPrettierrc(),w)return;const C=e.editor().lastLine(),P=e.editor().getLine(C).length;return E.replaceRange(T,{line:0,ch:0},{line:C,ch:P},"+input")}),E.on("change",function(T,C={}){return w=!0,m.content(E.getValue()),w=!1,C.origin==="+input"&&e.changeTracker(),typeof e.fileChanged=="function"?e.fileChanged(!0):void 0}),E})},applyPatchAndOTs(m,_,S){const E=e.patchesByPath()[m];E&&(_=O5.exports.applyPatch(_,E));const w=e.otsByPath()[m];if(w){const{applyEdit:T}=e.otClient().ot();let C=0;for(;C<w.length;){const P=w[C];if(S!=null&&P.index>=S)break;switch(P.type){case"add":_="";break;case"insert":case"remove":_=T(_,P);break;case"rename":const R=P.oldPath.substring(2);if(m===R)_="";else{const A=e.fileByPath(R),L=A?A.content():"";_=e.applyPatchAndOTs(R,L,P.index)}break}C+=1}}return _},findRenameSessions(m,_){return(e.otsByPath()[m]||[]).forEach(function(E){if(E.type==="rename"&&m===E.newPath.substring(2)){const w=E.oldPath.substring(2),T=e.fileByPath(w);return T&&_.push(e.ensureSession(T)),e.findRenameSessions(w,_)}})},initDiffSession(m){let _;const S=[];return m.addedByRewind()||S.push(m.session),e.filesWithDiffTooBig().includes(m.path())?(_={addedLines:[],removedLines:[]},_.content=et.Doc("The changes to this file are too big to be shown."),Promise.resolve(_)):(e.findRenameSessions(m.path(),S),Promise.all(S).then(function(){_={addedLines:[],removedLines:[]};const E=e.applyPatchAndOTs(m.path(),m.content()),w=FD.diffLineMode(m.content(),E);return _=FD.applyDiffInline(w),_.content=et.Doc(_.content),_}))},onCursorActivity(){const m=d.listSelections().filter(_=>!_.empty()).map(_=>{const S=d.indexFromPos(_.anchor),E=d.indexFromPos(_.head);return E>S?{start:S,end:E}:{start:E,end:S}});e.editorRangeSelections(m)}}),e.changeTracker=kD(e.trackChange,60*1e3),window.addEventListener("resize",e.refreshEditor)}function ube(t,e){let n=null;const i=Wo.replace(/^http/,"ws"),o=function(){if((n!=null?n.readyState:void 0)===1)return n.send("keep alive")},s=function(a,l){const c=e.ReconnectingWebSocket||L7,u=`${i}/${a.id()}/logs?authorization=${l}`;return e.clearLogs(),n=new c(u,null,{timeoutInterval:3e4}),n.onopen=d=>e.logStatus("Connected"),n.onclose=d=>e.logStatus("Disconnected"),n.onmessage=({data:d})=>{const f=JSON.parse(d);if(f.type==="error"){n.close(3e3);return}e.appendLog(f)},n.onerror=d=>e.logger().log("log socket error",d)};return e.extend({connectToLogs(a,l){const c=e.logStatus();if(c!=="Connected"&&c!=="Connecting")return e.logStatus("Connecting"),s(a,l)},disconnectFromLogs(){if(e.logStatus("Disconnecting"),n&&n.readyState!==3)return n.close()},sendLogSocketKeepAlive:o}),e}var V5=["\u{1F4AF}","\u{1F522}","\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F923}","\u{1F602}","\u{1F642}","\u{1F609}","\u{1F60A}","\u{1F607}","\u{1F970}","\u{1F60D}","\u{1F929}","\u{1F618}","\u{1F617}","\u263A\uFE0F","\u{1F61A}","\u{1F619}","\u{1F972}","\u{1F60B}","\u{1F61B}","\u{1F61C}","\u{1F92A}","\u{1F61D}","\u{1F911}","\u{1F917}","\u{1F92D}","\u{1F92B}","\u{1F914}","\u{1F636}","\u{1F60F}","\u{1F62C}","\u{1F925}","\u{1F60C}","\u{1F634}","\u{1F637}","\u{1F912}","\u{1F975}","\u{1F976}","\u{1F974}","\u{1F635}","\u{1F92F}","\u{1F920}","\u{1F973}","\u{1F978}","\u{1F60E}","\u{1F913}","\u{1F9D0}","\u{1F62E}","\u{1F62F}","\u{1F632}","\u{1F633}","\u{1F97A}","\u{1F624}","\u{1F608}","\u{1F479}","\u{1F47A}","\u{1F47B}","\u{1F47D}","\u{1F47E}","\u{1F916}","\u{1F63A}","\u{1F638}","\u{1F639}","\u{1F63B}","\u{1F63C}","\u{1F63D}","\u{1F48B}","\u{1F48C}","\u{1F498}","\u{1F49D}","\u{1F496}","\u{1F497}","\u{1F493}","\u{1F49E}","\u{1F495}","\u{1F49F}","\u2763\uFE0F","\u{1F494}","\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F90E}","\u{1F5A4}","\u{1F90D}","\u{1F4A2}","\u{1F4A5}","\u{1F4AB}","\u{1F4A6}","\u{1F4A8}","\u{1F573}\uFE0F","\u{1F4AC}","\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F","\u{1F5E8}\uFE0F","\u{1F5EF}\uFE0F","\u{1F4AD}","\u{1F4A4}","\u{1F44B}","\u{1F91A}","\u{1F590}\uFE0F","\u270B","\u{1F596}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F447}","\u261D\uFE0F","\u{1F44D}","\u{1F44F}","\u{1F64C}","\u{1F450}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9BE}","\u{1F9BF}","\u{1F9B5}","\u{1F9B6}","\u{1F442}","\u{1F9BB}","\u{1F443}","\u{1F9E0}","\u{1FAC0}","\u{1FAC1}","\u{1F9B7}","\u{1F9B4}","\u{1F440}","\u{1F441}\uFE0F","\u{1F444}","\u{1F5E3}\uFE0F","\u{1F464}","\u{1F465}","\u{1FAC2}","\u{1F463}","\u{1F435}","\u{1F412}","\u{1F98D}","\u{1F9A7}","\u{1F436}","\u{1F415}","\u{1F9AE}","\u{1F415}\u200D\u{1F9BA}","\u{1F429}","\u{1F43A}","\u{1F98A}","\u{1F99D}","\u{1F431}","\u{1F408}","\u{1F408}\u200D\u2B1B","\u{1F981}","\u{1F42F}","\u{1F405}","\u{1F406}","\u{1F434}","\u{1F40E}","\u{1F984}","\u{1F993}","\u{1F98C}","\u{1F9AC}","\u{1F42E}","\u{1F402}","\u{1F403}","\u{1F404}","\u{1F437}","\u{1F416}","\u{1F417}","\u{1F43D}","\u{1F40F}","\u{1F411}","\u{1F410}","\u{1F42A}","\u{1F42B}","\u{1F999}","\u{1F992}","\u{1F418}","\u{1F9A3}","\u{1F98F}","\u{1F99B}","\u{1F42D}","\u{1F401}","\u{1F400}","\u{1F439}","\u{1F430}","\u{1F407}","\u{1F43F}\uFE0F","\u{1F9AB}","\u{1F994}","\u{1F987}","\u{1F43B}","\u{1F43B}\u200D\u2744\uFE0F","\u{1F428}","\u{1F43C}","\u{1F9A5}","\u{1F9A6}","\u{1F9A8}","\u{1F998}","\u{1F9A1}","\u{1F43E}","\u{1F983}","\u{1F414}","\u{1F413}","\u{1F423}","\u{1F424}","\u{1F425}","\u{1F426}","\u{1F427}","\u{1F54A}\uFE0F","\u{1F985}","\u{1F986}","\u{1F9A2}","\u{1F989}","\u{1F9A4}","\u{1FAB6}","\u{1F9A9}","\u{1F99A}","\u{1F99C}","\u{1F438}","\u{1F40A}","\u{1F422}","\u{1F98E}","\u{1F40D}","\u{1F432}","\u{1F409}","\u{1F995}","\u{1F996}","\u{1F433}","\u{1F40B}","\u{1F42C}","\u{1F9AD}","\u{1F41F}","\u{1F420}","\u{1F421}","\u{1F988}","\u{1F419}","\u{1F41A}","\u{1F40C}","\u{1F98B}","\u{1F41B}","\u{1F41C}","\u{1F41D}","\u{1FAB2}","\u{1F41E}","\u{1F997}","\u{1FAB3}","\u{1F577}\uFE0F","\u{1F578}\uFE0F","\u{1F982}","\u{1F99F}","\u{1FAB0}","\u{1FAB1}","\u{1F9A0}","\u{1F490}","\u{1F338}","\u{1F4AE}","\u{1F3F5}\uFE0F","\u{1F339}","\u{1F940}","\u{1F33A}","\u{1F33B}","\u{1F33C}","\u{1F337}","\u{1F331}","\u{1FAB4}","\u{1F332}","\u{1F333}","\u{1F334}","\u{1F335}","\u{1F33E}","\u{1F33F}","\u2618\uFE0F","\u{1F340}","\u{1F341}","\u{1F342}","\u{1F343}","\u{1F347}","\u{1F348}","\u{1F349}","\u{1F34A}","\u{1F34B}","\u{1F34C}","\u{1F34D}","\u{1F96D}","\u{1F34E}","\u{1F34F}","\u{1F350}","\u{1F351}","\u{1F352}","\u{1F353}","\u{1FAD0}","\u{1F95D}","\u{1F345}","\u{1FAD2}","\u{1F965}","\u{1F951}","\u{1F954}","\u{1F955}","\u{1F33D}","\u{1F336}\uFE0F","\u{1FAD1}","\u{1F952}","\u{1F96C}","\u{1F966}","\u{1F9C4}","\u{1F9C5}","\u{1F344}","\u{1F95C}","\u{1F330}","\u{1F35E}","\u{1F950}","\u{1F956}","\u{1FAD3}","\u{1F968}","\u{1F96F}","\u{1F95E}","\u{1F9C7}","\u{1F9C0}","\u{1F354}","\u{1F35F}","\u{1F355}","\u{1F32D}","\u{1F96A}","\u{1F32E}","\u{1F32F}","\u{1FAD4}","\u{1F959}","\u{1F9C6}","\u{1F95A}","\u{1F373}","\u{1F958}","\u{1F372}","\u{1FAD5}","\u{1F963}","\u{1F957}","\u{1F37F}","\u{1F9C8}","\u{1F9C2}","\u{1F96B}","\u{1F371}","\u{1F358}","\u{1F359}","\u{1F35A}","\u{1F35B}","\u{1F35C}","\u{1F35D}","\u{1F360}","\u{1F362}","\u{1F363}","\u{1F364}","\u{1F365}","\u{1F96E}","\u{1F361}","\u{1F95F}","\u{1F960}","\u{1F961}","\u{1F980}","\u{1F99E}","\u{1F990}","\u{1F991}","\u{1F9AA}","\u{1F366}","\u{1F367}","\u{1F368}","\u{1F369}","\u{1F36A}","\u{1F382}","\u{1F370}","\u{1F9C1}","\u{1F967}","\u{1F36B}","\u{1F36C}","\u{1F36D}","\u{1F36E}","\u{1F36F}","\u{1F37C}","\u{1F95B}","\u2615","\u{1FAD6}","\u{1F375}","\u{1F376}","\u{1F964}","\u{1F9CB}","\u{1F9C3}","\u{1F9C9}","\u{1F9CA}","\u{1F962}","\u{1F37D}\uFE0F","\u{1F374}","\u{1F944}","\u{1F3FA}","\u{1F30D}","\u{1F30E}","\u{1F30F}","\u{1F310}","\u{1F5FA}\uFE0F","\u{1F5FE}","\u{1F9ED}","\u{1F3D4}\uFE0F","\u26F0\uFE0F","\u{1F30B}","\u{1F5FB}","\u{1F3D5}\uFE0F","\u{1F3D6}\uFE0F","\u{1F3DC}\uFE0F","\u{1F3DD}\uFE0F","\u{1F3DE}\uFE0F","\u{1F3DF}\uFE0F","\u{1F3DB}\uFE0F","\u{1F3D7}\uFE0F","\u{1F9F1}","\u{1FAA8}","\u{1FAB5}","\u{1F6D6}","\u{1F3D8}\uFE0F","\u{1F3DA}\uFE0F","\u{1F3E0}","\u{1F3E1}","\u{1F3E2}","\u{1F3E3}","\u{1F3E4}","\u{1F3E5}","\u{1F3E6}","\u{1F3E8}","\u{1F3E9}","\u{1F3EA}","\u{1F3EB}","\u{1F3EC}","\u{1F3ED}","\u{1F3EF}","\u{1F3F0}","\u{1F492}","\u{1F5FC}","\u{1F5FD}","\u26EA","\u{1F54C}","\u{1F6D5}","\u{1F54D}","\u26E9\uFE0F","\u{1F54B}","\u26F2","\u26FA","\u{1F301}","\u{1F303}","\u{1F3D9}\uFE0F","\u{1F304}","\u{1F305}","\u{1F306}","\u{1F307}","\u{1F309}","\u2668\uFE0F","\u{1F3A0}","\u{1F3A1}","\u{1F3A2}","\u{1F488}","\u{1F3AA}","\u{1F682}","\u{1F683}","\u{1F684}","\u{1F685}","\u{1F686}","\u{1F687}","\u{1F688}","\u{1F689}","\u{1F68A}","\u{1F69D}","\u{1F69E}","\u{1F68B}","\u{1F68C}","\u{1F68D}","\u{1F68E}","\u{1F690}","\u{1F691}","\u{1F692}","\u{1F695}","\u{1F696}","\u{1F697}","\u{1F698}","\u{1F699}","\u{1F6FB}","\u{1F69A}","\u{1F69B}","\u{1F69C}","\u{1F3CE}\uFE0F","\u{1F3CD}\uFE0F","\u{1F6F5}","\u{1F9BD}","\u{1F9BC}","\u{1F6FA}","\u{1F6B2}","\u{1F6F4}","\u{1F6F9}","\u{1F6FC}","\u{1F68F}","\u{1F6E3}\uFE0F","\u{1F6E4}\uFE0F","\u{1F6E2}\uFE0F","\u26FD","\u{1F6A8}","\u{1F6A5}","\u{1F6A6}","\u{1F6D1}","\u{1F6A7}","\u2693","\u26F5","\u{1F6F6}","\u{1F6A4}","\u{1F6F3}\uFE0F","\u26F4\uFE0F","\u{1F6E5}\uFE0F","\u{1F6A2}","\u2708\uFE0F","\u{1F6E9}\uFE0F","\u{1F6EB}","\u{1F6EC}","\u{1FA82}","\u{1F4BA}","\u{1F681}","\u{1F69F}","\u{1F6A0}","\u{1F6A1}","\u{1F6F0}\uFE0F","\u{1F680}","\u{1F6F8}","\u{1F6CE}\uFE0F","\u{1F9F3}","\u231B","\u23F3","\u231A","\u23F0","\u23F1\uFE0F","\u23F2\uFE0F","\u{1F570}\uFE0F","\u{1F55B}","\u{1F567}","\u{1F550}","\u{1F55C}","\u{1F551}","\u{1F55D}","\u{1F552}","\u{1F55E}","\u{1F553}","\u{1F55F}","\u{1F554}","\u{1F560}","\u{1F555}","\u{1F561}","\u{1F556}","\u{1F562}","\u{1F557}","\u{1F563}","\u{1F558}","\u{1F564}","\u{1F559}","\u{1F565}","\u{1F55A}","\u{1F566}","\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F315}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F319}","\u{1F31A}","\u{1F31B}","\u{1F31C}","\u{1F321}\uFE0F","\u2600\uFE0F","\u{1F31D}","\u{1F31E}","\u{1FA90}","\u2B50","\u{1F31F}","\u{1F320}","\u{1F30C}","\u2601\uFE0F","\u26C5","\u26C8\uFE0F","\u{1F324}\uFE0F","\u{1F325}\uFE0F","\u{1F326}\uFE0F","\u{1F327}\uFE0F","\u{1F328}\uFE0F","\u{1F329}\uFE0F","\u{1F32A}\uFE0F","\u{1F32B}\uFE0F","\u{1F32C}\uFE0F","\u{1F300}","\u{1F308}","\u{1F302}","\u2602\uFE0F","\u2614","\u26F1\uFE0F","\u26A1","\u2744\uFE0F","\u2603\uFE0F","\u26C4","\u{1F4A7}","\u{1F30A}","\u{1F383}","\u{1F384}","\u{1F386}","\u{1F387}","\u2728","\u{1F388}","\u{1F389}","\u{1F38A}","\u{1F38B}","\u{1F38D}","\u{1F38E}","\u{1F38F}","\u{1F390}","\u{1F391}","\u{1F9E7}","\u{1F380}","\u{1F381}","\u{1F397}\uFE0F","\u{1F39F}\uFE0F","\u{1F3AB}","\u{1F396}\uFE0F","\u{1F3C6}","\u{1F3C5}","\u{1F947}","\u{1F948}","\u{1F949}","\u26BD","\u26BE","\u{1F94E}","\u{1F3C0}","\u{1F3D0}","\u{1F3C8}","\u{1F3C9}","\u{1F3BE}","\u{1F94F}","\u{1F3B3}","\u{1F3CF}","\u{1F3D1}","\u{1F3D2}","\u{1F94D}","\u{1F3D3}","\u{1F3F8}","\u{1F94A}","\u{1F94B}","\u{1F945}","\u26F3","\u26F8\uFE0F","\u{1F3A3}","\u{1F93F}","\u{1F3BD}","\u{1F3BF}","\u{1F6F7}","\u{1F94C}","\u{1F3AF}","\u{1FA80}","\u{1FA81}","\u{1F3B1}","\u{1F52E}","\u{1FA84}","\u{1F9FF}","\u{1F3AE}","\u{1F579}\uFE0F","\u{1F3B0}","\u{1F3B2}","\u{1F9E9}","\u{1F9F8}","\u{1FA85}","\u{1FA86}","\u2660\uFE0F","\u2665\uFE0F","\u2666\uFE0F","\u2663\uFE0F","\u265F\uFE0F","\u{1F0CF}","\u{1F004}","\u{1F3B4}","\u{1F3AD}","\u{1F5BC}\uFE0F","\u{1F3A8}","\u{1F9F5}","\u{1FAA1}","\u{1F9F6}","\u{1FAA2}","\u{1F453}","\u{1F576}\uFE0F","\u{1F97D}","\u{1F97C}","\u{1F9BA}","\u{1F454}","\u{1F455}","\u{1F456}","\u{1F9E3}","\u{1F9E4}","\u{1F9E5}","\u{1F9E6}","\u{1F457}","\u{1F458}","\u{1F97B}","\u{1FA71}","\u{1FA72}","\u{1FA73}","\u{1F45A}","\u{1F45B}","\u{1F45C}","\u{1F45D}","\u{1F6CD}\uFE0F","\u{1F392}","\u{1FA74}","\u{1F45E}","\u{1F45F}","\u{1F97E}","\u{1F97F}","\u{1F460}","\u{1F461}","\u{1FA70}","\u{1F462}","\u{1F451}","\u{1F452}","\u{1F3A9}","\u{1F393}","\u{1F9E2}","\u{1FA96}","\u26D1\uFE0F","\u{1F4FF}","\u{1F484}","\u{1F48D}","\u{1F48E}","\u{1F507}","\u{1F508}","\u{1F509}","\u{1F50A}","\u{1F4E2}","\u{1F4E3}","\u{1F4EF}","\u{1F514}","\u{1F515}","\u{1F3BC}","\u{1F3B5}","\u{1F3B6}","\u{1F399}\uFE0F","\u{1F39A}\uFE0F","\u{1F39B}\uFE0F","\u{1F3A4}","\u{1F3A7}","\u{1F4FB}","\u{1F3B7}","\u{1FA97}","\u{1F3B8}","\u{1F3B9}","\u{1F3BA}","\u{1F3BB}","\u{1FA95}","\u{1F941}","\u{1FA98}","\u{1F4F1}","\u{1F4F2}","\u260E\uFE0F","\u{1F4DE}","\u{1F4DF}","\u{1F4E0}","\u{1F50B}","\u{1F50C}","\u{1F4BB}","\u{1F5A5}\uFE0F","\u{1F5A8}\uFE0F","\u2328\uFE0F","\u{1F5B1}\uFE0F","\u{1F5B2}\uFE0F","\u{1F4BD}","\u{1F4BE}","\u{1F4BF}","\u{1F4C0}","\u{1F9EE}","\u{1F3A5}","\u{1F39E}\uFE0F","\u{1F4FD}\uFE0F","\u{1F3AC}","\u{1F4FA}","\u{1F4F7}","\u{1F4F8}","\u{1F4F9}","\u{1F4FC}","\u{1F50D}","\u{1F50E}","\u{1F56F}\uFE0F","\u{1F4A1}","\u{1F526}","\u{1F3EE}","\u{1FA94}","\u{1F4D4}","\u{1F4D5}","\u{1F4D6}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}","\u{1F4DA}","\u{1F4D3}","\u{1F4D2}","\u{1F4C3}","\u{1F4DC}","\u{1F4C4}","\u{1F4F0}","\u{1F5DE}\uFE0F","\u{1F4D1}","\u{1F516}","\u{1F3F7}\uFE0F","\u{1F4B0}","\u{1FA99}","\u{1F4B4}","\u{1F4B5}","\u{1F4B6}","\u{1F4B7}","\u{1F4B8}","\u{1F4B3}","\u{1F9FE}","\u{1F4B9}","\u2709\uFE0F","\u{1F4E7}","\u{1F4E8}","\u{1F4E9}","\u{1F4E4}","\u{1F4E5}","\u{1F4E6}","\u{1F4EB}","\u{1F4EA}","\u{1F4EC}","\u{1F4ED}","\u{1F4EE}","\u{1F5F3}\uFE0F","\u270F\uFE0F","\u2712\uFE0F","\u{1F58B}\uFE0F","\u{1F58A}\uFE0F","\u{1F58C}\uFE0F","\u{1F58D}\uFE0F","\u{1F4DD}","\u{1F4BC}","\u{1F4C1}","\u{1F4C2}","\u{1F5C2}\uFE0F","\u{1F4C5}","\u{1F4C6}","\u{1F5D2}\uFE0F","\u{1F5D3}\uFE0F","\u{1F4C7}","\u{1F4C8}","\u{1F4C9}","\u{1F4CA}","\u{1F4CB}","\u{1F4CC}","\u{1F4CD}","\u{1F4CE}","\u{1F587}\uFE0F","\u{1F4CF}","\u{1F4D0}","\u2702\uFE0F","\u{1F5C3}\uFE0F","\u{1F5C4}\uFE0F","\u{1F5D1}\uFE0F","\u{1F512}","\u{1F513}","\u{1F50F}","\u{1F510}","\u{1F511}","\u{1F5DD}\uFE0F","\u{1FA83}","\u{1F6E1}\uFE0F","\u{1FA9A}","\u{1F527}","\u{1FA9B}","\u{1F529}","\u2699\uFE0F","\u{1F5DC}\uFE0F","\u2696\uFE0F","\u{1F9AF}","\u{1F517}","\u26D3\uFE0F","\u{1FA9D}","\u{1F9F0}","\u{1F9F2}","\u{1FA9C}","\u2697\uFE0F","\u{1F9EA}","\u{1F9EB}","\u{1F9EC}","\u{1F52C}","\u{1F52D}","\u{1F4E1}","\u{1FA79}","\u{1FA7A}","\u{1F6AA}","\u{1F6D7}","\u{1FA9E}","\u{1FA9F}","\u{1F6CF}\uFE0F","\u{1F6CB}\uFE0F","\u{1FA91}","\u{1F6BD}","\u{1FAA0}","\u{1F6BF}","\u{1F6C1}","\u{1FAA4}","\u{1FA92}","\u{1F9F4}","\u{1F9F7}","\u{1F9F9}","\u{1F9FA}","\u{1F9FB}","\u{1FAA3}","\u{1F9FC}","\u{1FAA5}","\u{1F9FD}","\u{1F9EF}","\u{1F6D2}","\u{1F5FF}","\u{1FAA7}","\u{1F3E7}","\u{1F6B0}","\u{1F6B8}","\u2B06\uFE0F","\u2197\uFE0F","\u27A1\uFE0F","\u2198\uFE0F","\u2B07\uFE0F","\u2199\uFE0F","\u2B05\uFE0F","\u2196\uFE0F","\u2195\uFE0F","\u2194\uFE0F","\u21A9\uFE0F","\u21AA\uFE0F","\u2934\uFE0F","\u2935\uFE0F","\u{1F503}","\u{1F504}","\u{1F500}","\u{1F501}","\u{1F502}","\u25B6\uFE0F","\u23E9","\u23ED\uFE0F","\u23EF\uFE0F","\u25C0\uFE0F","\u23EA","\u23EE\uFE0F","\u{1F53C}","\u23EB","\u{1F53D}","\u23EC","\u23F8\uFE0F","\u23F9\uFE0F","\u23FA\uFE0F","\u23CF\uFE0F","\u{1F3A6}","\u{1F505}","\u{1F506}","\u{1F4F6}","\u{1F4F3}","\u{1F4F4}","\u2716\uFE0F","\u2795","\u2796","\u2797","\u267E\uFE0F","\u203C\uFE0F","\u2049\uFE0F","\u2753","\u2754","\u2755","\u2757","\u3030\uFE0F","\u{1F4B1}","\u{1F4B2}","\u2695\uFE0F","\u267B\uFE0F","\u269C\uFE0F","\u{1F531}","\u{1F4DB}","\u{1F530}","\u2B55","\u2705","\u2611\uFE0F","\u2714\uFE0F","\u27B0","\u27BF","\u303D\uFE0F","\u2733\uFE0F","\u2734\uFE0F","\u2747\uFE0F","\xA9\uFE0F","\xAE\uFE0F","\u2122\uFE0F","#\uFE0F\u20E3","*\uFE0F\u20E3","0\uFE0F\u20E3","1\uFE0F\u20E3","2\uFE0F\u20E3","3\uFE0F\u20E3","4\uFE0F\u20E3","5\uFE0F\u20E3","6\uFE0F\u20E3","7\uFE0F\u20E3","8\uFE0F\u20E3","9\uFE0F\u20E3","\u{1F51F}","\u{1F520}","\u{1F521}","\u{1F523}","\u{1F524}","\u{1F192}","\u{1F193}","\u{1F195}","\u{1F534}","\u{1F7E0}","\u{1F7E1}","\u{1F7E2}","\u{1F535}","\u{1F7E3}","\u{1F7E4}","\u26AB","\u26AA","\u{1F7E5}","\u{1F7E7}","\u{1F7E8}","\u{1F7E9}","\u{1F7E6}","\u{1F7EA}","\u{1F7EB}","\u2B1B","\u2B1C","\u25FC\uFE0F","\u25FB\uFE0F","\u25FE","\u25FD","\u25AA\uFE0F","\u25AB\uFE0F","\u{1F536}","\u{1F537}","\u{1F538}","\u{1F539}","\u{1F53A}","\u{1F53B}","\u{1F4A0}","\u{1F518}","\u{1F533}","\u{1F532}"],dbe={random:function(t){for(var e=t?t.count:V5.length,n=[],i=0,o=e;i<o;i++){var s=V5[Math.floor(Math.random()*V5.length)];n.push(s)}return n}};function UD(t=1){return dbe.random({count:t}).join("")}function jD(t,e,n=null){const i=t.match(e);return i===null?null:n!==null?i[n+1]:i[0]}function BD(t,e,n){const i=jD(t,e,n);return i!==null?i:t}const fbe=(t={},e=null)=>(t=t||{},e=e||Qo(t),e.extend({DEFAULT_IMPORT_INPUT:"user/repo:path",DEFAULT_EXPORT_INPUT:"user/repo",PREFERENCE_KEY_IMPORT:"lastUsedGitHubRepo",PREFERENCE_KEY_EXPORT:"lastUsedGitHubRepoExport",lastUsedGitHubRepoForImport(){return e.readUserProjectPreference(e.PREFERENCE_KEY_IMPORT)},lastUsedGitHubRepoForExport(){return e.readUserProjectPreference(e.PREFERENCE_KEY_EXPORT)||e.lastUsedGitHubRepoForImport()},readUserProjectPreference(n){const i=e.currentProjectId();return(e.getUserPref(n)||new Object)[i]},updateUserProjectPreference(n,i){const o=e.currentProjectId(),s=e.getUserPref(n)||new Object;return s[o]=i,e.updateUserPrefs(n,s)},sanitizedGithubRepoInput(n){let i=n;return i=BD(i,/^(http(s|):\/\/)?(www\.)?(github\.com)?(\/)?(.+)$/,5),i=BD(i,/(.*)(\/|\.git)$/,0),i=jD(i,/^[-\w]+\/[.\-_\w]+(:.+)?$/),i},async importFromGitHub(){const n=[`Import from an existing GitHub repository - please note that this will overwrite your current project.
`,`Enter the GitHub username, repository name, and optionally a relative path to a specific folder to import using the following format: username/repository:path.
`].join(`
`);let i=window.prompt(n,e.lastUsedGitHubRepoForImport()||e.DEFAULT_IMPORT_INPUT);if(i){if(e.closeAllPopOvers(),i=e.sanitizedGithubRepoInput(i),!i){e.notifyInvalidGitRepository(!0);return}e.updateUserProjectPreference(e.PREFERENCE_KEY_IMPORT,i);const[o,s]=i.split(":");e.projectMachine.send({type:"IMPORT_GITHUB",data:{importGitHubRepo:`${o}`,path:s}})}},async exportToGitHub(){const n=e.lastUsedGitHubRepoForExport()||e.DEFAULT_EXPORT_INPUT,[i,o]=n.split(":"),a=[!!o?`Note: The project was imported from GitHub using a sub-path, which isn't yet supported for exporting. If you want to export to the root of the repository you can do so by removing ":${o}" below.
`:null,`Note: Your GitHub repository needs to have at least one file in it already.
`,`This will export your project to the 'glitch' branch of your existing GitHub Repo:
`].filter(c=>!!c).join(`
`);let l=window.prompt(a,n);if(l){if(l.includes(":"))return window.alert("Sorry, we don't support exporting using a sub-path at the moment."),Promise.resolve();if(l=e.sanitizedGithubRepoInput(l),!l)return e.notifyInvalidGitRepository(!0),Promise.resolve();const c=window.prompt("Custom commit message?",`${UD(2)} Updated with Glitch`);if(c===null)return Promise.resolve();e.updateUserProjectPreference(e.PREFERENCE_KEY_EXPORT,l),e.notifyGithubExporting(!0);try{await e.publishGitHubRepo(l,c),e.analytics.track("GitHub Repository Exported"),e.notifyGithubExporting(!1),e.notifyGithubExportSuccess(!0),e.closeAllPopOvers()}catch(u){e.notifyGithubExporting(!1),u.repo=l,u instanceof ms.HTTPError?u.response.status===404?((await u.response.json()).message==="This repository is empty."?u.message="We currently can only export to repos with at least one file in them, but this repo is empty.":u.message="This repo either doesn't exist, or is private and you don't have access.",e.notifyGithubExportFailure(u)):u.response.status===403?(u.message="You don't seem to have permission to write to this repo.",e.notifyGithubExportFailure(u)):e.notifyGenericError(!0):e.notifyGenericError(!0)}}}}));function hbe(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+e];return s}var pbe=hbe,mbe=QT,VD=1/0,gbe=17976931348623157e292;function vbe(t){if(!t)return t===0?t:0;if(t=mbe(t),t===VD||t===-VD){var e=t<0?-1:1;return e*gbe}return t===t?t:0}var ybe=vbe,_be=ybe;function bbe(t){var e=_be(t),n=e%1;return e===e?n?e-n:e:0}var H5=bbe,Ebe=pbe,wbe=H5;function xbe(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:wbe(e),e=i-e,Ebe(t,e<0?0:e,i)):[]}var Sbe=xbe;const HD="ENTRY",zD="DIVIDER",Tbe=1e3;function Cbe(t){return t.replace(/\x1B\[[0-9;]*[a-zA-Z]/g,"")}function Mbe(t,e,n,i){return{id:y2(),type:HD,message:Cbe(i),process:t,stream:e,timestamp:n,emoji:UD(2)}}function Abe(t){return{id:y2(),type:zD,timestamp:t}}function Pbe(t,e){const n=te([]);let i=null,o=!1;const s=({process:l,message:c})=>{if(!!["signal","install"].includes(l))switch(!1){case c!=="listening":e.projectContainerStatus("ok"),e.updatePreview(),e.readDebuggerSetting().then(()=>e.debuggerReady(typeof e.debuggerEnabled=="function"?e.debuggerEnabled():void 0));break;case c!=="restart":e.debuggerReady(!1),e.projectRuntimeInfo(""),e.projectContainerStatus("building");break;case!c.match(/^saved/):e.updatePreview();break;case!c.match(/^error/):e.projectContainerStatus("error");break;case!c.match(/^app-type/):{const u=e.projectAppType(),d=c.substring(c.indexOf(" ")+1);e.projectAppType(d),!e.isFeatureEnabled("generated_static_site_ui")&&u!==null&&(u!==d&&e.analytics.track("App Type Changed"),u!=="static"&&d==="static"&&!e.getUserPref("hasFirstSwitchToStatic")?(e.notifyFirstSwitchToStatic(!0),e.updateUserPrefs("hasFirstSwitchToStatic",!0)):u==="static"&&d!=="static"&&!e.getUserPref("hasFirstSwitchToNonStatic")&&(e.notifyFirstSwitchToNonStatic(!0),e.updateUserPrefs("hasFirstSwitchToNonStatic",!0)));break}case!c.match(/^app-info/):e.projectRuntimeInfo()===""&&e.projectRuntimeInfo(c.substring(c.indexOf(" ")+1));break;case l!=="install":e.projectContainerStatus("building");break}},a=(...l)=>{const c=n().concat(l),u=Sbe(c,Tbe);n(u)};return e.extend({logsData:n,logStatus:te(),appendLog(l){const c=Mbe(l.process,l.stream,l.timestamp,l.text);if(s(c),c.process==="signal"){o=!0;return}o||i&&i!==c.process?a(Abe(c.timestamp),c):a(c),o=!1,i=c.process},clearLogs(){n([])}}),e}const Rbe=["editor_show_preview"],Lbe=["ui_editor_refresh"];function Ibe(t,e){let n=null;return pk&&(n=wy.createInstance({sdkKey:pk,logger:wy.logging.createLogger({logLevel:rae||wy.enums.LOG_LEVEL.INFO})})),e.extend({isFeatureEnabled(i){var a,l;const o=e.getFeatureOverride(i);let s;return o==null?s=(n==null?void 0:n.isFeatureEnabled(i,String((a=e.currentUser())==null?void 0:a.id()),{userId:String((l=e.currentUser())==null?void 0:l.id())}))||!1:s=o,Rbe.includes(i)&&e.analytics.track("Experiment Viewed",{experiment_name:i,variation_name:s?"variant":"baseline"}),s},getFeatureOverride(i){var s;if(!u5())return!1;if(Lbe.includes(i))return!0;const o=JSON.parse(window.localStorage.getItem("community-userPrefs"));return(s=o==null?void 0:o.optimizelyOverrides)==null?void 0:s[i]},setFeatureOverride(i,o){if(!u5())return;const s=JSON.parse(window.localStorage.getItem("community-userPrefs"))||{};s.optimizelyOverrides||(s.optimizelyOverrides={}),s.optimizelyOverrides[i]=o,window.localStorage.setItem("community-userPrefs",JSON.stringify(s))}})}const z5={appType:"static",buildDirectory:""};function Obe(t,e){function n(s){try{const a=s.getValue();e.appTypeConfig(JSON.parse(a))}catch(a){console.error(a),e.appTypeConfig(z5)}}async function i(){let s=e.fileByPath(m5);return s||(s=await e.newFile(m5,JSON.stringify(z5))),s}const o=s=>e.ensureSession(s).then(a=>{if(e.editor().swapDoc(a),s.assetsListener)return a;s.assetsListener=a;const l=()=>n(a);return a.on("change",l),l(),a});e.extend({appTypeConfig:te(z5),async updateAppTypeConfig(s){e.appTypeConfig(s);const a=await i();e.writeToFile(a,JSON.stringify(s))},async appTypeConfigSession(){const s=await i();return o(s)}})}var GD={exports:{}};(function(t){function e(n){var i=void 0;typeof n=="string"?i=[n]:i=n.raw;for(var o="",s=0;s<i.length;s++)o+=i[s].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),s<(arguments.length<=1?0:arguments.length-1)&&(o+=arguments.length<=s+1?void 0:arguments[s+1]);var a=o.split(`
`),l=null;return a.forEach(function(c){var u=c.match(/^(\s+)\S+/);if(u){var d=u[1].length;l?l=Math.min(l,d):l=d}}),l!==null&&(o=a.map(function(c){return c[0]===" "?c.slice(l):c}).join(`
`)),o=o.trim(),o.replace(/\\n/g,`
`)}t.exports=e})(GD);var E_=GD.exports;function Nbe(){return{totalUpdates(){return 30},updates(){return[{id:33,title:"Glitch is now part of Fastly",body:'<p>We\u2019re joining forces with the Fastly team to bring the creative power of Glitch to even more people, and to help make the internet better by making it easier for everyone to create. Nothing changes about your apps or your Glitch account with this news, and the changes you\u2019ll see in the future will be about making Glitch better and even more fun and rewarding to use going forward.</p><p><a target="_blank" rel="noopener" href="https://blog.glitch.com/post/an-exciting-leap-forward-for-glitch">Read the full announcement here</a></p><a target="_blank" rel="noopener" href="https://blog.glitch.com/post/an-exciting-leap-forward-for-glitch"><img src="https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/blog-announce.png?v=1652298414688" alt="" /></a>'},{id:32,title:"Remix a whole new Glitch",body:'<p>Get a React or Eleventy app up and running in under a minute! \u2728</p><p>Now, it\u2019s quicker to build a real website on Glitch than with a no-code tool. Say hello to our new lineup of starter apps that will let you <a  href="https://glitch.com/create-project">create a new project</a> faster than ever. We&#39;ve also improved our free static sites with support for generated static sites and added syntax highlighting for JSX, Nunjucks, Handlebars, Vue, Svelte, and TypeScript. Read about all this and more <a target="_blank" rel="noopener" href="https://blog.glitch.com/post/remix-a-whole-new-glitch">on our blog</a>.</p>'},{id:31,title:"Static sites are now always-on! ",body:'<p>Static sites are now free and always-on for all Glitch users! \u{1F389}  </p><p>We pride ourselves on being a great full-stack solution for web apps, but we also know that so many community members just want a quick and easy solution to create and share simple web pages. From students sharing out a resume for the first time to local Pet Adoption centers, we\u2019ve seen a whole range of pure HTML, CSS, and JS goodness.\xA0</p><p>If you have static sites on Glitch, check your <a  href="https://glitch.com/dashboard">projects view</a> and you\u2019ll see a little label that says \u201CStatic Site\u201D. Read more about this change <a target="_blank" rel="noopener" href="https://glitch.com/glimmer/post/fast-free-static-site-hosting-glitch-project-hours">here</a>. </p>'},{id:30,title:"Secure your secrets with new .env editor",body:E_`
The .env file in your project is a secure place to keep API keys or other credentials for your app. Its only visible to you and your project collaborators, and it isnt duplicated if someone remixes your project.

Now, the Glitch editor is introducing a brand new way to edit your .env. Never again do you need to worry about syntax mistakes causing invalid .env files, and if you miss the plaintext view its only a click away.

Open a project and try out the new editor!

<video autoplay loop muted playsinline>
  <source src="https://cdn.glitch.me/9cb65289-b168-4318-8f8a-8e5f3c2d8da1%2Fdotenv-demo.webm?v=1589396461116" type="video/webm">
  <source src="https://cdn.glitch.me/9cb65289-b168-4318-8f8a-8e5f3c2d8da1%2Fdotenv-demo.mp4?v=1589396461116" type="video/mp4">
</video>
          `},{id:29,title:"Make your code Prettier",body:`Ever wish you could snap your fingers and turn your code into a perfectly formatted masterpiece? Click the \u201CFormat This File\u201D button (or use the handy keyboard shortcut) and we'll magically clean up your current file.

![Format your code](https://cdn.glitch.me/63b9e699-61b7-49b1-9bde-ceeaf82e3dd1%2Fformat-file-gif.gif?v=1569875695381)

Want to format just part of a file? Highlight the lines you want to format, click the button or use the shortcut, and voila! It's especially handy if you're collaborating with people in the same file and don't want to format the line they're working on.

We use the fabulous [Prettier](https://prettier.io/) library for this, and have the default options applied. Use a .prettierc [JSON configuration file](https://prettier.io/docs/en/configuration.html#basic-configuration) in your project if you want to set your own preferences.

Thanks, from your friends at Glitch!`},{id:28,title:"Now your folders act like folders!",body:`Exciting news: your files and folders are now displayed in a handy, collapsible filetree.

We've been test-driving this for the Community site for the past few weeks, and it's grrrrreat! It's already made a huge difference in how we work on Glitch.

![Collapsible Filetree](https://cdn.glitch.me/6acc6ca5-e1ad-4cd9-9ec2-3756ebcb452a%2FScreenshot%202019-07-10%20at%205.42.40%20PM.png?v=1562794969579)

To create a file in a folder: Click on the New File button and separate the file name with a forward slash to designate the folder - like public/my-awesome-file.js. You can also now rename and delete folders directly, which will affect all the files within them, instead of renaming all your files one-by-one.

Happy collapsing!

\u2013 Sheridan and Edwin

`},{id:27,title:"Embedding your app just got easier",body:`We've redesigned our embed tool so that you can easily embed a Glitch project or code on another site. We've also added a "share" button so that other people can help spread the word about your app, too!

![Embedded Glitch App with New Bar Design](https://cdn.glitch.me/b97f2879-ef9d-44c8-acf7-9650a5f9c61f%2Fembedbar-demo.gif?1559242323828)

The embed generator also got a little love, so it's easier to customize the way your embed looks. And because we expanded our browser support, your embeds should look great in even more places.

\u2013 Tiff, Edwin, Jess, and Osmose

`},{id:26,title:"Show App in Editor",body:`You can now \`Show\` your App \`In Editor\`, while you code, where you code.

![Show App in Editor](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fshow-app-in-editor.gif?1555698139611)

Not having to switch windows between your code and app makes a couple things easier:

- Teaching and Presenting

- Coding on an iPad

- And lets you use Glitch more like a a REPL on smaller projects

Psst, You can also now click \`Change URL\` to refresh a subpath of your app as you type.

Happy coding

\u2013 xoxo Pirijan \u{1F339}

`},{id:25,title:"More Ways to Share",body:`We've updated your project Sharing options to give you more ways to share, and make access permissions \u2013 and their implications \u2013 easier to understand.

The public/private project toggle now lives inside the \`Share\` button.

![share options](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2F3.gif?1552067086515)

\u2013 Your Pal Pirijan

**And more**

- Embeds make it easy to share code snippets, tutorials, and cool apps inside Medium posts. To make that easier, you can now generate a Medium (and Embedly) embed link from \`Share \u27A1 Share Embed\` \u2013 Pirijan

- Like a helpful friend, the \`New File\` button now always appears in the sidebar, even if you've got a really tall filetree \u2013 by Tara

- Renaming files in the filetree is a bit nicer now \u2013 stay tuned for even more filetree updates from Sheridan

`},{id:24,title:"Searching Project Files",body:`You can now search your entire project through the search box (or by hitting \`\u2318-Shift-F\` or \`Ctrl-Shift-F\`). This makes it easier to work with big projects.

![search walkthrough](https://d2w9rnfcy7mm78.cloudfront.net/3680096/original_83b63778a7198ed0fffd17e98a57c2fd.gif?1550589425)

Sincerely,

\u2013 Pirijan, with illustration by GoodBoyGraphics
`},{id:23,title:"A Tools Box for Tools",body:"Now that the Glitch editor is over four years old it has way more features than it used to. So we've reorganized things to make the core editing experience less noisy, and to make advanced tools feel more consistent to find and use.\n\nA new **Tools** button at the _bottom_ of the editor now contains the old 'Advanced Options' (reworked into `Git, Import, and Export`), as well as helpful debugging tools like `Logs` and `Console`, and infrequently-used project features like `Custom Domains`.\n\n![tools at the bottom of the editor](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Ftools-pop-short.gif?1548699985926)\n\n\u2013 Pirijan\n\n![cat in box](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fcat-box.gif?1548697331541)"},{id:20,title:"User Descriptions and Teams",body:`The description you've written for yourself on your user profile page is now displayed when someone clicks on you. If you've added images, links and more to it with markdown we'll display that extra personality too.

![profile with description and teams](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fuser-teams.png?1543938298416)

Also you can now view the teams that someone is a part of. You can use this to quickly jump to your own teams, or just see what your friends are on.

\u2013 your pal Pirijan`},{id:19,title:"eslint support",body:`Continuing the theme of strong defaults that you can override, you can now add an \`.eslintrc.json\` file to your project to do things like hide code warnings, or setting your preferences around really specific things like string quotation rules.

Examples and a full list of options can be found at [eslint.org](https://eslint.org/docs/user-guide/configuring)

\u2013 Added by Emanuele`},{id:18,title:"Inline Console and Clearer Embeds",body:"You can now use the `Console` directly inside the editor, through the `Status` panel. Toggle it on to keep an eye on your builds and logs in the same handy window.\n\nTo prevent people accidently remixing when they meant to edit, `embeds no longer auto remix` when you type into them. We use Embeds all over our community site, but since they launched we've learned about how they're being used in tutorials and blog posts.\n\n\u2013 Made by Emanuele and Pirijan"}]}}}function kbe(t){let e;return e={selectAction(n,i){return i.preventDefault(),document.getElementById("project-search-input").blur(),t.closeAllPopOvers(),t.projectSearchBoxValue(""),e[n]()},keyboardShortcutOverlayToggle(){return t.analytics.track("Keyboard Shortcuts Viewed"),t.keyboardShortcutsOverlayVisible.toggle()},rewindPanelToggle(){return t.rewindPanelVisible.toggle()},logsPanelToggle(){return t.logsPanelVisible.toggle()},openConsole(){return t.consolePanelVisible.toggle()},projectOptionsPopToggle(){return t.projectPopVisible.toggle()},newOptionsPopToggle(){return t.newProjectPopVisible.toggle()},switchProjectPopToggle(){return t.projectsSelectPopVisible.toggle()},gitImportExportPopToggle(){return t.sidebarIsCollapsed(!1),t.gitImportExportPopVisible.toggle()},downloadProject(){return t.analytics.track("Project Downloaded",{clickLocation:"Project Search"}),window.location=t.projectDownloadUrl()},aboutPopToggle(){return window.open("/about","_blank")},newStuffOverlayToggle(){return t.analytics.track("Pupdate Viewed",{clickLocation:"Project Search"}),t.newStuffOverlayVisible.toggle()},accountToggle(){return window.open("/settings/account","_blank")},refreshPreviewOnChangesToggle(){return t.analytics.track("Refresh App Setting Changed"),t.refreshPreviewOnChanges.toggle()},wrapTextToggle(){return t.analytics.track("Wrap Text Setting Changed"),t.wrapText.toggle()},currentFile(){return t.selectedFile()},showAssets(){return t.showAssets()},shareEmbedOverlayToggle(){return t.shareEmbedOverlayVisible.toggle()},customDomainPopToggle(){return t.analytics.track("Custom Domains Viewed"),t.sidebarIsCollapsed(!1),t.customDomainPopVisible.toggle()},containerStatsPanelToggle(){return t.containerStatsPanelVisible.toggle()},newFilePopToggle(){return t.sidebarIsCollapsed(!1),t.newFilePopVisible.toggle()},sharePopToggle(){return t.sidebarIsCollapsed(!1),t.sharePopVisible.toggle()},shareButtonsPopToggle(){return t.sidebarIsCollapsed(!1),t.shareButtonsPopVisible.toggle()},editProjectDetailsOverlayToggle(){return t.sidebarIsCollapsed(!1),t.editProjectDetailsOverlayVisible.toggle()},toggleAppPreview(){t.appPreviewVisible()?t.appPreviewIsCollapsed.toggle():(t.appPreviewVisible(!0),t.appPreviewIsCollapsed(!1))},deleteCurrentFile(){e.deleteFile(e.currentFile())},deleteFile(n){t.closeAllPopOvers(),confirm(`Delete ${n.path()}?`)&&t.deleteFile(n)},deleteFolder(n){t.closeAllPopOvers();const i=n.name(),o=n.id();confirm(`Delete ${i} and all files and folders that it contains?`)&&t.deleteFolder(o,t.otClient().idToPath(o).substring(2))},renameCurrentFile(){e.renameFile(e.currentFile())},renameFile(n){t.closeAllPopOvers(),n.renaming(!0)},renameFolder(n){t.closeAllPopOvers(),n.renaming(!0)},async copyCurrentFile(){return e.copyFile(e.currentFile())},async copyFile(n){t.closeAllPopOvers();const i=prompt("New name",`${n.path()} copy`);if(i)try{await t.ensureSession(n),await t.newFile(i,n.content())}catch(o){console.warn(o),t.notifyGenericError(!0)}},showApp(){t.preview()&&t.notifyPreviewWindowOpened(!0)},sidebarToggle(){t.sidebarIsCollapsed.toggle(),t.updateUserPrefs("sidebarIsCollapsed",t.sidebarIsCollapsed())},remixProject(){t.projectPopVisible(!1),t.remixCurrentProject()},async importFromGitHub(){try{return await t.currentUserHasGithubRepoScope(),t.importFromGitHub()}catch{return t.redirectToGitHubLogin("repo user:email")}},async exportToGitHub(){try{return await t.currentUserHasGithubRepoScope()?t.exportToGitHub():t.notifyGithubExportNoRepoScopeError(!0)}catch{return t.notifyGenericError(!0)}},deleteCurrentProject(){const n=t.currentProject()&&t.currentProject().users()&&t.currentProject().users().length>1?`Deleting this project will delete it for everyone. You can also just leave the project by clicking yourself in the sidebar.
`:"";if(confirm(`${n}
Are you sure you want to archive ${t.projectName()}? You can undo this from the Projects Dashboard later.`))return t.closeAllPopOvers(),t.deleteCurrentProject(),t.rewindPanelVisible(!1)},changeTheme(){t.analytics.track("Theme Changed"),t.setPreferredTheme(t.currentTheme()==="sugar"?"cosmos":"sugar")}}}function Dbe(t){const e={searchValue:te(""),searchedValue:te(""),searchedResults:te([]),selectedResult:te({}),groupedSearchResults:te([]),searchWhere:te("All Files"),caseSensitive:te(!1),loading:te(!1),searchWhereOption(){let n=e.searchWhere(),i=t.currentFileInfo().path,o=t.currentFileInfo().folders,s=t.currentFileInfo().extension;return n.includes("Current File")?`--include '${i}'`:n.includes("Current Folder")&&o?`--include '${o}*'`:n.includes("Current Type")&&s?`--include '*.${s}'`:"--include '*'"},clearSearch(){e.loading(!1),e.searchValue(""),e.searchedValue(""),e.searchedResults([]),e.selectedResult({})},caseSensitiveOption(){return e.caseSensitive()?"":"--ignore-case"},splitMatch(n){let i=e.searchValue(),o=n.toLowerCase().indexOf(i.toLowerCase());return{before:n.substring(0,o),match:n.substring(o,o+i.length),after:n.substring(o+i.length,n.length),character:o}},isPathRecent(n){return t.recentFiles().some(function(i){return i.path()===n})},normalizeResult(n,i){let o=n.split(":"),s=$ve(n,":",2),a=n.substring(s+1,n.length).trim(),l=e.splitMatch(a),c=o[0],u=o[1],d=e.isPathRecent(c);return{path:c,line:u,rawMatch:a,beforeMatch:l.before,match:l.match,afterMatch:l.after,character:l.character,index:i,isRecent:d}},groupSearchResults(n){let i=[],o=n.map(function(s){return s.path});o=xD(o),o.forEach(function(s){let a=n.filter(function(l){return l.path===s});i.push(a)}),e.groupedSearchResults(i)},searchCommand(){const n=e.searchValue().trim(),i=e.caseSensitiveOption(),o=e.searchWhereOption(),s='/bin/bash -c "sort <(git ls-files -c -o --exclude-standard) <(git ls-files -d) <(git ls-files -d) | uniq -u"',a=`xargs -d "
" grep ${i} --line-number ${o} "${n.replace(/"/g,'\\"')}"`;return`${s} | ${a}`},async search(){const n=e.searchValue().trim();if(!n){e.clearSearch();return}if(!t.projectIsMemberOrMoreForCurrentUser())return;e.loading(!0),e.searchedResults([]),e.searchedValue(n);const i=e.searchCommand();try{let o=await t.containerExec(i);o=o.stdout.split(`
`),o=o.filter(Boolean),o=o.map(e.normalizeResult),o=o.filter(s=>t.fileByPath(s.path)!==void 0),e.searchedResults(o),e.groupSearchResults(o)}catch(o){e.searchedResults([]),console.log("no results found",o)}finally{e.loading(!1)}},selectResult(n){return t.closeAllPopOvers(),t.selectFileByPathOrDefaultFile(n.path),t.fileByPath(n.path).extension()==="md"&&t.markdownPreviewVisible(!1),t.selectedFile().session.then(function(){t.editor().setCursor(n.line-1,n.character),e.selectedResult(n)})}};return e.filteredGroupedSearchResults=te(()=>e.groupedSearchResults().filter(n=>t.fileByPath(n[0].path)!==void 0)),e}var Fbe=Math.floor,Ube=Math.random;function jbe(t,e){return t+Fbe(Ube()*(e-t+1))}var Bbe=jbe,Vbe=Bbe;function Hbe(t){var e=t.length;return e?t[Vbe(0,e-1)]:void 0}var $D=Hbe,zbe=Pk;function Gbe(t,e){return zbe(e,function(n){return t[n]})}var $be=Gbe;function Wbe(t,e){return function(n){return t(e(n))}}var qbe=Wbe,Ybe=qbe,Kbe=Ybe(Object.keys,Object),Xbe=Kbe,Jbe=g7,Zbe=Xbe,Qbe=Object.prototype,eEe=Qbe.hasOwnProperty;function tEe(t){if(!Jbe(t))return Zbe(t);var e=[];for(var n in Object(t))eEe.call(t,n)&&n!="constructor"&&e.push(n);return e}var nEe=tEe,rEe=m7,iEe=nEe,sEe=t5;function oEe(t){return sEe(t)?rEe(t):iEe(t)}var G5=oEe,aEe=$be,lEe=G5;function cEe(t){return t==null?[]:aEe(t,lEe(t))}var uEe=cEe,dEe=$D,fEe=uEe;function hEe(t){return dEe(fEe(t))}var pEe=hEe,mEe=$D,gEe=pEe,vEe=qo;function yEe(t){var e=vEe(t)?mEe:gEe;return e(t)}var WD=yEe;const _Ee={asterik:"m86.1990461 132.764934-16.4826831 4.365888c-2.989694.791902-6.0552831-.98976-6.8471851-3.979454-.2489071-.939707-.2489071-1.928024 0-2.867731l4.3658881-16.482683c2.3957305-9.044681 2.3957305-18.5572265 0-27.6019079l-4.3658881-16.4826831c-.7919019-2.989694.9897605-6.0552831 3.9794544-6.8471851.9397071-.2489071 1.9280235-.2489071 2.8677307 0l16.4826831 4.3658881c9.0446814 2.3957305 18.5572269 2.3957305 27.6019079 0l16.482683-4.3658881c2.989694-.7919019 6.055283.9897605 6.847185 3.9794544.248907.9397071.248907 1.9280235 0 2.8677307l-4.365888 16.4826831c-2.395731 9.0446814-2.395731 18.5572269 0 27.6019079l4.365888 16.482683c.791902 2.989694-.98976 6.055283-3.979454 6.847185-.939707.248907-1.928024.248907-2.867731 0l-16.482683-4.365888c-9.044681-2.395731-18.5572265-2.395731-27.6019079 0z",clove:"m99.8335343 65.1549629c9.5399507-9.5399505 25.0072667-9.5399505 34.5472167 0 9.444551 9.4445511 9.538997 24.6985129.283337 34.2592522l-.375477.3796268c.175742.1640088.349185.3324511.520712.5039781 9.53995 9.539951 9.53995 25.007267 0 34.547217-9.539951 9.539951-25.007267 9.539951-34.547217 0l-.083092-.084437-.2147283.215188-.2143714-.214488-.2142.214488-.2156-.215188-.0822201.084437c-9.444551 9.444551-24.6985129 9.538997-34.2592521.283337l-.2879649-.283337c-9.5399506-9.53995-9.5399506-25.007266 0-34.547217.1715267-.171527.3449695-.3399693.5202596-.5053279l-.0916882-.0903122c-9.5399505-9.5399505-9.5399505-25.0072664 0-34.547217 9.5399506-9.5399505 25.0072665-9.5399505 34.5472171 0l.0834486.0851371z",octagon:"m103.214541 59.3315064 23.269403 9.6385024c2.058236.8525492 3.693498 2.4878113 4.546047 4.5460472l9.638503 23.2694032c.852549 2.0582359.852549 4.3708458 0 6.4290818l-9.638503 23.269403c-.852549 2.058236-2.487811 3.693498-4.546047 4.546047l-23.269403 9.638503c-2.058236.852549-4.3708459.852549-6.4290818 0l-23.2694032-9.638503c-2.0582359-.852549-3.693498-2.487811-4.5460472-4.546047l-9.6385024-23.269403c-.8525492-2.058236-.8525492-4.3708459 0-6.4290818l9.6385024-23.2694032c.8525492-2.0582359 2.4878113-3.693498 4.5460472-4.5460472l23.2694032-9.6385024c2.0582359-.8525492 4.3708458-.8525492 6.4290818 0z",star:"m100 128.205518-12.5674616 12.213738c-1.6634446 1.616626-4.3224666 1.578671-5.939092-.084773-.7474168-.769063-1.1723334-1.794902-1.1876394-2.867215l-.2501197-17.522955-17.522955-.25012c-2.3193597-.033106-4.1727344-1.940157-4.1400649-4.259516.0157427-1.072313.4406593-2.098153 1.1880761-2.867215l12.2137389-12.567462-12.2137389-12.5674616c-1.6166254-1.6634446-1.5786709-4.3224666.0847736-5.939092.7690628-.7474168 1.7949022-1.1723334 2.8672152-1.1876394l17.522955-.2501197.2501197-17.522955c.0331061-2.3193597 1.9401565-4.1727344 4.2595162-4.1400649 1.072313.0157427 2.0981524.4406593 2.8672152 1.1880761l12.5674616 12.2137389 12.567462-12.2137389c1.663444-1.6166254 4.322466-1.5786709 5.939092.0847736.747416.7690628 1.172333 1.7949022 1.187639 2.8672152l.25012 17.522955 17.522955.2501197c2.319359.0331061 4.172734 1.9401565 4.140065 4.2595162-.015743 1.072313-.44066 2.0981524-1.188077 2.8672152l-12.213738 12.5674616 12.213738 12.567462c1.616626 1.663444 1.578671 4.322466-.084773 5.939092-.769063.747416-1.794902 1.172333-2.867215 1.187639l-17.522955.25012-.25012 17.522955c-.033106 2.319359-1.940157 4.172734-4.259516 4.140065-1.072313-.015743-2.098153-.44066-2.867215-1.188077z"},bEe={"beam-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M146.738968,119.456732 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.2595525,119.456732 C52.2378743,119.808818 51.1412637,120 50,120 L50,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L150,120 C148.858736,120 147.762126,119.808818 146.738968,119.456732 L146.738968,119.456732 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L50,80 C51.1412637,80 52.2378743,80.1911823 53.2610316,80.5432676 L53.2610316,80.5432676 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 L143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.740447,80.5432676 C147.762126,80.1911823 148.858736,80 150,80 L150,80 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M39.8166092,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L159.683391,120 C161.233131,130.545013 157.95025,141.663122 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2824534,149.389917 C41.4467496,141.31031 38.2914681,130.377636 39.8166092,120 L39.8166092,120 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L40.4290011,80.0007172 C38.8789063,69.4556903 42.1617387,58.337135 50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C157.338134,58.3370076 160.620991,69.4553414 159.071072,80.0007172 L159.071072,80.0007172 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M48.284,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L151.715,120 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L48.284,120 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L48.284,80 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 L95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L151.715,80 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M40.9537911,119.999596 L30,119.999596 C24.4771525,119.999596 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,119.999596 170,119.999596 L170,119.999596 L159.048209,120.000807 C159.87258,122.170488 159.391012,124.717438 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439047 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5609534,122.049538 C40.5713378,121.342211 40.7063468,120.649038 40.9537911,119.999596 L40.9537911,119.999596 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L40.9521743,80.0002021 C40.1272712,77.8303017 40.6087131,75.2828283 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5609534 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439047,77.9504617 C159.428657,78.6581533 159.293514,79.3516756 159.045827,80.001407 L159.045827,80.001407 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","circle-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","circle-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","circle-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","circle-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z","plug-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","plug-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","plug-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","plug-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z","square-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","square-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","square-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","square-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z"},EEe={"beam-asterik":"m150 120h20c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h20c1.1412637 0 2.2378743-.191182 3.2595525-.543268l-.066601.258916-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.305064-23.805607c1.023158.352086 2.119768.543268 3.261032.543268zm20-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10h-20c-1.141264 0-2.237874.1911823-3.259553.5432676l.066602-.258916 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.3050632 23.8056062c-1.0231573-.3520853-2.1197679-.5432676-3.2610316-.5432676h-20c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-clove":"m170 120c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h9.8166092c-1.5251411 10.377636 1.6301404 21.31031 9.4658442 29.389917l.3827997.388707.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 8.115503-8.115502 11.398384-19.233611 9.848644-29.778624zm0-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10l-10.928928.0007172c1.549919-10.5453758-1.732938-21.6637096-9.84857-29.7793416-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-8.1157593 8.1157594-11.3985917 19.2343147-9.8484969 29.7793416l-10.4290011-.0007172c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-octagon":"m170 120c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h18.284l7.3874411 17.834206c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 7.386441-17.834206zm0-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10h-18.285l-7.386441-17.8342057c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007-33.242005-13.7692891c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-7.3874411 17.8342057h-18.284c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-star":"m170 119.999596c5.522847 0 10 4.477557 10 10.000404v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10.000404 10-10.000404h10.9537911c-.2474443.649442-.3824533 1.342615-.3928377 2.049942-.0456099 3.238067 2.4820502 5.91359 5.6895222 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697252 3.238067.04561 5.91359-2.482051 6.077675-5.689523l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 1.770322-1.720496 2.25189-4.267446 1.427519-6.437127zm0-99.999596c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10l-10.954173.001407c.247687-.6497314.38283-1.3432537.39322-2.0509453.04561-3.2380671-2.482051-5.91359-5.689523-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6972516-3.2380671-.0456099-5.91359 2.4820502-6.0776747 5.6895222l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-1.7705971 1.720762-2.252039 4.2682354-1.4271359 6.4381358l-10.9521743-.0002021c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","circle-asterik":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm53.044032 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","circle-clove":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm49.222502 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","circle-octagon":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm4.592201 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","circle-star":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm-22.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z","plug-asterik":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm13.044032 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","plug-clove":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm9.222502 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","plug-octagon":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm-35.407799 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","plug-star":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm-62.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z","square-asterik":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-16.955968 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","square-clove":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-20.777498 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","square-octagon":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-65.407799 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","square-star":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-92.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z"},wEe={wedges:"m200 0v200h-200v-200zm-60 100-40 40h30c5.522847 0 10-4.477153 10-10zm-80 0v30c0 5.522847 4.4771525 10 10 10h30zm70-40h-30l40 40v-30c0-5.5228475-4.477153-10-10-10zm-30 0h-30c-5.5228475 0-10 4.4771525-10 10v30z",ring:"m200 0v200h-200v-200zm-100 40c-33.137085 0-60 26.862915-60 60s26.862915 60 60 60 60-26.862915 60-60-26.862915-60-60-60zm0 20c22.09139 0 40 17.90861 40 40s-17.90861 40-40 40-40-17.90861-40-40 17.90861-40 40-40z",dots:"m200 0v200h-200v-200zm-140 120c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm80 0c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm-40-40c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm-40-40c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm80 0c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20z",cube:"m200 0v200h-200v-200zm-129.8492424 100.301515-22.627417 22.627417c-3.9052429 3.905243-3.9052429 10.236893 0 14.142136l15.5563492 15.556349c3.9052429 3.905243 10.2368927 3.905243 14.1421356 0l22.627417-22.627417zm59.3969694 0-29.6984846 29.698485 22.6274166 22.627417c3.905243 3.905243 10.236893 3.905243 14.142136 0l15.556349-15.556349c3.905243-3.905243 3.905243-10.236893 0-14.142136zm-52.3259016-52.928932c-3.9052429-3.9052429-10.2368927-3.9052429-14.1421356 0l-15.5563492 15.5563492c-3.9052429 3.9052429-3.9052429 10.2368927 0 14.1421356l22.627417 22.627417 29.6984848-29.6984848zm59.3969696 0c-3.905243-3.9052429-10.236893-3.9052429-14.142136 0l-22.6274166 22.627417 29.6984846 29.6984848 22.627417-22.627417c3.905243-3.9052429 3.905243-10.2368927 0-14.1421356z",bars:"m200 0v200h-200v-200zm-70 60h-60c-5.5228475 0-10 4.4771525-10 10v60c0 5.522847 4.4771525 10 10 10h60c5.522847 0 10-4.477153 10-10v-60c0-5.5228475-4.477153-10-10-10zm-17 20c3.865993 0 7 3.1340068 7 7v26l-.004059.24065c-.126842 3.754567-3.210489 6.75935-6.995941 6.75935h-26l-.2406498-.004059c-3.7545668-.126842-6.7593502-3.210489-6.7593502-6.995941v-26l.004059-.2406498c.1268423-3.7545668 3.2104893-6.7593502 6.995941-6.7593502z"},w_=200;function xEe(){const t=document.createElement("canvas"),e=window.devicePixelRatio||1;t.width=w_*e,t.height=w_*e;const n=t.getContext("2d");return n.scale(e,e),n.fillStyle=na({luminosity:"light"}),n.fillRect(0,0,w_,w_),[t,n]}function x_(t){return WD(Object.values(t))}function SEe(){const[t,e]=xEe(),n=x_(wEe),i=x_(bEe),o=x_(EEe),s=x_(_Ee);return e.fillStyle=na({luminosity:"bright"}),e.fill(new Path2D(n)),e.fillStyle=na(),e.fill(new Path2D(Math.random()>=.5?i:o)),e.fillStyle=na({luminosity:"dark"}),e.fill(new Path2D(s)),t}var TEe=(t,e)=>(t=t||{},e=e||Qo(t),e.extend({random(){const n=SEe();return new Promise((i,o)=>{try{return n.toBlob(s=>i(s))}catch(s){return o(s)}})}})),CEe=function(e,n){for(var i=e.split("."),o=n.split("."),s=0;s<3;s++){var a=Number(i[s]),l=Number(o[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return 0};const MEe="2.0.0",AEe=256,PEe=Number.MAX_SAFE_INTEGER||9007199254740991,REe=16;var $5={SEMVER_SPEC_VERSION:MEe,MAX_LENGTH:AEe,MAX_SAFE_INTEGER:PEe,MAX_SAFE_COMPONENT_LENGTH:REe},S_={exports:{}};const LEe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var qD=LEe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=$5,i=qD;e=t.exports={};const o=e.re=[],s=e.src=[],a=e.t={};let l=0;const c=(u,d,f)=>{const h=l++;i(h,d),a[u]=h,s[h]=d,o[h]=new RegExp(d,f?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),c("FULL",`^${s[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),c("LOOSE",`^${s[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),c("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",s[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(S_,S_.exports);const IEe=["includePrerelease","loose","rtl"],OEe=t=>t?typeof t!="object"?{loose:!0}:IEe.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var YD=OEe;const KD=/^[0-9]+$/,XD=(t,e)=>{const n=KD.test(t),i=KD.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},NEe=(t,e)=>XD(e,t);var kEe={compareIdentifiers:XD,rcompareIdentifiers:NEe};const T_=qD,{MAX_LENGTH:JD,MAX_SAFE_INTEGER:C_}=$5,{re:ZD,t:QD}=S_.exports,DEe=YD,{compareIdentifiers:yg}=kEe;class xo{constructor(e,n){if(n=DEe(n),e instanceof xo){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>JD)throw new TypeError(`version is longer than ${JD} characters`);T_("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=e.trim().match(n.loose?ZD[QD.LOOSE]:ZD[QD.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>C_||this.major<0)throw new TypeError("Invalid major version");if(this.minor>C_||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>C_||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const s=+o;if(s>=0&&s<C_)return s}return o}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(T_("SemVer.compare",this.version,this.options,e),!(e instanceof xo)){if(typeof e=="string"&&e===this.version)return 0;e=new xo(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof xo||(e=new xo(e,this.options)),yg(this.major,e.major)||yg(this.minor,e.minor)||yg(this.patch,e.patch)}comparePre(e){if(e instanceof xo||(e=new xo(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],o=e.prerelease[n];if(T_("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return yg(i,o)}while(++n)}compareBuild(e){e instanceof xo||(e=new xo(e,this.options));let n=0;do{const i=this.build[n],o=e.build[n];if(T_("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return yg(i,o)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var FEe=xo;const{MAX_LENGTH:UEe}=$5,{re:eF,t:tF}=S_.exports,nF=FEe,jEe=YD,BEe=(t,e)=>{if(e=jEe(e),t instanceof nF)return t;if(typeof t!="string"||t.length>UEe||!(e.loose?eF[tF.LOOSE]:eF[tF.FULL]).test(t))return null;try{return new nF(t,e)}catch{return null}};var VEe=BEe;const HEe=VEe,zEe=(t,e)=>{const n=HEe(t,e);return n?n.version:null};var GEe=zEe;const rF="563e42ca2ae291effe766fbdaaf74200";function $Ee(t){const e=a=>Xa.get(a).json(),n=(a,l)=>Xa.post(a,{json:l}).json(),i=te([]),o=te({});var s={isValidPackagesFileContent(a){try{JSON.parse(a)}catch{return!1}return!0},packageFile(){return t.fileByPath("package.json")},updatePackageLicense(a){let l=t.fileByPath("package.json");if(!l)return Promise.resolve();const c=JSON.parse(l.content());c.license=a;const u=JSON.stringify(c,null,"  ");return t.writeToFile(l,u)},checkForPackages(a){return n(`https://libraries.io/api/check?api_key=${rF}`,a)},markCurrentVersionAndOutdated(a){const l=o()[a.name];return l&&(a.current_version=l,a.latest_stable_release_number&&(a.outdated=CEe(a.current_version,a.latest_stable_release_number)===-1)),a},outdatedPackages(){return o(),i.map(s.markCurrentVersionAndOutdated).filter(a=>a.outdated)},checkForPackageUpdates(a){return Promise.resolve().then(function(){const l=a.content(),c=s.parse(l);o(c);const u=[];for(const[f,h]of Object.entries(c))GEe(h)&&u.push(f);const d={projects:u.map(f=>({name:f,platform:"npm"}))};return s.checkForPackages(d).then(i)})},searchForPackages(a){const u=`https://libraries.io/api/search?q=${a}&platforms=npm&api_key=${rF}&per_page=${5}`;return e(u).then(d=>d.map(s.markCurrentVersionAndOutdated))},normalizeVersionNumber:iF,parse(a){const{dependencies:l}=JSON.parse(a);return Object.keys(l).forEach(c=>l[c]=iF(l[c])),l},add(a,l){const{name:c}=l,d=`^${l.latest_stable_release_number||l.latest_release_number}`;"dependencies"in a||(a.dependencies={}),a.dependencies[c]=d;const f=JSON.stringify(a,null,"  ");return o(s.parse(f)),f},async addAndUpdatePackage(a,l){let c,u=t.fileByPath("package.json");u||(c=JSON.stringify({dependencies:{},scripts:{start:"ws --port 3000 --log.format combined --directory . --blacklist '/.env' '/.data' '/.git'"}}),u=await t.newFile("package.json",c,!1)),await t.ensureSession(u);const d=JSON.parse(u.content());"dependencies"in d||(d.dependencies={});const f=d.dependencies[a.name]!=null;if(l&&f)return;const h=s.add(d,a);return await t.writeToFile(u,h),f}};return s}var iF=function(t,e="node"){return e==="node"?t.replace(/^\^/,""):t};function WEe(){return new Worker("/edit/assets/prettier.worker.c9aff593.js",{type:"module"})}const qEe=navigator.userAgent||navigator.vendor||window.opera,YEe=function(t={},e=void 0){t=t||{},e=e||Qo(t),ju(t,{logger:console,currentProjectIndex:-1,projects:[],privateFileUuids:[],privateFileUuidsToCopy:[],environment:aT,refreshPreviewOnChanges:!0}),e.attrModels("projects",yc),e.attrObservable("currentProjectIndex","fileChanged","privateFileUuidsToCopy","privateFileUuids","refreshPreviewOnChanges"),e.attrReader("environment"),e.include($_e),e.extend(lye(qEe)),e.include(rbe),e.include(cbe),e.include(ube),e.include(j_e),e.include(fye),e.include(fbe),e.include(Pbe),e.include(Ibe),e.include(Obe),e.projectAvatarUtils=TEe(e),e.packageUtils=$Ee(e),e.newStuffLog=Nbe(),e.actionInterface=kbe(e),e.fileSearch=Dbe(e);let n=te(window.location.pathname.startsWith("/embed"));const i=wye(),o=Mye(i),s=Iye(e);e.extend({history:Efe({hashType:"hashbang"}),currentUser:()=>o,currentUserShim:o,userMachine:i,projectMachine:s,start(){s.start(),i.start()},logger(){return t.logger},production(){return t.environment.match(/prod/)},hiddenOnProduction(){if(e.production())return"hidden"},containerPath:te(),booting:te(!1),booted:te(!1),cspViolations:te([]),firstLoad:te(!0),userIsLoggingIn:te(!1),projectIsLoaded:te(!1),projectListIsLoaded:te(!1),userIsIdle:te(!1),redirectingToLogin:te(!1),projectIsRenaming:te(!1),markdownPreviewVisible:te(!0),dotenvViewVisible:te(!0),projectRuntimeInfo:te(""),projectAppType:te(null),restorePath:te(""),restoreLine:te("1"),highlights:te([]),highlightFilePath:te(""),restoreCharacter:te("0"),userPositionIsRestored:te(!1),appPreviewVisible:te(e.getUserPrefs().hasOwnProperty("previewIsVisible")?e.getUserPrefs().previewIsVisible:e.isMobile),appPreviewIsCollapsed:te(!e.getUserPref("previewIsVisible")),appPreviewUpdate:f=>{e.updateUserPrefs("previewIsVisible",f)},appPreviewUrlPath:te("/"),userIsDraggingText:te(!1),applicationWidth:te(!0),currentLicense:te(void 0),lastDeletedProject:te(void 0),newProjectTemplates:te([]),signInCodeIsValid:te(!0),connectionErrorDetails:te(null),applicationFocused:te(!1),applicationHovered:te(!1),consoleWelcomeDisplayed:te(!1),sidebarIsCollapsed:te(e.getUserPrefs().hasOwnProperty("sidebarIsCollapsed")?e.getUserPrefs().sidebarIsCollapsed:e.isMobile),sidebarWidth:te(e.getUserPrefs().hasOwnProperty("sidebarWidth")?e.getUserPrefs().sidebarWidth:250),appPreviewSize:te(0),fileAddedAndNotAnimated:te(null),formattingCodeInProgress:te(!1),fullScreenSparkleEffectVisible:te(!1),appPreviewMode:te("default"),embedAppPreviewSize:te(0),embedSelectedFilePath:te(""),embedAttributionHidden:te(!1),embedBottombarCollapsed:te(!1),editorIsEmbedded:n,embedEditingEnabled:te(!1),embedParentIsGlitch:te(!1),embedSidebarCollapsed:te(!1),embedHelperHeight:te(null),fastlyStatus:te(null),digitalOceanStatus:te(null),digitalOceanDeploy:te(null),digitalOceanPackageManagerSwitched:te(!1),wrapText:te(!1),maxLogs:te(2e3),eslintrc:te(null),prettierrc:te(null),watchJson:te(null),env:te(null),packageManager:te("pnpm"),newStuffNotificationVisible:te(!1),newStuff:te([]),debuggerEnabled:te(!1),debuggerReady:te(!1),jiggleAssetFiletreeEntry:te(!1),logsPanelVisible:te(!1),consolePanelVisible:te(!1),projectPrivacy(){var f;return(f=e.currentProject())==null?void 0:f.privacy()},projectAccessLevelForCurrentUser(){var f;return(f=e.currentProject())==null?void 0:f.accessLevel(e.currentUser())},projectIsHelperOrLessForCurrentUser(){return e.projectAccessLevelForCurrentUser()<=xt.HELPER},projectIsMemberOrMoreForCurrentUser(){return e.projectAccessLevelForCurrentUser()>=xt.MEMBER},projectIsMemberForCurrentUser(){return e.projectAccessLevelForCurrentUser()===xt.MEMBER},projectIsAdminForCurrentUser(){return e.projectAccessLevelForCurrentUser()===xt.ADMIN},projectIsReadOnlyForCurrentUser(){return e.projectAccessLevelForCurrentUser()===xt.NONE},projectContainerStatus:te("ok"),projectRemixes:te(0),projectContainerResourcesStatus:te("ok"),projectContainerResourcesData:te({quotaUsagePercent:0,memoryUsagePercent:0,diskUsagePercent:0}),projectContainerResourcesDataLoaded:te(!1),projectContainerCpuStatus:te("ok"),projectContainerMemoryStatus:te("ok"),projectContainerDiskStatus:te("ok"),collaboratorPositionTop:te(0),collaboratorPositionLeft:te(0),checkingForPackageUpdates:te(!1),packagesOutdated:e.packageUtils.outdatedPackages,projectSearchBoxValue:te(""),editorVisible:te(!0),editorWrapVisible:te(!0),assetsWrapVisible:te(!1),mediaWrapVisible:te(!1),mediaElement:te(null),appTypeConfigWrapVisible:te(!1),assets:te([]),draggedTextFile:te({}),aboutPopVisible:te(!1),addPackagePopVisible:te(!1),accountPopVisible:te(!1),projectPopVisible:te(!1),projectsSelectPopVisible:te(!1),projectAvatarPopVisible:te(!1),personPopVisible:te(!1),projectSearchPopVisible:te(!1),shareButtonsPopVisible:te(!1),sharePopVisible:te(!1),embedSharePopVisible:te(!1),gitImportExportPopVisible:te(!1),smallViewportOptionsPopVisible:te(!1),changeLicensePopVisible:te(!1),signInTop:te(""),signInLeft:te(""),newProjectPopVisible:te(!1),projectContainerStatusPopVisible:te(!1),newFilePopVisible:te(!1),customDomainPopVisible:te(!1),toolsPopVisible:te(!1),showAppPopVisible:te(!1),appPreviewUrlPopVisible:te(!1),teamPopCurrentTeam:te(null),containerStatsPanelVisible:te(!1),assetOverlayAssetUUID:te(null),keyboardShortcutsOverlayVisible:te(!1),dragToUploadOverlayVisible:te(!1),newStuffOverlayVisible:te(!1),projectIsSuspendedOverlayVisible:te(!1),shareEmbedOverlayVisible:te(!1),connectionErrorOverlayVisible:te(!1),projectSearchFilesOverlayVisible:te(!1),ownerNotInGoodStandingOverlayVisible:te(!1),userIsSuspendedVisible:te(!1),recaptchaOverlayCallback:te(!1),uptimeLimitsExceededOverlayVisible:te(!1),glitchSubscriptionRequiredOverlayVisible:te(!1),anonymousProjectDeletedOverlayVisible:te(!1),shareProjectOverlayVisible:te(!1),editProjectDetailsOverlayVisible:te(!1),notifyAutosave:te(!1),notifyConnectionError:te(!1),notifyProjectVisitorCannotUploadAssets:te(!1),notifyConnectionNotEstablished:te(!1),notifyReconnecting:te(!1),notifyInvalidFileName:te(!1),notifyInvalidFolderName:te(!1),notifyPreviewWindowOpened:te(!1),notifyAnonProjectLimits:te(!1),notifyAnonUserLimits:te(!1),notifyGitImportUrlInvalid:te(!1),notifyImportingGitRepo:te(!1),notifyGithubExporting:te(!1),notifyGitImportSuccess:te(!1),notifyInvalidGitRepository:te(!1),notifyGithubExportFailure:te(!1),notifyGithubEmptyRepositoryError:te(!1),notifyGitRepositoryNotFoundError:te(!1),notifyGithubExportSuccess:te(!1),notifyGithubExportNoRepoScopeError:te(!1),notifyGenericError:te(!1),notifyReconnected:te(!1),notifyUploadFailure:te(!1),notifyJoinedProject:te(!1),notifyLeftProject:te(!1),notifyTakeActionToEdit:te(!1),notifyPrettierFirstRun:te(!1),notifyDeletedProject:te(!1),notifyEditorIsPreviewingRewind:e.editorIsPreviewingRewind,notifyEditorRewoundProject:te(!1),notifyEditorIsRewindingProject:e.editorIsRewindingProject,notifyFileHiddenByGitIgnore:te(!1),notifyCanEdit:te(!1),notifyOpenInFullEditor:te(!1),notifyCanEditInEmbedRemixedEmbed:te(!1),notifyUploading:te(!1),notifyCloneError:te(!1),notifyDebuggerIsChromeOnly:te(!1),notifyPrettierParseError:te(!1),notifyPrettierLoadError:te(!1),notifyFirstSwitchToStatic:te(!1),notifyFirstSwitchToNonStatic:te(!1),jiggleTakeActionToEditNotification:te(!1),jigglePreviewingRewindNotification:te(!1),notifyDotenvRemovedVariable:te(!1),notifyDotenvUpdatesAsYouType:te(!1),notifyCopied:te(!1),notifyProjectConnectionFailed:te(!1),notifyProjectLoadFailed:te(!1),notifyRecaptchaUnavailable:te(!1),backendLintingResults:{},boostedCollection:te(null),boostedProjects:te(null),showTipForUserAvatar:te(e.getUserPrefs().hasOwnProperty("showTipForUserAvatar")?e.getUserPrefs().showTipForUserAvatar:!0),pendingUploads:te([]),printConsoleWarning(f,h){h=h||window.location.href,f=f||e.logger().log.bind(e.logger()),!e.consoleWelcomeDisplayed()&&h.includes("/edit")&&(f("%cWelcome to the console","color: #e100d8"),f("If you\u2019re following someone else\u2019s instructions make sure you trust them. If in doubt post a question in our forum https://support.glitch.com"),e.consoleWelcomeDisplayed(!0))},uploadProgress(){const f=e.pendingUploads(),h=f.length;return f.reduce((m,{ratio:_})=>m+_(),0)/h*100|0},clearAssetOverlayAssetUUID(){e.assetOverlayAssetUUID(null)},closeAllPopOversEmitter:new u9.EventEmitter,onCloseAllPopOvers(f){return e.closeAllPopOversEmitter.on("close",f),()=>{e.closeAllPopOversEmitter.on("close",f)}},closeAllPopOvers(f){e.closeAllPopOversEmitter.emit("close",f),e.aboutPopVisible(!1),e.addPackagePopVisible(!1),e.accountPopVisible(!1),e.projectPopVisible(!1),e.projectsSelectPopVisible(!1),e.projectAvatarPopVisible(!1),e.personPopVisible(!1),e.toolsPopVisible(!1),typeof e.fileOptionsPopVisible=="function"&&e.fileOptionsPopVisible(!1),e.projectSearchPopVisible(!1),e.gitImportExportPopVisible(!1),e.shareButtonsPopVisible(!1),e.sharePopVisible(!1),e.embedSharePopVisible(!1),e.smallViewportOptionsPopVisible(!1),e.changeLicensePopVisible(!1),e.newProjectPopVisible(!1),e.projectContainerStatusPopVisible(!1),e.newFilePopVisible(!1),e.customDomainPopVisible(!1),e.showAppPopVisible(!1),e.appPreviewUrlPopVisible(!1),e.teamPopCurrentTeam(null),e.assetOverlayAssetUUID(null),e.keyboardShortcutsOverlayVisible(!1),e.dragToUploadOverlayVisible(!1),e.newStuffOverlayVisible(!1),e.shareEmbedOverlayVisible(!1),e.projectSearchFilesOverlayVisible(!1),e.ownerNotInGoodStandingOverlayVisible(!1),e.uptimeLimitsExceededOverlayVisible(!1),e.glitchSubscriptionRequiredOverlayVisible(!1),e.shareProjectOverlayVisible(!1),e.editProjectDetailsOverlayVisible(!1)},selectTextFile(){e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!0),e.mediaWrapVisible(!1)},selectMediaFile(f){let h;return f.extensionType()==="audio"?(h=document.createElement("audio"),h.controls=!0,h.src=`data:audio/mp3;base64,${f.base64Content()}`):f.extensionType()==="image"?(h=document.createElement("img"),h.src=`data:image/png;base64,${f.base64Content()}`):f.extensionType()==="pdf"?(h=document.createElement("iframe"),h.style="width: 100%; height: 100%; border: none",h.src=`data:application/pdf;base64,${f.base64Content()}`):(h=document.createElement("div"),h.textContent="Cannot display this type of binary file"),e.mediaElement(h),e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!1),e.mediaWrapVisible(!0)},currentDocument(){const f=e.recentFiles(),h=f[f.length-1];return h!=null?h.uuid():void 0},currentDocumentIsTextFile(){if(e.editorWrapVisible()&&e.assetsWrapVisible()===!1)return!0},currentFileInfo(){const f=e.currentDocument(),h=e.fileByUuid(f);let v={};return h&&e.projectIsLoaded()&&(v.path=h.path(),v.folders=h.folders(),v.extension=h.extension()),v},currentTheme:te(e.getUserPrefs().theme||"sugar"),setPreferredTheme(f){e.updateUserPrefs("theme",f),e.currentTheme(f)},analytics:aye(),touchClass(f){if(e.isMobile)return"touch"},projectName(){var f;return(f=e.currentProject())==null?void 0:f.name()},relevantTeams(){let f=e.currentProject(),h=e.currentUser();if(!f||!h)return"0";let v=h.teams().map(S=>S.id()).sort(),m=f.teams().map(S=>S.id()).sort(),_=cye(v,m);return _.length>0?_.join(","):"0"},projectFilePaths(){var f;return(f=e.currentProject())==null?void 0:f.files().map(h=>h.path())},touchProject(){var f;if(!e.projectIsReadOnlyForCurrentUser())return(f=e.currentProject())==null?void 0:f.touch(e)},globalClickStart(f){e.currentClickElement=f.target},globalClickEnd(f){f.target===e.currentClickElement&&e.syntheticGlobalClick(f),e.currentClickElement=!1},syntheticGlobalClick(f){const{defaultPrevented:h,target:v}=f;v.closest("button")&&(v.parentElement.blur(),v.blur()),!h&&(v.closest('.pop-over, .opens-pop-over, .overlay, [data-module="Notification"]')||e.closeAllPopOvers(v))},projectNameFromPath(f){const h=/[^?]*/;return f.match(h)[0]},refreshPreview(){e.editorIsEmbedded()?e.updateAppPreview():e.preview()},setRestorePosition(f){const h=/:[0-9]+/g,v=f.match(h),m=v!=null?v[0]:void 0,_=v!=null?v[1]:void 0;if(e.restorePath(sF(f)),m&&e.restoreLine(m.slice(1,m.length)),_)return e.restoreCharacter(_.slice(1,_.length))},setHighlightLines(f,h){!h||h.length===0||(e.highlightFilePath(sF(h)),e.highlights(f))},boot(){return e.booting()?Promise.resolve():(e.booting(!0),Promise.resolve().then(function(){return e.fetchLatestProject().catch(function(f){throw e.notifyConnectionError(!0),f})}).then(function(){e.analytics.identify(e.currentUser()),e.connectionErrorOverlayVisible(!1),e.refreshEditor(),e.fetchBoostedCollection(),e.booted(!0)}).then(()=>{if(pendo){const f=e.currentUser(),h=f.emails()[0].email,v=f.id();pendo.initialize({visitor:{email:h,id:v},account:{email:h,id:v}})}}).then(()=>{e.digitalOceanStatus(null),e.digitalOceanDeploy(null),e.digitalOceanPackageManagerSwitched(!1)}).catch(async f=>{const h=await f.response.json().catch(()=>({status:"Unknown",error:"Server error",message:"An unexpected error has occurred."}));return e.logger().log(f),e.logger().log(h),e.connectionErrorDetails(h),e.connectionErrorOverlayVisible(!0)}))},fetchLatestProject(){return e.glitchApi().v0.boot({latestProjectOnly:!0}).then(f=>(f.user.suspendedAt&&e.userIsSuspendedVisible(!0),f)).then(f=>f.projects[0]||null).then(f=>{f!==null&&e.projects([yc(f)])}).catch(function(f){throw f.response.status===401?(e.logout(),Error("User is unauthorized")):f}).finally(()=>e.checkForNewStuff())},checkForNewStuff(){const f=e.getUserPref("newStuffReadId");if(f!=null&&e.newStuffLog.updates()[0].id<=f){e.newStuffNotificationVisible(!1);return}if(!e.currentUser().loggedIn()){e.newStuffNotificationVisible(!1);return}const h=2,v=new Date(e.currentUser().createdAt()),m=new Date;if(Be(m).diff(v,"days")<=h){e.newStuffNotificationVisible(!1);return}if(!e.getUserPref("showNewStuff")){e.newStuffNotificationVisible(!1);return}e.newStuffNotificationVisible(!0)},fetchUserProjects(){return e.projectListIsLoaded(!1),e.glitchApi().v0.boot({latestProjectOnly:!1}).then(f=>f.projects).then(f=>(f=f.filter(h=>h.id!==e.currentProject().id()),e.projects([e.currentProject()].concat(f.map(h=>yc(h)))))).finally(()=>e.projectListIsLoaded(!0))},focusOnGlobalSearch(){document.getElementById("project-search-input").focus()},updateUserThanks(f){return f.updateThanks(e)},alphabeticalize(f,h){const v=typeof f.path=="function"?f.path().split("/"):f.path.split("/"),m=typeof h.path=="function"?h.path().split("/"):h.path.split("/"),_=v.length,S=m.length,E=Math.max(_,S);let w=0;for(;w<E;){if(_-1===w&&S>_)return 1;if(S-1===w&&_>S)return-1;if(v[w]>m[w])return 1;if(v[w]<m[w])return-1;w+=1}return 0},persistentToken(){var f;return(f=e.currentUser())==null?void 0:f.persistentToken()},setDestinationAfterAuth(){e.storeLocal("destinationAfterAuth",{expires:Be().add(10,"minutes").toISOString(),to:{pathname:window.location.pathname,search:window.location.search,hash:window.location.hash}})},projectDownloadUrl(){const f=e.currentProjectId(),h=e.persistentToken();return`${Wo}/project/download/?authorization=${h}&projectId=${f}`},getGitHubLoginUrl:(f="user:email")=>p_.authorizationUrl(tae,f),redirectToGitHubLogin:f=>{e.redirectingToLogin(!0),e.setDestinationAfterAuth(),window.location=e.getGitHubLoginUrl(f)},logout(){window.analytics.reset(),e.removeLocal("cachedUser"),document.cookie=`hasLogin=; path=/; expires=${new Date}`,document.cookie=`hasProjects=; path=/; expires=${new Date}`,window.location="//glitch.com"},updateEmbedSidebarCollapsed(f){if(e.embedParentIsGlitch()){const h=e.sidebarIsCollapsed();return f=f||window.parent,f.postMessage(Nu({embedSidebarCollapsed:h}),"*"),e.updateUserPrefs("embedSidebarCollapsed",h)}},currentUserIsLoggedIn(){return e.currentUser().loggedIn()},removeStaleUsers(){const f=+new Date;return e.currentRemoteUsers.filter(h=>f-h.lastSeen()>30*1e3).forEach(function(h){e.currentRemoteUsers.remove(h)})},currentRemoteUsers:te([]),async updateRemoteUser(f){var v;let h;if(f.invited){e.updateInvitedUser(f);return}if(f.left){e.updateLeftUser(f);return}if(f.id!==e.currentUser().id()){let m=-1;e.currentRemoteUsers.forEach(function(_,S){if(_.id()===f.id)return m=S}),m>=0?(h=e.currentRemoteUsers()[m],h.update(f)):(((v=f.projectPermission)==null?void 0:v.accessLevel)>=xt.MEMBER&&e.currentProject().users().push(f),h=qs(f),e.currentRemoteUsers.push(h),await e.updateUserThanks(h),e.broadcastUser()),h.lastSeen(Date.now())}else h=e.currentUser();if(f.thankedBy){h.thanksCount.increment(1),h.thanksReceived(!0);return}if(f.unThankedBy){h.thanksCount.decrement(1);return}},autoJoin(){const f=e.currentUser().broadcastData();return f.projectPermission={accessLevel:xt.MEMBER},e.updateInvitedUser(f)},updateInvitedUser(f){const h=qs(f);if(e.currentProject().accessLevel(h)>0)return;const v=new Date().toISOString();if(e.currentProject().users.push({avatarUrl:h.userAvatarUrl(),emails:h.emails,id:h.id(),login:h.login(),name:h.name(),projectPermission:{userId:h.id(),projectId:e.currentProject().id(),createdAt:v,updatedAt:v,accessLevel:f.projectPermission.accessLevel}}),f.id===e.currentUser().id())return e.analytics.track("Project Joined"),e.currentUser().awaitingInvite(!1),e.broadcastUser({invited:!0}),e.projectMachine.send({type:"CURRENT_USER_JOINED"}),e.notifyJoinedProject(!0)},updateLeftUser(f){const h=e.currentProject().users.filter(({id:v})=>v!==f.id);e.currentProject().users(h),f.id===e.currentUser().id()&&(e.broadcastUser({left:!0}),e.projectMachine.send({type:"CURRENT_USER_LEFT"}),e.notifyLeftProject(!0))},remoteUserByClientId(f){return e.currentRemoteUsers().find(h=>{var v;return((v=h.lastCursor())==null?void 0:v.clientId)===f})},updateProjectName(f){e.currentProject().domain(f),e.updateUrlHashForProject(e.currentProject(),{replace:!0}),e.updatePreview()},currentUsers(){return[e.currentUser()].concat(e.currentRemoteUsers())},offlineMembers(){if(!e.currentProject())return[];const f=e.currentUsers();return e.currentProject().users.filter(function({id:v}){const[m]=Array.from(f.filter(_=>v===_.id()));return!m}).map(function(v){const m=qs(v);return m.isOnline(!1),m})},projectInviteUrl(){const f=e.currentProject();if(f)return`https://${window.location.host}/edit/#!/join/${f.inviteToken()}`},projectAvatarImage(){return e.currentProject()&&e.currentProject().avatarUrl()},currentProject(){const f=e.projects(),h=e.currentProjectIndex();return f[h]},currentUserRole(){const f=e.currentProject();return f?f.projectUser(e.currentUser().id())?"Admin":"Reader":null},currentUserOnAnyCurrentProjectTeam(){const f=e.currentProject()?e.currentProject().teams():[],h=e.currentUser().teams();return f.some(v=>h.some(m=>m.id()===v.id()))},publishedUrl(){var _,S,E;const f=e.appPreviewMode();if(f==="doapp")return e.env().DIGITALOCEAN_APP_URL;const h=(_=e.currentProject())==null?void 0:_.edgeBadgeMode();if(!h||h==="none")return(S=e.currentProject())==null?void 0:S.publishedUrl();const v=iae[h];if(!v)throw new Error(`No project origins for edgeBadgeMode='${h}'`);const m=v[f==="default"?"dev":"pub"];if(!m)throw new Error(`No project origin for edgeBadgeMode='${h}' previewMode=${f}`);return m.replace("%s",(E=e.currentProject())==null?void 0:E.domain())},editorUrl(){var f;return(f=e.currentProject())==null?void 0:f.editorUrl(e)},embedUrl(f){var m;const h=(f!=null?f.path:void 0)||e.embedSelectedFilePath(),v=(f!=null?f.sidebarCollapsed:void 0)||e.getUserPref("embedSidebarCollapsed");return(m=e.currentProject())==null?void 0:m.embedUrl({path:h,previewSize:f!=null?f.previewSize:void 0,attributionHidden:f!=null?f.attributionHidden:void 0,previewFirst:f!=null?f.previewFirst:void 0,sidebarCollapsed:v})},currentUrl(){return e.editorIsEmbedded()?e.embedUrl():e.editorUrl()},glitchApi(){return new ms(e.persistentToken()||null)},containerExec(f){const h=e.currentProjectId();return e.glitchApi().v0.projectExec(h,f)},setProjectEnv(f,h){return e.glitchApi().v0.projectSetEnv(f,h)},remixURL(){var f;return(f=e.currentProject())==null?void 0:f.remixUrl()},async remixCurrentProject(f){f!=null&&f.preventDefault(),e.history.push(`/remix/${e.currentProjectDomain()}`)},resetProjectContainerPerformanceData(){return e.projectContainerStatus("ok"),e.projectContainerResourcesData({quotaUsagePercent:0,memoryUsagePercent:0,diskUsagePercent:0}),e.projectContainerResourcesDataLoaded(!1)},showRecaptchaOverlay(){return new Promise((f,h)=>{let v;const m=S=>{f(S),v()},_=S=>{S!==m&&(h(new Error("Recaptcha closed")),v())};e.recaptchaOverlayCallback(m),e.recaptchaOverlayCallback.observe(_),v=()=>{e.recaptchaOverlayCallback()===m&&e.recaptchaOverlayCallback(null),e.recaptchaOverlayCallback.stopObserving(_)}})},filetree(){var f;return((f=e.currentProject())==null?void 0:f.filetree())||u_()},files(){if(e.filetree())return e.filetree().files()},collapsedFiletree:te([]),openFolderIds:te(new Set),changeOpenFolderIds(f){e.openFolderIds().has(f)?e.openFolderIds().delete(f):e.openFolderIds().add(f),e.openFolderIds(new Set(e.openFolderIds()))},generateCollapsedFiletree(){if(!e.editorIsPreviewingRewind()&&!e.editorIsRewindingProject()){const f=e.otClient()&&e.otClient().ot().state().documents;if(!f)return console.error("application.otClient() not available yet"),!1;if(!e.files().length)return console.error("application.files() empty. This is required for verifying which files should be displayed"),!1;const h=f.root.children["."],v=_=>{const S=f[_].children;if(S){const E=U7({uuid:_,name:f[_].name,level:e.otClient().idToPath(_).split("/").length-2});for(const w of Object.values(S)){const T=f[w];T.docType==="file"?E.children().push(e.fileByUuid(T.docId)):E.children().push(v(T.docId))}if(E.children(E.children().filter(w=>!!w)),E.children().length)return E}},m=v(h);e.collapsedFiletree(m.children()),e.selectedFile()&&e.openContainingFolder(e.selectedFile())}else{const f=e.files().reduce((h,v)=>{let m=h,_="";const S=v.folders();for(;S&&S.length>0;){const E=S.shift(),w=m.find(T=>T.type()!=="file"&&T.name()===E);if(w)m=w.children(),_=w.rewindPreviewPath();else{const T=U7({name:E,level:_.split("/").length-1,children:[],rewindPreviewPath:_+E+"/"});m.push(T),m=T.children(),_=T.rewindPreviewPath()}}return m.push(v),h},[]);e.collapsedFiletree(f),e.selectedFile()&&e.openContainingFolder(e.selectedFile())}return!0},openContainingFolder(f){if(e.otClient()){const h=e.otClient().documentImmediate(f.id());if(h){let v=e.otClient().documentImmediate(h.parentId);for(;v.name!==".";)e.openFolderIds().has(v.docId)||e.changeOpenFolderIds(v.docId),v=e.otClient().documentImmediate(v.parentId)}}},currentUserAvatarUrl(){return e.currentUser().userAvatarUrl()},consoleUrl(){return`https://${document.location.host}/edit/console.html?${e.currentProjectId()}`},openConsole(){return window.open(e.consoleUrl())},readEnv(){return e.otClient().documentByPath(".env").then(({content:f})=>f).catch(()=>null).then(f=>f?o5.parse(f):null).then(e.env)},readPackageManager(){var f;return e.refreshEditor(),(f=e.otClient())==null?void 0:f.documentByPath("package-lock.json").then(({content:h})=>{h&&e.packageManager("npm")}).catch(()=>null)},readEslintrc(){return e.otClient().documentByPath(".eslintrc.json").then(({content:f})=>f).then(c9).then(JSON.parse).catch(()=>null).then(e.eslintrc).finally(()=>e.performLint())},readWatchJson(){return e.otClient().documentByPath("watch.json").then(({content:f})=>f).then(c9).then(JSON.parse).catch(()=>null).then(e.watchJson)},readPrettierrc(){return e.otClient().documentByPath(".prettierrc").then(({content:f})=>f).then(JSON.parse).catch(()=>null).then(e.prettierrc)},readDebuggerSetting(){return e.otClient().documentByPath(".env").then(function({content:f,docId:h}){const v=f.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0;return e.debuggerEnabled(v),{content:f,docId:h,enabled:v}}).catch(function(){return e.debuggerEnabled(!1),{content:"",enabled:!1}})},openDebugger(){if(!e.isChrome||!!e.isAndroid){e.notifyDebuggerIsChromeOnly(!0);return}return window.open(`https://${document.location.host}/edit/debugger.html?${e.currentProjectId()}`),e.readDebuggerSetting().then(async function({content:f,docId:h,enabled:v}){if(!e.debuggerReady()&&!v){let m;return h?(m=e.selectedFile(),e.selectFileByUuid(h).then(function(){const _=`GLITCH_DEBUGGER=true
${f.replace(new RegExp(`GLITCH_DEBUGGER=?(true)?
?`,"g"),"")}`;return e.fileById(h).content(_),m&&e.selectFileByUuid(m.id())})):(await e.newFile(".env",`GLITCH_DEBUGGER=true
`)).session.then(()=>m&&e.selectFileByUuid(m.id()))}})},disableDebugger(){return e.otClient().documentByPath(".env").then(function({content:f,docId:h}){if(f.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0){const v=e.selectedFile(),m=f.replace(new RegExp(`GLITCH_DEBUGGER=true
?`,"g"),"");return e.selectFileByUuid(h).then(function(){return e.fileById(h).content(m),e.debuggerReady(!1),v&&e.selectFileByUuid(v.id())})}})},previewWindow:null,previewWindowIsOpen(){return e.previewWindow!==null&&!e.previewWindow.closed},preview(){if(e.previewWindowIsOpen())return e.previewWindow.focus(),!1;const f=window.open(e.publishedUrl(),"_blank");return e.previewWindow=f,!0},updateAppPreview:og(function(f=document){const h=f.querySelector(".app-preview iframe");h&&(h.src=e.previewURL())},200),updatePreview(){!e.refreshPreviewOnChanges()||(e.previewWindowIsOpen()&&(e.previewWindow.location=e.publishedUrl()),e.appPreviewVisible()&&e.updateAppPreview())},previewURL(){const f=e.publishedUrl();if(f)return`${f}${e.appPreviewUrlPath()}`},fileByPath(f){const[h]=Array.from(e.files().filter(v=>v.path()===f));return h},fileByUuid(f){const[h]=Array.from(e.files().filter(v=>v.uuid()===f));return h},envFile(){return e.fileByPath(".env")},fileById(f){return e.fileByUuid(f)},selectFileByUuid(f,h){h=h||window.parent;const v=e.fileByUuid(f);return e.selectedFile(v),e.editorIsEmbedded()&&h.postMessage(Nu({embedSelectedFilePath:v.path()}),"*"),e.selectedFile().session},selectFileByPathOrDefaultFile(f){e.projectSearchPopVisible(!1),e.projectSearchBoxValue("");const h=e.fileByPath(f);h?h===e.selectedFile()?e.updateSelectedFile(h.id()):e.selectedFile(h):e.selectDefaultFile()},selectFileByLogPath(f){const h=f.indexOf(":");if(h===-1)e.selectFileByPathOrDefaultFile(f);else{const v=f.slice(0,h);e.selectFileByPathOrDefaultFile(v),e.selectedFile().session.then(function(){const m=f.slice(h+1,f.length);return e.goToLine(m-1)})}return e.focusEditor()},isFileInCurrentProject(f){return e.currentProject().files().some(h=>f.id()===h.id())},selectDefaultFile(){var m;let f,h;const v=e.fileByUuid(e.currentDocument());return v&&(h=e.isFileInCurrentProject(v)),v&&h?f=v:f=(m=e.currentProject())==null?void 0:m.defaultFile(),e.selectedFile(f),f!=null?f.session.then(()=>e.performLint()):void 0},deleteFile(f,{silent:h=!1}={}){if(e.filetree().files.remove(f),f&&f.id()===e.selectedFileId()&&e.selectDefaultFile(),(f!=null?f.path():void 0)===".env"&&e.debuggerEnabled(!1),(f!=null?f.path():void 0)===".eslintrc.json"&&(e.eslintrc(null),e.performLint()),(f!=null?f.path():void 0)==="watch.json"&&e.watchJson(null),(f!=null?f.path():void 0)===".prettierrc"&&e.prettierrc(null),!h)return e.OTDeleteFile(f)},deleteFolder(f,h,{silent:v=!1}={}){if(!h)return;const _=e.currentProject().filetree().I.files.filter(S=>!S.path.startsWith(h));e.currentProject().filetree(u_({files:_})),v||e.OTDeleteFolder(f,h)},uploadNewFile:(f,h=!0)=>qve(f).then(async v=>e.newFile(f.name,v,h)),async newFile(f,h="",v=!0){e.analytics.track("File Created",{fileUploaded:h!==""});let m;if(c_(f)){e.notifyInvalidFileName(!0);return}const _=e.fileByPath(f);if(_){if(!window.confirm(`File at ${f} exists, overwrite?`))return;m=_}else if(e.otClient().documentByPathImmediate(f)){e.notifyFileHiddenByGitIgnore(!0);return}else m=Ws({path:f}),e.filetree().files.push(m),await e.OTNewFile(m);return await e.writeToFile(m,h),v&&(e.fileAddedAndNotAnimated(m.id()),e.selectedFile(m)),f.endsWith(".md")&&e.markdownPreviewVisible(!1),m},writeToFile(f,h){return e.ensureSession(f).then(function(){const v=e.selectedFile();if(e.setCurrentSession(f),f.content(h),v)return e.setCurrentSession(v)})},getPolicy(f={}){return e.glitchApi().getProjectPolicy(e.currentProjectId(),f)},getProjectAvatarPolicy(f){return e.glitchApi().getProjectAvatarPolicy(f.id())},async deleteCurrentProject(){var m,_,S,E;e.notifyDeletedProject(!1);const f={projectId:e.currentProjectId(),projectName:e.projectName(),projectType:(m=e.currentProject())==null?void 0:m.getType(),projectVisibility:((_=e.currentProject())==null?void 0:_.private())?"private":"public",numberProjectMembers:(S=e.currentProject())==null?void 0:S.users().length,numberTeams:(E=e.currentProject())==null?void 0:E.teams().length};await e.fetchUserProjects();const h=e.currentProject(),v=e.projects().find(w=>w.id()!==h.id());v?e.history.replace(`/${v.domain()}`):e.history.push(`/remix/${X7}`);try{await e.glitchApi().deleteProject(h.id()),e.lastDeletedProject(h);const w=e.projects().filter(T=>T.id()!==h.id());e.projects(w),e.analytics.track("Project Deleted",f),e.notifyDeletedProject(!0)}catch(w){Yi(w),e.notifyGenericError(!0)}},undeleteLastDeletedProject(){const f=e.lastDeletedProject();return e.closeAllPopOvers(),e.glitchApi().restoreProject(f.id()).then(()=>{e.history.push(`/${f.domain()}`)})},leaveCurrentProject:(f=e.currentUser())=>{const h=e.currentProject();return e.currentProject().users(h.users().filter(v=>v.id!==f.id())),e.currentRemoteUsers(e.currentRemoteUsers().filter(v=>v.id()!==f.id())),e.glitchApi().deleteProjectUser(h.id(),f.id()).then(async function(){const v={user:f.broadcastData()};return v.user.left=!0,e.broadcast(v),e.updateRemoteUser(v.user)})},async changeProjectPrivacy(f){return e.currentProject().privacy(f),e.analytics.track("Project Privacy Changed"),e.currentProject().saveImmediate(e.glitchApi())},transferProjectOwner(f){const h=e.currentProject();let v=e.currentUser().id();if(e.currentUser().isSupport){const _=h.users().filter(S=>S.projectPermission.accessLevel===xt.ADMIN);(_==null?void 0:_[0])&&(v=_[0].id)}const m=h.users().map(_=>(_.id===v?_.projectPermission.accessLevel=xt.MEMBER:_.id===f.id()&&(_.projectPermission.accessLevel=xt.ADMIN),_));return h.users(m),e.glitchApi().transferOwnership(h.id(),f.id())},inviteUserToProject(f){const h=e.currentProject();return e.glitchApi().inviteUserToProject(h.id(),f)},inviteEmailToProject(f){const h=e.currentProject();return e.glitchApi().inviteEmailToProject(h.id(),f)},loadWelcomeProject(){e.projects().length===0?e.history.replace("/remix/glitch-hello-node"):e.history.replace(`/${e.projects()[0].domain()}`)},updateUrlHashForProject(f,{replace:h}={}){const v=f.domain();h?e.history.replace(`/${v}`):e.history.push(`/${v}`)},switchToProjectDomain(f){f?e.history.push(`/${f}`):e.history.push("/")},selectedFileId:te(null),selectedFile(f=void 0){return f===null?e.selectedFileId(null):f&&e.selectedFileId(f.id()),e.fileByUuid(e.selectedFileId())},selectedFilePromise:null,editorRangeSelections:te([]),async formatCode({withAnimation:f,actionTrigger:h}){e.notifyPrettierParseError(!1),e.notifyPrettierLoadError(!1),e.formattingCodeInProgress(!0);const v=e.selectedFile();e.trackFileHelper(v,"File Formatted",{actionTrigger:h,formatSelection:e.editorRangeSelections.length>0?"selection":"file"});const m=e.editor().getCursor(),_=e.editorRangeSelections()[0],S=e.buildPrettierOptions({file:v,initialCursorPosition:m,selectedRange:_});let E=await e.runPrettier({file:v,options:S});E||(E=await e.runPrettier({file:v,options:Ge(de({},S),{cursorOffset:void 0})})),E.success?(e.handlePrettierResult({formattedResult:E,file:v,initialCursorPosition:m,selectedRange:_}),f&&e.fullScreenSparkleEffectVisible(!0)):e[E.errorType](E.error),e.formattingCodeInProgress(!1)},buildPrettierOptions({file:f,initialCursorPosition:h,selectedRange:v}){let m=de({filepath:f.name()},e.prettierrc()),_,S,E;return v?(S=v.start,E=v.end,_=E):_=e.editor().indexFromPos({line:+h.line,ch:+h.ch}),m=Ge(de({},m),{cursorOffset:_,rangeStart:S,rangeEnd:E}),m},async runPrettier({file:f,options:h}){let v,m;try{m=await WEe(),v=S7(m)}catch(_){return console.log("\u{1F525}","Error",_),{success:!1,errorType:"notifyPrettierLoadError",error:_}}return new Promise(async(_,S)=>{h.cursorOffset!==void 0&&setTimeout(S,5e3);const E=await v.runPrettier({code:f.content(),options:h});_(E)}).then(async _=>(await v.close(),_.error!==void 0?{success:!1,errorType:"notifyPrettierParseError",error:_.error}:(e.getUserPref("hasRunPrettier")||(e.notifyPrettierFirstRun(!0),e.updateUserPrefs("hasRunPrettier",!0)),de({success:!0},_)))).catch(()=>{console.log("formatWithCursor is taking too long; fall back to format"),v[_7](),m.terminate()})},handlePrettierResult({formattedResult:f,file:h,initialCursorPosition:v,selectedRange:m}){const{formatted:_,cursorOffset:S}=f;if(!m)h.content(_);else{const E=e.editor().posFromIndex(m.start),w=e.editor().posFromIndex(m.end);e.editor().replaceRange(_.substring(m.start,S),E,w)}e.editor().setCursor(S!==void 0?e.editor().posFromIndex(S):v),e.editor().scrollIntoView(e.editor().getCursor(),e.editor().getScrollInfo().clientHeight/2),e.focusEditor()},selectedFolder:te(null),saved:te(!0),saveApplicationState(){e.storeLocal("applicationData",e)},reset(){e.removeLocal("applicationData")},getLicenseOrCodeOfConductBody(f,h){const v=e.github();if(f==="license")return v.getLicense(h.id);if(f==="codeOfConduct")return v.getCodeOfConduct(h.id);throw new Error("unknown type")},github(){return new p_(e.currentUser().githubToken())},async currentUserHasGithubRepoScope(){if(!e.currentUser().githubToken())return!1;try{return(await e.github().getOAuthScopes()).some(h=>h==="repo")}catch{return!1}},publishGitHubRepo(f,h){const v=e.github();return new Promise(async(m,_)=>{const S=await v.getUser();try{await v.getRepoContents(f);const{permission:E}=await v.getProjectPermissionsForUser(f,S.login);if(E==="admin"||E==="write")try{await e.glitchApi().v0.projectGithubExport(e.currentProject().id(),f,h),m()}catch(w){Yi(w),_(w)}else _(new Error("You don't have permission to write to this repo"))}catch(E){_(E)}})},currentUserId(){return e.currentUser().id()},currentUserColor(){return e.currentUser().color()},currentProjectDomain(){var f;return(f=e.currentProject())==null?void 0:f.domain()},currentProjectId(){var f;return(f=e.currentProject())==null?void 0:f.id()},broadcastUser({invited:f,left:h,stopAsking:v}={}){const m={user:e.currentUser().broadcastData({project:e.currentProject()})};return m.user.invited=!!f,m.user.left=!!h,m.user.stopAsking=!!v,e.broadcast(m)},broadcastProjectName(){return e.broadcast({projectName:e.currentProject().name()}),e.glitchApi().v0.projectDomainChanged(e.currentProject().id())},askToJoinProject(){e.closeAllPopOvers();const f=e.currentUser(),h=e.currentProject();let v=null;return h!=null&&h.teams().forEach(m=>f.I.teams.forEach(function(_){if(m.id()===_.id)return v=_.id})),v?e.glitchApi().v0.teamProjectJoin(v,e.currentProject().id()).then(()=>e.autoJoin()):e.currentUser().isSupport()?e.glitchApi().v0.createProjectPermission(e.currentProject().id(),e.currentUser().id(),xt.MEMBER).then(()=>e.autoJoin()):(f.awaitingInvite(!0),e.broadcast({user:f.broadcastData()}))},cancelInviteRequest(){const f=e.currentUser();return f.awaitingInvite(!1),e.broadcast({user:f.broadcastData()})},acceptInviteRequest:(f,{accessLevel:h}={accessLevel:xt.MEMBER})=>e.glitchApi().v0.createProjectPermission(e.currentProject().id(),f.id(),h).then(function(){f.awaitingInvite(!1);const v={user:f.broadcastData()};return v.user.invited=!0,v.user.projectPermission={accessLevel:h},e.broadcast(v)}),setFilePrivacy(f,h){return e.OTConnection.setFilePrivacy(f,h)},initializeProject(f){if(!f)throw Yi("No project to initialize"),new Error("No current project available to initialize");return e.connectToLogs(f,e.persistentToken()),e.initializePackageJson()},initializePackageJson(){const f=e.fileByPath("package.json");if(!!f)return e.ensureSession(f)},async connectToProject(f){if(!!f){if(e.analytics.setCurrentUser(e.currentUser()),f.suspendedReason()){e.projectIsSuspendedOverlayVisible(!0),window.__CY_APPLICATION_READY__=!0;return}e.containerStatsPanelVisible(!1),e.rewindPanelVisible(!1),e.resetProjectContainerPerformanceData(),e.cancelInviteRequest(),!f.hasAvatar()&&f.accessLevel(e.currentUser())>=xt.MEMBER&&e.projectAvatarUtils.random().then(h=>e.uploadProjectAvatarAsset(h,f).catch(v=>e.logger().log(v))),e.currentRemoteUsers([]),e.assets([]),e.disconnectFromLogs(),e.disconnectFromOT(),e.backendLintingResults={},e.firstLoad()&&(e.firstLoad(!1),e.updateUrlHashForProject(f,{replace:!0}));try{await e.setProjectBoostStatus(f),e.otCodeMirror()&&e.otCodeMirror().disconnect();const h=new Hve({application:e,randomId:Bf}),v=new Yve({application:e,editor:e.editor(),otClient:h});v.connect(),await e.connectToOT(f,h,v),await e.initializeProject(f),await e.touchProject(),await e.glitchApi().v0.projectEdited(e.currentProject().id(),{editor_embedded_access_count:e.editorIsEmbedded()&&1||void 0,editor_embedding_page:e.editorIsEmbedded()&&document.referrer||void 0}),window.__CY_APPLICATION_READY__=!0,uae("project-domain",e.currentProject().domain()),(!e.editorIsEmbedded()||e.editorIsEmbedded()&&e.embedAppPreviewSize()<100)&&e.analytics.track("Project Source Viewed")}catch(h){e.notifyGenericError(h)}}},recentFiles(){return e.currentUser().recentFiles().filter(f=>f.projectId()===e.currentProjectId())},renameFile:(f,h,v=!0)=>{if(f.path(h),e.updateEditorModeForFile(f),v)return e.OTRenameFile(f)},renameFolder:(f,h,v,m=!0)=>{h.match(/\/$/)||(h+="/");const S=e.currentProject().filetree().I.files.map(E=>{const w={};Object.assign(w,E);const T=Ws(E);if(T.path().startsWith(h)){const C=h.split("/"),P=T.folders(),R=[...C.slice(0,-2),v,...P.slice(C.length-1),T.name()].join("/");w.path=R}return w});if(S.sort(e.alphabeticalize),e.currentProject().filetree(u_({files:S})),m)return e.OTRenameFolder(f,v)},locationFragment(f,h,v){return f==null&&(f=e.restorePath()),h==null&&(h=e.restoreLine()),v==null&&(v=e.restoreCharacter()),`${f}:${h}:${v}`},updateUrlWithPosition(f,h,v){if(!!e.currentProject()&&(f==null&&(f=e.restorePath()),h==null&&(h=e.restoreLine()),v==null&&(v=e.restoreCharacter()),f&&h!=null&&v!=null)){const m=new URLSearchParams(e.history.location.search);m.set("path",e.locationFragment(f,h,v)),e.history.replace(Ge(de({},e.history.location),{search:m.toString()}))}},updateCurrentPositionState(){var m;const f=((m=e.selectedFile())==null?void 0:m.path())||"",h=e.editor().getCursor().line+1,v=e.editor().getCursor().ch;return e.restorePath(f),e.restoreLine(h),e.restoreCharacter(v)},updateSidebarWidth(f){e.updateUserPrefs("sidebarWidth",f),e.sidebarWidth(f)},showAssets(f){return f&&f.type==="keyup"&&f.key!=="Enter"?Promise.reject(new Error("Key press was not with Enter key")).catch(h=>{}):Promise.resolve().then(function(){return document.title=`assets \u2013 ${e.currentProjectDomain()}`,e.editorIsPreviewingRewind()?(e.selectedFile(e.fileByPath(vc)),e.editor().setOption("mode","text/plain")):(e.selectedFile(null),e.assetsWrapVisible(!0),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!1),e.mediaWrapVisible(!1),e.assetSession())})},showAppTypeConfig(){return document.title=`app type config \u2013 ${e.currentProjectDomain()}`,e.selectedFile(null),e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!0),e.editorWrapVisible(!1),e.mediaWrapVisible(!1),e.appTypeConfigSession()},updateSelectedFile(f){if(!f)return Promise.resolve();const h=e.fileByUuid(f);return e.selectedFilePromise=e.ensureSession(h).then(function(){return h.isMedia()?e.selectMediaFile(h):(e.selectTextFile(),e.setCurrentSession(h)),e.updateCurrentPositionState(),e.currentUser().addRecentFile(h,e.currentProjectId()),(!e.editorIsEmbedded()||e.editorIsEmbedded()&&e.embedAppPreviewSize()<100)&&e.trackFileHelper(h,"File Viewed"),e.openContainingFolder(h),!0})},async getNewProjectTemplates(){const f=h1e();return e.glitchApi().getProjectsByDomain(f).then(h=>{e.newProjectTemplates(f.map(v=>h[v]))})},backendLintingEnabled(){const f=e.watchJson();return!!(f&&f.lintingEnabled)},updateBackendLintingResults(f,h){e.backendLintingResults[f]=h;const v=e.selectedFile();v&&v.path()===f&&e.setLintResults(h)},currentProjectBackend(){var f;return(f=e.currentProject())==null?void 0:f.hostingBackend()},async setProjectBoostStatus(f){try{const{[f.id()]:h}=await e.glitchApi().getProject(f.id());f.isBoosted(h.allFeatureNames.includes("pufferfish_boosted_collection"))}catch(h){Yi(h),f.isBoosted(!1)}},currentProjectIsBoosted(){var f;return(f=e.currentProject())==null?void 0:f.isBoosted()},async boostCurrentProject(){if(e.currentProjectIsBoosted())return;const f=e.currentProject(),h=e.boostedCollection();await e.glitchApi().addProjectToCollection(h.id,f.id()),await e.fetchBoostedCollection()},async unBoostCurrentProject(){if(!e.currentProjectIsBoosted())return;const f=e.currentProject(),h=e.boostedCollection();await e.glitchApi().removeProjectFromCollection(h.id,f.id()),await e.fetchBoostedCollection()},async fetchBoostedCollection(){var S;const f=(S=e.currentUser())==null?void 0:S.login();if(!f)return;const h=`${f}/${u1e}`;let v=await e.glitchApi().getCollectionByFullUrl(h);const m=v[h];if(!m){e.boostedCollection(null),e.boostedProjects(null);return}v=await e.glitchApi().getCollection(m.id,{limit:m.maxProjects});const _=v.items;e.boostedCollection(m),e.boostedProjects(_)}}),e.closeAllPopOversEmitter.setMaxListeners(1/0),function(f){return f!=null&&e.refreshPreviewOnChanges(f),e.refreshPreviewOnChanges.observe(h=>e.updateUserPrefs("refreshPreviewOnChanges",h))}(e.getUserPref("refreshPreviewOnChanges")),(f=>e.wrapText(f))(e.getUserPref("wrapText")),e.selectedFileId.observe(e.updateSelectedFile),e.markdownPreviewVisible.observe(function(f){f===!1&&setTimeout(()=>{e.refreshEditor(),e.focusEditor()},0);const h=e.currentProjectId(),v=e.getUserPref("markdownPreviewVisible")||new Object;return v[h]=f,e.updateUserPrefs("markdownPreviewVisible",v)}),e.containerStatsPanelVisible.observe(f=>setTimeout(()=>e.refreshEditor(),0)),e.userIsIdle.observe(function(f){f?e.projectMachine.send({type:"USER_IDLE"}):e.projectMachine.send({type:"USER_RETURNED"})}),e.wrapText.observe(function(f){e.updateUserPrefs("wrapText",f);const h=e.selectedFile();if(h)return e.setLineWrapping(h)}),e.projectName=te(e.projectName),e.lastProjectName=te(""),e.projectFilePaths=te(e.projectFilePaths),e.projectName.observe(f=>{e.analytics.setCurrentProject(e.currentProject());const h=document.getElementById("oembed");h!==null&&(h.setAttribute("href",`https://api.glitch.com/projects/${f}/oembed`),h.setAttribute("title",`${f} oembed link`))}),e.debuggerReady.observe(f=>e.currentProject()&&e.storeLocal(`${e.currentProjectId()}_debuggerReady`,f)),e.projectContainerStatus.observe(f=>e.currentProject()&&e.storeLocal(`${e.currentProjectId()}_projectContainerStatus`,f)),e.currentTheme.observe(f=>{[].forEach.call(document.querySelectorAll("link.theme"),h=>{new RegExp(f).test(h.href)?h.setAttribute("rel","stylesheet"):h.removeAttribute("rel")})}),e.pendingUploads.observe(f=>{const h=f.filter(v=>v.isUploadedByUser===!0).length;h>0?e.notifyUploading({numFiles:h}):e.notifyUploading(!1)}),te(()=>{const f=e.selectedFile();if(!f)return;const h=f.path().split("/").pop();document.title=`${h} \u2013 ${e.projectName()}`}),te(()=>{const f=e.currentUser().id();return e.projects().some(h=>h.users().some(({id:v})=>v===f))}).observe(f=>{if(f){const h=new Date;h.setFullYear(h.getFullYear()+1),document.cookie=`hasProjects=true; path=/; expires=${h}`}else document.cookie=`hasProjects=; path=/; expires=${new Date}`}),i.onTransition(function f(h){h.matches("active")&&(e.boot(),i.off(f)),h.matches("error")&&(window.alert("There was an error starting the editor. Maybe try to reload?"),e.logout())});let a=null;const l=f=>{a!==null&&document.body.classList.remove(a),e.editorIsEmbedded()&&(f="sugar"),a=`theme-${f}`;const h={sugar:"light",cosmos:"dark"};try{window.localStorage.setItem("theme-ui-color-mode",h[f])}catch{}document.body.classList.add(`theme-${f}`)};e.currentTheme.observe(l),l(e.currentTheme());const c=new URL(window.location.hash.slice(2),window.location),d=new URLSearchParams(c.search).get("previewSize");return d&&e.embedAppPreviewSize(parseInt(d,10)),e};function sF(t){const e=/[^:]*/;return t.match(e)[0]}var oF={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],o=0;o<arguments.length;o++){var s=arguments[o];if(!!s){var a=typeof s;if(a==="string"||a==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&i.push(l)}}else if(a==="object")if(s.toString===Object.prototype.toString)for(var c in s)e.call(s,c)&&s[c]&&i.push(c);else i.push(s.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oF);var at=oF.exports;function aF(t){return typeof t=="function"&&typeof t.observe=="function"}function KEe(t){return aF(t)?t:te(t)}function lF({value:t}){return t}function XEe(t,e=null){return t!==null&&typeof t!="object"&&typeof t!="function"&&e!==null&&t===lF(e)?e:{value:t}}function W5(t){return e=>XEe(aF(t)?t():t,e)}function V(t){const e=K.exports.useMemo(()=>KEe(t),[t]),[n,i]=K.exports.useState(W5(e));return K.exports.useEffect(()=>{let o=!1;const s=a=>{o===!1&&i(W5(a))};return e.observe(s),i(W5(e)),()=>{o=!0,e.stopObserving(s),e!==t&&e.releaseDependencies()}},[e,t]),lF(n)}function q5(t,e){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},q5(t,e)}function _c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q5(t,e)}var Y5=1073741823,cF=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function JEe(){var t="__global_unique_id__";return cF[t]=(cF[t]||0)+1}function ZEe(t,e){return t===e?t!==0||1/t==1/e:t!==t&&e!==e}function QEe(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(o){return o!==i})},get:function(){return t},set:function(i,o){t=i,e.forEach(function(s){return s(t,o)})}}}function ewe(t){return Array.isArray(t)?t[0]:t}function twe(t,e){var n,i,o="__create-react-context-"+JEe()+"__",s=function(l){_c(c,l);function c(){var d;return d=l.apply(this,arguments)||this,d.emitter=QEe(d.props.value),d}var u=c.prototype;return u.getChildContext=function(){var f;return f={},f[o]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,v=f.value,m;ZEe(h,v)?m=0:(m=typeof e=="function"?e(h,v):Y5,m|=0,m!==0&&this.emitter.set(f.value,m))}},u.render=function(){return this.props.children},c}(K.exports.Component);s.childContextTypes=(n={},n[o]=gI.object.isRequired,n);var a=function(l){_c(c,l);function c(){var d;return d=l.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(f,h){var v=d.observedBits|0;(v&h)!=0&&d.setState({value:d.getValue()})},d}var u=c.prototype;return u.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?Y5:h},u.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?Y5:f},u.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},u.getValue=function(){return this.context[o]?this.context[o].get():t},u.render=function(){return ewe(this.props.children)(this.state.value)},c}(K.exports.Component);return a.contextTypes=(i={},i[o]=gI.object,i),{Provider:s,Consumer:a}}var nwe=p.createContext||twe,Vf={exports:{}},rwe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},M_=rwe;Vf.exports=fF;Vf.exports.parse=K5;Vf.exports.compile=swe;Vf.exports.tokensToFunction=uF;Vf.exports.tokensToRegExp=dF;var iwe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function K5(t,e){for(var n=[],i=0,o=0,s="",a=e&&e.delimiter||"/",l;(l=iwe.exec(t))!=null;){var c=l[0],u=l[1],d=l.index;if(s+=t.slice(o,d),o=d+c.length,u){s+=u[1];continue}var f=t[o],h=l[2],v=l[3],m=l[4],_=l[5],S=l[6],E=l[7];s&&(n.push(s),s="");var w=h!=null&&f!=null&&f!==h,T=S==="+"||S==="*",C=S==="?"||S==="*",P=l[2]||a,R=m||_;n.push({name:v||i++,prefix:h||"",delimiter:P,optional:C,repeat:T,partial:w,asterisk:!!E,pattern:R?lwe(R):E?".*":"[^"+A_(P)+"]+?"})}return o<t.length&&(s+=t.substr(o)),s&&n.push(s),n}function swe(t,e){return uF(K5(t,e),e)}function owe(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function awe(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function uF(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",J5(e)));return function(o,s){for(var a="",l=o||{},c=s||{},u=c.pretty?owe:encodeURIComponent,d=0;d<t.length;d++){var f=t[d];if(typeof f=="string"){a+=f;continue}var h=l[f.name],v;if(h==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(M_(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(v=u(h[m]),!n[d].test(v))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(v)+"`");a+=(m===0?f.prefix:f.delimiter)+v}continue}if(v=f.asterisk?awe(h):u(h),!n[d].test(v))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+v+'"');a+=f.prefix+v}return a}}function A_(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function lwe(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function X5(t,e){return t.keys=e,t}function J5(t){return t&&t.sensitive?"":"i"}function cwe(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return X5(t,e)}function uwe(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(fF(t[o],e,n).source);var s=new RegExp("(?:"+i.join("|")+")",J5(n));return X5(s,e)}function dwe(t,e,n){return dF(K5(t,n),e,n)}function dF(t,e,n){M_(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,o=n.end!==!1,s="",a=0;a<t.length;a++){var l=t[a];if(typeof l=="string")s+=A_(l);else{var c=A_(l.prefix),u="(?:"+l.pattern+")";e.push(l),l.repeat&&(u+="(?:"+c+u+")*"),l.optional?l.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",s+=u}}var d=A_(n.delimiter||"/"),f=s.slice(-d.length)===d;return i||(s=(f?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),o?s+="$":s+=i&&f?"":"(?="+d+"|$)",X5(new RegExp("^"+s,J5(n)),e)}function fF(t,e,n){return M_(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?cwe(t,e):M_(t)?uwe(t,e,n):dwe(t,e,n)}var hF=Vf.exports,Cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=typeof Symbol=="function"&&Symbol.for,Z5=Vr?Symbol.for("react.element"):60103,Q5=Vr?Symbol.for("react.portal"):60106,P_=Vr?Symbol.for("react.fragment"):60107,R_=Vr?Symbol.for("react.strict_mode"):60108,L_=Vr?Symbol.for("react.profiler"):60114,I_=Vr?Symbol.for("react.provider"):60109,O_=Vr?Symbol.for("react.context"):60110,e4=Vr?Symbol.for("react.async_mode"):60111,N_=Vr?Symbol.for("react.concurrent_mode"):60111,k_=Vr?Symbol.for("react.forward_ref"):60112,D_=Vr?Symbol.for("react.suspense"):60113,fwe=Vr?Symbol.for("react.suspense_list"):60120,F_=Vr?Symbol.for("react.memo"):60115,U_=Vr?Symbol.for("react.lazy"):60116,hwe=Vr?Symbol.for("react.block"):60121,pwe=Vr?Symbol.for("react.fundamental"):60117,mwe=Vr?Symbol.for("react.responder"):60118,gwe=Vr?Symbol.for("react.scope"):60119;function gs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z5:switch(t=t.type,t){case e4:case N_:case P_:case L_:case R_:case D_:return t;default:switch(t=t&&t.$$typeof,t){case O_:case k_:case U_:case F_:case I_:return t;default:return e}}case Q5:return e}}}function pF(t){return gs(t)===N_}Cn.AsyncMode=e4;Cn.ConcurrentMode=N_;Cn.ContextConsumer=O_;Cn.ContextProvider=I_;Cn.Element=Z5;Cn.ForwardRef=k_;Cn.Fragment=P_;Cn.Lazy=U_;Cn.Memo=F_;Cn.Portal=Q5;Cn.Profiler=L_;Cn.StrictMode=R_;Cn.Suspense=D_;Cn.isAsyncMode=function(t){return pF(t)||gs(t)===e4};Cn.isConcurrentMode=pF;Cn.isContextConsumer=function(t){return gs(t)===O_};Cn.isContextProvider=function(t){return gs(t)===I_};Cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z5};Cn.isForwardRef=function(t){return gs(t)===k_};Cn.isFragment=function(t){return gs(t)===P_};Cn.isLazy=function(t){return gs(t)===U_};Cn.isMemo=function(t){return gs(t)===F_};Cn.isPortal=function(t){return gs(t)===Q5};Cn.isProfiler=function(t){return gs(t)===L_};Cn.isStrictMode=function(t){return gs(t)===R_};Cn.isSuspense=function(t){return gs(t)===D_};Cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===P_||t===N_||t===L_||t===R_||t===D_||t===fwe||typeof t=="object"&&t!==null&&(t.$$typeof===U_||t.$$typeof===F_||t.$$typeof===I_||t.$$typeof===O_||t.$$typeof===k_||t.$$typeof===pwe||t.$$typeof===mwe||t.$$typeof===gwe||t.$$typeof===hwe)};Cn.typeOf=gs;function vwe(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var mF=function(e){var n=nwe();return n.displayName=e,n},gF=mF("Router-History"),Hf=mF("Router"),t4=function(t){_c(e,t),e.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function e(i){var o;return o=t.call(this,i)||this,o.state={location:i.history.location},o._isMounted=!1,o._pendingLocation=null,i.staticContext||(o.unlisten=i.history.listen(function(s){o._isMounted?o.setState({location:s}):o._pendingLocation=s})),o}var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return p.createElement(Hf.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},p.createElement(gF.Provider,{children:this.props.children||null,value:this.props.history}))},e}(p.Component);p.Component;var ywe=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(p.Component),n4={},_we=1e4,vF=0;function bwe(t){if(n4[t])return n4[t];var e=hF.compile(t);return vF<_we&&(n4[t]=e,vF++),e}function yF(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:bwe(t)(e,{pretty:!0})}function j_(t){var e=t.computedMatch,n=t.to,i=t.push,o=i===void 0?!1:i;return p.createElement(Hf.Consumer,null,function(s){s||Wm(!1);var a=s.history,l=s.staticContext,c=o?a.push:a.replace,u=go(e?typeof n=="string"?yF(n,e.params):fs({},n,{pathname:yF(n.pathname,e.params)}):n);return l?(c(u),null):p.createElement(ywe,{onMount:function(){c(u)},onUpdate:function(f,h){var v=go(h.to);mfe(v,fs({},u,{key:v.key}))||c(u)},to:n})})}var _F={},Ewe=1e4,bF=0;function wwe(t,e){var n=""+e.end+e.strict+e.sensitive,i=_F[n]||(_F[n]={});if(i[t])return i[t];var o=[],s=hF(t,o,e),a={regexp:s,keys:o};return bF<Ewe&&(i[t]=a,bF++),a}function EF(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,o=n.exact,s=o===void 0?!1:o,a=n.strict,l=a===void 0?!1:a,c=n.sensitive,u=c===void 0?!1:c,d=[].concat(i);return d.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var v=wwe(h,{end:s,strict:l,sensitive:u}),m=v.regexp,_=v.keys,S=m.exec(t);if(!S)return null;var E=S[0],w=S.slice(1),T=t===E;return s&&!T?null:{path:h,url:h==="/"&&E===""?"/":E,isExact:T,params:_.reduce(function(C,P,R){return C[P.name]=w[R],C},{})}},null)}function xwe(t){return p.Children.count(t)===0}var Ys=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return p.createElement(Hf.Consumer,null,function(s){s||Wm(!1);var a=o.props.location||s.location,l=o.props.computedMatch?o.props.computedMatch:o.props.path?EF(a.pathname,o.props):s.match,c=fs({},s,{location:a,match:l}),u=o.props,d=u.children,f=u.component,h=u.render;return Array.isArray(d)&&xwe(d)&&(d=null),p.createElement(Hf.Provider,{value:c},c.match?d?typeof d=="function"?d(c):d:f?p.createElement(f,c):h?h(c):null:typeof d=="function"?d(c):null)})},e}(p.Component);function r4(t){return t.charAt(0)==="/"?t:"/"+t}function Swe(t,e){return t?fs({},e,{pathname:r4(t)+e.pathname}):e}function Twe(t,e){if(!t)return e;var n=r4(t);return e.pathname.indexOf(n)!==0?e:fs({},e,{pathname:e.pathname.substr(n.length)})}function wF(t){return typeof t=="string"?t:mo(t)}function i4(t){return function(){Wm(!1)}}function xF(){}p.Component;var Cwe=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return p.createElement(Hf.Consumer,null,function(s){s||Wm(!1);var a=o.props.location||s.location,l,c;return p.Children.forEach(o.props.children,function(u){if(c==null&&p.isValidElement(u)){l=u;var d=u.props.path||u.props.from;c=d?EF(a.pathname,fs({},u.props,{path:d})):s.match}}),c?p.cloneElement(l,{location:a,computedMatch:c}):null})},e}(p.Component),SF=p.useContext;function zf(){return SF(gF)}function _g(){var t=SF(Hf).match;return t?t.params:{}}function Mwe(){const t=ve(),[e]=Oye();return K.exports.useEffect(()=>{e.value!=="projectCreateFailed"&&t.loadWelcomeProject()},[t,e.value]),null}function TF(){const t=ve();return K.exports.useEffect(()=>{t.redirectingToLogin(!0),window.location=t.getGitHubLoginUrl()},[t]),null}function Awe(){const t=ve();return K.exports.useEffect(()=>{t.redirectingToLogin(!0),window.location=t.getFacebookLoginUrl()},[t]),null}function Pwe(){const t=ve();return K.exports.useEffect(()=>{t.logout()},[t]),null}function Rwe(){const t=ve();return K.exports.useEffect(()=>{t.projectMachine.send({type:"CREATE_PROJECT",data:{projectOwner:t.currentUser()}})},[t]),null}function Lwe(){const t=ve(),{projectId:e}=_g(),n=zf();return K.exports.useEffect(()=>{const i=new URLSearchParams(n.location.search),o={};for(const[s,a]of i.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:e,env:o,projectOwner:t.currentUser()}})},[t,n,e]),null}function Iwe(){const t=ve(),{domain:e}=_g(),n=zf();return K.exports.useEffect(()=>{const i=new URLSearchParams(n.location.search),o={};for(const[s,a]of i.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectDomain:e,env:o,projectOwner:t.currentUser()}})},[t,n,e]),null}function Owe(){const t=ve(),{org:e,repo:n}=_g(),i=zf();return K.exports.useEffect(()=>{const o=`${e}/${n}`,s=new URLSearchParams(i.location.search);if(t.isFeatureEnabled("new_git_import")){s.set("url",`https://github.com/${o}`),i.replace(`/import/git?${s.toString()}`);return}const a={};for(const[l,c]of s.entries())a[l]=c;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:g5,domain:o.replace("/","-"),importGitHubRepo:o,env:a,projectOwner:t.currentUser()}})},[t,i,e,n]),null}function Nwe(){const t=ve(),e=zf();return K.exports.useEffect(()=>{const n=new URLSearchParams(e.location.search),i=n.get("url");if(n.delete("url"),!!i){if(t.isFeatureEnabled("new_git_import")){const o={};for(const[s,a]of n.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:g5,importGitRepoUrl:i,env:o,projectOwner:t.currentUser()}});return}try{const{host:o,pathname:s}=new URL(i);if(o!=="github.com")throw new Error("Only GitHub git repository URLs are supported");const a=s.substring(1).replace(/.git$/,"");e.replace(`/import/github/${a}?${n}`)}catch{t.notifyGitImportUrlInvalid(!0),e.push("/")}}},[t,e]),null}function kwe(){const t=ve(),e=_g(),n=zf(),i=V(t.appPreviewVisible),o=V(t.appPreviewSize);return K.exports.useEffect(()=>{document.body.classList.add("embedded"),t.editorIsEmbedded(!0),t.currentTheme("sugar");const s=new URLSearchParams(n.location.search),a=s.get("highlights")||"";if(s.get("path")&&t.setRestorePosition(s.get("path")),s.get("previewSize")){const l=parseInt(s.get("previewSize"));t.appPreviewSize(l),t.embedAppPreviewSize(l),t.appPreviewVisible(l>0)}else t.appPreviewVisible(!1);if(s.get("attributionHidden")!==void 0){const l=JSON.parse(s.get("attributionHidden"));t.embedAttributionHidden(l)}if(s.get("bottombarCollapsed")!==void 0){const l=JSON.parse(s.get("bottombarCollapsed"));t.embedBottombarCollapsed(l)}if(s.get("sidebarCollapsed")!==void 0){const l=JSON.parse(s.get("sidebarCollapsed"));t.sidebarIsCollapsed(l)}t.setHighlightLines(a.split(","),s.get("path"))},[t,n]),K.exports.useEffect(()=>{const s=e.domain.toLowerCase();i!==void 0&&(o<100?t.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:s}}):t.projectMachine.send({type:"LOAD_PROJECT_METADATA",data:{domain:s}}))},[t,e.domain,i,o]),null}function Dwe(){const t=ve(),e=_g(),n=zf(),i=V(K.exports.useCallback(()=>{const s=t.currentProject();return s?s.domain():null},[t])),o=V(t.projectIsRenaming);return K.exports.useEffect(()=>{t.embedAppPreviewSize()<100&&t.analytics.page("Editor")},[t]),K.exports.useEffect(()=>{const s=i&&i.toLowerCase()===e.domain.toLowerCase();if(o||s)return;const a=e.domain.toLowerCase(),l=new URLSearchParams(n.location.search);l.get("path")&&t.setRestorePosition(l.get("path"));const c=l.get("highlights")||"";t.setHighlightLines(c.split(","),l.get("path")),t.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:a}})},[t,n,e.domain,i,o]),null}function Fwe(){const t=ve();return V(t.booted)===!1?null:p.createElement(t4,{history:t.history},p.createElement(Cwe,null,p.createElement(Ys,{exact:!0,path:"/"},p.createElement(Mwe,null)),p.createElement(Ys,{exact:!0,path:"/sign-in"},p.createElement(TF,null)),p.createElement(Ys,{exact:!0,path:"/sign-in/facebook"},p.createElement(Awe,null)),p.createElement(Ys,{exact:!0,path:"/sign-up"},p.createElement(TF,null)),p.createElement(j_,{exact:!0,from:"/facebook",to:"/"}),p.createElement(j_,{exact:!0,from:"/email-login",to:"/"}),p.createElement(Ys,{exact:!0,path:"/sign-out"},p.createElement(Pwe,null)),p.createElement(Ys,{exact:!0,path:"/new-project"},p.createElement(Rwe,null)),p.createElement(Ys,{exact:!0,path:"/remix/:name/:projectId"},p.createElement(Lwe,null)),p.createElement(Ys,{exact:!0,path:"/remix/:domain"},p.createElement(Iwe,null)),p.createElement(j_,{exact:!0,from:"/r/:domain",to:"/remix/:domain"}),p.createElement(j_,{exact:!0,from:"/project/:domain",to:"/:domain"}),p.createElement(Ys,{exact:!0,path:"/import/github/:org/:repo"},p.createElement(Owe,null)),p.createElement(Ys,{exact:!0,path:"/import/git"},p.createElement(Nwe,null)),p.createElement(Ys,{exact:!0,path:"/embed/:domain"},p.createElement(kwe,null)),p.createElement(Ys,{exact:!0,path:"/:domain"},p.createElement(Dwe,null))))}var CF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MF=p.createContext&&p.createContext(CF),bc=function(){return bc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},bc.apply(this,arguments)},Uwe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function AF(t){return t&&t.map(function(e,n){return p.createElement(e.tag,bc({key:n},e.attr),AF(e.child))})}function So(t){return function(e){return p.createElement(jwe,bc({attr:bc({},t.attr)},e),AF(t.child))}}function jwe(t){var e=function(n){var i=t.attr,o=t.size,s=t.title,a=Uwe(t,["attr","size","title"]),l=o||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),p.createElement("svg",bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:c,style:bc(bc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&p.createElement("title",null,s),t.children)};return MF!==void 0?p.createElement(MF.Consumer,null,function(n){return e(n)}):e(CF)}function Bwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(t)}function Vwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(t)}function PF(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}function Hwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"}}]})(t)}function zwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}},{tag:"path",attr:{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}}]})(t)}function Gwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}}]})(t)}function $we(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}}]})(t)}function Wwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}}]})(t)}function qwe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}}]})(t)}function Ywe(t){return So({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}}]})(t)}function Kwe(t){return So({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}}]})(t)}function Xwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Jwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Zwe=function(){function t(n){var i=this;this._insertTag=function(o){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,s),i.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(Jwe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Xwe(o);try{s.insertRule(i,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},t}(),vi="-ms-",B_="-moz-",gn="-webkit-",RF="comm",s4="rule",o4="decl",Qwe="@import",e2e="@keyframes",t2e=Math.abs,V_=String.fromCharCode;function n2e(t,e){return(((e<<2^Xi(t,0))<<2^Xi(t,1))<<2^Xi(t,2))<<2^Xi(t,3)}function LF(t){return t.trim()}function r2e(t,e){return(t=e.exec(t))?t[0]:t}function En(t,e,n){return t.replace(e,n)}function IF(t,e){return t.indexOf(e)}function Xi(t,e){return t.charCodeAt(e)|0}function bg(t,e,n){return t.slice(e,n)}function ra(t){return t.length}function a4(t){return t.length}function H_(t,e){return e.push(t),t}function i2e(t,e){return t.map(e).join("")}var z_=1,Gf=1,OF=0,Ji=0,xr=0,$f="";function G_(t,e,n,i,o,s,a){return{value:t,root:e,parent:n,type:i,props:o,children:s,line:z_,column:Gf,length:a,return:""}}function Eg(t,e,n){return G_(t,e.root,e.parent,n,e.props,e.children,0)}function s2e(){return xr}function o2e(){return xr=Ji>0?Xi($f,--Ji):0,Gf--,xr===10&&(Gf=1,z_--),xr}function vs(){return xr=Ji<OF?Xi($f,Ji++):0,Gf++,xr===10&&(Gf=1,z_++),xr}function ia(){return Xi($f,Ji)}function $_(){return Ji}function wg(t,e){return bg($f,t,e)}function xg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NF(t){return z_=Gf=1,OF=ra($f=t),Ji=0,[]}function kF(t){return $f="",t}function l4(t){return LF(wg(Ji-1,c4(t===91?t+2:t===40?t+1:t)))}function a2e(t){for(;(xr=ia())&&xr<33;)vs();return xg(t)>2||xg(xr)>3?"":" "}function l2e(t,e){for(;--e&&vs()&&!(xr<48||xr>102||xr>57&&xr<65||xr>70&&xr<97););return wg(t,$_()+(e<6&&ia()==32&&vs()==32))}function c4(t){for(;vs();)switch(xr){case t:return Ji;case 34:case 39:return c4(t===34||t===39?t:xr);case 40:t===41&&c4(t);break;case 92:vs();break}return Ji}function c2e(t,e){for(;vs()&&t+xr!==47+10;)if(t+xr===42+42&&ia()===47)break;return"/*"+wg(e,Ji-1)+"*"+V_(t===47?t:vs())}function u2e(t){for(;!xg(ia());)vs();return wg(t,Ji)}function d2e(t){return kF(W_("",null,null,null,[""],t=NF(t),0,[0],t))}function W_(t,e,n,i,o,s,a,l,c){for(var u=0,d=0,f=a,h=0,v=0,m=0,_=1,S=1,E=1,w=0,T="",C=o,P=s,R=i,A=T;S;)switch(m=w,w=vs()){case 34:case 39:case 91:case 40:A+=l4(w);break;case 9:case 10:case 13:case 32:A+=a2e(m);break;case 92:A+=l2e($_()-1,7);continue;case 47:switch(ia()){case 42:case 47:H_(f2e(c2e(vs(),$_()),e,n),c);break;default:A+="/"}break;case 123*_:l[u++]=ra(A)*E;case 125*_:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:v>0&&ra(A)-f&&H_(v>32?FF(A+";",i,n,f-1):FF(En(A," ","")+";",i,n,f-2),c);break;case 59:A+=";";default:if(H_(R=DF(A,e,n,u,d,o,l,T,C=[],P=[],f),s),w===123)if(d===0)W_(A,e,R,R,C,s,f,l,P);else switch(h){case 100:case 109:case 115:W_(t,R,R,i&&H_(DF(t,R,R,0,0,o,l,T,o,C=[],f),P),o,P,f,l,i?C:P);break;default:W_(A,R,R,R,[""],P,f,l,P)}}u=d=v=0,_=E=1,T=A="",f=a;break;case 58:f=1+ra(A),v=m;default:if(_<1){if(w==123)--_;else if(w==125&&_++==0&&o2e()==125)continue}switch(A+=V_(w),w*_){case 38:E=d>0?1:(A+="\f",-1);break;case 44:l[u++]=(ra(A)-1)*E,E=1;break;case 64:ia()===45&&(A+=l4(vs())),h=ia(),d=ra(T=A+=u2e($_())),w++;break;case 45:m===45&&ra(A)==2&&(_=0)}}return s}function DF(t,e,n,i,o,s,a,l,c,u,d){for(var f=o-1,h=o===0?s:[""],v=a4(h),m=0,_=0,S=0;m<i;++m)for(var E=0,w=bg(t,f+1,f=t2e(_=a[m])),T=t;E<v;++E)(T=LF(_>0?h[E]+" "+w:En(w,/&\f/g,h[E])))&&(c[S++]=T);return G_(t,e,n,o===0?s4:l,c,u,d)}function f2e(t,e,n){return G_(t,e,n,RF,V_(s2e()),bg(t,2,-2),0)}function FF(t,e,n,i){return G_(t,e,n,o4,bg(t,0,i),bg(t,i+1,-1),i)}function UF(t,e){switch(n2e(t,e)){case 5103:return gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gn+t+B_+t+vi+t+t;case 6828:case 4268:return gn+t+vi+t+t;case 6165:return gn+t+vi+"flex-"+t+t;case 5187:return gn+t+En(t,/(\w+).+(:[^]+)/,gn+"box-$1$2"+vi+"flex-$1$2")+t;case 5443:return gn+t+vi+"flex-item-"+En(t,/flex-|-self/,"")+t;case 4675:return gn+t+vi+"flex-line-pack"+En(t,/align-content|flex-|-self/,"")+t;case 5548:return gn+t+vi+En(t,"shrink","negative")+t;case 5292:return gn+t+vi+En(t,"basis","preferred-size")+t;case 6060:return gn+"box-"+En(t,"-grow","")+gn+t+vi+En(t,"grow","positive")+t;case 4554:return gn+En(t,/([^-])(transform)/g,"$1"+gn+"$2")+t;case 6187:return En(En(En(t,/(zoom-|grab)/,gn+"$1"),/(image-set)/,gn+"$1"),t,"")+t;case 5495:case 3959:return En(t,/(image-set\([^]*)/,gn+"$1$`$1");case 4968:return En(En(t,/(.+:)(flex-)?(.*)/,gn+"box-pack:$3"+vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gn+t+t;case 4095:case 3583:case 4068:case 2532:return En(t,/(.+)-inline(.+)/,gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ra(t)-1-e>6)switch(Xi(t,e+1)){case 109:if(Xi(t,e+4)!==45)break;case 102:return En(t,/(.+:)(.+)-([^]+)/,"$1"+gn+"$2-$3$1"+B_+(Xi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~IF(t,"stretch")?UF(En(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Xi(t,e+1)!==115)break;case 6444:switch(Xi(t,ra(t)-3-(~IF(t,"!important")&&10))){case 107:return En(t,":",":"+gn)+t;case 101:return En(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gn+(Xi(t,14)===45?"inline-":"")+"box$3$1"+gn+"$2$3$1"+vi+"$2box$3")+t}break;case 5936:switch(Xi(t,e+11)){case 114:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gn+t+vi+t+t}return t}function Sg(t,e){for(var n="",i=a4(t),o=0;o<i;o++)n+=e(t[o],o,t,e)||"";return n}function h2e(t,e,n,i){switch(t.type){case Qwe:case o4:return t.return=t.return||t.value;case RF:return"";case s4:t.value=t.props.join(",")}return ra(n=Sg(t.children,i))?t.return=t.value+"{"+n+"}":""}function p2e(t){var e=a4(t);return function(n,i,o,s){for(var a="",l=0;l<e;l++)a+=t[l](n,i,o,s)||"";return a}}function m2e(t){return function(e){e.root||(e=e.return)&&t(e)}}function g2e(t,e,n,i){if(!t.return)switch(t.type){case o4:t.return=UF(t.value,t.length);break;case e2e:return Sg([Eg(En(t.value,"@","@"+gn),t,"")],i);case s4:if(t.length)return i2e(t.props,function(o){switch(r2e(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sg([Eg(En(o,/:(read-\w+)/,":"+B_+"$1"),t,"")],i);case"::placeholder":return Sg([Eg(En(o,/:(plac\w+)/,":"+gn+"input-$1"),t,""),Eg(En(o,/:(plac\w+)/,":"+B_+"$1"),t,""),Eg(En(o,/:(plac\w+)/,vi+"input-$1"),t,"")],i)}return""})}}var v2e=function(e,n,i){for(var o=0,s=0;o=s,s=ia(),o===38&&s===12&&(n[i]=1),!xg(s);)vs();return wg(e,Ji)},y2e=function(e,n){var i=-1,o=44;do switch(xg(o)){case 0:o===38&&ia()===12&&(n[i]=1),e[i]+=v2e(Ji-1,n,i);break;case 2:e[i]+=l4(o);break;case 4:if(o===44){e[++i]=ia()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=V_(o)}while(o=vs());return e},_2e=function(e,n){return kF(y2e(NF(e),n))},jF=new WeakMap,b2e=function(e){if(!(e.type!=="rule"||!e.parent||!e.length)){for(var n=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jF.get(i))&&!o){jF.set(e,!0);for(var s=[],a=_2e(n,s),l=i.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},E2e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},w2e=[g2e],x2e=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=e.stylisPlugins||w2e,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),E=1;E<S.length;E++)s[S[E]]=!0;l.push(_)});var c,u=[b2e,E2e];{var d,f=[h2e,m2e(function(_){d.insert(_)})],h=p2e(u.concat(o,f)),v=function(S){return Sg(d2e(S),h)};c=function(S,E,w,T){d=w,v(S?S+"{"+E.styles+"}":E.styles),T&&(m.inserted[E.name]=!0)}}var m={key:n,sheet:new Zwe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return m.sheet.hydrate(l),m},S2e=!0;function T2e(t,e,n){var i="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):i+=o+" "}),i}var C2e=function(e,n,i){var o=e.key+"-"+n.name;if((i===!1||S2e===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles),e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+o:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function M2e(t){for(var e=0,n,i=0,o=t.length;o>=4;++i,o-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var A2e=/[A-Z]|^ms/g,P2e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BF=function(e){return e.charCodeAt(1)===45},VF=function(e){return e!=null&&typeof e!="boolean"},u4=vI(function(t){return BF(t)?t:t.replace(A2e,"-$&").toLowerCase()}),HF=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(P2e,function(i,o,s){return sa={name:o,styles:s,next:sa},o})}return uee[e]!==1&&!BF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tg(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return sa={name:n.name,styles:n.styles,next:sa},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)sa={name:i.name,styles:i.styles,next:sa},i=i.next;var o=n.styles+";";return o}return R2e(t,e,n)}case"function":{if(t!==void 0){var s=sa,a=n(t);return sa=s,Tg(t,e,a)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function R2e(t,e,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=Tg(t,e,n[o])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":VF(a)&&(i+=u4(s)+":"+HF(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)VF(a[l])&&(i+=u4(s)+":"+HF(s,a[l])+";");else{var c=Tg(t,e,a);switch(s){case"animation":case"animationName":{i+=u4(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var zF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,sa,GF=function(e,n,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";sa=void 0;var a=e[0];a==null||a.raw===void 0?(o=!1,s+=Tg(i,n,a)):s+=a[0];for(var l=1;l<e.length;l++)s+=Tg(i,n,e[l]),o&&(s+=a[l]);zF.lastIndex=0;for(var c="",u;(u=zF.exec(s))!==null;)c+="-"+u[1];var d=M2e(s)+c;return{name:d,styles:s,next:sa}},$F=K.exports.createContext(typeof HTMLElement!="undefined"?x2e({key:"css"}):null);$F.Provider;var L2e=function(e){return K.exports.forwardRef(function(n,i){var o=K.exports.useContext($F);return e(n,o,i)})},I2e=K.exports.createContext({});function O2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return GF(e)}var N2e=function(){var e=O2e.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const WF=document.getElementById("__react-pop-root");function Cg({children:t}){const e=K.exports.useRef(null);return e.current===null&&(e.current=document.createElement("div")),K.exports.useLayoutEffect(()=>(WF.appendChild(e.current),()=>{WF.removeChild(e.current)}),[]),sx.exports.createPortal(t,e.current)}function k2e({user:t,style:e}){const n=ve(),i=V(t.profileUrl),o=V(K.exports.useCallback(()=>t.userAvatarUrl("large"),[t])),s=V(K.exports.useCallback(()=>({backgroundColor:t.color(),borderColor:t.secondaryColor()}),[t])),a={backgroundImage:`url(${o})`},l=V(K.exports.useCallback(()=>t.name()||t.login()||"Anonymous",[t])),c=V(K.exports.useCallback(()=>l!==t.login()?t.login():null,[l,t])),u=()=>{n.acceptInviteRequest(t),n.closeAllPopOvers()};return p.createElement(Cg,null,p.createElement("dialog",{className:"pop-over accepting-invite-pop",style:e},p.createElement("a",{href:i},p.createElement("section",{className:"info profile-summary"},p.createElement("div",{className:"profile-wrap"},o?p.createElement("div",{className:"avatar icon",style:a}):p.createElement("div",{className:"avatar icon anon-avatar",style:s}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,l),c&&p.createElement("p",{className:"login"},c))))),p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:u},"Invite to Edit ",p.createElement(Je,{icon:"thumbsUp"})))))}function D2e({children:t,fallback:e=null}){const n=ve();return V(n.projectIsLoaded)?t:e}function qF({user:t,hideOnlineStatus:e=!1}){const n=V(t.isOnline),i=V(t.avatarUrl),o=V(t.color);return p.createElement("div",{className:at("avatar icon",{"anon-avatar":!i,"online-active-user":n&&!e}),style:{backgroundImage:i&&`url("${i}")`,backgroundColor:!i&&o,boxShadow:n&&!e&&`0 0 0 1.5px ${o}, inset 0 0 0 1px var(--primary-background)`}})}var F2e=function(e,n){var i=e.linkify,o=e.utils.escapeHtml,s='<a\\s([^<>]*href="[^"<>]*"[^<>]*)\\s?>',a=RegExp(s,"i"),l='<img\\s([^<>]*src="[^"<>]*"[^<>]*)\\s?\\/?>',c=RegExp(l,"i"),u=/^(?:https?:)?\/\//i,d=/^(?:https?:\/\/|ftp:\/\/|\/\/|mailto:|xmpp:)/i;n=n||{};var f=typeof n.removeUnknown!="undefined"?n.removeUnknown:!1,h=typeof n.removeUnbalanced!="undefined"?n.removeUnbalanced:!1,v=typeof n.imageClass!="undefined"?n.imageClass:"",m=!1,_,S=["a","b","blockquote","code","em","h1","h2","h3","h4","h5","h6","li","ol","p","pre","s","sub","sup","strong","ul"],E=new Array(S.length),w=new Array(S.length);for(_=0;_<S.length;_++)E[_]=0;for(_=0;_<S.length;_++)w[_]=!1;function T(A){var L=i.match(A);return L&&L.length===1&&L[0].index===0&&L[0].lastIndex===A.length?L[0].url:null}function C(A){return A=A.replace(/<[^<>]*>?/gi,function(L){var k,U,O,I,F,N;return/(^<->|^<-\s|^<3\s)/.test(L)?L:(k=L.match(c),k&&(U=k[1],O=T(U.match(/src="([^"<>]*)"/i)[1]),I=U.match(/alt="([^"<>]*)"/i),I=I&&typeof I[1]!="undefined"?I[1]:"",F=U.match(/title="([^"<>]*)"/i),F=F&&typeof F[1]!="undefined"?F[1]:"",O&&u.test(O))?v!==""?'<img src="'+O+'" alt="'+I+'" title="'+F+'" class="'+v+'">':'<img src="'+O+'" alt="'+I+'" title="'+F+'">':(N=S.indexOf("a"),k=L.match(a),k&&(U=k[1],O=T(U.match(/href="([^"<>]*)"/i)[1]),F=U.match(/title="([^"<>]*)"/i),F=F&&typeof F[1]!="undefined"?F[1]:"",O&&d.test(O))?(m=!0,E[N]+=1,'<a href="'+O+'" title="'+F+'" target="_blank">'):(k=/<\/a>/i.test(L),k?(m=!0,E[N]-=1,E[N]<0&&(w[N]=!0),"</a>"):(k=L.match(/<(br|hr)\s?\/?>/i),k?"<"+k[1].toLowerCase()+">":(k=L.match(/<(\/?)(b|blockquote|code|em|h[1-6]|li|ol(?: start="\d+")?|p|pre|s|sub|sup|strong|ul)>/i),k&&!/<\/ol start="\d+"/i.test(L)?(m=!0,N=S.indexOf(k[2].toLowerCase().split(" ")[0]),k[1]==="/"?E[N]-=1:E[N]+=1,E[N]<0&&(w[N]=!0),"<"+k[1]+k[2].toLowerCase()+">"):f===!0?"":o(L))))))}),A}function P(A){var L,k,U;for(_=0;_<S.length;_++)E[_]=0;for(_=0;_<S.length;_++)w[_]=!1;for(m=!1,k=0;k<A.tokens.length;k++)if(A.tokens[k].type==="html_block"&&(A.tokens[k].content=C(A.tokens[k].content)),A.tokens[k].type==="inline")for(U=A.tokens[k].children,L=0;L<U.length;L++)U[L].type==="html_inline"&&(U[L].content=C(U[L].content))}function R(A){if(m===!1)return;var L,k;function U(I,F){var N,H;return F==="a"?N=RegExp('<a href="[^"<>]*" title="[^"<>]*" target="_blank">',"g"):F==="ol"?N=/<ol(?: start="\d+")?>/g:N=RegExp("<"+F+">","g"),H=RegExp("</"+F+">","g"),h===!0?(I=I.replace(N,""),I=I.replace(H,"")):(I=I.replace(N,function(z){return o(z)}),I=I.replace(H,function(z){return o(z)})),I}function O(I){var F;for(F=0;F<S.length;F++)w[F]===!0&&(I=U(I,S[F]));return I}for(_=0;_<S.length;_++)E[_]!==0&&(w[_]=!0);for(L=0;L<A.tokens.length;L++){if(A.tokens[L].type==="html_block"){A.tokens[L].content=O(A.tokens[L].content);continue}if(A.tokens[L].type==="inline")for(k=A.tokens[L].children,_=0;_<k.length;_++)k[_].type==="html_inline"&&(k[_].content=O(k[_].content))}}e.core.ruler.after("linkify","sanitize_inline",P),e.core.ruler.after("sanitize_inline","sanitize_balance",R)};const U2e=EI({html:!0}).use(F2e),j2e=EI({html:!0}),B2e=new Set(["md","markdown","mdown"]);function YF(t){if(t==null)return!1;const e=t.extension().toLowerCase();return B2e.has(e)}function d4(t){return U2e.render(t)}function V2e(t){return j2e.render(t)}function H2e({user:t,style:e}){const n=ve(),i=V(n.currentProject),o=V(n.currentUser),s=V(t.profileUrl),a=V(K.exports.useCallback(()=>t.userAvatarUrl("large"),[t])),l=V(t.color),c=V(t.secondaryColor),u=a?{backgroundImage:`url(${a})`}:{backgroundColor:l,borderColor:c},d=V(t.name),f=V(t.login),h=V(t.isOnline),v=t===o,m=V(K.exports.useCallback(()=>i&&i.accessLevel(t),[i,t])),_=V(K.exports.useCallback(()=>i&&i.accessLevel(o),[i,o])),S=V(t.thanksCount),E=V(t.isThankedByCurrentUser),w=S===1?"time":"times",T=V(n.canBroadcast),C=V(K.exports.useCallback(()=>i&&i.users().length>1,[i])),P=V(K.exports.useCallback(()=>v&&!n.currentUserIsLoggedIn(),[n,v])),R=V(t.description),A=V(K.exports.useCallback(()=>i&&i.name(),[i])),L=V(n.currentUserOnAnyCurrentProjectTeam),k=V(K.exports.useCallback(()=>{const q=t.lastCursor();if(q&&q.cursor){const W=q.documentId,j=n.fileByUuid(W);if(!j)return;if(q.cursor){const $=q.cursor.line||0;return`${j.name()}, line ${$+1}`}return j.name()}},[n,t])),U=()=>{t.isThankedByCurrentUser()?t.removeThanks(n):(n.analytics.track("Thanks Given",{recipientId:t.id(),recipientHandle:t.login()}),t.addThanks(n))},O=()=>{n.acceptInviteRequest(t),n.closeAllPopOvers()},I=()=>{n.askToJoinProject()},F=()=>{const q=t.lastCursor();if(q){const{cursor:W,documentId:j}=q,{line:$}=W;n.selectFileByUuid(j).then(()=>{n.goToLine($),n.closeAllPopOvers()})}},N=()=>{n.leaveCurrentProject(t),n.closeAllPopOvers()},H=()=>{var q;C?window.confirm(`Leave ${A}?`)&&(n.closeAllPopOvers(),n.rewindPanelVisible(!1),n.leaveCurrentProject(),n.analytics.track("Project Left",{projectMemberWhoLeft:t.login(),numberProjectMembers:((q=n.currentProject())==null?void 0:q.users().length)-1})):window.alert(`You can't leave ${A} because you are the only member.`)},z=K.exports.useMemo(()=>R?d4(R):null,[R]),B=()=>{switch(m){case xt.NONE:return"Project Visitor";case xt.MEMBER:return"Project Member";case xt.ADMIN:return"Project Owner";default:return""}};return p.createElement(Cg,null,p.createElement("dialog",{className:"pop-over person-pop",style:e},p.createElement("section",{className:"info"},p.createElement("h1",{"data-testid":"access-level-label"},B()),h&&!v&&p.createElement("div",{className:"online-active-user"},"Online"),v&&p.createElement("div",null,p.createElement("span",null,"This is You!"))),p.createElement("a",{href:s},p.createElement("section",{className:at("profile-summary",{"no-bottom-border":R||P})},p.createElement("div",{className:"profile-wrap"},p.createElement("div",{className:at("avatar","icon",{"anon-avatar":!a}),style:u}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,d||f||"Anonymous"),f&&p.createElement("p",{className:"login"},"@",f))))),z&&p.createElement("section",{className:P?"no-bottom-border":"",dangerouslySetInnerHTML:{__html:z}}),P&&p.createElement("section",{className:"actions"},p.createElement("a",{className:"onboarding-tip-link",href:"//glitch.com/signin",onClick:n.setDestinationAfterAuth},p.createElement("div",{className:"onboarding-tip onboarding-tip-wholly-clickable"},p.createElement("div",null,p.createElement("strong",null,"Create an account "),p.createElement("span",null,_>xt.NONE?"to keep this project and edit it from anywhere.":"to save your favorite apps.")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-cta button-small"},"Create an Account"))))),v&&S>0&&p.createElement("section",null,p.createElement("p",null,"You've been thanked ",S," ",w," ",p.createElement(Je,{icon:"sparklingHeart"}))),!v&&p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:U},E?p.createElement(p.Fragment,null,"Thanked ",p.createElement(Je,{icon:"sparklingHeart"})):p.createElement(p.Fragment,null,"Thank ",p.createElement("div",{className:at("avatar","icon",{"anon-avatar":!a}),style:u}))),S>0&&p.createElement("div",{className:"thanks-count"},p.createElement("p",null,"Thanked ",S," ",w," ",p.createElement(Je,{icon:"sparklingHeart"})))),!v&&h&&k&&p.createElement("section",{className:"actions"},p.createElement("p",null,k),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:F},"Jump to ",p.createElement("div",{className:at("avatar",{"anon-avatar":!a}),style:u})))),!v&&m>=xt.MEMBER&&_>=xt.MEMBER&&_>=m&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:N},"Remove from Project ",p.createElement(Je,{icon:"wave"})))),m<xt.MEMBER&&!v&&_>=xt.MEMBER&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button",onClick:O},"Invite to Edit ",p.createElement(Je,{icon:"thumbsUp"})))),_<xt.MEMBER&&v&&T&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button button-small button-secondary",onClick:I},L?"Join This Team Project":"Request to Join Project"))),v&&_>=xt.MEMBER&&C&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:H},"Leave this Project ",p.createElement(Je,{icon:"wave"}))))))}function z2e({user:t,style:e}){const n=ve(),i=V(K.exports.useCallback(()=>t===n.currentUser(),[n,t])),o=()=>{n.closeAllPopOvers(),t.awaitingInvite(!1),n.broadcast({user:t.broadcastData()})};return p.createElement(Cg,null,p.createElement("dialog",{className:"pop-over waiting-for-invite-pop",style:e},p.createElement("section",{className:"info"},p.createElement("h1",null,"Request Sent ",p.createElement(Je,{icon:"thumbsUp"}))),p.createElement("section",{className:"actions"},p.createElement("p",null,"Check back soon"),p.createElement(mn,null)),i&&p.createElement("section",{className:"info"},p.createElement("button",{className:"button",onClick:o},"Cancel Request"))))}const f4="ACCEPTING_INVITE",KF="WAITING_FOR_INVITE",XF="PERSON";function G2e(t,e,n){return t&&e==="Admin"?f4:t&&n?KF:XF}function $2e(t){const e=ve(),n=V(e.currentUserRole),i=V(t.awaitingInvite),o=n==="Admin"?"Can I join?":"Asked to join...";if(!!i)return o}function W2e({user:t,showPopOnClick:e=!0,showTooltipOnTop:n,hideOnlineStatus:i=!1}){const o=ve(),s=V(o.currentUser),a=V(t.login)||"Anonymous",l=V(t.awaitingInvite),c=t===s,u=V(o.currentUserRole),[d,f]=K.exports.useState(null),[h,v]=K.exports.useState(null),[m,_]=K.exports.useState(null),[S,E]=K.exports.useState(!1);S&&!l&&E(!1);const w=$2e(t);K.exports.useEffect(()=>{if(e)return o.onCloseAllPopOvers(()=>{f(null)})},[o,e]);const T=R=>{o.closeAllPopOvers();const L=R.currentTarget.getBoundingClientRect();t.updateThanks(o);const k=G2e(l,u,c);f(k),v(L.bottom),_(L.left),E(k===f4)},C={top:`${h}px`,left:`${m}px`},P=!S&&e;return p.createElement(p.Fragment,null,p.createElement("span",{className:at("person",{"person-current-user":t===s}),onClick:e?T:void 0,"data-tooltip":P?w:null,"data-tooltip-persistent":!0,"data-tooltip-left":!0,"data-tooltip-notification":!0,"data-tooltip-clickable":!0},p.createElement("div",{"data-tooltip":a,"data-tooltip-left":!0,"data-tooltip-top":n||void 0,"data-testid":"person-avatar"},p.createElement(qF,{user:t,hideOnlineStatus:i}))),d===f4&&p.createElement(k2e,{user:t,style:C}),d===KF&&p.createElement(z2e,{user:t,style:C}),d===XF&&p.createElement(H2e,{user:t,style:C}))}function h4(t){return p.createElement(D2e,null,p.createElement(W2e,de({},t)))}function q2e({team:t}){const e=ve(),n=V(t.name),i=V(t.avatarUrl),o=V(t.backgroundColor);return p.createElement("button",{className:"person team no-button-styles","data-tooltip":n,"data-tooltip-left":!0,"aria-label":`Open team pop-over for the team "${n}"`,onClick:s=>{if(e.teamPopCurrentTeam()===t){e.teamPopCurrentTeam(null);return}e.closeAllPopOvers(),s.stopPropagation();const a=s.target.getBoundingClientRect();e.collaboratorPositionTop(a.top),e.collaboratorPositionLeft(a.left),e.teamPopCurrentTeam(t)}},p.createElement("div",{className:at("avatar icon team-avatar",{"anon-avatar":!i}),style:{backgroundImage:`url(${i})`,borderColor:o}}))}const Y2e=$e(Je)`
  margin-right: 5px;
  width: 15px;
  height: 15px;
`,K2e={public:{icon:"globe",alt:"Public project"},private_code:{icon:"lockCode",alt:"Private code project"},private_project:{icon:"lock",alt:"Private project"}};function X2e({privacy:t}){return p.createElement(Y2e,de({},K2e[t]))}const J2e=$e.svg`
  path.background-blob {
    fill: ${t=>t.currentTheme==="sugar"?"#FCF2F1":"#140080"};
  }
  path.big-circle {
    fill: ${t=>t.currentTheme==="sugar"?"#C354FF":"#FF7698"};
  }
  path.little-circle {
    fill: ${t=>t.currentTheme==="sugar"?"#F47CFF":"#FEC1EE"};
  }
  path.sparkle {
    fill: ${t=>t.currentTheme==="sugar"?"#FD7DAA":"#FFFF60"};
  }
`;function Z2e({currentTheme:t}){return p.createElement(J2e,{currentTheme:t,width:"167",height:"81",viewBox:"0 0 167 81",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M21.5384 27.5405C19.1823 38.9714 24.8096 50.9917 33.5187 58.7597C42.2278 66.5276 53.577 70.6642 64.9156 73.4114C83.2699 77.8532 102.403 79.0847 121.178 77.0427C133.126 75.7481 145.401 72.9062 154.783 65.3908C164.166 57.8755 169.835 44.6658 165.544 33.4244C162.577 25.6459 155.436 20.0673 147.694 17.0359C139.942 14.0151 131.538 13.2046 123.26 12.4257C100.699 10.2995 77.9898 7.17338 55.3651 6.04714C41.0603 5.34192 25.2829 12.552 21.5384 27.5405Z",className:"background-blob"}),p.createElement("path",{d:"M31.6784 21.6702C36.1574 21.6702 39.7884 18.0392 39.7884 13.5602C39.7884 9.08116 36.1574 5.4502 31.6784 5.4502C27.1993 5.4502 23.5684 9.08116 23.5684 13.5602C23.5684 18.0392 27.1993 21.6702 31.6784 21.6702Z",className:"big-circle"}),p.createElement("path",{d:"M7.01 0C7.01 3.87 3.87 7.01 0 7.01C3.87 7.01 7.01 10.15 7.01 14.02C7.01 10.15 10.15 7.01 14.02 7.01C10.15 7.01 7.01 3.87 7.01 0Z",className:"sparkle"}),p.createElement("path",{d:"M4.13961 29.9804C5.95663 29.9804 7.42961 28.5074 7.42961 26.6904C7.42961 24.8734 5.95663 23.4004 4.13961 23.4004C2.32259 23.4004 0.849609 24.8734 0.849609 26.6904C0.849609 28.5074 2.32259 29.9804 4.13961 29.9804Z",className:"little-circle"}),p.createElement("rect",{x:"136",y:"49",width:"20.1143",height:"32",fill:"url(#pattern0)"}),p.createElement("defs",null,p.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},p.createElement("use",{xlinkHref:"#image0",transform:"translate(-0.00744508) scale(0.00548589 0.00344828)"})),p.createElement("image",{id:"image0",width:"185",height:"290",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAEiCAYAAACle3NoAAAACXBIWXMAADddAAA3XQEZgEZdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABZDSURBVHgB7Z3bbx3XdcbXnMObbg6dCmlsOA2VvEQ10Mp+DWJT7R9Qx6iD9imu/4BK6kOL1LJFGbX71sjoe0W/NZUdOn+BWMAF/CYV6IMMGBXbGs3FikiTutjiOWdnr6NzpDnDuezZl5m993w/g6BJziEB6ePSN+vbaw0RAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAhCQEnCKuXF2V716Uf9IrJMZvy/L/d+R7+Tb6T+r1NpNXTm8ScAZE7oDtNbG8NKAzS89+dJb6g2WFl2zJv4l1GtB7yV+e3iJgFYjcMvfOizMjorX+kZ3lpe9ep5ps0Wj0bvIXf3qJgDUgckvI6r2yOKDLgmiVP154+lOaO/4ZaXKdhvRDVHU79AgYs/e6WJ0f0LWpwBlZycmAU9Snq+Lfrp4iYAxEbsj9N8WPewldlf8kPvLeyfyXlBy6Q4asyLdr4p9+8WMCRkDkBrDARyN5w5ihd9Sois9yZGFdvPk+hG4ARK5JkcCZuSdukTWeXCJxeA5CNwAi14A9eJHAGauVXJL8/mESQqzvv35llUBtIPKacBclSWij6Os9ecOZ9AdklSPz47d+jzbE2sYKgVpA5DVggS/sz95kZpl78lfkAq7mkmUxHFyF0OsBkddACnxjHM+X0LdsVR4xqeaSFSn0ywSUgcgVuXteXJACL+1bj1uHC1+SKybVnFkVb1z5KQElIHIF7vy9eFW+W6u6rueqik95XM1JBk9nB+d/9hKBSiDyCiY3mhdUrnXlx9Okqjn1kt5l+PNqIPIKVHw4wx2VvutKzqSqOT28EYU/rwAiL0HFh0/pHWlA4BPS1VyyOnzjX88SKASnEAsYtwsHdFP1+oVnbtDc193blSnif3aJdh88+ng4otPzb7+ySeAAqOQ58NAD98PrvKYRq5IieerIzMcyKLoszl5WGdDoHBB5DotDuqDiw6f0lu44bR3mstAnenIx/ZkVOnZU6Qa5a0DkGfhcihBUy+P2Gq7iU5JvzHjzcVsR51sOApGnYJsi/0Bqdyv6Nk8d1oGr+fFDM5+CbTkIRJ6irk1hOOXst1TJxz+fq3l/pn8A25IBIp+gY1OYXosCH8MC/73Zag7bMgtETvo2hZlry6qkSNiyzFZz2JYUEDnp2ZQprVdyJqeaE2zLIzovcg59dGwK42RAQpO8ag7b8pDOi7xu6JNm7mvtW5VH5Fdz2BbquMgnZ1NWSJP+EQ+sSoq8ai5ZGR073OmzLZ09u1L3bEoWbh0eOvkx+Yb49T2i39w78PnBUDy38M6Pau+ti4HOVnITm8J4ccOZQ0E1p7l+0tlJok6KnJdymtgUpokBCS0KvDl1+Ehu5+wK2xTeW1g2cV8Fd1QOPfsR+Yy4cZtof5T99E7Sn3suWfvhFnWIzlXy+X1aMxE40/PshjOPzGDFlE5OEnVK5DyQnCRkvG6t70HKWcmTS/I3Ovevd7VrA9CdEXmdgeQq+p7edGYpqOYPB6A71DvvjMjZppjebDKtDEjowtX88dBzmuUuRf6dEPnuefGSDZvC+No6LKKomncp8u+EyPuCrPWIg/DjaWZXWMzQlcg/epGbRvdp2h6Q0KWomlNHTipG3Sc3je6z9GUAtPitGxQi4r+/kL/x+7lfiz3yj7qSm0b3WXw7kFWHkmoefeQfrcht2pQpIVqVR5R4c4o88o/Srti2KQynnBoPn/ULaVfGtiWfaCP/KCv54oCs//Pr1YCELuXVPNrIPzqRc3Qve8DWY+uQ/XiaMm9OkdqWqERuM7pPY+nhs37AlfyJhcIvJ9S/EFvvPCqR24rus4SWclaRXRaaQUb+x6LqtkQjclsnDPPwYbeKVQ4uC51BkHg1psg/CpHzciAXNmVKbJWcyS4LzRJT5B+FyE2WA1Xh024Vq+QsC80QTeQffJ/cRU88TdNPkGiUoTQmn9wevy+8JIInWARfyW1H91mCTjmrKB56Tl8S/E1o0CJ3Ed2nCWpAQpOiFRaPL6BTwzd+tkYBE6xdcW1TmLnjn9HC059S7BQtJEoRdOQfbCWX0b3zCDq4AQlNKqt54JF/kCKfRPer5JDGHj7rAwrenAKO/IMTuavoPksIu1VsolDNg438gxO5q+g+S1esyiPUqvmyOHYkONsSlMhdRvdZOmNVUqhUc3nVS6FF/sGI3HV0n2acckbeOsxFrZoHF/kHI3KX0X2WKAYkNBmfN5+vlEVQkX8QIjd5ro8OsQxI6FIxWDEmpOVEQYjcdXSfJqoBCV2Kl4XOwLaFAsB7kbuO7rPEeKxWB5VqLlkJIfL3OtZvIrrPsvjt/6J+hz15mrKFRCm8j/y9ruRS4BvUMKjkj1Gs5t5H/t6KnHvi8t0papBoByR0KV9hkcbryN9LkTcV3Wfx9mFXLaJYzR9G/msbK+QhXoq8qeg+SxdTzkrUq7m0LfteDlh4J/Imo/s049ZhF1NOBVSrOUf+Pj6PyCuRt2VTGNxwlqBezfl5RD/1LfL3SuRt2RQGfrwc9WruX+TvjcilTTnVhk1hOjUgoUuNau5b5O+NyKXAG++JT+nagIQuNaq5VycVvRB509F9ls4NSOhSsSw0w8ro2GEveuetx/ptRPdZDn3vY3RWVHkwJPHJtvLlMvI/0Xbk33olb/KEYR5d2K1ilYploVl8iPxbFfm98+JMmzaFQeuwPlXLQjO0Hvm3ZlfYpswP6FrC+7BbZPE719FZ0UD88i7Rrfuql7d6UrG1Ss498bYFHurDZ31gXM37yjWy1ZOKrYi8reg+C6yKAYpDzylW24r8Gxd5m9F9luieINEwaissHiMj/1Z6542LvM3oPgsquSH1q/lyG5F/oyLfe12s+mBTGAxI2KFuNW8j8m9U5PKHeTMm1eXdKlapX80bj/wbE3nb0X2Wru9WsUndak4NR/6N9Ml9iO7TcOvw0MmPCdhDYZH/AQZD8dzCOz+6To5ppJK3Hd1nwQ2nfTSqOc31k0bG5ZyL3IfoPgsGJByg4c2pocjfqV3xJbpPwx2VQ89+RMAN4sZtov1RnZc4j/ydVnIfovssGJBwS53BignOI39nIvclus+CAQnHKC4LzbAq3nzfmVaciNyn6D4LDmS5R6OakxDikqveuROR+xTdp8GARENwNVccek7hLPK3LvLd8+IlH20Kg9Zhc2hVc0eRv3WR94W/z2KHH2+QGiss0riI/K2K3LfoPg0GJJpHp5qTg+VE1vrkvkX3WfoyAFr81g0CzaK4yP8ANiN/a5Xct+g+Cw5ktYNmNae5XmKtd25F5D7blCmwKi2h6c2lnk7ZivyN7YrvNoXhlHPpu84Pu4EipF0Z25b6WIn8jSv54sDfbsoUDEi0jG41txT5G4mco3vZ2/Ru6XoW+PH20fXmZOGkorbIfY7u0+Dhs55Qb1noDOPnERn0zrVF7mt0nwUppz8kTx0hTWTkf0zbFmuJ3NcThnlgt4pH1FwWmkaQeFU38q8tcmlTlkOwKVNQyf2i5rLQGXQj/9oiXxyS9z3xKdit4iFczY/XHpObohX51+qTh9ATT7PwzA2a+zrmOb1jKM3HJ7fH77VePqLT82+/sql6fa1K7nt0nwUpp6foDT2nX17rJlRZ5CFE92kwIOE3OissHr+4XuSvJHK2KXygnQICN5yeY1jNx73ztY0VlWuVRO7j1H0VGJDwH6NqXiPyrxR5SD3xKXj4bCAYVnPJqkrvvFLkIfXEp2C3SjgYVnOl3nmpyEO72ZwCqxIQ5tW8ckNuocj5ZlNmqa9SgMCqhIVpNU+od6asmheKXCab3i3qVGGccqJ1GBbm1Xy5rJrn/vqElmymWXj6U5o7/hmB8NBYFppmJ9m7cyK59FcH/hnPreSyZej9IEQRGJAIF4PBCqawmh8QubgguLyfoQDBgETg6C0LfQR787zPH/iOe0NZxQP04gxSzvAxreZ5ffMDIu+JcK0KBiQiQG9Z6CN6iTig3xmRi7WxVXmRAgWVPA5MqnmSJH+W/dyMyHf4fEqoVgUDEvGgv8KCWcn2zGdEPrdPpyhQ8LCruDDy5oePrKQ/bPSJzC5ByhkZBtV8kCQzlXwu/cH1Txp6eq0D/njxP2hxEUKPidv/9zV6cHeu9uuGmY9nKvkgoWBVsr19kkA8fLk7ryXwPGbtyj5tUaBA5HGx9+ujZMDMdtcZkZ/+MNkRSZhCv3fvKRoMlgiEz/2dRRrua98ubp1YPzfjSA5+pxH9ggJkOFyivb0VAuFz53Oj1HMz+4mDIk/oQwqU3b0TBMLGsIrzTed72c8d+G4/eD/ZJArzBvTW588TCBvDKs5WZTP7ydxfGUH0LgUIW5bdXVTzULFQxXN1m/sdBwO6RIFWc/jycDGs4kyu1c4V+bjLEmg1RyUPE9MqznqVVmUr72uF3zXUar4nbz7RSgwPUy8+orFecykUecjVfGcHwVBIuKziTOl35mouw6HgBpphWcKBxW1axb+9fu5S2QWlIudqLn9NXqPAQMQfDvd3loyqeC/prVVeU3XBpG8e1F5ytBLDgMXNVsWA9Wcun3mv6iKlX6H9wbiab1NAbO98j4DfGFbxHdkXv6hyodJPkLZlS37Dtyggdrb/kIC/sLjv/la/C1Z1s5lG+dfoxfcTNvfXKBC++mp5/Ab85M5vDpMYaY/o8M3mmurFtf6tkL89f0MBgRtQPxl78S/0vbh0FafrXF9L5HwTKgRdokCAyP2Eq7gudWzKlNqufzCki6H0zjFI4R+GVZyTzTWqSW2Rh9Q751YiCx34g0kV5554dupH6XWkAduWkaB1CgC0Ev3BsIor9cTz0G5SDod0jgLonWOQwh8MqviWak88D22Rs20JoXfOluXuvW8SaBeTKj6xKVukidEGrUnv3PvIfwddltYxqOIbujZlivGauBAif5xjaReTKj60kM0YizyEyB+DFO3yxf8fIx1kT/yiiU2ZYmXhZwiRPwYp2uHBXe11bzfrRPdlWNtqmyR+985hWdrhzi09Ly7dwZ+QJayJ/PtXkus+R/6I+JtHd2mnLZsyxep+cp8jfwxSNI/m0k5rNmWKVZH7HvljJ0tz6A4nDx2cdLUqcsbnk4qwLM2hOZy8Lm2K9V2c1kXOsG0hD3vnOJXYDJpV/KZJdF+GE5GzbRmN/BywuHXrOQJu0aniMrq3erM5873JES/8PFknDyN/WBa3aFbxddPovgxnImd8jPxhWdyiUcW3XdmUKU5F7mPkj0EKd+hUcdkTf8uVTZniVOSMjycVMUjhBo0qfrNqxZsNnIuckZG/Vzeh2MliH50qbjO6L6MRkY8jf8e+qw7YyWIXnaWdtqP7MhoROePbhlx0Weyhse7NenRfRmMi9y3yh8jtoLO0U9qURnXQmMgZnyJ/DFLYQaOKr+c9oc0ljYqc8SnyxyCFGRpLO28OW7g3a1zk48jfE9uCo7dm1F3a6TK6L/251AIvfJDwSbPWe+fw5fpoDCc7je7LaEXkjA+RPwYp9Km5YmJ72GILuTWR+xL5Y5CiPnWreBPRfRmtiZzxIfJHJa9PzSreSHRfRqsiZya2pTXQSqxH3SreVHRfRusiZ9vSduSPQQp16lTxJqP7MloXOdN25A/LokbNKt5odF+GFyJvO/KHZVGjThWXNuVl8gQvRM60GfljkKKamlWco/vr5AneiJxpczkRBinKqbG08+bQo2PVjFciZ9siWpryxyBFMXWWdrYV3ZfhlcgZjvwTog1qGAxSFFNjaWdr0X0Z3omceTAYV/PGI3+cZTlIjaWd3tmUKV6KvK3IHyI/iOrSTh9tyhQvRc60EfljJ8ssqsPJMvS55qNNmeKtyJlJ5F/74aS6cCsRB7YeozqcPPKoJ56H1yKfRP7vUoPs7iH9ZGpUcW9tyhSvRc7IkGityd45Hm77EMUq7k10X4b3Ih/TYOSPQQr1Ku7DCUMVghB505F/1325ShWXNuWS7zZlShiVnJqN/LtcyRWr+M2Rpz3xPIIReZMnFbt8KlGlik964o11vUwJRuQM25amIv8u7mRRrOJeRvdlBCVy5kFDU/5dsyyKSzu9je7LCE7kbFuaiPy7FvGrrHvzObovIziRM01E/l1qJSou7bwamk2ZEqTImSYi/64MUqhU8aY30dokWJE3Efl3YZBCZWlnCNF9GcGKnOHIX767Ro7owiCFwtLOIKL7MoIWOSPI7bhczDegKsPJoUT3ZQQvcteRf8wir1oxEVJ0X0bwImdcRv6xDlIoVPGgovsyohC5y8g/1p0sVVU8tOi+jChEzrBtGQlaJwfE1kpUqOLBRfdlRCNyZjikc+Qg8o9tkKKiigcZ3ZcRlchdRf5sWe7e+ybFQFUVDzW6LyMqkTOuIv+dSLosFVV8IyabMiU6kTMunkcUwzmWqio+pHZW9LkmSpG7WE4UwyBF2dLO0KP7MqIUOTOxLVYj/5AHKSqWdgYf3ZcRrciZJLHbOw/ZspQt7Ywhui8japF//0py3WbkH2rEX7a0M2abMiVqkTM2I/9QBylKlnZGbVOmRC9y25F/aDtZyoaTY+2mZIle5IzNk4qhWZaS4WR+rs+H1AE6IXKGbQtZ6J2HdCqxpIpHF92X0RmRs20ZWXoeUSgPty2q4jFG92V0RuTMCz9P1slC5B+CZSmp4lGdMFShUyJnbET+IViWgiq+3SWbMqVzIrcR+fs+SFFUxWVP/K0u2ZQpnRM5Y+Okos+DFAVVnHvirTzxum06KXJGRv5GN6G+7mQpquKxR/dldFbk48jfwJ/6uJOlaGlnF6L7MjorcmYwoEsmkb9vXZaCdW+diO7L6LTITSN/n0RetLSzyzZlSqdFzphE/j4NUuRV8ViWA5nSeZEzJicVfRikKFjaGc1yIFMgcjKzLT4cvc1b2smrlmNZDmQKRD5B17a07cvzhpMnNmWTwBiIPIWObWl7kCJnxQRsSgaIPIWubWlrkCKvisOmHAQiz6BjW9qq5NkqDpuSD0SeQ13b0kYrMaeKw6YUAJHnoGNbmh6kyFZxDn1gU/KByAtg2yKFc071+iYtS7aKd/1sShUQeQl1juQ2aVnSVVwK/FrXz6ZUAZFXoDpJ1NQgRaaKsw9/mUApEHkFPEk0UvTnTQxSpJd2dm0gWReIXIEXPkg+VGkruh6kSC/tZB/etYFkXSByRX7wQcI3oaX+3PUgxXRpJ3x4PSDyGrA/r+qfuzrLklraCR9eE4i8BuzPB/vjIYTCG1FXIp8s7dye9MO3CCgDkdeEhS4eVlKR93UXO1kmw8lCCvxlCLw+ELkG42eGjsYdlwNC51ai7QNbdz4/zD/nNZxL0QMi14RXzhUJfXfPXvopq7iQVfy1P1g/t05AC4jcgCKhW3y4rfhqbw4CNwQiN4SFniT0fLrrYmmQYvsBjZ7/xj//ZJ2AERC5BXhR0aTrwk+bG1d1A18u5H9Xh8PB80f/9p3rBIxJCFjl3/9cnO0l9NdPHL154uTJf6GabI+EeGvp797u5M5CV6CSW4ZPLnJVlzefF4UQbGFExUv469tC0MX5e3e+A4HbB5XcMff/8fxqr0er8k/6j6R3f5z5C9lvF+J/5Y3r5qGf/MMmAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCH3wF6Z8gvruklBAAAAABJRU5ErkJggg=="})))}function JF(e){var t=un(e,[]);return p.createElement("svg",de({width:"20",height:"10",viewBox:"0 0 20 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),p.createElement("path",{d:"M1.9 5C1.9 3.29 3.29 1.9 5 1.9H9V0H5C2.24 0 0 2.24 0 5C0 7.76 2.24 10 5 10H9V8.1H5C3.29 8.1 1.9 6.71 1.9 5ZM6 6H14V4H6V6ZM15 0H11V1.9H15C16.71 1.9 18.1 3.29 18.1 5C18.1 6.71 16.71 8.1 15 8.1H11V10H15C17.76 10 20 7.76 20 5C20 2.24 17.76 0 15 0Z",fill:"currentColor"}))}function Q2e(t){return K.exports.useMemo(()=>new ms(t),[t])}function Ec({requireToken:t=!1}={}){const e=ve(),n=V(e.currentUser),i=n?n.persistentToken():null,o=Q2e(i);return t&&!i?null:o}function oa(t){if(navigator.clipboard)navigator.clipboard.writeText(t);else{const e=document.activeElement,n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.contentEditable=!0,n.readOnly=!0;const i=document.createRange();i.selectNodeContents(n);const o=window.getSelection();o.removeAllRanges(),o.addRange(i),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n),window.getSelection().removeAllRanges(),e.focus()}}const exe=t=>t.reduce((e,n)=>e.find(o=>o.id===n.id)?e:e.concat([n]),[]),txe=$e.svg`
  width: 13px;
  height: 13px;
  position: absolute;
  top: 0;
  ${t=>t.side==="left"?"left: 0;":"right: 0;"}
  background-repeat: no-repeat;
  animation: rotate-tape-reel 1s infinite linear;
  @keyframes rotate-tape-reel {
    to {
      transform: rotate(-360deg);
    }
  }
`,ZF=({side:t})=>p.createElement(txe,{side:t,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"rewind-tape-reel"),p.createElement("defs",null,p.createElement("circle",{id:"path-1",cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("g",{id:"rewind",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},p.createElement("g",{id:"rewind-tape-reel",transform:"translate(1.000000, 1.000000)"},p.createElement("g",{id:"Line-6-+-Line-7-Mask"},p.createElement("mask",{id:"mask-2",fill:"white"},p.createElement("use",{xlinkHref:"#path-1"})),p.createElement("g",{id:"Mask"}),p.createElement("polygon",{id:"Line-6",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"4.75 7.75 6.25 7.75 6.25 12.2915946 4.75 12.2915946"}),p.createElement("polygon",{id:"Line-6",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"4.75 -1.25 6.25 -1.25 6.25 3.25 4.75 3.25"}),p.createElement("polygon",{id:"Line-7",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"7.75 6.25 7.75 4.75 13.25 4.75 13.25 6.25"}),p.createElement("polygon",{id:"Line-7",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"-2.25 6.25 -2.25 4.75 3.25 4.75 3.25 6.25"})),p.createElement("circle",{id:"Oval-2-Copy",stroke:"#222222",strokeWidth:"1.5",strokeLinecap:"square",strokeLinejoin:"round",cx:"5.5",cy:"5.5",r:"5.5"})))),nxe=$e.div`
  display: inline-block;
  position: relative;
  height: 13px;
  width: 30px;
  background-repeat: no-repeat;
`,rxe=({children:t})=>p.createElement(p.Fragment,null,p.createElement(nxe,null,p.createElement("svg",{width:"30px",height:"13px",viewBox:"0 0 30 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"rewind-tape"),p.createElement("g",{id:"rewind",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square",strokeLinejoin:"round"},p.createElement("g",{id:"rewind-tape",transform:"translate(1.000000, 1.000000)",stroke:"#222222",strokeWidth:"1.5"},p.createElement("g",{id:"RightCircle",transform:"translate(17.000000, 0.000000)"},p.createElement("circle",{cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("g",{id:"LeftCircle"},p.createElement("circle",{cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("path",{d:"M6,11 L21.8145355,11",id:"Line-5"})))),t));function QF(){return p.createElement(rxe,null,p.createElement(ZF,{side:"left"}),p.createElement(ZF,{side:"right"}))}const ixe=$e.div`
  display: flex;
  flex-direction: column;
  > * + * {
    margin-top: ${t=>`var(--space-${t.spacing||"1"})`};
  }
`;function _r(n){var i=n,{children:t}=i,e=un(i,["children"]);return p.createElement(ixe,de({},e),t)}const sxe=$e.div`
  display: flex;
  align-items: center;
  > * + * {
    margin-left: 8px;
  }
`;function nn(n){var i=n,{children:t}=i,e=un(i,["children"]);return p.createElement(sxe,de({},e),t)}const eU=t=>{const[e,n]=K.exports.useState(!1);return K.exports.useEffect(()=>{async function i(){const o=await t.currentUserHasGithubRepoScope();n(o)}i()},[t]),e},p4=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Copied"})),tU=t=>{const e="We couldn\u2019t load an image in this file. Try using an image from the Glitch assets folder instead.";return p.createElement(ft,Ge(de({},t),{variant:"error",persistent:!0,message:e}),p.createElement(_r,null,p.createElement("span",null,e),p.createElement(nn,{className:"button-wrap"},p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:t.onClose},"Got it"))))},nU=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Package Added","data-testid":"notifyPackageAdded"})),rU=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Package Updated","data-testid":"notifyPackageUpdated"})),m4=t=>p.createElement(ft,Ge(de({},t),{message:"Remix or join to edit"})),iU=t=>p.createElement(ft,Ge(de({},t),{message:"To add this file, you\u2019ll need to save it to your computer first",variant:"error",persistent:!0})),oxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o="Hey! Anonymous projects expire after 5 days. Create an account to save your progress.";return p.createElement(ft,Ge(de({},e),{variant:"onboarding",message:o,persistent:!0}),p.createElement(_r,null,p.createElement("span",null,o),p.createElement(nn,null,p.createElement(Tt,{as:"a",href:"//glitch.com/signin",variant:"cta",size:"tiny",onClick:t.setDestinationAfterAuth},"Create Account"),p.createElement(Tt,{className:"no-button-styles",size:"tiny",onClick:e.onClose},"Hide"))))},axe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o="Sign in to access all your projects anywhere";return p.createElement(ft,Ge(de({},e),{message:o,persistent:!0}),p.createElement(_r,null,p.createElement("span",null,o),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",as:"a",href:"//glitch.com/signin",className:"no-button-styles",onClick:t.setDestinationAfterAuth},"Sign In"),p.createElement(Tt,{size:"tiny",onClick:e.onClose,className:"no-button-styles"},"Got It"))))},lxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"psst, Glitch autosaves \u516B(\uFF3E\u25A1\uFF3E*)"})),cxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"You are now editing your live project",persistent:!0})),uxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.editorIsEmbedded),s=`You can now edit this project here${o?" or fullscreen.":"."}`;return p.createElement(ft,Ge(de({},e),{message:s,variant:"success",persistent:!0}),p.createElement(_r,null,p.createElement("span",null,s),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Got it"),o&&p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:()=>{window.top.location.href=t.editorUrl()}},"Edit Fullscreen ",p.createElement(Je,{icon:"carpStreamer"})))))},dxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.notifyCloneError),s=eU(t),a=s?`Couldn't clone ${o}, maybe a typo?`:`Couldn't clone ${o}, maybe it's private?`;return p.createElement(ft,Ge(de({},e),{message:a,variant:"error",persistent:!0}),p.createElement(_r,null,s?p.createElement(p.Fragment,null,p.createElement("span",null,a),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Got it"))):p.createElement(p.Fragment,null,p.createElement("span",null,a),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:()=>{e.onClose(),t.redirectToGitHubLogin("repo user:email")}},"Grant Access"),p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Cancel")))))},fxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:`Uh oh, we can\u2019t connect to Glitch, which means your changes aren\u2019t being saved. To keep your changes, copy them to your clipboard, reload, and
      paste them back in.`,persistent:!0,onClose:null})),hxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:`We can\u2019t seem to connect to your project at the moment, apologies. Please try refreshing your browser. If that doesn't work, contact support and
      they'll be able to help you out.`,persistent:!0,onClose:null})),pxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Sorry, the debugger is only available on Google Chrome"})),mxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.lastDeletedProject),a=`Archived ${V(K.exports.useCallback(()=>o&&o.domain(),[o]))}`;return p.createElement(ft,Ge(de({},e),{message:a,persistent:!0}),p.createElement(_r,null,p.createElement("span",null,a),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:()=>{t.undeleteLastDeletedProject(),e.onClose()}},"Undo ",p.createElement(Je,{icon:"zzz"})))))},gxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Successfully removed variable"})),vxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Environment variables update as you type"})),yxe=t=>p.createElement(ft,Ge(de({},t),{name:"DotenvRemovedVariable",message:"Showing and hiding secret variable values only changes the visibility for you, not for other project members"})),_xe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.displayedRevision),s=V(t.jigglePreviewingRewindNotification),a="Previewing Rewind";return p.createElement(ft,Ge(de({},e),{message:a,persistent:!0,onClose:null}),p.createElement(_r,null,p.createElement("span",null,a),p.createElement(nn,null,o&&p.createElement(Tt,{size:"tiny",variant:"cta",className:at({jiggle:s},"no-button-styles"),onAnimationEnd:l=>{l.stopPropagation(),t.jigglePreviewingRewindNotification(!1)},onClick:()=>{t.analytics.track("Rewind Applied",{checkpointDate:new Date(t.selectedRevision().timestamp*1e3).toISOString()}),t.rewindToRevision(t.selectedRevision())}},"Rewind Project ",p.createElement("div",{className:"rewind icon"})),p.createElement(Tt,{size:"tiny",className:at({jiggle:s},"no-button-styles"),onAnimationEnd:l=>{l.stopPropagation(),t.jigglePreviewingRewindNotification(!1)},onClick:()=>{t.rewindPanelVisible(!1),e.onClose()}},"Cancel"))))},bxe=t=>p.createElement(ft,Ge(de({},t),{message:"Rewinding project",persistent:!0,onClose:null}),p.createElement(nn,null,p.createElement(QF,null),p.createElement(mn,{style:{width:"20px"}}))),Exe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.rewoundRevision),s="Project has been rewound";return p.createElement(ft,Ge(de({},e),{variant:"success",message:s}),p.createElement(nn,null,p.createElement(QF,null),p.createElement("span",null,o&&s)))},wxe=t=>{const e="This file already exists but is currently hidden by .gitignore. You can view it in the console or by removing from .gitignore and refreshing the editor.";return p.createElement(ft,Ge(de({},t),{message:e,persistent:!0,variant:"error"}),p.createElement(_r,null,p.createElement("span",null,e),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:t.onClose},"Dismiss"))))},xxe=t=>{const e="It looks like you just made this project a static site. Did you know that static sites stay awake and are always on for free?";return p.createElement(ft,Ge(de({},t),{message:e,persistent:!0}),p.createElement(_r,null,p.createElement("div",null,e," ",p.createElement(Je,{icon:"gift"})),p.createElement(nn,null,p.createElement(Tt,{as:"a",size:"tiny",className:"no-button-styles",href:"https://help.glitch.com/hc/en-us/articles/16287542210829-New-Project-Options",target:"_blank",rel:"noopener noreferrer"},"Learn More ",p.createElement(Je,{icon:"arrowRight"})),p.createElement(Tt,{size:"tiny",className:"no-button-styles","data-testid":"close-notify-first-switch-to-static",onClick:t.onClose},"Close"))))},Sxe=t=>{const e="It looks like this project is no longer a static site and will go to sleep after it's idle for five minutes.";return p.createElement(ft,Ge(de({},t),{message:e,persistent:!0}),p.createElement(_r,null,p.createElement("div",null,e," ",p.createElement(Je,{icon:"zzz"})),p.createElement(nn,null,p.createElement(Tt,{as:"a",size:"tiny",href:"https://help.glitch.com/hc/en-us/articles/16287542210829-New-Project-Options",className:"no-button-styles",target:"_blank",rel:"noopener noreferrer"},"Learn More \xA0 ",p.createElement(Je,{icon:"arrowRight"})),p.createElement(Tt,{size:"tiny",className:"no-button-styles","data-testid":"close-notify-first-switch-to-non-static",onClick:t.onClose},"Close"))))},Txe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.notifyGenericError);return console.log("\u{1F525}","GenericError",o),p.createElement(ft,Ge(de({},e),{variant:"error",message:o.message||"We're sorry, something went wrong! Please try again, or try refreshing the editor.",timeout:1e4}))},Cxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Oops, that repo doesn't have any files so we can't import it.",persistent:!0})),Mxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const s=`Exporting to ${V(K.exports.useCallback(()=>{var l;const a=t.currentProjectId();return((l=t.getUserPref("lastUsedGitHubRepoExport"))==null?void 0:l[a])||"GitHub"},[t]))}`;return p.createElement(ft,Ge(de({},e),{message:s,persistent:!0,onClose:null}),p.createElement(nn,null,p.createElement(mn,null),p.createElement("span",null,s)))},Axe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.notifyGithubExportFailure),s=`We could not export your project to the Github repo ${o.repo}. ${o.message}`;return p.createElement(ft,Ge(de({},e),{variant:"error",persistent:!0,message:s}),s)},Pxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.currentUserIsLoggedIn),s="Sign in and connect to GitHub in order to export projects";return p.createElement(ft,Ge(de({},e),{variant:"error",persistent:!0,message:s}),p.createElement(_r,null,p.createElement("span",null,s),p.createElement(nn,null,p.createElement(Tt,{size:"tiny",className:"no-button-styles opens-pop-over",onClick:()=>{t.gitImportExportPopVisible(!0),e.onClose()}},o?"Connect to GitHub":"Sign In"),p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Dismiss"))))},Rxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",timeout:5e3,message:"Export Successful"})),Lxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",timeout:5e3,message:"Import Successful"})),Ixe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=eU(t),{gitRepoUrl:s}=V(t.notifyGitRepositoryNotFoundError);if(!s)return null;const{pathname:a}=new URL(s),l=(s==null?void 0:s.includes("github.com"))&&!o,c=`Couldn't find ${a.substring(1)}. ${l?"If it's private, you can sign in with GitHub to import it.":""}`;return p.createElement(ft,Ge(de({},e),{variant:"error",persistent:!0,message:c}),p.createElement(_r,null,p.createElement("span",null,c),p.createElement(nn,{className:"button-wrap"},l&&p.createElement(Tt,{size:"tiny",className:"no-button-styles opens-pop-over",onClick:()=>{e.onClose(),t.redirectToGitHubLogin("repo user:email")}},"Sign In"),p.createElement(Tt,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Dismiss"))))},Oxe=t=>{const e="It doesn't look like that was a valid GitHub URL. Please check and try again from the Project menu";return p.createElement(ft,Ge(de({},t),{variant:"error",message:e,persistent:!0}),p.createElement(_r,null,p.createElement("span",null,e),p.createElement(nn,null,p.createElement(Tt,{onClick:t.onClose,size:"tiny"},"Dismiss"))))},Nxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const{repoUrl:o}=V(t.notifyImportingGitRepo),{hostname:s,pathname:a}=new URL(o),l=`Importing ${a.substring(1)} from ${s}`;return p.createElement(ft,Ge(de({},e),{message:l,persistent:!0,onClose:null}),p.createElement(nn,null,p.createElement(mn,null),p.createElement("span",null,l)))},sU=t=>{let e="Names can\u2019t have .., $, ~, , *, or start with /";return t.message&&(e=`${t.message} ${e}`),p.createElement(ft,Ge(de({},t),{variant:"error",message:e,timeout:5e3}))},kxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Folder can\u2019t be named the same as an existing folder, or include /, .., $, ~, \\, *",timeout:5e3})),Dxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Invalid git repository. Use the username/repository format."})),Fxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"You're now able to edit"})),Uxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"You\u2019ve left this project"})),jxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.notifyPrettierParseError),s=`We can't format this file yet because there's a syntax error${o.loc?` on line ${o.loc.start.line}.`:"."}`;return p.createElement(ft,Ge(de({},e),{variant:"error",persistent:!0,message:s}),s)},Bxe=t=>{const e="Nice! Your code is now formatted.";return p.createElement(ft,Ge(de({},t),{variant:"success",persistent:!0,message:e}),p.createElement(_r,null,p.createElement("span",null,e),p.createElement(nn,null,p.createElement(Tt,{as:"a",href:"https://help.glitch.com/hc/en-us/articles/16287511643021-Prettier",className:"no-button-styles",target:"_blank",rel:"noopener noreferrer",size:"tiny",onClick:t.onClose},"Learn More ",p.createElement("span",{"aria-label":""},"\u2192")))))},Vxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Whoops, we couldn't run the code formatter. Try formatting again."})),Hxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",message:"Opened in another tab or window"})),zxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Couldn't connect to your project. Try refreshing?"})),Gxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Couldn't load your project. Try refreshing?"})),$xe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Sorry, you must be logged in to upload assets."})),Wxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"Could not load Google Recaptcha. To remix a project, please disable any extensions that might block Google Recaptcha and try again."})),qxe=t=>p.createElement(ft,Ge(de({},t),{variant:"success",timeout:5e3,message:"Connected"})),Yxe=t=>{const e="Reconnecting";return p.createElement(ft,Ge(de({},t),{message:e,persistent:!0,onClose:null}),p.createElement("span",null,e),p.createElement("span",{className:"loader-ellipses"}))},Kxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.jiggleTakeActionToEditNotification),s=V(t.projectIsReadOnlyForCurrentUser);return V(t.userIsSuspendedVisible)?null:p.createElement(ft,Ge(de({},e),{message:"Take action to edit your project",persistent:!0}),p.createElement(Tt,{className:at({jiggle:o},"no-button-styles"),size:"tiny",onAnimationEnd:l=>{l.stopPropagation(),t.jiggleTakeActionToEditNotification(!1)},onClick:async()=>{e.onClose(),s?(await t.remixCurrentProject(),t.notifyCanEditInEmbedRemixedEmbed(!0)):t.notifyCanEdit(!0),t.embedEditingEnabled(!0),t.setCurrentSession(t.selectedFile(),{maintainScrollPosition:!0})},"data-testid":s?"remix-to-edit":"edit-embed-here"},s?p.createElement(p.Fragment,null,p.createElement("span",null,"Remix to Edit "),p.createElement(Je,{icon:"microphone"})):"Edit Project"))},Xxe=t=>p.createElement(ft,Ge(de({},t),{variant:"error",message:"File upload failed. Try again in a few minutes?"})),Jxe=n=>{var i=n,{application:t}=i,e=un(i,["application"]);const o=V(t.uploadProgress),s=V(t.notifyUploading),a=`Uploading ${s.numFiles>1?`${s.numFiles} assets`:"asset"}`;return p.createElement(ft,Ge(de({},e),{message:a,persistent:!0,onClose:null}),p.createElement(_r,null,p.createElement("span",null,a),p.createElement(yI,{value:o,max:100},o)))};var oU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Copied:p4,MarkdownCSPError:tU,PackageAdded:nU,PackageUpdated:rU,ProjectIsReadOnlyForCurrentUser:m4,UploadLocalFileOnly:iU,AnonProjectLimits:oxe,AnonUserLimits:axe,Autosave:lxe,CanEdit:cxe,CanEditInEmbedRemixedEmbed:uxe,CloneError:dxe,ConnectionError:fxe,ConnectionNotEstablished:hxe,DebuggerIsChromeOnly:pxe,DeletedProject:mxe,DotenvRemovedVariable:gxe,DotenvUpdatesAsYouType:vxe,DotenvVisibility:yxe,EditorIsPreviewingRewind:_xe,EditorIsRewindingProject:bxe,EditorRewoundProject:Exe,FileHiddenByGitIgnore:wxe,FirstSwitchToStatic:xxe,FirstSwitchToNonStatic:Sxe,GenericError:Txe,GithubEmptyRepositoryError:Cxe,GithubExporting:Mxe,GithubExportFailure:Axe,GithubExportNoRepoScopeError:Pxe,GithubExportSuccess:Rxe,GitImportSuccess:Lxe,GitRepositoryNotFoundError:Ixe,GitImportUrlInvalid:Oxe,ImportingGitRepo:Nxe,InvalidFileName:sU,InvalidFolderName:kxe,InvalidGitRepository:Dxe,JoinedProject:Fxe,LeftProject:Uxe,PrettierParseError:jxe,PrettierFirstRun:Bxe,PrettierLoadError:Vxe,PreviewWindowOpened:Hxe,ProjectConnectionFailed:zxe,ProjectLoadFailed:Gxe,ProjectVisitorCannotUploadAssets:$xe,RecaptchaUnavailable:Wxe,Reconnected:qxe,Reconnecting:Yxe,TakeActionToEdit:Kxe,UploadFailure:Xxe,Uploading:Jxe}),g4={exports:{}},Wf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function n(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(a){return typeof a}:n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(o)}function i(o){var s=typeof o=="string"||o instanceof String;if(!s){var a;throw o===null?a="null":(a=n(o),a==="object"&&o.constructor&&o.constructor.hasOwnProperty("name")?a=o.constructor.name:a="a ".concat(a)),new TypeError("Expected string but received ".concat(a,"."))}}t.exports=e.default,t.exports.default=e.default})(Wf,Wf.exports);var q_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;for(var s in o)typeof i[s]=="undefined"&&(i[s]=o[s]);return i}t.exports=e.default,t.exports.default=e.default})(q_,q_.exports);var v4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Wf.exports);function i(a){return a&&a.__esModule?a:{default:a}}function o(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(c){return typeof c}:o=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(a)}function s(a,l){(0,n.default)(a);var c,u;o(l)==="object"?(c=l.min||0,u=l.max):(c=arguments[1],u=arguments[2]);var d=encodeURI(a).split(/%..|./).length-1;return d>=c&&(typeof u=="undefined"||d<=u)}t.exports=e.default,t.exports.default=e.default})(v4,v4.exports);var y4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=o(Wf.exports),i=o(q_.exports);function o(l){return l&&l.__esModule?l:{default:l}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};function a(l,c){(0,n.default)(l),c=(0,i.default)(c,s),c.allow_trailing_dot&&l[l.length-1]==="."&&(l=l.substring(0,l.length-1));for(var u=l.split("."),d=0;d<u.length;d++)if(u[d].length>63)return!1;if(c.require_tld){var f=u.pop();if(!u.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(f))return!1}for(var h,v=0;v<u.length;v++)if(h=u[v],c.allow_underscores&&(h=h.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(h)||/[\uff01-\uff5e]/.test(h)||h[0]==="-"||h[h.length-1]==="-")return!1;return!0}t.exports=e.default,t.exports.default=e.default})(y4,y4.exports);var _4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Wf.exports);function i(l){return l&&l.__esModule?l:{default:l}}var o=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,s=/^[0-9A-F]{1,4}$/i;function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,n.default)(l),c=String(c),c){if(c==="4"){if(!o.test(l))return!1;var u=l.split(".").sort(function(S,E){return S-E});return u[3]<=255}else if(c==="6"){var d=[l];if(l.includes("%")&&(d=l.split("%"),d.length!==2||!d[0].includes(":")||d[1]===""))return!1;var f=d[0].split(":"),h=!1,v=a(f[f.length-1],4),m=v?7:8;if(f.length>m)return!1;if(l==="::")return!0;l.substr(0,2)==="::"?(f.shift(),f.shift(),h=!0):l.substr(l.length-2)==="::"&&(f.pop(),f.pop(),h=!0);for(var _=0;_<f.length;++_)if(f[_]===""&&_>0&&_<f.length-1){if(h)return!1;h=!0}else if(!(v&&_===f.length-1)){if(!s.test(f[_]))return!1}return h?f.length>=1:f.length===m}}else return a(l,4)||a(l,6);return!1}t.exports=e.default,t.exports.default=e.default})(_4,_4.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=P;var n=l(Wf.exports),i=l(q_.exports),o=l(v4.exports),s=l(y4.exports),a=l(_4.exports);function l(R){return R&&R.__esModule?R:{default:R}}function c(R,A){return f(R)||d(R,A)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(R,A){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var L=[],k=!0,U=!1,O=void 0;try{for(var I=R[Symbol.iterator](),F;!(k=(F=I.next()).done)&&(L.push(F.value),!(A&&L.length===A));k=!0);}catch(N){U=!0,O=N}finally{try{!k&&I.return!=null&&I.return()}finally{if(U)throw O}}return L}}function f(R){if(Array.isArray(R))return R}var h={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)<(.+)>$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,_=/^[a-z\d]+$/,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,E=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,T=254;function C(R){var A=R.match(/^"(.+)"$/i),L=A?A[1]:R;if(!L.trim())return!1;var k=/[\.";<>]/.test(L);if(k){if(!A)return!1;var U=L.split('"').length===L.split('\\"').length;if(!U)return!1}return!0}function P(R,A){if((0,n.default)(R),A=(0,i.default)(A,h),A.require_display_name||A.allow_display_name){var L=R.match(v);if(L){var k,U=c(L,3);if(k=U[1],R=U[2],k.endsWith(" ")&&(k=k.substr(0,k.length-1)),!C(k))return!1}else if(A.require_display_name)return!1}if(!A.ignore_max_length&&R.length>T)return!1;var O=R.split("@"),I=O.pop(),F=O.join("@"),N=I.toLowerCase();if(A.domain_specific_validation&&(N==="gmail.com"||N==="googlemail.com")){F=F.toLowerCase();var H=F.split("+")[0];if(!(0,o.default)(H.replace(".",""),{min:6,max:30}))return!1;for(var z=H.split("."),B=0;B<z.length;B++)if(!_.test(z[B]))return!1}if(!(0,o.default)(F,{max:64})||!(0,o.default)(I,{max:254}))return!1;if(!(0,s.default)(I,{require_tld:A.require_tld})){if(!A.allow_ip_domain)return!1;if(!(0,a.default)(I)){if(!I.startsWith("[")||!I.endsWith("]"))return!1;var q=I.substr(1,I.length-2);if(q.length===0||!(0,a.default)(q))return!1}}if(F[0]==='"')return F=F.slice(1,F.length-1),A.allow_utf8_local_part?w.test(F):S.test(F);for(var W=A.allow_utf8_local_part?E:m,j=F.split("."),$=0;$<j.length;$++)if(!W.test(j[$]))return!1;return!0}t.exports=e.default,t.exports.default=e.default})(g4,g4.exports);var Y_=ZQ(g4.exports);function b4(t,e){const[n,i]=K.exports.useState(t);return K.exports.useEffect(()=>{const o=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(o)}},[t,e]),n}const Zxe=$e.div`
  // inline-table display prevents the user avatars from appearing squashed in some places (e.g. pending project invites on mobile)
  display: inline-table;
  height: 25px;
  width: 25px;
  border-radius: 100%;
  background-color: ${t=>t.color||"#f080fc"};
  background-position: center;
  background-repeat: no-repeat;
  ${t=>t.src?`background-image: url('${t.src}');
          background-size: cover;`:`background-image: url('images/anon-avatar-smile.svg');
          background-size: 18px;`}
`;function aU({avatarUrl:t,color:e}){return p.createElement(Zxe,{src:t,color:e})}const Qxe=$e(dee)`
  min-width: 80%;
  display: flex;
`,eSe=$e.span`
  grid-column: 1/-1;
  align-self: end;
  font-size: 14px;
  margin-bottom: 4px;
`,tSe=$e(Tt)`
  width: max-content;
  justify-self: start;
  @media (min-width: 499px) {
    justify-self: end;
  }
`,nSe=$e.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;

  @media (min-width: 499px) {
    grid-template-columns: 60% max-content;
    justify-content: space-between;
  }
`;function rSe(t){return/^[a-zA-Z0-9_-]{3,}$/.test(t)}function iSe({currentProjectPrivacy:t,pendingInvites:e,pendingInviteDispatch:n}){const[i,o]=K.exports.useState(""),s=Ec(),a=ve(),l=a.currentProject().users(),[c,u]=K.exports.useState([]),[d,f]=K.exports.useState(null),h=b4(i,1e3);K.exports.useEffect(()=>{h&&(u([]),o(h))},[h]),K.exports.useEffect(()=>{!Y_(i)&&rSe(i)&&i.length>3?s.searchUsers(i).then(S=>{var w;const E=(w=S.users)==null?void 0:w.filter(T=>{const C=e.some(R=>R.login===T.login),P=l.some(R=>R.login===T.login);return!C&&!P});u(E.slice(0,5))}):u([])},[h,s,e,l]);const v=()=>{const S=y2();let E=null,w=null;Y_(i)?(w=i,E=a.inviteEmailToProject(i)):d&&(E=a.inviteUserToProject(d.id)),E&&(n({type:"PENDING_SEND_INVITE",invite:{id:S,login:d==null?void 0:d.login,email:w,state:"pending",color:na({luminosity:"light"}),projectPermission:{accessLevel:xt.MEMBER}}}),E.then(T=>n({type:"SUCCESS_SEND_INVITE",id:S,invite:T}),T=>{Yi(T),n({type:"FAILURE_SEND_INVITE",id:S})}),u([]),o(""))},m=()=>t==="private_project"?"to access your project.":"to edit your code.",_=c.filter(S=>S.login===i)[0];return p.createElement(nSe,null,p.createElement(eSe,null,p.createElement("strong",null,"Invite project members")," ",m()),p.createElement("form",{id:"project-member-search",onSubmit:()=>{f(_),v()}},p.createElement(Qxe,{label:"user search",value:i,onChange:S=>{o(S),f(null)},options:c},({item:S,buttonProps:E})=>p.createElement(fee,de({onMouseDown:w=>{o(S.login),f(S),w.currentTarget.blur()}},E),p.createElement(hee,null,p.createElement(qv,{columns:"1fr 6fr",rows:2,gap:"0"},p.createElement(d2,{width:1,height:2},p.createElement(aU,{avatarUrl:S.avatarThumbnailUrl,color:S.coverColor})),p.createElement(d2,{width:1},p.createElement(pee,null,S.name)),p.createElement(d2,{width:1,left:2,top:2},p.createElement(mee,null,"@",S.login))))))),p.createElement(tSe,{disabled:!(_||Y_(i)),size:"small",onClick:S=>{S.preventDefault(),f(_),v(),a.analytics.track("Project Invite Sent")},type:"submit",form:"project-member-search"},"Send invite"))}const sSe=$e.div`
  position: relative;
  width: 100%;
`,oSe=$e.select`
  width: 100%;
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  font-size: 1rem;
  padding-left: 8px;
  padding-right: 2rem;
  height: 36px;
  background: var(--colors-background);
  transition: all 0.2s ease 0s;
  border-radius: 4px;
  border: 1px solid var(--colors-primary);
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
`,aSe=$e.div`
  position: absolute;
  display: inline-flex;
  height: 100%;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: center;
  justify-content: center;
  right: 12px;
  top: 50%;
  pointer-events: none;
  z-index: 2;
  transform: translateY(-50%);
  path {
    fill: var(--colors-primary);
  }
`,lSe=()=>p.createElement(aSe,null,p.createElement("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M4.5 3.22763L7.64801 0L9 1.38618L4.5 6L0 1.38618L1.35199 0L4.5 3.22763Z"})));function cSe({name:t,id:e,value:n,onChange:i,onFocus:o,children:s}){return p.createElement(sSe,null,p.createElement(oSe,{name:t,id:e,onFocus:o,onChange:a=>{i(a.target.value)},value:n},s),p.createElement(lSe,null))}function lU(t,e=!0){const[n,i]=K.exports.useState();return K.exports.useLayoutEffect(()=>{if(t&&typeof window.matchMedia=="function"){const o=window.matchMedia(t),s=()=>{i(o.matches)};return o.addListener(s),i(o.matches),()=>{o.removeListener(s)}}i(e)},[t,e]),n}const cU=$e.div`
  position: relative;
  width: 100%;
  display: grid;
`,uSe=$e.select`
  width: 100%;
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  font-size: 12px;
  ${t=>!t.readOnly&&"padding-right: 1em;"}
  height: 1.5rem;
  background: var(--colors-background);
  transition: all 0.2s ease 0s;
  border: none;
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
  @media (min-width: 592px) {
    font-size: 14px;
    text-align: end;
    direction: rtl;
  }
  &:disabled {
    opacity: 1;
  }
`,dSe=$e.span`
  width: max-content;
  white-space: nowrap;
  color: var(--colors-secondary);
  font-size: 14px;

  @media (min-width: 592px) {
    margin-left: 0.5rem;
  }
`,fSe=$e.div`
  display: grid;
  grid-template-columns: 1fr;
  span.hyphen {
    display: none;
  }
  @media (min-width: 592px) {
    grid-template-columns: 1fr max-content;
    span.hyphen {
      display: inline;
    }
  }
`,E4=$e.span`
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,hSe=$e.span`
  color: var(--colors-placeholder);
`,w4=$e.div`
  display: flex;
  font-size: 14px;
  align-items: center;
  flex-direction: row;
  & > * + * {
    margin-left: 1rem;
  }
`,pSe=$e.div`
  display: grid;
  grid-template-columns: 1fr max-content;
`,mSe=$e.div`
  position: absolute;
  display: inline-flex;
  height: 100%;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: center;
  justify-content: center;
  right: 0;
  top: 50%;
  pointer-events: none;
  z-index: 2;
  transform: translateY(-50%);
  path {
    fill: var(--colors-primary);
  }
`,gSe=()=>p.createElement(mSe,null,p.createElement("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M4.5 3.22763L7.64801 0L9 1.38618L4.5 6L0 1.38618L1.35199 0L4.5 3.22763Z"}))),uU=t=>t==="private_project"||t==="private_code",dU=({accessLevel:t,handleProjectMemberPermission:e,isProUser:n,layout:i,pending:o,readOnly:s,user:a,projectPrivacy:l})=>p.createElement(p.Fragment,null,p.createElement(uSe,{disabled:s,onChange:c=>e(c.target.value,a),value:t,readOnly:s},p.createElement("option",{disabled:o||uU(l)&&n===!1,value:xt.ADMIN},"Owner"),p.createElement("option",{value:xt.MEMBER},"Can edit code",o&&i==="mobile"?" - Pending":""),o&&p.createElement("option",{value:"resend"},"Resend invite"),p.createElement("option",{value:"remove"},"Remove")),!s&&p.createElement(gSe,null));function x4({currentProject:t,currentUser:e,editable:n,member:i,pendingInviteDispatch:o,pending:s,setShowOwnerTransferOverlayForUser:a}){const{avatarUrl:l,color:c,email:u,id:d,login:f,name:h,user:v}=i,m=u||h||f||"Anonymous",_=e.id===i.id,S=p.createElement(aU,{avatarUrl:l,color:c}),E=Ec(),w=ve(),T=V(t.privacy),C=lU("(max-width: 592px)"),[P,R]=K.exports.useState(null);K.exports.useEffect(()=>{if(!uU(T)||P!==null)return;if(!(v==null?void 0:v.login())){R(!1);return}const L=new AbortController;return E.getUserGlitchPro(v.id(),{signal:L.signal}).then(({isActive:k})=>R(k),()=>{}),()=>{L.abort()}},[E,v,T,P]);const A=async(L,k)=>{if(L==="remove"&&s){o({type:"PENDING_CANCEL_INVITE",id:i.id}),E.cancelInvite(t.id(),i.id).then(()=>{},()=>{o({type:"FAILURE_CANCEL_INVITE",invite:i})});return}L==="remove"&&await w.leaveCurrentProject(k),L==="resend"&&(u?w.inviteEmailToProject(u):w.inviteUserToProject(v.id())),Number.parseInt(L,10)===xt.ADMIN&&a(k)};return p.createElement(p.Fragment,null,n&&p.createElement(p.Fragment,null,C&&p.createElement(w4,{className:"mobile"},S,p.createElement(cU,null,p.createElement(E4,null,p.createElement("a",{href:`https://${xy}/@${f}`,target:"_blank",rel:"noreferrer"},m)),p.createElement(dU,{layout:"mobile",accessLevel:i.projectPermission.accessLevel,handleProjectMemberPermission:A,isProUser:P,pending:s,readOnly:_,user:v,projectPrivacy:T,setShowOwnerTransferOverlayForUser:a}))),!C&&p.createElement(p.Fragment,null,p.createElement("div",{className:"desktop"},p.createElement(w4,null,S,p.createElement(pSe,null,p.createElement(E4,null,p.createElement("a",{href:`https://${xy}/@${f}`,target:"_blank",rel:"noreferrer"},m)),s&&p.createElement(hSe,null,"\xA0- Pending\xA0")))),p.createElement("div",{className:"desktop"},p.createElement(cU,null,p.createElement(dU,{layout:"desktop",accessLevel:i.projectPermission.accessLevel,handleProjectMemberPermission:A,isProUser:P,pending:s,readOnly:_,user:v,projectPrivacy:T}))))),!n&&p.createElement(w4,{key:d},S,p.createElement(fSe,null,p.createElement("a",{href:`https://${xy}/@${f}`,target:"_blank",rel:"noreferrer"},p.createElement(E4,null,m)),i.projectPermission.accessLevel===xt.ADMIN&&p.createElement(dSe,null,p.createElement("span",{className:"hyphen"},"\xA0-\xA0"),p.createElement("span",null,"Owner")))))}$e.div`
  background: var(--colors-background);
  color: var(--colors-primary);
  margin: 6pt auto;
  border: 1px solid var(--colors-border);
  box-sizing: border-box;
  box-shadow: -8px 12px 24px #adbcff;
  border-radius: 3px;
  padding: 34px 34px;
  transition: all 0.2s ease 0s;
  width: 330px;
  @media (min-width: 499px) {
    min-height: 570px;
    max-height: 800px;
    width: 600px;
  }
`;const vSe=$e.div`
  margin: 6em auto;
  max-width: 375px;
`,ySe=$e.div`
  font-size: 16px;
  font-weight: bold;
  line-height: 130%;
  margin-bottom: 12px;
`,_Se=$e.div`
  float: right;
  margin-top: 20px;
`,fU=$e(Tt)`
  margin-left: 10px;
`,bSe=$e.h6`
  margin: 0px;
  margin-bottom: 4px;
  padding: 0px;
  font-style: normal;
  font-weight: bold;
  font-size: 16px;
  line-height: 130%;
`,ESe=$e.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;
  align-items: center;

  @media (min-width: 499px) {
    grid-template-columns: 1fr max-content;
  }
`,hU=$e.h6`
  margin: 0px;
  margin-bottom: 12px;
  padding: 0px;
  font-style: normal;
  font-weight: bold;
  font-size: 16px;
  line-height: 130%;
`,wSe=$e.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;
  max-height: 195px;
  overflow: auto;
  .mobile {
    display: flex;
  }
  .desktop {
    display: none;
  }
  @media (min-width: 499px) {
    ${t=>t.editable?"grid-template-columns: 1fr max-content;":"grid-template-columns: 1fr 1fr;"}

    .mobile {
      display: none;
    }
    .desktop {
      display: flex;
    }
  }
`,xSe=$e(mn)`
  overflow: hidden;
`;$e.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: var(--space-2) var(--space-1);
  margin: 0;
  z-index: var(--z-overlay);
  background-color: ${t=>t.currentTheme==="sugar"?"rgba(255, 255, 255, 0.5)":"rgba(34, 34, 34, 0.8)"};
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;

  @media (min-width: 499px) {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-4) var(--space-1);
  }
`;const pU=$e.div`
  border: 1px solid var(--colors-notice-background);
  box-sizing: border-box;
  border-radius: 3px;
  display: flex;
  height: 32px;
  align-items: center;
  padding: 4px;
  margin: 12px 0px;
  justify-content: space-between;
`;$e.a`
  color: var(--colors-notice-text);
`;const mU=$e.div`
  font-size: 10px;
  color: ${t=>t.currentTheme==="sugar"?"#694dff":"#FFF"};
  min-width: 48px;
  border-right: 1px solid var(--colors-notice-background);
  padding-left: 2px;
  /* or 19px */
  flex: 0;
`,gU=$e.div`
  font-family: Menlo;
  font-size: 13px;
  padding-left: 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
`,vU=$e.button`
  padding: 0px 8px;
  flex: 0;
  color: var(--colors-primary);
  background-color: transparent;
  border: none;
  &:hover,
  &:active {
    color: #2800ff;
  }
`,SSe=$e.p`
  font-size: 12px;
`,TSe=$e.a`
  margin-left: 5px;
  &:hover,
  &.active {
    text-decoration: none;
  }
`,S4=$e.option``,CSe=$e.div`
  display: flex;
  align-items: center;
  position: relative;
`,MSe=$e.div`
  color: var(--colors-primary);
  position: absolute;
  margin-left: 40px;
  width: 160px;
  font-size: 12px;
  line-height: 16.8px;
`,ASe=$e.span`
  font-weight: 600;
`,Mg=$e.p`
  font-size: 14px;
  margin: 0px;
  line-height: 1.5;
`;gee`
  body {
    position: fixed;
    width: 100%;
    top: -${({scrollY:t})=>t}px;
  }
`;const PSe={public:{header:"This project is public",permission:"Everyone can see your project.",link:"Anyone with these links can view your project."},private_project:{header:"This project is private",permission:"Only you and people you invite can access your code and live site.",link:"Only invited project members can access these links."},private_code:{header:"This project's code is private",permission:"Only you and people you invite can access the project code. Your live site is visible to everyone.",link:"Only invited project members can access the code. Everyone can visit the site!"}},RSe={public:{header:"This project is public",permission:"Everyone can see this project.",link:"Anyone with these links can view the project."},private_project:{header:"This project is private",permission:"Only people invited to this project can access the code and live site.",link:"Only project members can access these links."},private_code:{header:"This project's code is private",permission:"Only people invited to this project can access the project code. The live site is visible to everyone.",link:"Only project members can access the code. Everyone can visit the site!"}},LSe=t=>({id:t.id,avatarUrl:t.avatarUrl,login:t.login,name:t.name,color:t.color,user:qs(t),projectPermission:t.projectPermission});function yU(t){var e,n,i,o;return{id:t.id,avatarUrl:(e=t.user)==null?void 0:e.avatarUrl,login:(n=t.user)==null?void 0:n.login,name:(i=t.user)==null?void 0:i.name,email:t.email,color:((o=t.user)==null?void 0:o.color)||na({luminosity:"light",seed:name}),state:"idle",user:qs(t.user),projectPermission:t.projectPermission}}function ISe(t,e){if(t.state==="not-admin")return t;if(t.state==="loading")switch(e.type){case"LOADED_PENDING_INVITES":return{state:"loaded",invites:e.invites};default:return t}switch(e.type){case"PENDING_SEND_INVITE":case"FAILURE_CANCEL_INVITE":return Ge(de({},t),{invites:[...t.invites,e.invite]});case"SUCCESS_SEND_INVITE":return Ge(de({},t),{invites:t.invites.map(n=>n.id===e.id?yU(e.invite):n)});case"FAILURE_SEND_INVITE":case"PENDING_CANCEL_INVITE":return Ge(de({},t),{invites:t.invites.filter(n=>n.id!==e.id)});case"RELOAD_PENDING_INVITES":return Ge(de({},t),{state:"loading"});default:return t}}function OSe(){}function _U({currentProject:t}){const e=ve(),n=V(e.currentTheme),i=Ec(),o=V(e.publishedUrl),s=V(e.editorUrl),a=V(t.privacy),l=V(e.projectIsAdminForCurrentUser),c=Gu(),u=c==null?void 0:c.isProUser,d=!(c==null?void 0:c.isProUser),f=V(e.shareProjectOverlayVisible),[h,v]=K.exports.useState(null),[{state:m,invites:_},S]=K.exports.useReducer(ISe,{state:l?"loading":"not-admin",items:null});K.exports.useEffect(()=>{if(m==="loading"){const O=new AbortController;return i.getPendingInvites(t.id(),{signal:O.signal}).then(I=>{S({type:"LOADED_PENDING_INVITES",invites:I.invites.map(F=>yU(F))})},I=>{if(I.name!=="AbortError")throw I}),()=>{O.abort()}}},[i,t,m]),K.exports.useEffect(()=>{S({type:"RELOAD_PENDING_INVITES"})},[f]);const[E,w]=K.exports.useState(null);function T(){const{id:O}=OSe();w(O)}const C=()=>p.createElement("div",null,p.createElement(vSe,null,p.createElement(ySe,null,"Are you sure you want to transfer ownership of this project",h.login()&&` to ${h.login()}`,"?"),p.createElement(Mg,null,"Each project has one owner. If you transfer ownership, you will lose the ability to manage project permissions and settings."),p.createElement(_Se,null,p.createElement(fU,{onClick:()=>{e.transferProjectOwner(h),v(null)}},"Yes, Transfer"),p.createElement(fU,{onClick:()=>v(null)},"Cancel")))),P=V(e.currentProject().users),R=exe(P.map(LSe)),A=R.filter(O=>O.projectPermission.accessLevel===xt.ADMIN),L=R.filter(O=>O.projectPermission.accessLevel!==xt.ADMIN),k=PSe[a],U=RSe[a];return p.createElement(p.Fragment,null,p.createElement(_r,{spacing:3},h?p.createElement(C,null):p.createElement(p.Fragment,null,l&&p.createElement(p.Fragment,null,p.createElement(ESe,null,p.createElement("div",null,p.createElement(bSe,null,"Project permissions"),p.createElement(Mg,null,k.permission),p.createElement("div",null,a==="private_code"&&d&&p.createElement(SSe,null,p.createElement(Je,{icon:"boosted"}),p.createElement(TSe,{href:"https://glitch.com/pricing"},"Upgrade")," to make your entire project private."))),p.createElement("div",null,(u||a==="private_code")&&p.createElement(cSe,{name:"project-member-permission-select",id:"project-member-permission-select",value:a,onFocus:()=>{d&&T()},onChange:async O=>{await e.changeProjectPrivacy(O)}},p.createElement(S4,{value:"public"},"Public"),u&&p.createElement(S4,{value:"private_project"},"Private"),p.createElement(S4,{value:"private_code"},"Private code")),!u&&a==="public"&&p.createElement(CSe,null,p.createElement(MSe,null,p.createElement(ASe,null,p.createElement("a",{href:"/pricing"},"Upgrade"))," ","to make your project private."),p.createElement(Z2e,{currentTheme:n})))),p.createElement(iSe,{currentProjectPrivacy:a,pendingInviteState:m,pendingInvites:_,pendingInviteDispatch:S})),!l&&p.createElement("div",null,p.createElement(nn,null,p.createElement("div",null,p.createElement(hU,null,U.header),p.createElement(Mg,null,U.permission)))),p.createElement("div",null,p.createElement(nn,null,p.createElement("div",null,p.createElement(hU,null,"Project members"))),p.createElement(wSe,{editable:l},A.map(O=>p.createElement(x4,{key:O.id,currentProject:t,currentUser:c,editable:l,member:O})),L.map(O=>p.createElement(x4,{key:O.id,editable:l,currentProject:t,member:O,currentUser:c,setShowOwnerTransferOverlayForUser:v}))," ",m==="loading"&&p.createElement(xSe,null),m==="loaded"&&_.map(O=>p.createElement(x4,{key:O.id,currentProject:t,currentUser:c,editable:l,member:O,pending:!0,pendingInviteDispatch:S})))),p.createElement("div",null,l&&p.createElement(Mg,null,p.createElement("strong",null,"Project links:")," ",k.link),!l&&p.createElement(Mg,null,p.createElement("strong",null,"Project links:")," ",U.link),p.createElement(pU,null,p.createElement(mU,{currentTheme:n},"Live site"),p.createElement(gU,null,o),p.createElement(vU,{alt:"Copy live site URL to clipboard",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(o)}},p.createElement(JF,null))),p.createElement(pU,null,p.createElement(mU,{currentTheme:n},"Code"),p.createElement(gU,null,s),p.createElement(vU,{alt:"Copy code URL to clipboard",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"code"}),oa(s)}},p.createElement(JF,null)))))))}const NSe=()=>{const t=ve(),e=V(t.currentUsers),n=V(t.offlineMembers),i=a=>a.reduce((l,c)=>l.find(d=>d.id()===c.id())?l:l.concat([c]),[]),o=i(e),s=i(n);return[o,s]},kSe=()=>{const t=ve(),e=V(t.currentUsers),n=V(t.offlineMembers),i=a=>a.reduce((l,c)=>l.find(d=>d.id()===c.id())?l:l.concat([c]),[]),o=i(e),s=i(n);return p.createElement("div",{className:"collaborators opens-pop-over"},o.map(a=>p.createElement(h4,{application:t,user:a,key:a.id()})),s.map(a=>p.createElement(h4,{application:t,user:a,key:a.id()})))},DSe=()=>{const t=ve(),e=V(t.currentProject);return V(e.teams).length>0?p.createElement("div",{className:"collaborators opens-pop-over teams-list"},t.currentProject().teams().map(i=>p.createElement(q2e,{application:t,team:i,key:i.id()}))):null};function FSe(){const t=ve(),e=V(t.userIsLoggingIn),n=V(t.editorIsEmbedded),i=V(t.currentProject),o=V(i==null?void 0:i.privacy),a=V(t.projectIsAdminForCurrentUser)?"Share your project":"Share this project";if(!i||n)return null;const l=p.createElement("button",{onClick:()=>t.analytics.track("Share Menu Viewed"),id:"share-project","data-testid":"share-button",className:"button share-project opens-pop-over","aria-label":"Open share popover menu"},p.createElement(X2e,{privacy:o}),p.createElement("span",{className:"label"},"Share"));return p.createElement("section",{className:"sidebar-section sidebar-people-wrap"},p.createElement("div",{className:"sidebar-people grouped-avatars"},e?p.createElement(mn,null):p.createElement(kSe,{application:t}),p.createElement("div",{className:"collaborators-buttons"},p.createElement(cI,{title:a,passThroughTrigger:l},()=>p.createElement(_U,{currentProject:i})))),p.createElement(DSe,{application:t}))}function USe(){const t=ve(),e=V(t.aboutPopVisible),n=Gu(),i=o=>{o.preventDefault(),t.aboutPopVisible(!1),t.newStuffOverlayVisible(!0),t.analytics.track("Pupdate Viewed",{clickLocation:"Options Menu"})};return e?p.createElement("dialog",{className:"pop-over about-pop"},p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/",className:"button"},"Back to Glitch ",p.createElement(Je,{icon:"carpStreamer"}))),(n==null?void 0:n.login)&&p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/dashboard",className:"button"},"Your Projects ",p.createElement(Je,{icon:"rocket"})))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/help",className:"button button-small button-secondary"},"Docs and Help ",p.createElement(Je,{icon:"umbrella"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"https://support.glitch.com",className:"button button-small button-secondary"},"Forum ",p.createElement(Je,{icon:"ambulance"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/about",className:"button button-small button-secondary"},"About Glitch ",p.createElement(Je,{icon:"carpStreamer"}))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:i},"New Stuff ",p.createElement(Je,{icon:"dogFace"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"https://status.glitch.com",className:"button button-small button-secondary"},"System Status ",p.createElement(Je,{icon:"trafficLight"}))))):null}function ur(t){return e=>{e.key==="Enter"&&t(e)}}function bU(o){var s=o,{value:t,onChange:e,children:n}=s,i=un(s,["value","onChange","children"]);return p.createElement("label",de({},i),p.createElement("div",{role:"button","aria-pressed":t,tabIndex:"0",onKeyDown:ur(e),className:"button button-small button-secondary"},p.createElement("input",{className:"input",type:"checkbox",checked:t,onChange:e,tabIndex:"-1"}),n))}const K_="state_boost_disabled",EU="state_boosted",wU="state_loading_boost",X_="state_boosted_collection_full",T4="state_can_boost";function C4(){const t=ve(),e=Gu(),n=V(t.currentProjectIsBoosted),i=V(t.boostedCollection),o=V(t.boostedProjects),s=V(t.projectIsAdminForCurrentUser),a=V(t.currentProjectIsBoosted);let l=T4;return!(e==null?void 0:e.isProUser)||!s?l=K_:a?l=EU:!o||!i?l=wU:o.length===i.maxProjects&&(l=X_),{currentProjectIsBoosted:n,boostedCollection:i,boostedProjects:o,projectBoostState:l}}function M4(s){var a=s,{children:t,currentProjectIsBoosted:e,projectBoostState:n,onClick:i}=a,o=un(a,["children","currentProjectIsBoosted","projectBoostState","onClick"]);const l=ve(),[c,u]=K.exports.useState(!1);async function d(h){i==null||i(h),u(!0);try{await l.boostCurrentProject()}catch{u(!1)}}async function f(h){i==null||i(h),u(!0);try{await l.unBoostCurrentProject()}catch{u(!1)}}return K.exports.useEffect(()=>{u(!1)},[e]),n===EU?p.createElement(Tt,de({size:"small",onClick:f,disabled:c},o),t("Un-boost This App")):n===wU?p.createElement(Tt,de({size:"small",disabled:!0,onClick:d},o),t("Boost This App")):p.createElement("span",{"data-tooltip-top":!0,"data-tooltip":n===X_?`To boost another project,
 you must remove one 
from your Boosted Apps 
collection first`:void 0},p.createElement(Tt,de({size:"small",disabled:c||n!==T4,onClick:d},o),t("Boost This App")))}const xU={regular:"24px",small:"18px",tiny:"13px"},SU={default:"images/boosted/boosted-default.png",inactive:"images/boosted/boosted-inactive.png"},jSe=$e.img`
  height: ${t=>xU[t.size]||xU.regular};
  vertical-align: sub;
`;function A4({variant:t,size:e,tooltip:n,className:i}){return p.createElement("span",{"data-tooltip":n,"data-tooltip-left":!0},p.createElement(jSe,{className:i,size:e,src:SU[t]||SU.default,alt:`${t==="inactive"?"Inactive ":""}Boosted Apps icon`}))}const TU=50,BSe=$e(A4)`
  margin-left: 7px;
  position: relative;
`;function VSe({showProjectSpecificContent:t}){const e=ve(),n=Ec(),i=Gu(),o=V(e.currentProject),s=V(o==null?void 0:o.privacy),a=V(e.projectAvatarImage),l=V(e.projectIsMemberOrMoreForCurrentUser),c=V(e.projectIsAdminForCurrentUser),u=V(K.exports.useCallback(()=>o==null?void 0:o.domain(),[o])),d=V(K.exports.useCallback(()=>o==null?void 0:o.description(),[o])),h=V(e.projects).length,v=V(e.currentTheme),m=V(e.refreshPreviewOnChanges),_=V(e.wrapText),S=C4(),[E,w]=K.exports.useState(u),[T,C]=K.exports.useState(null),[P,R]=K.exports.useState(d),A=K.exports.useRef(!0),L=s==="public"||i.isProUser;K.exports.useEffect(()=>{w(u)},[u]),K.exports.useEffect(()=>{R(d)},[d]);const k=()=>{e.projectIsReadOnlyForCurrentUser()||(e.projectPopVisible(!1),e.projectAvatarPopVisible(!0))},U=K.exports.useCallback(async z=>z.length>TU?"Project name cannot be longer than 60 characters":cee.isReserved(z)?"This name is restricted":await n.v0.getProject(z,{showDeleted:!0})?"Another project has that name":null,[n]),O=K.exports.useRef(Promise.resolve(!1)),I=K.exports.useCallback(z=>{const B=U(z).catch(()=>"An unknown error occurred.").then(q=>(O.current===B&&C(q),q===null));return O.current=B,B},[U]),F=K.exports.useCallback(async z=>{z===u||await I(z)===!1||(e.projectIsRenaming(!0),o.saveImmediate(n,{domain:z}).then(()=>{o.domain(z),e.updateProjectName(z),e.broadcastProjectName()},()=>{C("Updating this project is not allowed")}).finally(()=>{e.projectIsRenaming(!1)}))},[e,n,o,u,I]),N=b4(E,500);K.exports.useEffect(()=>{A.current||F(N)},[F,N]);const H=()=>{P!==o.description()&&(o.description(P),o.saveImmediate(n))};return K.exports.useEffect(()=>{A.current=!1},[]),p.createElement("dialog",{className:"pop-over project-pop"},t?p.createElement("section",{className:"info"},p.createElement("div",{className:"project-info-container"},p.createElement("img",{className:"project-avatar-image opens-pop-over",alt:"Project avatar",src:a,onClick:k,onKeyPress:ur(k),tabIndex:"0"}),p.createElement("div",{className:"project-info-meta"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:at("input project-name",{"field-error":T}),"data-testid":"project-name-input",disabled:!l,value:E,onChange:z=>{const B=z.target.value.toLowerCase().replace(/[^a-z0-9-]/gi,"-");if(w(B),B===u){O.current=Promise.resolve(!1);return}I(B)},maxLength:TU}),T&&p.createElement("div",{className:"field-error-message"},T)),l?p.createElement(f2,{className:at("textarea content-editable",{"read-only":!l}),value:P,onBlur:H,onChange:z=>{R(z.target.value)}}):p.createElement("p",{className:"content-editable read-only"},P)))):p.createElement("section",{className:"info"},p.createElement("h1",null,"Project Menu")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"new-project",className:"button",onClick:()=>{e.projectPopVisible(!1),e.newProjectPopVisible(!0)},"data-testid":"new-project-button"},"New Project ",p.createElement(Je,{icon:"sparkles"}))),t&&p.createElement("div",{className:"button-wrap"},p.createElement(vee,{target:p.createElement("button",{id:"remix-project",className:"button",onClick:()=>{L&&(e.closeAllPopOvers(),e.remixCurrentProject())},disabled:!L},"Remix Project ",p.createElement(Je,{icon:"microphone"})),tooltip:L?null:E_(`Upgrade to a Glitch 
                          membership to remix 
                          this private project`),type:"action"})),h>0&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"switch-project",className:"button",onClick:()=>{e.projectPopVisible(!1),e.projectsSelectPopVisible(!0)}},"Switch Project ",p.createElement(Je,{icon:"hibiscus"}))),t&&S.projectBoostState!==K_&&p.createElement("div",{className:"button-wrap"},p.createElement(M4,de({className:"button"},S),z=>p.createElement(p.Fragment,null,p.createElement("span",null,z),p.createElement(BSe,{variant:"default",size:"small"}))))),t&&p.createElement(p.Fragment,null,p.createElement("section",{className:"info"},p.createElement("h1",null,"On Your Website")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{"data-testid":"embed-project",className:"button button-small button-secondary",onClick:()=>{e.closeAllPopOvers(),e.shareEmbedOverlayVisible(!0)}},"Embed This Project ",p.createElement(Je,{icon:"bentoBox"}))))),p.createElement("section",{className:"info"},p.createElement("h1",null,"Editor Settings")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{e.actionInterface.changeTheme()}},"Change Theme ",v==="sugar"?p.createElement(Je,{icon:"crescentMoon"}):p.createElement(Je,{icon:"sunny"}))),l&&p.createElement("div",{className:"button-wrap"},p.createElement(bU,{value:m,onChange:()=>{e.refreshPreviewOnChanges.toggle(),e.analytics.track("Refresh App Setting Changed",{currentSetting:e.refreshPreviewOnChanges()})}},"Refresh App on Changes")),p.createElement("div",{className:"button-wrap"},p.createElement(bU,{value:_,onChange:()=>{e.wrapText.toggle(),e.analytics.track("Wrap Text Setting Changed",{currentSetting:e.wrapText()})}},"Wrap Text")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{e.analytics.track("Keyboard Shortcuts Viewed"),e.closeAllPopOvers(),e.keyboardShortcutsOverlayVisible(!0)}},"Keyboard Shortcuts ",p.createElement(Je,{icon:"musicalKeyboard"})))),t&&l&&p.createElement("section",{className:at("danger-zone",{hidden:!c})},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"delete-project",className:"button","data-testid":"delete-project-button",onClick:()=>{e.actionInterface.deleteCurrentProject()}},"Archive This Project ",p.createElement(Je,{icon:"zzz"})))))}function HSe(){const t=ve(),e=V(t.projectPopVisible),n=V(t.projectIsLoaded),i=V(t.currentProject);return e?p.createElement(VSe,{showProjectSpecificContent:n||i}):null}function CU({children:t,accept:e,multiple:n,onSelection:i}){const o=K.exports.useRef();return p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:()=>{o.current.click()}},t),p.createElement("input",{ref:o,type:"file",onChange:s=>{i(Array.from(s.target.files))},accept:e,multiple:n,hidden:!0}))}const qf=330,wc=210;class P4{constructor(e,n,i,o){this.name=e.name,this.date=new Date,this.url=k7(n),this.type=e.type,this.size=e.size,this.imageWidth=e.width,this.imageHeight=e.height,this.thumbnail=k7(o!=null?o:n),this.thumbnailWidth=(i!=null?i:e).width,this.thumbnailHeight=(i!=null?i:e).height}}function MU(t,e){let{width:n,height:i}=t;const o=.92;let s=document.createElement("canvas");s.width=n,s.height=i,s.getContext("2d").drawImage(t,0,0,n,i);let l=s;for(;n>qf||i>qf;){if(n/=2,i/=2,n<qf&&i<qf){const u=330/Math.max(n,i);n=Math.ceil(n*u),i=Math.ceil(i*u)}l=document.createElement("canvas");const c=l.getContext("2d");l.width=n,l.height=i,c.drawImage(s,0,0,n,i),s=l}return new Promise(function(c,u){return l.toBlob(function(d){return d.width=n,d.height=i,c(d)},e,o)})}function AU(t){return D7(t).then(function(e){return t.width=e.width,t.height=e.height,e.width<qf&&e.height<qf?t:MU(e,t.type)})}function PU(){const t=document.createElement("canvas");t.width=wc,t.height=wc;const e=t.width/2,n=0,i=0,o=wc,s=wc,a=na({count:6,format:"rgb"}),l=[];for(let d of a)l.push(d.replace(")",", 0.60)").replace("rgb","rgba"));const c=t.getContext("2d");c.globalComposition="multiply",c.fillStyle=l[0],c.fillRect(0,0,wc,wc),c.beginPath(),c.fillStyle=l[1];const u=t.width/2;return c.arc(e,e,u,0,2*Math.PI,!1),c.fill(),c.closePath(),c.beginPath(),c.fillStyle=l[2],c.moveTo(i,e),c.lineTo(e,n),c.lineTo(o,e),c.lineTo(e,s),c.fill(),c.closePath(),c.fillStyle=l[3],c.fillRect(e/2,e/2,e,e),new Promise(function(d,f){return t.toBlob(function(h){return h.width=wc,h.height=wc,d(h)})})}function zSe(t,e){return AU(e).then(n=>D7(n).then(i=>n===e?t.uploadAsset(e).then(o=>new P4(e,o,null,null)):(n.name=`thumbnails/${e.name}`,Promise.all([t.uploadAsset(e,!0),t.uploadAsset(n)]).then(function(...o){const[s,a]=Array.from(o[0]);return new P4(e,s,n,a)}))))}function GSe(t,e){return PU().then(n=>(n.name=`thumbnails/${e.name}`,Promise.all([t.uploadAsset(e,!0),t.uploadAsset(n)]).then(function(...i){const[o,s]=Array.from(i[0]);return new P4(e,o,n,s)})))}function $Se(t,e){const n=t.assets().find(i=>i.name===e.name);n&&t.deleteAsset(n)}class J_{constructor(e){this.application=e}addAssetFile(e){const n=Bf(),i=e.type,{application:o}=this;return(i.match(/(image)/)?zSe(o,e):GSe(o,e)).then(s=>{if(e.type==="text/html")return o.notifyUploadFailure(!0),!1;$Se(o,e),s.uuid=n,o.newAsset(s),o.jiggleAssetFiletreeEntry(!0),o.analytics.track("Asset Uploaded",{fileType:e.type})}).catch(function(s){throw o.notifyUploadFailure(!0),s})}addFile(e){const{application:n}=this;return new Promise((i,o)=>{setTimeout(()=>{if(e.name===void 0){const s=window.prompt("Please enter a name for your file","newfile.png");if(s)e=new File([e],s,{type:e.type,lastModified:e.lastModified});else throw new Error("You must name the file.")}c5(e)?n.uploadNewFile(e).then(i,o):n.showAssets().then(()=>this.addAssetFile(e)).then(i,o)},0)})}createThumbnail(e){return AU(e)}createRandomThumbnail(){return PU()}drawCanvasThumbnail(e,n){return MU(e,n)}}function WSe(){const t=ve(),e=V(t.projectAvatarPopVisible),n=V(t.projectAvatarImage),i=K.exports.useRef();i.current||(i.current=new J_(t));const o=()=>{t.projectAvatarPopVisible(!1),t.projectPopVisible(!0)},s=()=>{t.projectAvatarUtils.random().then(t.uploadProjectAvatarAsset)};return e?p.createElement("dialog",{className:"pop-over project-avatar-pop"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:o},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Project Avatar")),p.createElement("section",{className:"actions"},p.createElement("img",{className:"avatar-image",src:n,alt:"Project Avatar"}),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:s},"Random ",p.createElement(Je,{icon:"bouquet"}))),p.createElement("div",{className:"button-wrap"},p.createElement(CU,{accept:"image/*",onSelection:a=>{const[l]=a;i.current.createThumbnail(l).then(t.uploadProjectAvatarAsset).catch(c=>{t.notifyUploadFailure(!0),t.logger().log("error addFileFromComputer()",c)})}},"Upload ",p.createElement(Je,{icon:"arrowUp"}))))):null}var qSe=My;function YSe(){this.__data__=new qSe,this.size=0}var KSe=YSe;function XSe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var JSe=XSe;function ZSe(t){return this.__data__.get(t)}var QSe=ZSe;function e3e(t){return this.__data__.has(t)}var t3e=e3e,n3e=My,r3e=uT,i3e=dT,s3e=200;function o3e(t,e){var n=this.__data__;if(n instanceof n3e){var i=n.__data__;if(!r3e||i.length<s3e-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new i3e(i)}return n.set(t,e),this.size=n.size,this}var a3e=o3e,l3e=My,c3e=KSe,u3e=JSe,d3e=QSe,f3e=t3e,h3e=a3e;function Yf(t){var e=this.__data__=new l3e(t);this.size=e.size}Yf.prototype.clear=c3e;Yf.prototype.delete=u3e;Yf.prototype.get=d3e;Yf.prototype.has=f3e;Yf.prototype.set=h3e;var RU=Yf;function p3e(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var m3e=p3e,g3e=_D,v3e=m3e,y3e=bD,_3e=1,b3e=2;function E3e(t,e,n,i,o,s){var a=n&_3e,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,v=n&b3e?new g3e:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],_=e[f];if(i)var S=a?i(_,m,f,e,t,s):i(m,_,f,t,e,s);if(S!==void 0){if(S)continue;h=!1;break}if(v){if(!v3e(e,function(E,w){if(!y3e(v,w)&&(m===E||o(m,E,n,i,s)))return v.push(w)})){h=!1;break}}else if(!(m===_||o(m,_,n,i,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var LU=E3e,w3e=Yo,x3e=w3e.Uint8Array,S3e=x3e;function T3e(t){var e=-1,n=Array(t.size);return t.forEach(function(i,o){n[++e]=[o,i]}),n}var C3e=T3e,IU=Bm,OU=S3e,M3e=Gm,A3e=LU,P3e=C3e,R3e=N5,L3e=1,I3e=2,O3e="[object Boolean]",N3e="[object Date]",k3e="[object Error]",D3e="[object Map]",F3e="[object Number]",U3e="[object RegExp]",j3e="[object Set]",B3e="[object String]",V3e="[object Symbol]",H3e="[object ArrayBuffer]",z3e="[object DataView]",NU=IU?IU.prototype:void 0,R4=NU?NU.valueOf:void 0;function G3e(t,e,n,i,o,s,a){switch(n){case z3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H3e:return!(t.byteLength!=e.byteLength||!s(new OU(t),new OU(e)));case O3e:case N3e:case F3e:return M3e(+t,+e);case k3e:return t.name==e.name&&t.message==e.message;case U3e:case B3e:return t==e+"";case D3e:var l=P3e;case j3e:var c=i&L3e;if(l||(l=R3e),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;i|=I3e,a.set(t,e);var d=A3e(l(t),l(e),i,o,s,a);return a.delete(t),d;case V3e:if(R4)return R4.call(t)==R4.call(e)}return!1}var $3e=G3e,W3e=Vk,q3e=qo;function Y3e(t,e,n){var i=e(t);return q3e(t)?i:W3e(i,n(t))}var K3e=Y3e;function X3e(t,e){for(var n=-1,i=t==null?0:t.length,o=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[o++]=a)}return s}var J3e=X3e;function Z3e(){return[]}var Q3e=Z3e,eTe=J3e,tTe=Q3e,nTe=Object.prototype,rTe=nTe.propertyIsEnumerable,kU=Object.getOwnPropertySymbols,iTe=kU?function(t){return t==null?[]:(t=Object(t),eTe(kU(t),function(e){return rTe.call(t,e)}))}:tTe,sTe=iTe,oTe=K3e,aTe=sTe,lTe=G5;function cTe(t){return oTe(t,lTe,aTe)}var uTe=cTe,DU=uTe,dTe=1,fTe=Object.prototype,hTe=fTe.hasOwnProperty;function pTe(t,e,n,i,o,s){var a=n&dTe,l=DU(t),c=l.length,u=DU(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=l[f];if(!(a?h in e:hTe.call(e,h)))return!1}var v=s.get(t),m=s.get(e);if(v&&m)return v==e&&m==t;var _=!0;s.set(t,e),s.set(e,t);for(var S=a;++f<c;){h=l[f];var E=t[h],w=e[h];if(i)var T=a?i(w,E,h,e,t,s):i(E,w,h,t,e,s);if(!(T===void 0?E===w||o(E,w,n,i,s):T)){_=!1;break}S||(S=h=="constructor")}if(_&&!S){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(_=!1)}return s.delete(t),s.delete(e),_}var mTe=pTe,gTe=Ou,vTe=Yo,yTe=gTe(vTe,"DataView"),_Te=yTe,bTe=Ou,ETe=Yo,wTe=bTe(ETe,"Promise"),xTe=wTe,STe=Ou,TTe=Yo,CTe=STe(TTe,"WeakMap"),MTe=CTe,L4=_Te,I4=uT,O4=xTe,N4=ED,k4=MTe,FU=Hm,Kf=Tk,UU="[object Map]",ATe="[object Object]",jU="[object Promise]",BU="[object Set]",VU="[object WeakMap]",HU="[object DataView]",PTe=Kf(L4),RTe=Kf(I4),LTe=Kf(O4),ITe=Kf(N4),OTe=Kf(k4),$u=FU;(L4&&$u(new L4(new ArrayBuffer(1)))!=HU||I4&&$u(new I4)!=UU||O4&&$u(O4.resolve())!=jU||N4&&$u(new N4)!=BU||k4&&$u(new k4)!=VU)&&($u=function(t){var e=FU(t),n=e==ATe?t.constructor:void 0,i=n?Kf(n):"";if(i)switch(i){case PTe:return HU;case RTe:return UU;case LTe:return jU;case ITe:return BU;case OTe:return VU}return e});var NTe=$u,D4=RU,kTe=LU,DTe=$3e,FTe=mTe,zU=NTe,GU=qo,$U=o_.exports,UTe=p7,jTe=1,WU="[object Arguments]",qU="[object Array]",Z_="[object Object]",BTe=Object.prototype,YU=BTe.hasOwnProperty;function VTe(t,e,n,i,o,s){var a=GU(t),l=GU(e),c=a?qU:zU(t),u=l?qU:zU(e);c=c==WU?Z_:c,u=u==WU?Z_:u;var d=c==Z_,f=u==Z_,h=c==u;if(h&&$U(t)){if(!$U(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new D4),a||UTe(t)?kTe(t,e,n,i,o,s):DTe(t,e,c,n,i,o,s);if(!(n&jTe)){var v=d&&YU.call(t,"__wrapped__"),m=f&&YU.call(e,"__wrapped__");if(v||m){var _=v?t.value():t,S=m?e.value():e;return s||(s=new D4),o(_,S,n,i,s)}}return h?(s||(s=new D4),FTe(t,e,n,i,o,s)):!1}var HTe=VTe,zTe=HTe,KU=zm;function XU(t,e,n,i,o){return t===e?!0:t==null||e==null||!KU(t)&&!KU(e)?t!==t&&e!==e:zTe(t,e,n,i,XU,o)}var JU=XU,GTe=RU,$Te=JU,WTe=1,qTe=2;function YTe(t,e,n,i){var o=n.length,s=o,a=!i;if(t==null)return!s;for(t=Object(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){l=n[o];var c=l[0],u=t[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new GTe;if(i)var h=i(u,d,c,t,e,f);if(!(h===void 0?$Te(d,u,WTe|qTe,i,f):h))return!1}}return!0}var KTe=YTe,XTe=ja;function JTe(t){return t===t&&!XTe(t)}var ZU=JTe,ZTe=ZU,QTe=G5;function e5e(t){for(var e=QTe(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,ZTe(o)]}return e}var t5e=e5e;function n5e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var QU=n5e,r5e=KTe,i5e=t5e,s5e=QU;function o5e(t){var e=i5e(t);return e.length==1&&e[0][2]?s5e(e[0][0],e[0][1]):function(n){return n===t||r5e(n,t,e)}}var a5e=o5e,l5e=hT;function c5e(t,e,n){var i=t==null?void 0:l5e(t,e);return i===void 0?n:i}var u5e=c5e,d5e=JU,f5e=u5e,h5e=Bk,p5e=lT,m5e=ZU,g5e=QU,v5e=$m,y5e=1,_5e=2;function b5e(t,e){return p5e(t)&&m5e(e)?g5e(v5e(t),e):function(n){var i=f5e(n,t);return i===void 0&&i===e?h5e(n,t):d5e(e,i,y5e|_5e)}}var E5e=b5e;function w5e(t){return function(e){return e==null?void 0:e[t]}}var x5e=w5e,S5e=hT;function T5e(t){return function(e){return S5e(e,t)}}var C5e=T5e,M5e=x5e,A5e=C5e,P5e=lT,R5e=$m;function L5e(t){return P5e(t)?M5e(R5e(t)):A5e(t)}var I5e=L5e,O5e=a5e,N5e=E5e,k5e=Ly,D5e=qo,F5e=I5e;function U5e(t){return typeof t=="function"?t:t==null?k5e:typeof t=="object"?D5e(t)?N5e(t[0],t[1]):O5e(t):F5e(t)}var j5e=U5e,B5e=j5e,V5e=wD;function H5e(t,e){return t&&t.length?V5e(t,B5e(e)):[]}var ej=H5e;function z5e({item:t,highlighted:e={}}){const n=ve(),i=at("result no-button-styles project-result",{"danger-zone":t.dangerous});function o(s){n.actionInterface.selectAction(t.action,s)}return p.createElement("span",null,t.url?p.createElement("a",{className:i,href:t.url,target:"_blank",rel:"noopener noreferrer"},p.createElement(Je,{icon:t.emojiName}),p.createElement("div",{className:"result-name"},e.name||t.name)):p.createElement("button",{className:i,onClick:o},p.createElement(Je,{icon:t.emojiName}),p.createElement("div",{className:"result-name"},e.name||t.name)))}function tj({item:t,highlighted:e={}}){const n=ve(),o=()=>{n.selectFileByPathOrDefaultFile(t.path)};return p.createElement("span",{className:t.extensionType},p.createElement("button",{className:"result no-button-styles project-result",tabIndex:"0","data-path":t.path,onClick:o},t.recent&&p.createElement("div",{className:"result-tip"},"recent"),p.createElement("div",{className:"result-name"},e.name||t.name),t.path&&p.createElement("div",{className:"result-description"},e.path||t.path)))}var G5e=Object.freeze([{id:"\u{1F331}",name:"New File",emojiName:"seedling",action:"newFilePopToggle"},{name:"Rename Current File",emojiName:"eyes",action:"renameCurrentFile"},{id:"2\uFE0F\u20E3",name:"Copy/Duplicate Current File",emojiName:"two",action:"copyCurrentFile"},{id:"\u{1F4A3}",name:"Delete Current File",emojiName:"bomb",dangerous:!0,action:"deleteCurrentFile"},{id:"sidebarToggle",name:"Toggle Sidebar",emojiName:"arrowBackward",action:"sidebarToggle"},{id:"\u{1F5BC}",name:"Assets",emojiName:"framedPicture",action:"showAssets"},{id:"\u{1F371}",name:"Embed Project",emojiName:"bentoBox",action:"shareEmbedOverlayToggle"},{id:"\u{1F310}",name:"Custom Domains",emojiName:"globeWithMeridians",action:"customDomainPopToggle"},{id:"\u{1F3B9}",name:"Keyboard Shortcuts",emojiName:"musicalKeyboard",action:"keyboardShortcutOverlayToggle"},{id:"\u23EA",name:"Rewind Project",emojiName:"rewind",action:"rewindPanelToggle"},{id:"\u26D1",name:"Toggle Container Stats",emojiName:"helmetWithWhiteCross",action:"containerStatsPanelToggle"},{id:"\u{1F4F0}",name:"Toggle Logs",emojiName:"newspaper",action:"logsPanelToggle"},{id:"\u{1F4DF}",name:"Open Terminal",emojiName:"pager",action:"openConsole"},{id:"\u2728",name:"Create New Project",emojiName:"sparkles",action:"newOptionsPopToggle"},{id:"\u{1F3A4}",name:"Remix Project",emojiName:"microphone",action:"remixProject"},{id:"\u{1F33A}",name:"Switch Project",emojiName:"hibiscus",action:"switchProjectPopToggle"},{id:"\u{1F5FC}",name:"Git, Import, Export",emojiName:"tokyoTower",action:"gitImportExportPopToggle"},{id:"importGH",name:"Import from GitHub",emojiName:"octocat",action:"importFromGitHub"},{id:"exportGH",name:"Export to GitHub",emojiName:"octocat",action:"exportToGitHub"},{id:"\u{1F422}",name:"Download Project",emojiName:"turtle",action:"downloadProject"},{id:"\u{1F4A4}project",name:"Archive this Project",emojiName:"zzz",dangerous:!0,action:"deleteCurrentProject"},{id:"\u{1F38F}about",name:"About Glitch",emojiName:"carpStreamer",action:"aboutPopToggle"},{id:"\u{1F691}",name:"Community and Support Forum",emojiName:"ambulance",url:"https://support.glitch.com"},{id:"\u{1F436}",name:"New Stuff",emojiName:"dogFace",action:"newStuffOverlayToggle"},{id:"\u{1F6A5}",name:"System Status",emojiName:"horizontalTrafficLight",url:"https://status.glitch.com/"},{id:"\u{1F469}\u200D\u{1F4BB}",name:"Your Account",emojiName:"femaleTechnologist",action:"accountToggle"},{id:"\u{1F319}",name:"Change Theme",emojiName:"crescentMoon",action:"changeTheme"},{id:"\u{1F300}",name:"Toggle Refresh App on Changes",emojiName:"cyclone",action:"refreshPreviewOnChangesToggle"},{id:"\u{1F501}",name:"Toggle Wrap Text",emojiName:"refresh",action:"wrapTextToggle"},{id:"\u{1F453}",name:"Show App Next to The Code",emojiName:"eyeglasses",action:"toggleAppPreview"}].map(Object.freeze)),Wu=-1/0,nj=1/0,rj=-.005,ij=-.005,sj=-.01,F4=1,oj=.9,aj=.8,lj=.7,cj=.6;function $5e(t){return t.toLowerCase()===t}function W5e(t){return t.toUpperCase()===t}function q5e(t){for(var e=t.length,n=new Array(e),i="/",o=0;o<e;o++){var s=t[o];i==="/"?n[o]=oj:i==="-"||i==="_"||i===" "?n[o]=aj:i==="."?n[o]=cj:$5e(i)&&W5e(s)?n[o]=lj:n[o]=0,i=s}return n}function uj(t,e,n,i){for(var o=t.length,s=e.length,a=t.toLowerCase(),l=e.toLowerCase(),c=q5e(e),u=0;u<o;u++){n[u]=new Array(s),i[u]=new Array(s);for(var d=Wu,f=u===o-1?ij:sj,h=0;h<s;h++)if(a[u]===l[h]){var v=Wu;u?h&&(v=Math.max(i[u-1][h-1]+c[h],n[u-1][h-1]+F4)):v=h*rj+c[h],n[u][h]=v,i[u][h]=d=Math.max(v,d+f)}else n[u][h]=Wu,i[u][h]=d=d+f}}function Y5e(t,e){var n=t.length,i=e.length;if(!n||!i)return Wu;if(n===i)return nj;if(i>1024)return Wu;var o=new Array(n),s=new Array(n);return uj(t,e,o,s),s[n-1][i-1]}function K5e(t,e){var n=t.length,i=e.length,o=new Array(n);if(!n||!i)return o;if(n===i){for(var s=0;s<n;s++)o[s]=s;return o}if(i>1024)return o;var a=new Array(n),l=new Array(n);uj(t,e,a,l);for(var c=!1,s=n-1,u=i-1;s>=0;s--)for(;u>=0;u--)if(a[s][u]!==Wu&&(c||a[s][u]===l[s][u])){c=s&&u&&l[s][u]===a[s-1][u-1]+F4,o[s]=u--;break}return o}function X5e(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=t.length,i=0,o=0;i<n;i+=1)if(o=e.indexOf(t[i],o)+1,o===0)return!1;return!0}var dj={SCORE_MIN:Wu,SCORE_MAX:nj,SCORE_GAP_LEADING:rj,SCORE_GAP_TRAILING:ij,SCORE_GAP_INNER:sj,SCORE_MATCH_CONSECUTIVE:F4,SCORE_MATCH_SLASH:oj,SCORE_MATCH_WORD:aj,SCORE_MATCH_CAPITAL:lj,SCORE_MATCH_DOT:cj,score:Y5e,positions:K5e,hasMatch:X5e},J5e=Nk,fj=/[\\^$.*+?()[\]{}|]/g,Z5e=RegExp(fj.source);function Q5e(t){return t=J5e(t),t&&Z5e.test(t)?t.replace(fj,"\\$&"):t}var hj=Q5e;function e4e(t){return t}function Q_(t,e,n=e4e){const i=new RegExp(e.split("").map(hj).join(".*?"));return t.filter(a=>n(a).match(i)).map(a=>{const l=n(a);return{item:a,score:dj.score(e,l),matches:dj.positions(e,l)}})}function t4e(t,e){return t.type==="file"&&e.type==="action"?-1:e.type==="file"&&t.type==="action"?1:e.score-t.score}function n4e(t){const n=t.recentFiles().slice().reverse().filter(o=>t.fileByPath(o.path()));return ej(n,o=>o.path()).slice(0,5)}function r4e(){const t=ve();return V(K.exports.useCallback(()=>n4e(t).map(e=>p.createElement(tj,{item:{path:e.path(),extensionType:e.extensionType(),name:e.name(),recent:!0},key:e.uuid()})),[t]))}function U4({children:t,indices:e}){let n=0;return p.createElement(p.Fragment,null,e.map(i=>{const o=n;return n=i+1,p.createElement(p.Fragment,{key:i},t.slice(o,i),p.createElement("span",{className:"result-match"},t.slice(i,i+1)))}),t.slice(n))}function i4e({query:t}){const e=ve(),n=V(e.recentFiles);return V(K.exports.useCallback(()=>{const o=e.files().filter(f=>f.path()!==vc).map(f=>({path:f.path(),extensionType:f.extensionType(),name:f.name(),recent:n.some(h=>h.path()===f.path())})),s=t.toLowerCase(),l=Q_(o,s,f=>f.path.toLowerCase()).map(f=>Ge(de({},f),{type:"file",highlighted:{path:p.createElement(U4,{indices:f.matches},f.item.path),name:p.createElement(U4,{indices:f.matches.map(h=>h-(f.item.path.length-f.item.name.length)).filter(h=>h>=0)},f.item.name)}})),u=Q_(G5e,s,f=>f.name.toLowerCase()).map(f=>Ge(de({},f),{type:"action",highlighted:{name:p.createElement(U4,{indices:f.matches},f.item.name)}}));return l.concat(u).sort(t4e).map(({item:f,highlighted:h,type:v},m)=>v==="file"?p.createElement(tj,{item:f,highlighted:h,key:`file-${m}`}):p.createElement(z5e,{item:f,highlighted:h,key:`action-${m}`}))},[t,e,n]))}function s4e(){const t=ve(),e=V(t.projectSearchPopVisible),n=V(t.projectIsLoaded),i=V(t.projectSearchBoxValue),o=()=>{t.analytics.track("Project Searched",{searchTarget:"Project Search",searchTerm:i}),t.fileSearch.searchValue(i),t.fileSearch.search(),t.closeAllPopOvers(),t.projectSearchFilesOverlayVisible(!0)};return e?p.createElement("dialog",{id:"project-search-pop",className:"pop-over project-search-pop","data-testid":"project-search-pop"},p.createElement("section",{className:"actions results-list"},!n&&p.createElement("div",{className:"loader-ellipses"}),p.createElement("ul",{className:"results"},i.length===0?p.createElement(r4e,null):p.createElement(i4e,{query:i}))),i.length!==0&&p.createElement("section",{className:"info"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:o,tabIndex:"0"},"search files for '",i,"'")))):null}var o4e=H5,a4e="Expected a function";function l4e(t,e){var n;if(typeof e!="function")throw new TypeError(a4e);return t=o4e(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var c4e=l4e,u4e=c4e;function d4e(t){return u4e(2,t)}var f4e=d4e;function pj({project:t}){const e=V(t.avatar),n=V(t.domain),i=V(t.description),o=V(t.private);return p.createElement(p.Fragment,null,e?p.createElement("img",{className:"avatar",src:e,alt:`Avatar for project ${n}`}):p.createElement(Je,{icon:"bentoBox"}),p.createElement("div",{className:"result-name"},o&&p.createElement("span",{className:"private-icon"}),n),p.createElement("div",{className:"result-description"},i))}function h4e(t,e){return!!(e&&t.metaKey||!e&&t.ctrlKey)}function p4e({project:t,onClick:e}){const n=V(t.editorUrl);return p.createElement("li",{className:"result"},p.createElement("a",{className:"no-select",role:"button",tabIndex:0,onClick:e,href:n,onKeyPress:ur(e)},p.createElement(pj,{project:t})))}const m4e=f4e(t=>{t.fetchUserProjects()});function g4e(){const t=ve(),e=V(t.projectListIsLoaded),[n,i]=K.exports.useState("");K.exports.useEffect(()=>{m4e(t)},[t]);const o=l=>{i(""),t.projectsSelectPopVisible(!1),h4e(l,t.isMacOS)||t.rewindPanelVisible(!1)},s=V(K.exports.useCallback(()=>{const l=t.currentProject(),c=t.projects().filter(h=>l?h.id()!==l.id():!0),u=n.toLowerCase().trim(),d=Q_(c,u,h=>h.domain().toLowerCase()),f=Q_(c,u,h=>h.description().toLowerCase());return ej([...d,...f],h=>h.item).sort((h,v)=>v.score-h.score).map(({item:h})=>h).map(h=>({key:h.id(),project:h}))},[n,t])),a=K.exports.useCallback(l=>{l&&l.focus()},[]);return p.createElement("dialog",{className:"pop-over project-select-pop"},p.createElement("section",{role:"presentation",className:"info"},p.createElement("h1",null,"Your Projects ",p.createElement(Je,{icon:"hibiscus"}))),p.createElement("section",{className:"info"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"project-search",className:"input search-input",value:n,"aria-label":"Search Projects",placeholder:"Search Projects",onChange:l=>i(l.target.value),ref:a}))),p.createElement("section",{className:"actions results-list swapped-li-a"},e?p.createElement("ul",{className:"results"},s.map(({key:l,project:c})=>p.createElement(p4e,{key:l,project:c,onClick:u=>o(u)}))):p.createElement("div",{className:"projects-list-loading"},p.createElement(mn,null))))}function v4e(){const t=ve();return V(t.projectsSelectPopVisible)?p.createElement(g4e,null):null}function y4e({project:t,onClick:e}){const n=V(t.remixUrl);return p.createElement("li",{className:"result"},p.createElement("a",{className:"no-select",tabIndex:0,href:n,onClick:e,onKeyPress:ur(e)},p.createElement(pj,{project:t})))}function _4e(){const t=ve(),e=V(t.newProjectPopVisible),n=()=>{t.newProjectPopVisible(!1)},i=V(K.exports.useCallback(()=>t.newProjectTemplates().map(s=>yc(s)).map(s=>({key:s.id(),project:s})),[t])),o=()=>{t.closeAllPopOvers();const s=window.prompt("Paste the full URL of your repository","https://github.com/orgname/reponame.git");if(!!s)try{if(new URL(s).username)throw new Error("We can't import repo URLs with credentials in them");t.history.push(`/import/git?url=${s}`)}catch(a){a.message.includes("Invalid URL")?t.notifyGenericError({message:"That doesn't look like a valid git repo URL. Please check and try again"}):a.message?t.notifyGenericError({message:a.message}):t.notifyGenericError()}};return e?p.createElement("dialog",{className:"pop-over new-project-pop"},p.createElement("section",{role:"presentation"},p.createElement("h1",null,"New Project ",p.createElement(Je,{icon:"sparkles"}))),p.createElement("section",{className:"actions results-list swapped-li-a"},p.createElement("ul",{className:"results"},i.map(({key:s,project:a})=>p.createElement(y4e,{key:s,project:a,onClick:()=>n()})))),p.createElement("section",{className:"info"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:o,"data-testid":"new-project-from-github-button"},"Import from GitHub")))):null}function b4e(){const t=ve(),e=V(t.smallViewportOptionsPopVisible),n=V(t.currentUserAvatarUrl),i=V(t.projectAccessLevelForCurrentUser),o=V(t.currentUser),s=V(K.exports.useCallback(()=>o?o.name():null,[o])),a=V(K.exports.useCallback(()=>!!o&&o.loggedIn(),[o])),l=K.exports.useRef();return e?p.createElement("dialog",{className:"pop-over small-viewport-options-pop",ref:l},p.createElement("section",{className:"info"},p.createElement("h1",null,"Hello ",s)),p.createElement("section",{className:"actions"},a?p.createElement("button",{className:"button",onClick:()=>{t.accountPopVisible(!0),t.smallViewportOptionsPopVisible(!1)}},"Your Account ",p.createElement("span",{className:"emoji avatar",style:{backgroundImage:`url(${n})`}})):p.createElement("a",{href:"//glitch.com/signin",className:"onboarding-tip-link",onClick:t.setDestinationAfterAuth},p.createElement("div",{className:"onboarding-tip onboarding-tip-wholly-clickable"},p.createElement("div",null,p.createElement("strong",null,"Create an account")," ",i>=xt.MEMBER?"to keep this project, and edit it from anywhere.":"to save your favorite apps."),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-cta button-small"},"Create an Account"))))),p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:()=>{t.aboutPopVisible(!0),t.smallViewportOptionsPopVisible(!1)}},"Glitch ",p.createElement(Je,{icon:"glitchLogo"})))):null}function mj(e){var t=un(e,[]);const n=ve(),i=V(K.exports.useCallback(()=>n.currentUser().awaitingInvite(),[n])),o=V(n.currentUserOnAnyCurrentProjectTeam),s=V(n.projectIsReadOnlyForCurrentUser),a=V(n.editorIsEmbedded),l=!s||i;return l||a?null:p.createElement(p.Fragment,null,!l&&p.createElement(Rn,de({sx:{fontSize:0},onClick:n.askToJoinProject},t),o?"Join Project":"Request to Join"))}function E4e({team:t}){const e=V(t.name),n=V(t.avatarUrl),i=V(t.teamPageUrl);return p.createElement(Bd,{external:!0,variant:"blank",href:i,target:"_blank"},p.createElement(sn,{sx:{gap:2,alignItems:"center"}},p.createElement(Ud,{src:n,styles:{width:"24px",height:"24px"}}),p.createElement(Fn,{sx:{color:"primary",letterSpacing:0}},e)))}const Xf={sx:{paddingX:3,paddingY:2,fontSize:0,border:"2px solid",borderColor:"text",letterSpacing:"0.1em",alignContent:"center",fontFamily:"monospace",cursor:"pointer",alignItems:"center"}},w4e={sx:de({backgroundColor:"shareButton",color:"white"},Xf.sx)};function x4e({teams:t}){return p.createElement(Pe,{style:{maxHeight:"calc(5 * 33px)",overflow:"auto"}},t.map(({id:e,team:n})=>p.createElement(Un,{key:e},p.createElement(E4e,{team:n}))))}const Ag=({key:t,url:e,children:n})=>p.createElement(Un,{key:t},p.createElement(Bd,{external:!0,variant:"blank",href:e,target:"_blank"},n));function S4e({currentUser:t}){uo();const e=V(t.thanksCount),n=V(p.useCallback(()=>t.teams().map(i=>({team:i,id:i.id(),name:i.name()})),[t]));return n.length>0&&n.sort(({name:i},{name:o})=>(i=i.toLowerCase(),o=o.toLowerCase(),i>o?1:i<o?-1:0)),p.createElement(p.Fragment,null,p.createElement(Ag,{key:"projects",url:"/dashboard"},"Your Projects"),p.createElement(Ag,{key:"settings",url:"/settings"},"Account Settings"),p.createElement(Ag,{key:"forum",url:"https://support.glitch.com"},"Forum"),p.createElement(Ag,{key:"service",url:"https://status.glitch.com/"},"Service Status"),p.createElement(Ag,{key:"help",url:"https://help.glitch.com/home/"},"Help"),e>0&&p.createElement(p.Fragment,null,p.createElement(jl,null),p.createElement(Un,{key:"thanks"},p.createElement(qt,{emoji:"\u{1F496}"})," You've been thanked ",e," time",e>1&&"s"),p.createElement(jl,null)),n.length>0&&p.createElement(jl,null),p.createElement(x4e,{teams:n}),p.createElement(jl,null),p.createElement(Un,{key:"logout"},p.createElement(Rn,{as:"a",href:"/edit/#!/sign-out",sx:{fontWeight:400}},"Sign out")))}function T4e({user:t}){const e=ve(),n=V(e.currentProject),i=V(e.currentUser),o=V(t.profileUrl),s=V(t.color),a=V(t.name),l=V(t.login),c=V(t.isOnline),u=t===i,d=V(K.exports.useCallback(()=>n&&n.accessLevel(t),[n,t])),f=V(K.exports.useCallback(()=>n&&n.accessLevel(i),[n,i])),h=V(t.thanksCount),v=V(t.isThankedByCurrentUser),m=h===1?"time":"times",_=V(e.canBroadcast),S=V(K.exports.useCallback(()=>n&&n.users().length>1,[n])),E=V(K.exports.useCallback(()=>n&&n.name(),[n])),w=V(e.currentUserOnAnyCurrentProjectTeam),T=V(t.awaitingInvite),[C]=uo(),P=V(K.exports.useCallback(()=>{const z=t.lastCursor();if(z&&z.cursor){const B=z.documentId,q=e.fileByUuid(B);if(!q)return;if(z.cursor){const W=z.cursor.line||0;return`${q.name()}, line ${W+1}`}return q.name()}},[e,t])),R=()=>{t.isThankedByCurrentUser()?t.removeThanks(e):(e.analytics.track("Thanks Given",{recipientId:t.id(),recipientHandle:t.login()}),t.addThanks(e))},A=()=>{e.acceptInviteRequest(t),e.closeAllPopOvers()},L=()=>{e.askToJoinProject()},k=()=>{const z=t.lastCursor();if(z){const{cursor:B,documentId:q}=z,{line:W}=B;e.selectFileByUuid(q).then(()=>{e.goToLine(W),e.closeAllPopOvers()})}},U=()=>{e.leaveCurrentProject(t),e.closeAllPopOvers()},O=()=>{var z;S?window.confirm(`Leave ${E}?`)&&(e.closeAllPopOvers(),e.rewindPanelVisible(!1),e.leaveCurrentProject(),e.analytics.track("Project Left",{projectMemberWhoLeft:t.login(),numberProjectMembers:((z=e.currentProject())==null?void 0:z.users().length)-1})):window.alert(`You can't leave ${E} because you are the only member.`)},I=()=>{e.acceptInviteRequest(t)},F=()=>{switch(d){case xt.NONE:return"Project Visitor";case xt.MEMBER:return"Project Member";case xt.ADMIN:return"Project Owner";default:return""}},N=s,H=N2e`
    0% {
      background-color: #FEC1EE;
    }
    50% {
      background-color: #FED4F3;
    }
    100% {
      background-color: #FF7698;
    }
  `;return p.createElement(tee,null,p.createElement(nee,null,p.createElement(Ud,{src:t.avatarUrl(),styles:{cursor:"pointer",backgroundColor:T?"#FF7698":N,animation:T&&`${H} 2.0s linear 1`,width:"32px",height:"32px",padding:1}})),p.createElement(ree,null,p.createElement(iee,null),p.createElement(sn,{sx:{flexDirection:"column",gap:2}},p.createElement(Pe,null,l||a?p.createElement(Bd,{href:o,external:!0,target:"_blank",color:C==="light"?"brand.teal":"blueDark.2"},p.createElement(h2,{as:"h5"},a||l)):p.createElement(h2,{as:"h5"},"Anonymous")),l&&p.createElement(Fn,{className:"login"},"@",l),p.createElement(Pe,null,p.createElement(Fn,{sx:{fontFamily:"monospace",fontSize:"12px!important"}},F()),c&&!u&&p.createElement(see,{sx:{color:C==="light"?"green.5":"green.2"}},"Online")),u&&p.createElement(Fn,null,"This is you!"),u&&h>0&&p.createElement(Pe,null,"You've been thanked ",h," ",m," ",p.createElement(qt,{emoji:"\u{1F496}"})),p.createElement(Pe,null,T&&p.createElement(sn,{sx:{flexDirection:"column"}},p.createElement(Rn,{onClick:I,variant:"chunky"},"Accept Request"))),!u&&l&&p.createElement("section",{className:"actions",style:{paddingBottom:"6px"}},p.createElement(Rn,{variant:"chunky",onClick:R},v?p.createElement(p.Fragment,null,"Thanked ",p.createElement(qt,{emoji:"\u{1F496}"})):p.createElement(p.Fragment,null,"Thank ",p.createElement(qt,{emoji:"\u{1F496}"}))),h>0&&p.createElement("div",{className:"thanks-count"},p.createElement("p",null,"Thanked ",h," ",m," ",p.createElement(qt,{emoji:"\u{1F496}"})))),!u&&c&&P&&p.createElement(Pe,null,p.createElement(Fn,{sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"12px!important",color:"gray.4"}},P),p.createElement(Pe,null,p.createElement(Rn,{variant:"chunky",onClick:k},"Jump to Cursor"))),!u&&d>=xt.MEMBER&&f>=xt.MEMBER&&f>=d&&p.createElement(Pe,{className:"danger-zone"},p.createElement(Rn,{variant:"chunky",onClick:U},"Remove from Project ",p.createElement(qt,{icon:"wave"}))),d<xt.MEMBER&&!u&&f>=xt.MEMBER&&p.createElement(Pe,null,p.createElement(Rn,{variant:"chunky",onClick:A},"Invite to Edit ",p.createElement(qt,{icon:"thumbsUp"}))),f<xt.MEMBER&&u&&_&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button button-small button-secondary",onClick:L},w?"Join This Team Project":"Request to Join Project"))),u&&f>=xt.MEMBER&&S&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:O},"Leave this Project ",p.createElement(qt,{icon:"wave"})))))))}function C4e({currentUser:t}){const[e]=NSe();return p.createElement(p.Fragment,null,e.filter(n=>n.id!==t.id).map(n=>p.createElement(Pe,{key:n.id()},p.createElement(T4e,{user:n}))))}function M4e(){const t=ve(),e=V(t.userIsLoggingIn),n=V(t.currentUserIsLoggedIn),i=V(t.currentFileInfo),o=V(t.projectSearchBoxValue),s=V(t.currentUser),a=Gu(),l=V(s.userAvatarUrl),c=V(t.currentProject),u=V(c==null?void 0:c.privacy),d=t.projectIsMemberOrMoreForCurrentUser(),f=u==="public"||s.isSupport()||d&&(a==null?void 0:a.isProUser),h=()=>{t.closeAllPopOvers(),t.projectSearchPopVisible(!0)};return p.createElement(qv,{as:"header",gap:2,sx:{alignItems:"center",marginY:[2,3,3],marginX:3}},p.createElement(Pe,{sx:{gridColumn:["1 / span 1"],gridRow:["1","1"]}},p.createElement("a",{href:"/dashboard"},p.createElement(QQ,{sx:{display:"block",height:"16px"}}))),p.createElement(sn,{sx:{gridColumn:["2 / span 10","2 / span 6"],gridRow:["1","1"]}},p.createElement(f2,{id:"project-search-input",className:"search-input opens-pop-over",sx:{width:"100%",border:"1px solid",borderColor:"gray.2","::placeholder":{color:"gray.3"},padding:3},placeholder:i?i.path:"Project search",type:"text",name:"search",onFocus:()=>{h()},onBlur:()=>{},onClick:()=>{h()},onChange:v=>{h(),t.projectSearchBoxValue(v.target.value)},value:o,autoComplete:"off","aria-label":"Project search"}),p.createElement(s4e,null)),p.createElement(sn,{sx:{gap:2,gridRow:["2","1"],gridColumn:["1 / span 12","8 / span 3"],flexDirection:["row"],alignItems:"stretch",justifyContent:"center"}},p.createElement(mj,de({},Xf)),p.createElement(Ci,de({icon:p.createElement(qt,{emoji:"\u26A1"}),onClick:()=>{f&&(t.closeAllPopOvers(),t.remixCurrentProject())},disabled:!f},Xf),"Remix"),n&&c&&p.createElement(cI,{title:"Share Project",passThroughTrigger:p.createElement(Ci,de({icon:p.createElement(eee,{sx:{marginTop:"3px"}},p.createElement(Ywe,null))},w4e),"Share")},()=>p.createElement(_U,{currentProject:c}))),p.createElement(Pe,{sx:{paddingX:2,gridRow:["2","1"],gridColumn:["11 / span 3","10 / span 2"],justifySelf:"end"}},p.createElement(sn,null,e&&p.createElement(mn,null),n&&p.createElement(Pe,null,p.createElement(Dd,null,p.createElement(Fd,null,p.createElement(Ud,{src:l,styles:{cursor:"pointer",height:"32px",width:"32px"}})," ",p.createElement(PF,{style:{position:"relative",top:"5px"}})),p.createElement(jd,{sx:{minWidth:"250px",paddingBottom:"12px"}},p.createElement(Bd,{variant:"none",sx:{textDecoration:"none","&:hover, &:focus":{backgroundColor:"var(--colors-secondaryBackground)"}},href:`/@${s.login()}`},p.createElement(sn,{sx:{gap:3,alignItems:"top",padding:3}},p.createElement(Ud,{src:l,size:32,styles:{marginTop:1}}),p.createElement(sn,{sx:{flexDirection:"column"}},p.createElement(Pe,null,p.createElement(Fn,{sx:{fontWeight:"bold",display:"block"}},s.name()),p.createElement(Fn,{style:{fontSize:"14px",fontWeight:400,marginLeft:"-1px",color:""}},"@",s.login()))))),p.createElement(S4e,{currentUser:s})))))),p.createElement(Pe,{sx:{gridRow:["1","1"],gridColumn:["12 / span 2","8 / span 1"]}},p.createElement(sn,{sx:{justifySelf:"end","div:nth-child(n+2)":{marginLeft:"-10px"}}},p.createElement(C4e,{currentUser:s}))),p.createElement(USe,null),p.createElement(HSe,null),p.createElement(WSe,null),p.createElement(v4e,null),p.createElement(_4e,null),p.createElement(b4e,null))}function A4e(){const t=ve();return V(t.editorIsEmbedded)?null:p.createElement(p.Fragment,null,p.createElement(M4e,null))}var P4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R4e=vI(function(t){return P4e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),L4e=R4e,I4e=function(e){return e!=="theme"},gj=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?L4e:I4e},vj=function(e,n,i){var o;if(n){var s=n.shouldForwardProp;o=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},O4e=function(){return null},N4e=function t(e,n){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=vj(e,n,i),c=l||gj(o),u=!c("as");return function(){var d=arguments,f=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var h=d.length,v=1;v<h;v++)f.push(d[v],d[0][v])}var m=L2e(function(_,S,E){var w=u&&_.as||o,T="",C=[],P=_;if(_.theme==null){P={};for(var R in _)P[R]=_[R];P.theme=K.exports.useContext(I2e)}typeof _.className=="string"?T=T2e(S.registered,C,_.className):_.className!=null&&(T=_.className+" ");var A=GF(f.concat(C),S.registered,P);C2e(S,A,typeof w=="string"),T+=S.key+"-"+A.name,a!==void 0&&(T+=" "+a);var L=u&&l===void 0?gj(w):c,k={};for(var U in _)u&&U==="as"||L(U)&&(k[U]=_[U]);k.className=T,k.ref=E;var O=K.exports.createElement(w,k),I=K.exports.createElement(O4e,null);return K.exports.createElement(K.exports.Fragment,null,I,O)});return m.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=f,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(_,S){return t(_,fs({},n,S,{shouldForwardProp:vj(m,S,!0)})).apply(void 0,f)},m}},k4e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],j4=N4e.bind();k4e.forEach(function(t){j4[t]=j4(t)});function D4e({template:t,templateName:e}){const{createNotification:n,removeNotification:i}=Bl(),o=ve(),s=`notify${e}`,a=o[s],l=V(a),[c,u]=K.exports.useState(null);return K.exports.useEffect(()=>{const d=Boolean(l),f=c!==null;if(d===!0&&f===!1){const h=n(v=>p.createElement(t,Ge(de({application:o},v),{"data-testid":s,onAnimationEnd:()=>{v.onClose(),a(!1)},onClose:()=>{v.onClose(),a(!1)}}))).id;u(h)}else d===!1&&f===!0&&(i(c),u(null))},[o,n,c,s,a,i,u,l,t]),null}const F4e=["Click \u201CShow\u201D to see your app","Drag in images and files to add them to your project","Search for and add third party libraries in package.json","Securely store app secrets and config in .env","Collaborate live with friends by inviting them to your project","Rewind to fix mistakes and catch up on changes",'Turn your code into a perfectly formatted masterpiece with the "Format This File" button'],U4e=$e.p`
  position: absolute;
  bottom: 45px;
  font-size: 12px;
  margin: 0;
  padding: 0 2rem;
  text-align: center;
  color: var(--variable-shim-text-on-secondary-background);

  a {
    color: inherit;
  }
`;function j4e(){const t=ve(),e=V(t.projectIsLoaded),n=K.exports.useRef();return n.current||(n.current=WD(F4e)),e?null:p.createElement("section",{className:"blank-slate blank-slate-full-width"},p.createElement("div",{className:"welcome-message"},p.createElement("p",null,p.createElement("strong",null,"Loading Project")),p.createElement(mn,null),p.createElement("p",null,p.createElement("em",null,"Glitch Tip!"),p.createElement("br",null),n.current)),p.createElement(U4e,null,"This site is protected by reCAPTCHA and the Google ",p.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and"," ",p.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply."))}function B4e(){const t=ve(),e=V(t.currentUserIsLoggedIn),n=V(t.userIsLoggingIn),i=V(t.editorIsEmbedded),o=V(t.newStuffNotificationVisible)&&!i,s=V(t.projectIsMemberOrMoreForCurrentUser),a=lU("(max-width: 580px)"),l=c=>{t.analytics.track("Pupdate Viewed",{clickLocation:"Editor"}),t.newStuffNotificationVisible(!1),t.newStuffOverlayVisible(!0),c.stopPropagation()};return p.createElement("footer",{className:"footer-options"},a&&n&&p.createElement(mn,null),a&&!i&&!e&&s&&p.createElement(Rn,de({as:"a",external:!0,href:"//glitch.com/signin",onClick:t.setDestinationAfterAuth},Xf),"Sign In"),o&&p.createElement("div",{className:"button-wrap new-stuff opens-pop-over",role:"button",onClick:l},p.createElement("figure",{className:"new-stuff-doggo","data-tooltip":"New","data-tooltip-top":!0,"data-tooltip-notification":!0,"data-tooltip-persistent":!0})))}function V4e({children:t,accept:e,multiple:n,onSelection:i}){const o=K.exports.useRef();return p.createElement(p.Fragment,null,p.createElement(Ci,{icon:p.createElement(qt,{emoji:"\u{1F4E4}",sx:{marginTop:"4px"}}),variant:"blank",onClick:()=>{o.current.click()},sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},t),p.createElement("input",{ref:o,type:"file",onChange:s=>{i(Array.from(s.target.files))},accept:e,multiple:n,hidden:!0}))}const H4e=$e.span`
  font-size: 12px;
  margin-left: 5px;
`,z4e="https://help.glitch.com/hc/en-us/articles/16287554643725-Asset-Visibility";function G4e(){const t=ve(),e=V(t.currentProject),n=V(e==null?void 0:e.privacy),i=V(t.projectIsReadOnlyForCurrentUser),o=K.exports.useRef(),[s]=uo();return o.current||(o.current=new J_(t)),i?null:p.createElement(sn,{sx:{backgroundColor:"backgroundSecondary",alignContent:"center",alignItems:"center",gap:2,height:"48px",minHeight:"48px",marginBottom:3}},p.createElement(Pe,{sx:{backgroundColor:"background",paddingY:"16px",paddingX:"16px",fontSize:"13px",fontWeight:"bold",minHeight:"48px",color:s==="dark"?"text.0":"text.1"}},"Assets"),p.createElement(sn,{sx:{gap:2,alignItems:"flex-start",paddingLeft:"12px",fontFamily:"body",lineHeight:"20px"}},p.createElement(V4e,{accept:"image/*,audio/*,video/*,model/*,.glb,.gltf,.ttf,.otf,.woff,.woff2,.eot",onSelection:a=>{t.closeAllPopOvers(),a.forEach(l=>{o.current.addAssetFile(l)})}},"Upload an Asset"),n!=="public"?p.createElement(H4e,null,"*URLs for assets are public.",p.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:z4e},"Learn more"),"."):null))}function $4e(){return p.createElement("div",{className:"blank-slate blank-slate-with-editor-helper"},p.createElement("div",{className:"welcome-message welcome-message-with-image"},p.createElement("div",null,p.createElement("p",null,p.createElement("strong",null,"No Assets Yet")),p.createElement("p",null,"Drag files here to use them in your project.",p.createElement("br",null),"Add images, music, and more."))))}var Jf={};function W4e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var q4e=function(t,e,n,i){e=e||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(e);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var u=t[c].replace(s,"%20"),d=u.indexOf(n),f,h,v,m;d>=0?(f=u.substr(0,d),h=u.substr(d+1)):(f=u,h=""),v=decodeURIComponent(f),m=decodeURIComponent(h),W4e(o,v)?Array.isArray(o[v])?o[v].push(m):o[v]=[o[v],m]:o[v]=m}return o},Pg=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Y4e=function(t,e,n,i){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(Pg(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(Pg(a))}).join(e):s+encodeURIComponent(Pg(t[o]))}).join(e):i?encodeURIComponent(Pg(i))+n+encodeURIComponent(Pg(t)):""};Jf.decode=Jf.parse=q4e;Jf.encode=Jf.stringify=Y4e;var eb={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */eb.exports=Q4e;eb.exports.format=yj;eb.exports.parse=_j;var K4e=/\B(?=(\d{3})+(?!\d))/g,X4e=/(?:\.0*|(\.[^0]+)0+)$/,Zf={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:(1<<30)*1024},J4e=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Z4e=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function Q4e(t,e){return typeof t=="string"?_j(t):typeof t=="number"?yj(t,e):null}function yj(t,e){if(!J4e(t))return null;var n=Math.abs(t),i=e&&e.thousandsSeparator||"",o=e&&e.unitSeparator||"",s=e&&e.decimalPlaces!==void 0?e.decimalPlaces:2,a=Boolean(e&&e.fixedDecimals),l="B";n>=Zf.tb?l="TB":n>=Zf.gb?l="GB":n>=Zf.mb?l="MB":n>=Zf.kb&&(l="kB");var c=t/Zf[l.toLowerCase()],u=c.toFixed(s);return a||(u=u.replace(X4e,"$1")),i&&(u=u.replace(K4e,i)),u+o+l}function _j(t){if(typeof t=="number"&&!isNaN(t))return t;if(typeof t!="string")return null;var e=Z4e.exec(t),n,i="b";return e?(n=parseFloat(e[1]),i=e[4].toLowerCase()):(n=parseInt(t,10),i="b"),Math.floor(Zf[i]*n)}var B4=eb.exports;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const bj=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,V4=(t,e,n=null)=>{for(;e!==n;){const i=e.nextSibling;t.removeChild(e),e=i}};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Ja=`{{lit-${String(Math.random()).slice(2)}}}`,Ej=`<!--${Ja}-->`,wj=new RegExp(`${Ja}|${Ej}`),Rg="$lit$";class xj{constructor(e,n){this.parts=[],this.element=n;const i=[],o=[],s=document.createTreeWalker(n.content,133,null,!1);let a=0,l=-1,c=0;const{strings:u,values:{length:d}}=e;for(;c<d;){const f=s.nextNode();if(f===null){s.currentNode=o.pop();continue}if(l++,f.nodeType===1){if(f.hasAttributes()){const h=f.attributes,{length:v}=h;let m=0;for(let _=0;_<v;_++)Sj(h[_].name,Rg)&&m++;for(;m-- >0;){const _=u[c],S=H4.exec(_)[2],E=S.toLowerCase()+Rg,w=f.getAttribute(E);f.removeAttribute(E);const T=w.split(wj);this.parts.push({type:"attribute",index:l,name:S,strings:T}),c+=T.length-1}}f.tagName==="TEMPLATE"&&(o.push(f),s.currentNode=f.content)}else if(f.nodeType===3){const h=f.data;if(h.indexOf(Ja)>=0){const v=f.parentNode,m=h.split(wj),_=m.length-1;for(let S=0;S<_;S++){let E,w=m[S];if(w==="")E=xc();else{const T=H4.exec(w);T!==null&&Sj(T[2],Rg)&&(w=w.slice(0,T.index)+T[1]+T[2].slice(0,-Rg.length)+T[3]),E=document.createTextNode(w)}v.insertBefore(E,f),this.parts.push({type:"node",index:++l})}m[_]===""?(v.insertBefore(xc(),f),i.push(f)):f.data=m[_],c+=_}}else if(f.nodeType===8)if(f.data===Ja){const h=f.parentNode;(f.previousSibling===null||l===a)&&(l++,h.insertBefore(xc(),f)),a=l,this.parts.push({type:"node",index:l}),f.nextSibling===null?f.data="":(i.push(f),l--),c++}else{let h=-1;for(;(h=f.data.indexOf(Ja,h+1))!==-1;)this.parts.push({type:"node",index:-1}),c++}}for(const f of i)f.parentNode.removeChild(f)}}const Sj=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},Tj=t=>t.index!==-1,xc=()=>document.createComment(""),H4=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const z4=133;function Cj(t,e){const{element:{content:n},parts:i}=t,o=document.createTreeWalker(n,z4,null,!1);let s=Lg(i),a=i[s],l=-1,c=0;const u=[];let d=null;for(;o.nextNode();){l++;const f=o.currentNode;for(f.previousSibling===d&&(d=null),e.has(f)&&(u.push(f),d===null&&(d=f)),d!==null&&c++;a!==void 0&&a.index===l;)a.index=d!==null?-1:a.index-c,s=Lg(i,s),a=i[s]}u.forEach(f=>f.parentNode.removeChild(f))}const eCe=t=>{let e=t.nodeType===11?0:1;const n=document.createTreeWalker(t,z4,null,!1);for(;n.nextNode();)e++;return e},Lg=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const i=t[n];if(Tj(i))return n}return-1};function tCe(t,e,n=null){const{element:{content:i},parts:o}=t;if(n==null){i.appendChild(e);return}const s=document.createTreeWalker(i,z4,null,!1);let a=Lg(o),l=0,c=-1;for(;s.nextNode();)for(c++,s.currentNode===n&&(l=eCe(e),n.parentNode.insertBefore(e,n));a!==-1&&o[a].index===c;){if(l>0){for(;a!==-1;)o[a].index+=l,a=Lg(o,a);return}a=Lg(o,a)}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const nCe=new WeakMap,Ig=t=>typeof t=="function"&&nCe.has(t);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const To={},Mj={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class G4{constructor(e,n,i){this.__parts=[],this.template=e,this.processor=n,this.options=i}update(e){let n=0;for(const i of this.__parts)i!==void 0&&i.setValue(e[n]),n++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const e=bj?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],i=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let s=0,a=0,l,c=o.nextNode();for(;s<i.length;){if(l=i[s],!Tj(l)){this.__parts.push(void 0),s++;continue}for(;a<l.index;)a++,c.nodeName==="TEMPLATE"&&(n.push(c),o.currentNode=c.content),(c=o.nextNode())===null&&(o.currentNode=n.pop(),c=o.nextNode());if(l.type==="node"){const u=this.processor.handleTextExpression(this.options);u.insertAfterNode(c.previousSibling),this.__parts.push(u)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,l.name,l.strings,this.options));s++}return bj&&(document.adoptNode(e),customElements.upgrade(e)),e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Aj=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),rCe=` ${Ja} `;class Pj{constructor(e,n,i,o){this.strings=e,this.values=n,this.type=i,this.processor=o}getHTML(){const e=this.strings.length-1;let n="",i=!1;for(let o=0;o<e;o++){const s=this.strings[o],a=s.lastIndexOf("<!--");i=(a>-1||i)&&s.indexOf("-->",a+1)===-1;const l=H4.exec(s);l===null?n+=s+(i?rCe:Ej):n+=s.substr(0,l.index)+l[1]+l[2]+Rg+l[3]+Ja}return n+=this.strings[e],n}getTemplateElement(){const e=document.createElement("template");let n=this.getHTML();return Aj!==void 0&&(n=Aj.createHTML(n)),e.innerHTML=n,e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const $4=t=>t===null||!(typeof t=="object"||typeof t=="function"),W4=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]);class Rj{constructor(e,n,i){this.dirty=!0,this.element=e,this.name=n,this.strings=i,this.parts=[];for(let o=0;o<i.length-1;o++)this.parts[o]=this._createPart()}_createPart(){return new Lj(this)}_getValue(){const e=this.strings,n=e.length-1,i=this.parts;if(n===1&&e[0]===""&&e[1]===""){const s=i[0].value;if(typeof s=="symbol")return String(s);if(typeof s=="string"||!W4(s))return s}let o="";for(let s=0;s<n;s++){o+=e[s];const a=i[s];if(a!==void 0){const l=a.value;if($4(l)||!W4(l))o+=typeof l=="string"?l:String(l);else for(const c of l)o+=typeof c=="string"?c:String(c)}}return o+=e[n],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Lj{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==To&&(!$4(e)||e!==this.value)&&(this.value=e,Ig(e)||(this.committer.dirty=!0))}commit(){for(;Ig(this.value);){const e=this.value;this.value=To,e(this)}this.value!==To&&this.committer.commit()}}class tb{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(xc()),this.endNode=e.appendChild(xc())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=xc()),e.__insert(this.endNode=xc())}insertAfterPart(e){e.__insert(this.startNode=xc()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Ig(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=To,n(this)}const e=this.__pendingValue;e!==To&&($4(e)?e!==this.value&&this.__commitText(e):e instanceof Pj?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):W4(e)?this.__commitIterable(e):e===Mj?(this.value=Mj,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const n=this.startNode.nextSibling;e=e==null?"":e;const i=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const n=this.options.templateFactory(e);if(this.value instanceof G4&&this.value.template===n)this.value.update(e.values);else{const i=new G4(n,e.processor,this.options),o=i._clone();i.update(e.values),this.__commitNode(o),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let i=0,o;for(const s of e)o=n[i],o===void 0&&(o=new tb(this.options),n.push(o),i===0?o.appendIntoPart(this):o.insertAfterPart(n[i-1])),o.setValue(s),o.commit(),i++;i<n.length&&(n.length=i,this.clear(o&&o.endNode))}clear(e=this.startNode){V4(this.startNode.parentNode,e.nextSibling,this.endNode)}}class iCe{constructor(e,n,i){if(this.value=void 0,this.__pendingValue=void 0,i.length!==2||i[0]!==""||i[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;Ig(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=To,n(this)}if(this.__pendingValue===To)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=To}}class sCe extends Rj{constructor(e,n,i){super(e,n,i);this.single=i.length===2&&i[0]===""&&i[1]===""}_createPart(){return new oCe(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class oCe extends Lj{}let Ij=!1;(()=>{try{const t={get capture(){return Ij=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{}})();class aCe{constructor(e,n,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=o=>this.handleEvent(o)}setValue(e){this.__pendingValue=e}commit(){for(;Ig(this.__pendingValue);){const s=this.__pendingValue;this.__pendingValue=To,s(this)}if(this.__pendingValue===To)return;const e=this.__pendingValue,n=this.value,i=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=e!=null&&(n==null||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=lCe(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=To}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const lCe=t=>t&&(Ij?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function cCe(t){let e=Og.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},Og.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;const i=t.strings.join(Ja);return n=e.keyString.get(i),n===void 0&&(n=new xj(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const Og=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Qf=new WeakMap,Oj=(t,e,n)=>{let i=Qf.get(e);i===void 0&&(V4(e,e.firstChild),Qf.set(e,i=new tb(Object.assign({templateFactory:cCe},n))),i.appendInto(e)),i.setValue(t),i.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class uCe{handleAttributeExpressions(e,n,i,o){const s=n[0];return s==="."?new sCe(e,n.slice(1),i).parts:s==="@"?[new aCe(e,n.slice(1),o.eventContext)]:s==="?"?[new iCe(e,n.slice(1),i)]:new Rj(e,n,i).parts}handleTextExpression(e){return new tb(e)}}const dCe=new uCe;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const nb=(t,...e)=>new Pj(t,e,"html",dCe);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Nj=(t,e)=>`${t}--${e}`;let rb=!0;typeof window.ShadyCSS=="undefined"?rb=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),rb=!1);const fCe=t=>e=>{const n=Nj(e.type,t);let i=Og.get(n);i===void 0&&(i={stringsArray:new WeakMap,keyString:new Map},Og.set(n,i));let o=i.stringsArray.get(e.strings);if(o!==void 0)return o;const s=e.strings.join(Ja);if(o=i.keyString.get(s),o===void 0){const a=e.getTemplateElement();rb&&window.ShadyCSS.prepareTemplateDom(a,t),o=new xj(e,a),i.keyString.set(s,o)}return i.stringsArray.set(e.strings,o),o},hCe=["html","svg"],pCe=t=>{hCe.forEach(e=>{const n=Og.get(Nj(e,t));n!==void 0&&n.keyString.forEach(i=>{const{element:{content:o}}=i,s=new Set;Array.from(o.querySelectorAll("style")).forEach(a=>{s.add(a)}),Cj(i,s)})})},kj=new Set,mCe=(t,e,n)=>{kj.add(t);const i=n?n.element:document.createElement("template"),o=e.querySelectorAll("style"),{length:s}=o;if(s===0){window.ShadyCSS.prepareTemplateStyles(i,t);return}const a=document.createElement("style");for(let u=0;u<s;u++){const d=o[u];d.parentNode.removeChild(d),a.textContent+=d.textContent}pCe(t);const l=i.content;n?tCe(n,a,l.firstChild):l.insertBefore(a,l.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const c=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&c!==null)e.insertBefore(c.cloneNode(!0),e.firstChild);else if(n){l.insertBefore(a,l.firstChild);const u=new Set;u.add(a),Cj(n,u)}},gCe=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,o=Qf.has(e),s=rb&&e.nodeType===11&&!!e.host,a=s&&!kj.has(i),l=a?document.createDocumentFragment():e;if(Oj(t,l,Object.assign({templateFactory:fCe(i)},n)),a){const c=Qf.get(l);Qf.delete(l);const u=c.value instanceof G4?c.value.template:void 0;mCe(i,l,u),V4(e,e.firstChild),e.appendChild(l),Qf.set(e,c)}!o&&s&&window.ShadyCSS.styleElement(e.host)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var Dj;window.JSCompiler_renameProperty=(t,e)=>t;const q4={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},Fj=(t,e)=>e!==t&&(e===e||t===t),Y4={attribute:!0,type:String,converter:q4,reflect:!1,hasChanged:Fj},K4=1,X4=1<<2,J4=1<<3,Z4=1<<4,Q4="finalized";class eC extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((n,i)=>{const o=this._attributeNameForProperty(i,n);o!==void 0&&(this._attributeToPropertyMap.set(o,i),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,i)=>this._classProperties.set(i,n))}}static createProperty(e,n=Y4){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;const i=typeof e=="symbol"?Symbol():`__${e}`,o=this.getPropertyDescriptor(e,i,n);o!==void 0&&Object.defineProperty(this.prototype,e,o)}static getPropertyDescriptor(e,n,i){return{get(){return this[n]},set(o){const s=this[e];this[n]=o,this.requestUpdateInternal(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||Y4}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(Q4)||e.finalize(),this[Q4]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const n=this.properties,i=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(const o of i)this.createProperty(o,n[o])}}static _attributeNameForProperty(e,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,i=Fj){return i(e,n)}static _propertyValueFromAttribute(e,n){const i=n.type,o=n.converter||q4,s=typeof o=="function"?o:o.fromAttribute;return s?s(e,i):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;const i=n.type,o=n.converter;return(o&&o.toAttribute||q4.toAttribute)(e,i)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){const i=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,i)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,i){n!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,n,i=Y4){const o=this.constructor,s=o._attributeNameForProperty(e,i);if(s!==void 0){const a=o._propertyValueToAttribute(n,i);if(a===void 0)return;this._updateState=this._updateState|J4,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._updateState=this._updateState&~J4}}_attributeToProperty(e,n){if(this._updateState&J4)return;const i=this.constructor,o=i._attributeToPropertyMap.get(e);if(o!==void 0){const s=i.getPropertyOptions(o);this._updateState=this._updateState|Z4,this[o]=i._propertyValueFromAttribute(n,s),this._updateState=this._updateState&~Z4}}requestUpdateInternal(e,n,i){let o=!0;if(e!==void 0){const s=this.constructor;i=i||s.getPropertyOptions(e),s._valueHasChanged(this[e],n,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),i.reflect===!0&&!(this._updateState&Z4)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):o=!1}!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|X4;try{await this._updatePromise}catch{}const e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&X4}get hasUpdated(){return this._updateState&K4}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(i){throw e=!1,this._markUpdated(),i}e&&(this._updateState&K4||(this._updateState=this._updateState|K4,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~X4}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,i)=>this._propertyToAttribute(i,this[i],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}Dj=Q4;eC[Dj]=!0;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const vCe=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},yCe=(t,e,n)=>{e.constructor.createProperty(n,t)};function Nt(t){return(e,n)=>n!==void 0?yCe(t,e,n):vCe(t,e)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const tC=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Uj=Symbol();class _Ce{constructor(e,n){if(n!==Uj)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(tC?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const bCe=t=>new _Ce(String(t),Uj);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const jj={};class nC extends eC{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const n=(s,a)=>s.reduceRight((l,c)=>Array.isArray(c)?n(c,l):(l.add(c),l),a),i=n(e,new Set),o=[];i.forEach(s=>o.unshift(s)),this._styles=o}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!tC){const i=Array.prototype.slice.call(n.cssRules).reduce((o,s)=>o+s.cssText,"");return bCe(i)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):tC?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){const n=this.render();super.update(e),n!==jj&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(i=>{const o=document.createElement("style");o.textContent=i.cssText,this.renderRoot.appendChild(o)}))}render(){return jj}}nC.finalized=!0;nC.render=gCe;nC.shadowRootOptions={mode:"open"};/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const rC="136",ECe=0,Bj=1,wCe=2,Vj=1,Hj=2,Ng=3,Za=0,dr=1,Qa=2,zj=1,el=0,kg=1,Gj=2,$j=3,Wj=4,xCe=5,eh=100,SCe=101,TCe=102,qj=103,Yj=104,CCe=200,MCe=201,ACe=202,PCe=203,Kj=204,Xj=205,RCe=206,LCe=207,ICe=208,OCe=209,NCe=210,kCe=0,DCe=1,FCe=2,iC=3,UCe=4,jCe=5,BCe=6,VCe=7,ib=0,HCe=1,zCe=2,tl=0,GCe=1,$Ce=2,WCe=3,Jj=4,qCe=5,Zj=300,Dg=301,Fg=302,sb=303,sC=304,ob=306,oC=307,nl=1e3,Zr=1001,Ug=1002,br=1003,ab=1004,lb=1005,In=1006,aC=1007,rl=1008,aa=1009,YCe=1010,KCe=1011,jg=1012,XCe=1013,cb=1014,Ks=1015,ys=1016,JCe=1017,ZCe=1018,QCe=1019,th=1020,eMe=1021,Xs=1022,er=1023,tMe=1024,nMe=1025,qu=1026,nh=1027,rMe=1028,iMe=1029,sMe=1030,oMe=1031,aMe=1032,lMe=1033,lC=33776,Qj=33777,eB=33778,cC=33779,uC=35840,tB=35841,dC=35842,nB=35843,rB=36196,fC=37492,hC=37496,iB=37808,cMe=37809,uMe=37810,dMe=37811,fMe=37812,hMe=37813,pMe=37814,mMe=37815,gMe=37816,vMe=37817,yMe=37818,_Me=37819,bMe=37820,EMe=37821,sB=36492,wMe=37840,xMe=37841,SMe=37842,TMe=37843,CMe=37844,MMe=37845,AMe=37846,PMe=37847,RMe=37848,LMe=37849,IMe=37850,OMe=37851,NMe=37852,kMe=37853,oB=2200,pC=2201,mC=2202,rh=2300,Yu=2301,gC=2302,ih=2400,sh=2401,ub=2402,vC=2500,aB=2501,DMe=0,FMe=1,lB=2,Or=3e3,Zi=3001,UMe=3200,jMe=3201,Ku=0,BMe=1,yC=7680,VMe=519,Bg=35044,db=35048,cB="300 es";class _s{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const o=i.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,e);e.target=null}}}const Qr=[];for(let t=0;t<256;t++)Qr[t]=(t<16?"0":"")+t.toString(16);let fb=1234567;const Vg=Math.PI/180,Hg=180/Math.PI;function Js(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qr[t&255]+Qr[t>>8&255]+Qr[t>>16&255]+Qr[t>>24&255]+"-"+Qr[e&255]+Qr[e>>8&255]+"-"+Qr[e>>16&15|64]+Qr[e>>24&255]+"-"+Qr[n&63|128]+Qr[n>>8&255]+"-"+Qr[n>>16&255]+Qr[n>>24&255]+Qr[i&255]+Qr[i>>8&255]+Qr[i>>16&255]+Qr[i>>24&255]).toUpperCase()}function Pi(t,e,n){return Math.max(e,Math.min(n,t))}function _C(t,e){return(t%e+e)%e}function HMe(t,e,n,i,o){return i+(t-e)*(o-i)/(n-e)}function zMe(t,e,n){return t!==e?(n-t)/(e-t):0}function zg(t,e,n){return(1-n)*t+n*e}function GMe(t,e,n,i){return zg(t,e,1-Math.exp(-n*i))}function $Me(t,e=1){return e-Math.abs(_C(t,e*2)-e)}function WMe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function qMe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function YMe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function KMe(t,e){return t+Math.random()*(e-t)}function XMe(t){return t*(.5-Math.random())}function JMe(t){return t!==void 0&&(fb=t%2147483647),fb=fb*16807%2147483647,(fb-1)/2147483646}function ZMe(t){return t*Vg}function QMe(t){return t*Hg}function bC(t){return(t&t-1)==0&&t!==0}function uB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function dB(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function eAe(t,e,n,i,o){const s=Math.cos,a=Math.sin,l=s(n/2),c=a(n/2),u=s((e+i)/2),d=a((e+i)/2),f=s((e-i)/2),h=a((e-i)/2),v=s((i-e)/2),m=a((i-e)/2);switch(o){case"XYX":t.set(l*d,c*f,c*h,l*u);break;case"YZY":t.set(c*h,l*d,c*f,l*u);break;case"ZXZ":t.set(c*f,c*h,l*d,l*u);break;case"XZX":t.set(l*d,c*m,c*v,l*u);break;case"YXY":t.set(c*v,l*d,c*m,l*u);break;case"ZYZ":t.set(c*m,c*v,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}var fB=Object.freeze({__proto__:null,DEG2RAD:Vg,RAD2DEG:Hg,generateUUID:Js,clamp:Pi,euclideanModulo:_C,mapLinear:HMe,inverseLerp:zMe,lerp:zg,damp:GMe,pingpong:$Me,smoothstep:WMe,smootherstep:qMe,randInt:YMe,randFloat:KMe,randFloatSpread:XMe,seededRandom:JMe,degToRad:ZMe,radToDeg:QMe,isPowerOfTwo:bC,ceilPowerOfTwo:uB,floorPowerOfTwo:dB,setQuaternionFromProperEuler:eAe});class Le{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6],this.y=o[1]*n+o[4]*i+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),o=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*o+e.x,this.y=s*o+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Le.prototype.isVector2=!0;class Nr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,o,s,a,l,c,u){const d=this.elements;return d[0]=e,d[1]=o,d[2]=l,d[3]=n,d[4]=s,d[5]=c,d[6]=i,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,a=i[0],l=i[3],c=i[6],u=i[1],d=i[4],f=i[7],h=i[2],v=i[5],m=i[8],_=o[0],S=o[3],E=o[6],w=o[1],T=o[4],C=o[7],P=o[2],R=o[5],A=o[8];return s[0]=a*_+l*w+c*P,s[3]=a*S+l*T+c*R,s[6]=a*E+l*C+c*A,s[1]=u*_+d*w+f*P,s[4]=u*S+d*T+f*R,s[7]=u*E+d*C+f*A,s[2]=h*_+v*w+m*P,s[5]=h*S+v*T+m*R,s[8]=h*E+v*C+m*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*l*u-i*s*d+i*l*c+o*s*u-o*a*c}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=d*a-l*u,h=l*c-d*s,v=u*s-a*c,m=n*f+i*h+o*v;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/m;return e[0]=f*_,e[1]=(o*u-d*i)*_,e[2]=(l*i-o*a)*_,e[3]=h*_,e[4]=(d*n-o*c)*_,e[5]=(o*s-l*n)*_,e[6]=v*_,e[7]=(i*c-u*n)*_,e[8]=(a*n-i*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,o,s,a,l){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*l)+a+e,-o*u,o*c,-o*(-u*a+c*l)+l+n,0,0,1),this}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),o=this.elements,s=o[0],a=o[3],l=o[6],c=o[1],u=o[4],d=o[7];return o[0]=n*s+i*c,o[3]=n*a+i*u,o[6]=n*l+i*d,o[1]=-i*s+n*c,o[4]=-i*a+n*u,o[7]=-i*l+n*d,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<9;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Nr.prototype.isMatrix3=!0;function hB(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}function hb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}let oh;class ah{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{oh===void 0&&(oh=hb("canvas")),oh.width=e.width,oh.height=e.height;const i=oh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=oh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let tAe=0;class fr extends _s{constructor(e=fr.DEFAULT_IMAGE,n=fr.DEFAULT_MAPPING,i=Zr,o=Zr,s=In,a=rl,l=er,c=aa,u=1,d=Or){super();Object.defineProperty(this,"id",{value:tAe++}),this.uuid=Js(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const o=this.image;if(o.uuid===void 0&&(o.uuid=Js()),!n&&e.images[o.uuid]===void 0){let s;if(Array.isArray(o)){s=[];for(let a=0,l=o.length;a<l;a++)o[a].isDataTexture?s.push(EC(o[a].image)):s.push(EC(o[a]))}else s=EC(o);e.images[o.uuid]={uuid:o.uuid,url:s}}i.image=o.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case nl:e.x=e.x-Math.floor(e.x);break;case Zr:e.x=e.x<0?0:1;break;case Ug:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case nl:e.y=e.y-Math.floor(e.y);break;case Zr:e.y=e.y<0?0:1;break;case Ug:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}fr.DEFAULT_IMAGE=void 0;fr.DEFAULT_MAPPING=Zj;fr.prototype.isTexture=!0;function EC(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?ah.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class On{constructor(e=0,n=0,i=0,o=1){this.x=e,this.y=n,this.z=i,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,o){return this.x=e,this.y=n,this.z=i,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*o+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*o+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*o+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*o+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,o,s;const a=.01,l=.1,c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],v=c[5],m=c[9],_=c[2],S=c[6],E=c[10];if(Math.abs(d-h)<a&&Math.abs(f-_)<a&&Math.abs(m-S)<a){if(Math.abs(d+h)<l&&Math.abs(f+_)<l&&Math.abs(m+S)<l&&Math.abs(u+v+E-3)<l)return this.set(1,0,0,0),this;n=Math.PI;const T=(u+1)/2,C=(v+1)/2,P=(E+1)/2,R=(d+h)/4,A=(f+_)/4,L=(m+S)/4;return T>C&&T>P?T<a?(i=0,o=.707106781,s=.707106781):(i=Math.sqrt(T),o=R/i,s=A/i):C>P?C<a?(i=.707106781,o=0,s=.707106781):(o=Math.sqrt(C),i=R/o,s=L/o):P<a?(i=.707106781,o=.707106781,s=0):(s=Math.sqrt(P),i=A/s,o=L/s),this.set(i,o,s,n),this}let w=Math.sqrt((S-m)*(S-m)+(f-_)*(f-_)+(h-d)*(h-d));return Math.abs(w)<.001&&(w=1),this.x=(S-m)/w,this.y=(f-_)/w,this.z=(h-d)/w,this.w=Math.acos((u+v+E-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}On.prototype.isVector4=!0;class Qi extends _s{constructor(e,n,i={}){super();this.width=e,this.height=n,this.depth=1,this.scissor=new On(0,0,e,n),this.scissorTest=!1,this.viewport=new On(0,0,e,n),this.texture=new fr(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:n,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:In,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=de({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Qi.prototype.isWebGLRenderTarget=!0;class nAe extends Qi{constructor(e,n,i){super(e,n);const o=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=o.clone()}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let o=0,s=this.texture.length;o<s;o++)this.texture[o].image.width=e,this.texture[o].image.height=n,this.texture[o].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone();return this}}nAe.prototype.isWebGLMultipleRenderTargets=!0;class wC extends Qi{constructor(e,n,i={}){super(e,n,i);this.samples=4,this.ignoreDepthForMultisampleCopy=i.ignoreDepth!==void 0?i.ignoreDepth:!0,this.useRenderToTexture=i.useRenderToTexture!==void 0?i.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}wC.prototype.isWebGLMultisampleRenderTarget=!0;class Ri{constructor(e=0,n=0,i=0,o=1){this._x=e,this._y=n,this._z=i,this._w=o}static slerp(e,n,i,o){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,n,o)}static slerpFlat(e,n,i,o,s,a,l){let c=i[o+0],u=i[o+1],d=i[o+2],f=i[o+3];const h=s[a+0],v=s[a+1],m=s[a+2],_=s[a+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(l===1){e[n+0]=h,e[n+1]=v,e[n+2]=m,e[n+3]=_;return}if(f!==_||c!==h||u!==v||d!==m){let S=1-l;const E=c*h+u*v+d*m+f*_,w=E>=0?1:-1,T=1-E*E;if(T>Number.EPSILON){const P=Math.sqrt(T),R=Math.atan2(P,E*w);S=Math.sin(S*R)/P,l=Math.sin(l*R)/P}const C=l*w;if(c=c*S+h*C,u=u*S+v*C,d=d*S+m*C,f=f*S+_*C,S===1-l){const P=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=P,u*=P,d*=P,f*=P}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,o,s,a){const l=i[o],c=i[o+1],u=i[o+2],d=i[o+3],f=s[a],h=s[a+1],v=s[a+2],m=s[a+3];return e[n]=l*m+d*f+c*v-u*h,e[n+1]=c*m+d*h+u*f-l*v,e[n+2]=u*m+d*v+l*h-c*f,e[n+3]=d*m-l*f-c*h-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,o){return this._x=e,this._y=n,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,o=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(i/2),d=l(o/2),f=l(s/2),h=c(i/2),v=c(o/2),m=c(s/2);switch(a){case"XYZ":this._x=h*d*f+u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f-h*v*m;break;case"YXZ":this._x=h*d*f+u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f+h*v*m;break;case"ZXY":this._x=h*d*f-u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f-h*v*m;break;case"ZYX":this._x=h*d*f-u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f+h*v*m;break;case"YZX":this._x=h*d*f+u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f-h*v*m;break;case"XZY":this._x=h*d*f-u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f+h*v*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,o=Math.sin(i);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],o=n[4],s=n[8],a=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=i+l+f;if(h>0){const v=.5/Math.sqrt(h+1);this._w=.25/v,this._x=(d-c)*v,this._y=(s-u)*v,this._z=(a-o)*v}else if(i>l&&i>f){const v=2*Math.sqrt(1+i-l-f);this._w=(d-c)/v,this._x=.25*v,this._y=(o+a)/v,this._z=(s+u)/v}else if(l>f){const v=2*Math.sqrt(1+l-i-f);this._w=(s-u)/v,this._x=(o+a)/v,this._y=.25*v,this._z=(c+d)/v}else{const v=2*Math.sqrt(1+f-i-l);this._w=(a-o)/v,this._x=(s+u)/v,this._y=(c+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pi(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const o=Math.min(1,n/i);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,o=e._y,s=e._z,a=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=i*d+a*l+o*u-s*c,this._y=o*d+a*c+s*l-i*u,this._z=s*d+a*u+i*c-o*l,this._w=a*d-i*l-o*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,o=this._y,s=this._z,a=this._w;let l=a*e._w+i*e._x+o*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=o,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-n;return this._w=v*a+n*this._w,this._x=v*i+n*this._x,this._y=v*o+n*this._y,this._z=v*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=o*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(o),i*Math.sin(s),i*Math.cos(s),n*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ri.prototype.isQuaternion=!0;class ee{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*o,this.y=s[1]*n+s[4]*i+s[7]*o,this.z=s[2]*n+s[5]*i+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*o+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*o+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*o+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*o+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,o=this.z,s=e.x,a=e.y,l=e.z,c=e.w,u=c*n+a*o-l*i,d=c*i+l*n-s*o,f=c*o+s*i-a*n,h=-s*n-a*i-l*o;return this.x=u*c+h*-s+d*-l-f*-a,this.y=d*c+h*-a+f*-s-u*-l,this.z=f*c+h*-l+u*-a-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*o,this.y=s[1]*n+s[5]*i+s[9]*o,this.z=s[2]*n+s[6]*i+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,o=e.y,s=e.z,a=n.x,l=n.y,c=n.z;return this.x=o*c-s*l,this.y=s*a-i*c,this.z=i*l-o*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xC.copy(this).projectOnVector(e),this.sub(xC)}reflect(e){return this.sub(xC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Pi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return n*n+i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const o=Math.sin(n)*e;return this.x=o*Math.sin(i),this.y=Math.cos(n)*e,this.z=o*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ee.prototype.isVector3=!0;const xC=new ee,pB=new Ri;class Li{constructor(e=new ee(1/0,1/0,1/0),n=new ee(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,o=1/0,s=-1/0,a=-1/0,l=-1/0;for(let c=0,u=e.length;c<u;c+=3){const d=e[c],f=e[c+1],h=e[c+2];d<n&&(n=d),f<i&&(i=f),h<o&&(o=h),d>s&&(s=d),f>a&&(a=f),h>l&&(l=h)}return this.min.set(n,i,o),this.max.set(s,a,l),this}setFromBufferAttribute(e){let n=1/0,i=1/0,o=1/0,s=-1/0,a=-1/0,l=-1/0;for(let c=0,u=e.count;c<u;c++){const d=e.getX(c),f=e.getY(c),h=e.getZ(c);d<n&&(n=d),f<i&&(i=f),h<o&&(o=h),d>s&&(s=d),f>a&&(a=f),h>l&&(l=h)}return this.min.set(n,i,o),this.max.set(s,a,l),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Gg.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),SC.copy(n.boundingBox),SC.applyMatrix4(e.matrixWorld),this.union(SC));const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Gg),Gg.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($g),pb.subVectors(this.max,$g),lh.subVectors(e.a,$g),ch.subVectors(e.b,$g),uh.subVectors(e.c,$g),Sc.subVectors(ch,lh),Tc.subVectors(uh,ch),Xu.subVectors(lh,uh);let n=[0,-Sc.z,Sc.y,0,-Tc.z,Tc.y,0,-Xu.z,Xu.y,Sc.z,0,-Sc.x,Tc.z,0,-Tc.x,Xu.z,0,-Xu.x,-Sc.y,Sc.x,0,-Tc.y,Tc.x,0,-Xu.y,Xu.x,0];return!TC(n,lh,ch,uh,pb)||(n=[1,0,0,0,1,0,0,0,1],!TC(n,lh,ch,uh,pb))?!1:(mb.crossVectors(Sc,Tc),n=[mb.x,mb.y,mb.z],TC(n,lh,ch,uh,pb))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Gg.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Gg).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(il[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),il[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),il[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),il[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),il[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),il[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),il[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),il[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(il),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Li.prototype.isBox3=!0;const il=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Gg=new ee,SC=new Li,lh=new ee,ch=new ee,uh=new ee,Sc=new ee,Tc=new ee,Xu=new ee,$g=new ee,pb=new ee,mb=new ee,Ju=new ee;function TC(t,e,n,i,o){for(let s=0,a=t.length-3;s<=a;s+=3){Ju.fromArray(t,s);const l=o.x*Math.abs(Ju.x)+o.y*Math.abs(Ju.y)+o.z*Math.abs(Ju.z),c=e.dot(Ju),u=n.dot(Ju),d=i.dot(Ju);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const rAe=new Li,mB=new ee,gb=new ee,CC=new ee;class Cc{constructor(e=new ee,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):rAe.setFromPoints(e).getCenter(i);let o=0;for(let s=0,a=e.length;s<a;s++)o=Math.max(o,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){CC.subVectors(e,this.center);const n=CC.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),o=(i-this.radius)*.5;this.center.add(CC.multiplyScalar(o/i)),this.radius+=o}return this}union(e){return this.center.equals(e.center)===!0?gb.set(0,0,1).multiplyScalar(e.radius):gb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(mB.copy(e.center).add(gb)),this.expandByPoint(mB.copy(e.center).sub(gb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const sl=new ee,MC=new ee,vb=new ee,Mc=new ee,AC=new ee,yb=new ee,PC=new ee;class Zu{constructor(e=new ee,n=new ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=sl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(sl.copy(this.direction).multiplyScalar(n).add(this.origin),sl.distanceToSquared(e))}distanceSqToSegment(e,n,i,o){MC.copy(e).add(n).multiplyScalar(.5),vb.copy(n).sub(e).normalize(),Mc.copy(this.origin).sub(MC);const s=e.distanceTo(n)*.5,a=-this.direction.dot(vb),l=Mc.dot(this.direction),c=-Mc.dot(vb),u=Mc.lengthSq(),d=Math.abs(1-a*a);let f,h,v,m;if(d>0)if(f=a*c-l,h=a*l-c,m=s*d,f>=0)if(h>=-m)if(h<=m){const _=1/d;f*=_,h*=_,v=f*(f+a*h+2*l)+h*(a*f+h+2*c)+u}else h=s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;else h=-s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;else h<=-m?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-c),s),v=-f*f+h*(h+2*c)+u):h<=m?(f=0,h=Math.min(Math.max(-s,-c),s),v=h*(h+2*c)+u):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-c),s),v=-f*f+h*(h+2*c)+u);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),o&&o.copy(vb).multiplyScalar(h).add(MC),v}intersectSphere(e,n){sl.subVectors(e.center,this.origin);const i=sl.dot(this.direction),o=sl.dot(sl)-i*i,s=e.radius*e.radius;if(o>s)return null;const a=Math.sqrt(s-o),l=i-a,c=i+a;return l<0&&c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,o,s,a,l,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(i=(e.min.x-h.x)*u,o=(e.max.x-h.x)*u):(i=(e.max.x-h.x)*u,o=(e.min.x-h.x)*u),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),i>a||s>o||((s>i||i!==i)&&(i=s),(a<o||o!==o)&&(o=a),f>=0?(l=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),i>c||l>o)||((l>i||i!==i)&&(i=l),(c<o||o!==o)&&(o=c),o<0)?null:this.at(i>=0?i:o,n)}intersectsBox(e){return this.intersectBox(e,sl)!==null}intersectTriangle(e,n,i,o,s){AC.subVectors(n,e),yb.subVectors(i,e),PC.crossVectors(AC,yb);let a=this.direction.dot(PC),l;if(a>0){if(o)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Mc.subVectors(this.origin,e);const c=l*this.direction.dot(yb.crossVectors(Mc,yb));if(c<0)return null;const u=l*this.direction.dot(AC.cross(Mc));if(u<0||c+u>a)return null;const d=-l*Mc.dot(PC);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ot{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,o,s,a,l,c,u,d,f,h,v,m,_,S){const E=this.elements;return E[0]=e,E[4]=n,E[8]=i,E[12]=o,E[1]=s,E[5]=a,E[9]=l,E[13]=c,E[2]=u,E[6]=d,E[10]=f,E[14]=h,E[3]=v,E[7]=m,E[11]=_,E[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ot().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,o=1/dh.setFromMatrixColumn(e,0).length(),s=1/dh.setFromMatrixColumn(e,1).length(),a=1/dh.setFromMatrixColumn(e,2).length();return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,o=e.y,s=e.z,a=Math.cos(i),l=Math.sin(i),c=Math.cos(o),u=Math.sin(o),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,v=a*f,m=l*d,_=l*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=v+m*u,n[5]=h-_*u,n[9]=-l*c,n[2]=_-h*u,n[6]=m+v*u,n[10]=a*c}else if(e.order==="YXZ"){const h=c*d,v=c*f,m=u*d,_=u*f;n[0]=h+_*l,n[4]=m*l-v,n[8]=a*u,n[1]=a*f,n[5]=a*d,n[9]=-l,n[2]=v*l-m,n[6]=_+h*l,n[10]=a*c}else if(e.order==="ZXY"){const h=c*d,v=c*f,m=u*d,_=u*f;n[0]=h-_*l,n[4]=-a*f,n[8]=m+v*l,n[1]=v+m*l,n[5]=a*d,n[9]=_-h*l,n[2]=-a*u,n[6]=l,n[10]=a*c}else if(e.order==="ZYX"){const h=a*d,v=a*f,m=l*d,_=l*f;n[0]=c*d,n[4]=m*u-v,n[8]=h*u+_,n[1]=c*f,n[5]=_*u+h,n[9]=v*u-m,n[2]=-u,n[6]=l*c,n[10]=a*c}else if(e.order==="YZX"){const h=a*c,v=a*u,m=l*c,_=l*u;n[0]=c*d,n[4]=_-h*f,n[8]=m*f+v,n[1]=f,n[5]=a*d,n[9]=-l*d,n[2]=-u*d,n[6]=v*f+m,n[10]=h-_*f}else if(e.order==="XZY"){const h=a*c,v=a*u,m=l*c,_=l*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+_,n[5]=a*d,n[9]=v*f-m,n[2]=m*f-v,n[6]=l*d,n[10]=_*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(iAe,e,sAe)}lookAt(e,n,i){const o=this.elements;return bs.subVectors(e,n),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),Ac.crossVectors(i,bs),Ac.lengthSq()===0&&(Math.abs(i.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),Ac.crossVectors(i,bs)),Ac.normalize(),_b.crossVectors(bs,Ac),o[0]=Ac.x,o[4]=_b.x,o[8]=bs.x,o[1]=Ac.y,o[5]=_b.y,o[9]=bs.y,o[2]=Ac.z,o[6]=_b.z,o[10]=bs.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,a=i[0],l=i[4],c=i[8],u=i[12],d=i[1],f=i[5],h=i[9],v=i[13],m=i[2],_=i[6],S=i[10],E=i[14],w=i[3],T=i[7],C=i[11],P=i[15],R=o[0],A=o[4],L=o[8],k=o[12],U=o[1],O=o[5],I=o[9],F=o[13],N=o[2],H=o[6],z=o[10],B=o[14],q=o[3],W=o[7],j=o[11],$=o[15];return s[0]=a*R+l*U+c*N+u*q,s[4]=a*A+l*O+c*H+u*W,s[8]=a*L+l*I+c*z+u*j,s[12]=a*k+l*F+c*B+u*$,s[1]=d*R+f*U+h*N+v*q,s[5]=d*A+f*O+h*H+v*W,s[9]=d*L+f*I+h*z+v*j,s[13]=d*k+f*F+h*B+v*$,s[2]=m*R+_*U+S*N+E*q,s[6]=m*A+_*O+S*H+E*W,s[10]=m*L+_*I+S*z+E*j,s[14]=m*k+_*F+S*B+E*$,s[3]=w*R+T*U+C*N+P*q,s[7]=w*A+T*O+C*H+P*W,s[11]=w*L+T*I+C*z+P*j,s[15]=w*k+T*F+C*B+P*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],o=e[8],s=e[12],a=e[1],l=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],v=e[14],m=e[3],_=e[7],S=e[11],E=e[15];return m*(+s*c*f-o*u*f-s*l*h+i*u*h+o*l*v-i*c*v)+_*(+n*c*v-n*u*h+s*a*h-o*a*v+o*u*d-s*c*d)+S*(+n*u*f-n*l*v-s*a*f+i*a*v+s*l*d-i*u*d)+E*(-o*l*d-n*c*f+n*l*h+o*a*f-i*a*h+i*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],v=e[11],m=e[12],_=e[13],S=e[14],E=e[15],w=f*S*u-_*h*u+_*c*v-l*S*v-f*c*E+l*h*E,T=m*h*u-d*S*u-m*c*v+a*S*v+d*c*E-a*h*E,C=d*_*u-m*f*u+m*l*v-a*_*v-d*l*E+a*f*E,P=m*f*c-d*_*c-m*l*h+a*_*h+d*l*S-a*f*S,R=n*w+i*T+o*C+s*P;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/R;return e[0]=w*A,e[1]=(_*h*s-f*S*s-_*o*v+i*S*v+f*o*E-i*h*E)*A,e[2]=(l*S*s-_*c*s+_*o*u-i*S*u-l*o*E+i*c*E)*A,e[3]=(f*c*s-l*h*s-f*o*u+i*h*u+l*o*v-i*c*v)*A,e[4]=T*A,e[5]=(d*S*s-m*h*s+m*o*v-n*S*v-d*o*E+n*h*E)*A,e[6]=(m*c*s-a*S*s-m*o*u+n*S*u+a*o*E-n*c*E)*A,e[7]=(a*h*s-d*c*s+d*o*u-n*h*u-a*o*v+n*c*v)*A,e[8]=C*A,e[9]=(m*f*s-d*_*s-m*i*v+n*_*v+d*i*E-n*f*E)*A,e[10]=(a*_*s-m*l*s+m*i*u-n*_*u-a*i*E+n*l*E)*A,e[11]=(d*l*s-a*f*s-d*i*u+n*f*u+a*i*v-n*l*v)*A,e[12]=P*A,e[13]=(d*_*o-m*f*o+m*i*h-n*_*h-d*i*S+n*f*S)*A,e[14]=(m*l*o-a*_*o-m*i*c+n*_*c+a*i*S-n*l*S)*A,e[15]=(a*f*o-d*l*o+d*i*c-n*f*c-a*i*h+n*l*h)*A,this}scale(e){const n=this.elements,i=e.x,o=e.y,s=e.z;return n[0]*=i,n[4]*=o,n[8]*=s,n[1]*=i,n[5]*=o,n[9]*=s,n[2]*=i,n[6]*=o,n[10]*=s,n[3]*=i,n[7]*=o,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,o))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),o=Math.sin(n),s=1-i,a=e.x,l=e.y,c=e.z,u=s*a,d=s*l;return this.set(u*a+i,u*l-o*c,u*c+o*l,0,u*l+o*c,d*l+i,d*c-o*a,0,u*c-o*l,d*c+o*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,o,s,a){return this.set(1,i,s,0,e,1,a,0,n,o,1,0,0,0,0,1),this}compose(e,n,i){const o=this.elements,s=n._x,a=n._y,l=n._z,c=n._w,u=s+s,d=a+a,f=l+l,h=s*u,v=s*d,m=s*f,_=a*d,S=a*f,E=l*f,w=c*u,T=c*d,C=c*f,P=i.x,R=i.y,A=i.z;return o[0]=(1-(_+E))*P,o[1]=(v+C)*P,o[2]=(m-T)*P,o[3]=0,o[4]=(v-C)*R,o[5]=(1-(h+E))*R,o[6]=(S+w)*R,o[7]=0,o[8]=(m+T)*A,o[9]=(S-w)*A,o[10]=(1-(h+_))*A,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,i){const o=this.elements;let s=dh.set(o[0],o[1],o[2]).length();const a=dh.set(o[4],o[5],o[6]).length(),l=dh.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Co.copy(this);const u=1/s,d=1/a,f=1/l;return Co.elements[0]*=u,Co.elements[1]*=u,Co.elements[2]*=u,Co.elements[4]*=d,Co.elements[5]*=d,Co.elements[6]*=d,Co.elements[8]*=f,Co.elements[9]*=f,Co.elements[10]*=f,n.setFromRotationMatrix(Co),i.x=s,i.y=a,i.z=l,this}makePerspective(e,n,i,o,s,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const l=this.elements,c=2*s/(n-e),u=2*s/(i-o),d=(n+e)/(n-e),f=(i+o)/(i-o),h=-(a+s)/(a-s),v=-2*a*s/(a-s);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,o,s,a){const l=this.elements,c=1/(n-e),u=1/(i-o),d=1/(a-s),f=(n+e)*c,h=(i+o)*u,v=(a+s)*d;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=-2*d,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<16;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}ot.prototype.isMatrix4=!0;const dh=new ee,Co=new ot,iAe=new ee(0,0,0),sAe=new ee(1,1,1),Ac=new ee,_b=new ee,bs=new ee,gB=new ot,vB=new Ri;class Pc{constructor(e=0,n=0,i=0,o=Pc.DefaultOrder){this._x=e,this._y=n,this._z=i,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,o=this._order){return this._x=e,this._y=n,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const o=e.elements,s=o[0],a=o[4],l=o[8],c=o[1],u=o[5],d=o[9],f=o[2],h=o[6],v=o[10];switch(n){case"XYZ":this._y=Math.asin(Pi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Pi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Pi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Pi(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-Pi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return gB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gB,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return vB.setFromEuler(this),this.setFromQuaternion(vB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ee(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Pc.prototype.isEuler=!0;Pc.DefaultOrder="XYZ";Pc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class RC{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let oAe=0;const yB=new ee,fh=new Ri,ol=new ot,bb=new ee,Wg=new ee,aAe=new ee,lAe=new Ri,_B=new ee(1,0,0),bB=new ee(0,1,0),EB=new ee(0,0,1),cAe={type:"added"},wB={type:"removed"};class cn extends _s{constructor(){super();Object.defineProperty(this,"id",{value:oAe++}),this.uuid=Js(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=cn.DefaultUp.clone();const e=new ee,n=new Pc,i=new Ri,o=new ee(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ot},normalMatrix:{value:new Nr}}),this.matrix=new ot,this.matrixWorld=new ot,this.matrixAutoUpdate=cn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new RC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return fh.setFromAxisAngle(e,n),this.quaternion.multiply(fh),this}rotateOnWorldAxis(e,n){return fh.setFromAxisAngle(e,n),this.quaternion.premultiply(fh),this}rotateX(e){return this.rotateOnAxis(_B,e)}rotateY(e){return this.rotateOnAxis(bB,e)}rotateZ(e){return this.rotateOnAxis(EB,e)}translateOnAxis(e,n){return yB.copy(e).applyQuaternion(this.quaternion),this.position.add(yB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_B,e)}translateY(e){return this.translateOnAxis(bB,e)}translateZ(e){return this.translateOnAxis(EB,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ol.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?bb.copy(e):bb.set(e,n,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Wg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ol.lookAt(Wg,bb,this.up):ol.lookAt(bb,Wg,this.up),this.quaternion.setFromRotationMatrix(ol),o&&(ol.extractRotation(o.matrixWorld),fh.setFromRotationMatrix(ol),this.quaternion.premultiply(fh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(cAe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wB)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(wB)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ol.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ol.multiply(e.parent.matrixWorld)),e.applyMatrix4(ol),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wg,e,aAe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wg,lAe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));o.material=l}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];o.animations.push(s(e.animations,c))}}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),v=a(e.animations);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),v.length>0&&(i.animations=v)}return i.object=o,i;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const o=e.children[i];this.add(o.clone())}return this}}cn.DefaultUp=new ee(0,1,0);cn.DefaultMatrixAutoUpdate=!0;cn.prototype.isObject3D=!0;const Mo=new ee,al=new ee,LC=new ee,ll=new ee,hh=new ee,ph=new ee,xB=new ee,IC=new ee,OC=new ee,NC=new ee;class Sr{constructor(e=new ee,n=new ee,i=new ee){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,o){o.subVectors(i,n),Mo.subVectors(e,n),o.cross(Mo);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,n,i,o,s){Mo.subVectors(o,n),al.subVectors(i,n),LC.subVectors(e,n);const a=Mo.dot(Mo),l=Mo.dot(al),c=Mo.dot(LC),u=al.dot(al),d=al.dot(LC),f=a*u-l*l;if(f===0)return s.set(-2,-1,-1);const h=1/f,v=(u*c-l*d)*h,m=(a*d-l*c)*h;return s.set(1-v-m,m,v)}static containsPoint(e,n,i,o){return this.getBarycoord(e,n,i,o,ll),ll.x>=0&&ll.y>=0&&ll.x+ll.y<=1}static getUV(e,n,i,o,s,a,l,c){return this.getBarycoord(e,n,i,o,ll),c.set(0,0),c.addScaledVector(s,ll.x),c.addScaledVector(a,ll.y),c.addScaledVector(l,ll.z),c}static isFrontFacing(e,n,i,o){return Mo.subVectors(i,n),al.subVectors(e,n),Mo.cross(al).dot(o)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,o){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,i,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mo.subVectors(this.c,this.b),al.subVectors(this.a,this.b),Mo.cross(al).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Sr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Sr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,o,s){return Sr.getUV(e,this.a,this.b,this.c,n,i,o,s)}containsPoint(e){return Sr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Sr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,o=this.b,s=this.c;let a,l;hh.subVectors(o,i),ph.subVectors(s,i),IC.subVectors(e,i);const c=hh.dot(IC),u=ph.dot(IC);if(c<=0&&u<=0)return n.copy(i);OC.subVectors(e,o);const d=hh.dot(OC),f=ph.dot(OC);if(d>=0&&f<=d)return n.copy(o);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(i).addScaledVector(hh,a);NC.subVectors(e,s);const v=hh.dot(NC),m=ph.dot(NC);if(m>=0&&v<=m)return n.copy(s);const _=v*u-c*m;if(_<=0&&u>=0&&m<=0)return l=u/(u-m),n.copy(i).addScaledVector(ph,l);const S=d*m-v*f;if(S<=0&&f-d>=0&&v-m>=0)return xB.subVectors(s,o),l=(f-d)/(f-d+(v-m)),n.copy(o).addScaledVector(xB,l);const E=1/(S+_+h);return a=_*E,l=h*E,n.copy(i).addScaledVector(hh,a).addScaledVector(ph,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let uAe=0;class Tr extends _s{constructor(){super();Object.defineProperty(this,"id",{value:uAe++}),this.uuid=Js(),this.name="",this.type="Material",this.fog=!0,this.blending=kg,this.side=Za,this.vertexColors=!1,this.opacity=1,this.format=er,this.transparent=!1,this.blendSrc=Kj,this.blendDst=Xj,this.blendEquation=eh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=iC,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=VMe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yC,this.stencilZFail=yC,this.stencilZPass=yC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===zj;continue}const o=this[n];if(o===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==kg&&(i.blending=this.blending),this.side!==Za&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==er&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function o(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(n){const s=o(e.textures),a=o(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const o=n.length;i=new Array(o);for(let s=0;s!==o;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Tr.prototype.isMaterial=!0;const SB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ao={h:0,s:0,l:0},Eb={h:0,s:0,l:0};function kC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function DC(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function FC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class rt{constructor(e,n,i){return n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=_C(e,1),n=Pi(n,0,1),i=Pi(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;this.r=kC(s,o,e+1/3),this.g=kC(s,o,e),this.b=kC(s,o,e-1/3)}return this}setStyle(e){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,n(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,n(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,c=parseInt(o[2],10)/100,u=parseInt(o[3],10)/100;return n(o[4]),this.setHSL(l,c,u)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=SB[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=DC(e.r),this.g=DC(e.g),this.b=DC(e.b),this}copyLinearToSRGB(e){return this.r=FC(e.r),this.g=FC(e.g),this.b=FC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const n=this.r,i=this.g,o=this.b,s=Math.max(n,i,o),a=Math.min(n,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case n:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-n)/d+2;break;case o:l=(n-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(Ao),Ao.h+=e,Ao.s+=n,Ao.l+=i,this.setHSL(Ao.h,Ao.s,Ao.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Ao),e.getHSL(Eb);const i=zg(Ao.h,Eb.h,n),o=zg(Ao.s,Eb.s,n),s=zg(Ao.l,Eb.l,n);return this.setHSL(i,o,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}rt.NAMES=SB;rt.prototype.isColor=!0;rt.prototype.r=1;rt.prototype.g=1;rt.prototype.b=1;class Po extends Tr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Po.prototype.isMeshBasicMaterial=!0;const Vn=new ee,wb=new Le;class Nn{constructor(e,n,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i===!0,this.usage=Bg,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=n.array[i+o];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",o),a=new rt),n[i++]=a.r,n[i++]=a.g,n[i++]=a.b}return this}copyVector2sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),a=new Le),n[i++]=a.x,n[i++]=a.y}return this}copyVector3sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",o),a=new ee),n[i++]=a.x,n[i++]=a.y,n[i++]=a.z}return this}copyVector4sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",o),a=new On),n[i++]=a.x,n[i++]=a.y,n[i++]=a.z,n[i++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)wb.fromBufferAttribute(this,n),wb.applyMatrix3(e),this.setXY(n,wb.x,wb.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Vn.fromBufferAttribute(this,n),Vn.applyMatrix3(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Vn.x=this.getX(n),Vn.y=this.getY(n),Vn.z=this.getZ(n),Vn.applyMatrix4(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Vn.x=this.getX(n),Vn.y=this.getY(n),Vn.z=this.getZ(n),Vn.applyNormalMatrix(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Vn.x=this.getX(n),Vn.y=this.getY(n),Vn.z=this.getZ(n),Vn.transformDirection(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this}setXYZW(e,n,i,o,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Bg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Nn.prototype.isBufferAttribute=!0;class TB extends Nn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class CB extends Nn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class dAe extends Nn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}dAe.prototype.isFloat16BufferAttribute=!0;class kr extends Nn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let fAe=0;const Zs=new ot,UC=new cn,mh=new ee,Es=new Li,qg=new Li,Hr=new ee;class kn extends _s{constructor(){super();Object.defineProperty(this,"id",{value:fAe++}),this.uuid=Js(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hB(e)>65535?CB:TB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Nr().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zs.makeRotationFromQuaternion(e),this.applyMatrix4(Zs),this}rotateX(e){return Zs.makeRotationX(e),this.applyMatrix4(Zs),this}rotateY(e){return Zs.makeRotationY(e),this.applyMatrix4(Zs),this}rotateZ(e){return Zs.makeRotationZ(e),this.applyMatrix4(Zs),this}translate(e,n,i){return Zs.makeTranslation(e,n,i),this.applyMatrix4(Zs),this}scale(e,n,i){return Zs.makeScale(e,n,i),this.applyMatrix4(Zs),this}lookAt(e){return UC.lookAt(e),UC.updateMatrix(),this.applyMatrix4(UC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mh).negate(),this.translate(mh.x,mh.y,mh.z),this}setFromPoints(e){const n=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new kr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Li);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,o=n.length;i<o;i++){const s=n[i];Es.setFromBufferAttribute(s),this.morphTargetsRelative?(Hr.addVectors(this.boundingBox.min,Es.min),this.boundingBox.expandByPoint(Hr),Hr.addVectors(this.boundingBox.max,Es.max),this.boundingBox.expandByPoint(Hr)):(this.boundingBox.expandByPoint(Es.min),this.boundingBox.expandByPoint(Es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cc);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(Es.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const l=n[s];qg.setFromBufferAttribute(l),this.morphTargetsRelative?(Hr.addVectors(Es.min,qg.min),Es.expandByPoint(Hr),Hr.addVectors(Es.max,qg.max),Es.expandByPoint(Hr)):(Es.expandByPoint(qg.min),Es.expandByPoint(qg.max))}Es.getCenter(i);let o=0;for(let s=0,a=e.count;s<a;s++)Hr.fromBufferAttribute(e,s),o=Math.max(o,i.distanceToSquared(Hr));if(n)for(let s=0,a=n.length;s<a;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)Hr.fromBufferAttribute(l,u),c&&(mh.fromBufferAttribute(e,u),Hr.add(mh)),o=Math.max(o,i.distanceToSquared(Hr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,o=n.position.array,s=n.normal.array,a=n.uv.array,l=o.length/3;n.tangent===void 0&&this.setAttribute("tangent",new Nn(new Float32Array(4*l),4));const c=n.tangent.array,u=[],d=[];for(let U=0;U<l;U++)u[U]=new ee,d[U]=new ee;const f=new ee,h=new ee,v=new ee,m=new Le,_=new Le,S=new Le,E=new ee,w=new ee;function T(U,O,I){f.fromArray(o,U*3),h.fromArray(o,O*3),v.fromArray(o,I*3),m.fromArray(a,U*2),_.fromArray(a,O*2),S.fromArray(a,I*2),h.sub(f),v.sub(f),_.sub(m),S.sub(m);const F=1/(_.x*S.y-S.x*_.y);!isFinite(F)||(E.copy(h).multiplyScalar(S.y).addScaledVector(v,-_.y).multiplyScalar(F),w.copy(v).multiplyScalar(_.x).addScaledVector(h,-S.x).multiplyScalar(F),u[U].add(E),u[O].add(E),u[I].add(E),d[U].add(w),d[O].add(w),d[I].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let U=0,O=C.length;U<O;++U){const I=C[U],F=I.start,N=I.count;for(let H=F,z=F+N;H<z;H+=3)T(i[H+0],i[H+1],i[H+2])}const P=new ee,R=new ee,A=new ee,L=new ee;function k(U){A.fromArray(s,U*3),L.copy(A);const O=u[U];P.copy(O),P.sub(A.multiplyScalar(A.dot(O))).normalize(),R.crossVectors(L,O);const F=R.dot(d[U])<0?-1:1;c[U*4]=P.x,c[U*4+1]=P.y,c[U*4+2]=P.z,c[U*4+3]=F}for(let U=0,O=C.length;U<O;++U){const I=C[U],F=I.start,N=I.count;for(let H=F,z=F+N;H<z;H+=3)k(i[H+0]),k(i[H+1]),k(i[H+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,v=i.count;h<v;h++)i.setXYZ(h,0,0,0);const o=new ee,s=new ee,a=new ee,l=new ee,c=new ee,u=new ee,d=new ee,f=new ee;if(e)for(let h=0,v=e.count;h<v;h+=3){const m=e.getX(h+0),_=e.getX(h+1),S=e.getX(h+2);o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,_),a.fromBufferAttribute(n,S),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,_),u.fromBufferAttribute(i,S),l.add(d),c.add(d),u.add(d),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z),i.setXYZ(S,u.x,u.y,u.z)}else for(let h=0,v=n.count;h<v;h+=3)o.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const o in i){if(e.attributes[o]===void 0)continue;const a=i[o].array,l=e.attributes[o],c=l.array,u=l.itemSize*n,d=Math.min(c.length,a.length-u);for(let f=0,h=u;f<d;f++,h++)a[h]=c[f]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Hr.fromBufferAttribute(e,n),Hr.normalize(),e.setXYZ(n,Hr.x,Hr.y,Hr.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,f=l.normalized,h=new u.constructor(c.length*d);let v=0,m=0;for(let _=0,S=c.length;_<S;_++){l.isInterleavedBufferAttribute?v=c[_]*l.data.stride+l.offset:v=c[_]*d;for(let E=0;E<d;E++)h[m++]=u[v++]}return new Nn(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kn,i=this.index.array,o=this.attributes;for(const l in o){const c=o[l],u=e(c,i);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let d=0,f=u.length;d<f;d++){const h=u[d],v=e(h,i);c.push(v)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const o={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const v=u[f];d.push(v.toJSON(e.data))}d.length>0&&(o[c]=d,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const o=e.attributes;for(const u in o){const d=o[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let h=0,v=f.length;h<v;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}kn.prototype.isBufferGeometry=!0;const MB=new ot,gh=new Zu,jC=new Cc,Rc=new ee,Lc=new ee,Ic=new ee,BC=new ee,VC=new ee,HC=new ee,xb=new ee,Sb=new ee,Tb=new ee,Cb=new Le,Mb=new Le,Ab=new Le,zC=new ee,Pb=new ee;class Et extends cn{constructor(e=new kn,n=new Po){super();this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const i=this.geometry,o=this.material,s=this.matrixWorld;if(o===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),jC.copy(i.boundingSphere),jC.applyMatrix4(s),e.ray.intersectsSphere(jC)===!1)||(MB.copy(s).invert(),gh.copy(e.ray).applyMatrix4(MB),i.boundingBox!==null&&gh.intersectsBox(i.boundingBox)===!1))return;let a;if(i.isBufferGeometry){const l=i.index,c=i.attributes.position,u=i.morphAttributes.position,d=i.morphTargetsRelative,f=i.attributes.uv,h=i.attributes.uv2,v=i.groups,m=i.drawRange;if(l!==null)if(Array.isArray(o))for(let _=0,S=v.length;_<S;_++){const E=v[_],w=o[E.materialIndex],T=Math.max(E.start,m.start),C=Math.min(l.count,Math.min(E.start+E.count,m.start+m.count));for(let P=T,R=C;P<R;P+=3){const A=l.getX(P),L=l.getX(P+1),k=l.getX(P+2);a=Rb(this,w,e,gh,c,u,d,f,h,A,L,k),a&&(a.faceIndex=Math.floor(P/3),a.face.materialIndex=E.materialIndex,n.push(a))}}else{const _=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let E=_,w=S;E<w;E+=3){const T=l.getX(E),C=l.getX(E+1),P=l.getX(E+2);a=Rb(this,o,e,gh,c,u,d,f,h,T,C,P),a&&(a.faceIndex=Math.floor(E/3),n.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let _=0,S=v.length;_<S;_++){const E=v[_],w=o[E.materialIndex],T=Math.max(E.start,m.start),C=Math.min(c.count,Math.min(E.start+E.count,m.start+m.count));for(let P=T,R=C;P<R;P+=3){const A=P,L=P+1,k=P+2;a=Rb(this,w,e,gh,c,u,d,f,h,A,L,k),a&&(a.faceIndex=Math.floor(P/3),a.face.materialIndex=E.materialIndex,n.push(a))}}else{const _=Math.max(0,m.start),S=Math.min(c.count,m.start+m.count);for(let E=_,w=S;E<w;E+=3){const T=E,C=E+1,P=E+2;a=Rb(this,o,e,gh,c,u,d,f,h,T,C,P),a&&(a.faceIndex=Math.floor(E/3),n.push(a))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Et.prototype.isMesh=!0;function hAe(t,e,n,i,o,s,a,l){let c;if(e.side===dr?c=i.intersectTriangle(a,s,o,!0,l):c=i.intersectTriangle(o,s,a,e.side!==Qa,l),c===null)return null;Pb.copy(l),Pb.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Pb);return u<n.near||u>n.far?null:{distance:u,point:Pb.clone(),object:t}}function Rb(t,e,n,i,o,s,a,l,c,u,d,f){Rc.fromBufferAttribute(o,u),Lc.fromBufferAttribute(o,d),Ic.fromBufferAttribute(o,f);const h=t.morphTargetInfluences;if(s&&h){xb.set(0,0,0),Sb.set(0,0,0),Tb.set(0,0,0);for(let m=0,_=s.length;m<_;m++){const S=h[m],E=s[m];S!==0&&(BC.fromBufferAttribute(E,u),VC.fromBufferAttribute(E,d),HC.fromBufferAttribute(E,f),a?(xb.addScaledVector(BC,S),Sb.addScaledVector(VC,S),Tb.addScaledVector(HC,S)):(xb.addScaledVector(BC.sub(Rc),S),Sb.addScaledVector(VC.sub(Lc),S),Tb.addScaledVector(HC.sub(Ic),S)))}Rc.add(xb),Lc.add(Sb),Ic.add(Tb)}t.isSkinnedMesh&&(t.boneTransform(u,Rc),t.boneTransform(d,Lc),t.boneTransform(f,Ic));const v=hAe(t,e,n,i,Rc,Lc,Ic,zC);if(v){l&&(Cb.fromBufferAttribute(l,u),Mb.fromBufferAttribute(l,d),Ab.fromBufferAttribute(l,f),v.uv=Sr.getUV(zC,Rc,Lc,Ic,Cb,Mb,Ab,new Le)),c&&(Cb.fromBufferAttribute(c,u),Mb.fromBufferAttribute(c,d),Ab.fromBufferAttribute(c,f),v.uv2=Sr.getUV(zC,Rc,Lc,Ic,Cb,Mb,Ab,new Le));const m={a:u,b:d,c:f,normal:new ee,materialIndex:0};Sr.getNormal(Rc,Lc,Ic,m.normal),v.face=m}return v}class Oc extends kn{constructor(e=1,n=1,i=1,o=1,s=1,a=1){super();this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:o,heightSegments:s,depthSegments:a};const l=this;o=Math.floor(o),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],f=[];let h=0,v=0;m("z","y","x",-1,-1,i,n,e,a,s,0),m("z","y","x",1,-1,i,n,-e,a,s,1),m("x","z","y",1,1,e,i,n,o,a,2),m("x","z","y",1,-1,e,i,-n,o,a,3),m("x","y","z",1,-1,e,n,i,o,s,4),m("x","y","z",-1,-1,e,n,-i,o,s,5),this.setIndex(c),this.setAttribute("position",new kr(u,3)),this.setAttribute("normal",new kr(d,3)),this.setAttribute("uv",new kr(f,2));function m(_,S,E,w,T,C,P,R,A,L,k){const U=C/A,O=P/L,I=C/2,F=P/2,N=R/2,H=A+1,z=L+1;let B=0,q=0;const W=new ee;for(let j=0;j<z;j++){const $=j*O-F;for(let ie=0;ie<H;ie++){const Q=ie*U-I;W[_]=Q*w,W[S]=$*T,W[E]=N,u.push(W.x,W.y,W.z),W[_]=0,W[S]=0,W[E]=R>0?1:-1,d.push(W.x,W.y,W.z),f.push(ie/A),f.push(1-j/L),B+=1}}for(let j=0;j<L;j++)for(let $=0;$<A;$++){const ie=h+$+H*j,Q=h+$+H*(j+1),le=h+($+1)+H*(j+1),he=h+($+1)+H*j;c.push(ie,Q,he),c.push(Q,le,he),q+=6}l.addGroup(v,q,k),v+=q,h+=B}}static fromJSON(e){return new Oc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function vh(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const o=t[n][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?e[n][i]=o.clone():Array.isArray(o)?e[n][i]=o.slice():e[n][i]=o}}return e}function yi(t){const e={};for(let n=0;n<t.length;n++){const i=vh(t[n]);for(const o in i)e[o]=i[o]}return e}const pAe={clone:vh,merge:yi};var mAe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gAe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class cl extends Tr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=mAe,this.fragmentShader=gAe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const a=this.uniforms[o].value;a&&a.isTexture?n.uniforms[o]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[o]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[o]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[o]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[o]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[o]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[o]={type:"m4",value:a.toArray()}:n.uniforms[o]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}cl.prototype.isShaderMaterial=!0;class GC extends cn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new ot,this.projectionMatrix=new ot,this.projectionMatrixInverse=new ot}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}GC.prototype.isCamera=!0;class zr extends GC{constructor(e=50,n=1,i=.1,o=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Hg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hg*2*Math.atan(Math.tan(Vg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,o,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Vg*.5*this.fov)/this.zoom,i=2*n,o=this.aspect*i,s=-.5*o;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*o/c,n-=a.offsetY*i/u,o*=a.width/c,i*=a.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}zr.prototype.isPerspectiveCamera=!0;const yh=90,_h=1;class Yg extends cn{constructor(e,n,i){super();if(this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const o=new zr(yh,_h,e,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ee(1,0,0)),this.add(o);const s=new zr(yh,_h,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ee(-1,0,0)),this.add(s);const a=new zr(yh,_h,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new ee(0,1,0)),this.add(a);const l=new zr(yh,_h,e,n);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new ee(0,-1,0)),this.add(l);const c=new zr(yh,_h,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ee(0,0,1)),this.add(c);const u=new zr(yh,_h,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ee(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[o,s,a,l,c,u]=this.children,d=e.xr.enabled,f=e.getRenderTarget();e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,o),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,a),e.setRenderTarget(i,3),e.render(n,l),e.setRenderTarget(i,4),e.render(n,c),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(f),e.xr.enabled=d}}class Lb extends fr{constructor(e,n,i,o,s,a,l,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:Dg;super(e,n,i,o,s,a,l,c,u,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Lb.prototype.isCubeTexture=!0;class Ib extends Qi{constructor(e,n,i){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=i);super(e,e,n);n=n||{},this.texture=new Lb(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=er,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Oc(5,5,5),s=new cl({name:"CubemapFromEquirect",uniforms:vh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:dr,blending:el});s.uniforms.tEquirect.value=n;const a=new Et(o,s),l=n.minFilter;return n.minFilter===rl&&(n.minFilter=In),new Yg(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,o){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,o);e.setRenderTarget(s)}}Ib.prototype.isWebGLCubeRenderTarget=!0;const $C=new ee,vAe=new ee,yAe=new Nr;class ul{constructor(e=new ee(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,o){return this.normal.set(e,n,i),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const o=$C.subVectors(i,n).cross(vAe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta($C),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:n.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||yAe.getNormalMatrix(e),o=this.coplanarPoint($C).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}ul.prototype.isPlane=!0;const bh=new Cc,Ob=new ee;class Nb{constructor(e=new ul,n=new ul,i=new ul,o=new ul,s=new ul,a=new ul){this.planes=[e,n,i,o,s,a]}set(e,n,i,o,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(o),l[4].copy(s),l[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],v=i[9],m=i[10],_=i[11],S=i[12],E=i[13],w=i[14],T=i[15];return n[0].setComponents(l-o,f-c,_-h,T-S).normalize(),n[1].setComponents(l+o,f+c,_+h,T+S).normalize(),n[2].setComponents(l+s,f+u,_+v,T+E).normalize(),n[3].setComponents(l-s,f-u,_-v,T-E).normalize(),n[4].setComponents(l-a,f-d,_-m,T-w).normalize(),n[5].setComponents(l+a,f+d,_+m,T+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),bh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(bh)}intersectsSprite(e){return bh.center.set(0,0,0),bh.radius=.7071067811865476,bh.applyMatrix4(e.matrixWorld),this.intersectsSphere(bh)}intersectsSphere(e){const n=this.planes,i=e.center,o=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const o=n[i];if(Ob.x=o.normal.x>0?e.max.x:e.min.x,Ob.y=o.normal.y>0?e.max.y:e.min.y,Ob.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Ob)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AB(){let t=null,e=!1,n=null,i=null;function o(s,a){n(s,a),i=t.requestAnimationFrame(o)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function _Ae(t,e){const n=e.isWebGL2,i=new WeakMap;function o(u,d){const f=u.array,h=u.usage,v=t.createBuffer();t.bindBuffer(d,v),t.bufferData(d,f,h),u.onUploadCallback();let m=5126;return f instanceof Float32Array?m=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?u.isFloat16BufferAttribute?n?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:f instanceof Int16Array?m=5122:f instanceof Uint32Array?m=5125:f instanceof Int32Array?m=5124:f instanceof Int8Array?m=5120:(f instanceof Uint8Array||f instanceof Uint8ClampedArray)&&(m=5121),{buffer:v,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,f){const h=d.array,v=d.updateRange;t.bindBuffer(f,u),v.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,v.offset*h.BYTES_PER_ELEMENT,h,v.offset,v.count):t.bufferSubData(f,v.offset*h.BYTES_PER_ELEMENT,h.subarray(v.offset,v.offset+v.count)),v.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d&&(t.deleteBuffer(d.buffer),i.delete(u))}function c(u,d){if(u.isGLBufferAttribute){const h=i.get(u);(!h||h.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f===void 0?i.set(u,o(u,d)):f.version<u.version&&(s(f.buffer,u,d),f.version=u.version)}return{get:a,remove:l,update:c}}class Qu extends kn{constructor(e=1,n=1,i=1,o=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:o};const s=e/2,a=n/2,l=Math.floor(i),c=Math.floor(o),u=l+1,d=c+1,f=e/l,h=n/c,v=[],m=[],_=[],S=[];for(let E=0;E<d;E++){const w=E*h-a;for(let T=0;T<u;T++){const C=T*f-s;m.push(C,-w,0),_.push(0,0,1),S.push(T/l),S.push(1-E/c)}}for(let E=0;E<c;E++)for(let w=0;w<l;w++){const T=w+u*E,C=w+u*(E+1),P=w+1+u*(E+1),R=w+1+u*E;v.push(T,C,R),v.push(C,P,R)}this.setIndex(v),this.setAttribute("position",new kr(m,3)),this.setAttribute("normal",new kr(_,3)),this.setAttribute("uv",new kr(S,2))}static fromJSON(e){return new Qu(e.width,e.height,e.widthSegments,e.heightSegments)}}var bAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,EAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wAe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,xAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,SAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,TAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CAe="vec3 transformed = vec3( position );",MAe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,AAe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,PAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,LAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,IAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OAe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NAe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,FAe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,UAe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,jAe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BAe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,VAe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,HAe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,zAe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,GAe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$Ae="gl_FragColor = linearToOutputTexel( gl_FragColor );",WAe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,YAe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KAe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XAe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,JAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZAe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,QAe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ePe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tPe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,nPe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,rPe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,iPe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sPe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,oPe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,aPe=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lPe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,cPe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,uPe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,dPe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,fPe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,hPe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pPe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,mPe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gPe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,vPe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,yPe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_Pe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,bPe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,EPe=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,wPe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,SPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TPe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,CPe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,MPe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,APe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PPe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,RPe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,LPe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,IPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NPe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kPe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,DPe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,FPe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,UPe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,jPe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BPe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,VPe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,HPe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,zPe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GPe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$Pe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,WPe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,YPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,KPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,XPe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,JPe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ZPe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,QPe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eRe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tRe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nRe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rRe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iRe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sRe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,oRe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,aRe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,lRe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,cRe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,dRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,fRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,hRe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const pRe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,mRe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gRe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vRe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yRe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_Re=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,bRe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ERe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,wRe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xRe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,SRe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TRe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CRe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,MRe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ARe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PRe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RRe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,LRe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IRe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ORe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,NRe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kRe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DRe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,FRe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,URe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jRe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BRe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,VRe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HRe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zRe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,GRe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$Re=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Xt={alphamap_fragment:bAe,alphamap_pars_fragment:EAe,alphatest_fragment:wAe,alphatest_pars_fragment:xAe,aomap_fragment:SAe,aomap_pars_fragment:TAe,begin_vertex:CAe,beginnormal_vertex:MAe,bsdfs:AAe,bumpmap_pars_fragment:PAe,clipping_planes_fragment:RAe,clipping_planes_pars_fragment:LAe,clipping_planes_pars_vertex:IAe,clipping_planes_vertex:OAe,color_fragment:NAe,color_pars_fragment:kAe,color_pars_vertex:DAe,color_vertex:FAe,common:UAe,cube_uv_reflection_fragment:jAe,defaultnormal_vertex:BAe,displacementmap_pars_vertex:VAe,displacementmap_vertex:HAe,emissivemap_fragment:zAe,emissivemap_pars_fragment:GAe,encodings_fragment:$Ae,encodings_pars_fragment:WAe,envmap_fragment:qAe,envmap_common_pars_fragment:YAe,envmap_pars_fragment:KAe,envmap_pars_vertex:XAe,envmap_physical_pars_fragment:aPe,envmap_vertex:JAe,fog_vertex:ZAe,fog_pars_vertex:QAe,fog_fragment:ePe,fog_pars_fragment:tPe,gradientmap_pars_fragment:nPe,lightmap_fragment:rPe,lightmap_pars_fragment:iPe,lights_lambert_vertex:sPe,lights_pars_begin:oPe,lights_toon_fragment:lPe,lights_toon_pars_fragment:cPe,lights_phong_fragment:uPe,lights_phong_pars_fragment:dPe,lights_physical_fragment:fPe,lights_physical_pars_fragment:hPe,lights_fragment_begin:pPe,lights_fragment_maps:mPe,lights_fragment_end:gPe,logdepthbuf_fragment:vPe,logdepthbuf_pars_fragment:yPe,logdepthbuf_pars_vertex:_Pe,logdepthbuf_vertex:bPe,map_fragment:EPe,map_pars_fragment:wPe,map_particle_fragment:xPe,map_particle_pars_fragment:SPe,metalnessmap_fragment:TPe,metalnessmap_pars_fragment:CPe,morphnormal_vertex:MPe,morphtarget_pars_vertex:APe,morphtarget_vertex:PPe,normal_fragment_begin:RPe,normal_fragment_maps:LPe,normal_pars_fragment:IPe,normal_pars_vertex:OPe,normal_vertex:NPe,normalmap_pars_fragment:kPe,clearcoat_normal_fragment_begin:DPe,clearcoat_normal_fragment_maps:FPe,clearcoat_pars_fragment:UPe,output_fragment:jPe,packing:BPe,premultiplied_alpha_fragment:VPe,project_vertex:HPe,dithering_fragment:zPe,dithering_pars_fragment:GPe,roughnessmap_fragment:$Pe,roughnessmap_pars_fragment:WPe,shadowmap_pars_fragment:qPe,shadowmap_pars_vertex:YPe,shadowmap_vertex:KPe,shadowmask_pars_fragment:XPe,skinbase_vertex:JPe,skinning_pars_vertex:ZPe,skinning_vertex:QPe,skinnormal_vertex:eRe,specularmap_fragment:tRe,specularmap_pars_fragment:nRe,tonemapping_fragment:rRe,tonemapping_pars_fragment:iRe,transmission_fragment:sRe,transmission_pars_fragment:oRe,uv_pars_fragment:aRe,uv_pars_vertex:lRe,uv_vertex:cRe,uv2_pars_fragment:uRe,uv2_pars_vertex:dRe,uv2_vertex:fRe,worldpos_vertex:hRe,background_vert:pRe,background_frag:mRe,cube_vert:gRe,cube_frag:vRe,depth_vert:yRe,depth_frag:_Re,distanceRGBA_vert:bRe,distanceRGBA_frag:ERe,equirect_vert:wRe,equirect_frag:xRe,linedashed_vert:SRe,linedashed_frag:TRe,meshbasic_vert:CRe,meshbasic_frag:MRe,meshlambert_vert:ARe,meshlambert_frag:PRe,meshmatcap_vert:RRe,meshmatcap_frag:LRe,meshnormal_vert:IRe,meshnormal_frag:ORe,meshphong_vert:NRe,meshphong_frag:kRe,meshphysical_vert:DRe,meshphysical_frag:FRe,meshtoon_vert:URe,meshtoon_frag:jRe,points_vert:BRe,points_frag:VRe,shadow_vert:HRe,shadow_frag:zRe,sprite_vert:GRe,sprite_frag:$Re},Ke={common:{diffuse:{value:new rt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Nr},uv2Transform:{value:new Nr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}},sprite:{diffuse:{value:new rt(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}}},la={basic:{uniforms:yi([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:yi([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.fog,Ke.lights,{emissive:{value:new rt(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:yi([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new rt(0)},specular:{value:new rt(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:yi([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:yi([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new rt(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:yi([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:yi([Ke.points,Ke.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:yi([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:yi([Ke.common,Ke.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:yi([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:yi([Ke.sprite,Ke.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nr},t2D:{value:null}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},cube:{uniforms:yi([Ke.envmap,{opacity:{value:1}}]),vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:yi([Ke.common,Ke.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:yi([Ke.lights,Ke.fog,{color:{value:new rt(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};la.physical={uniforms:yi([la.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new rt(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new rt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new rt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};function WRe(t,e,n,i,o){const s=new rt(0);let a=0,l,c,u=null,d=0,f=null;function h(m,_){let S=!1,E=_.isScene===!0?_.background:null;E&&E.isTexture&&(E=e.get(E));const w=t.xr,T=w.getSession&&w.getSession();T&&T.environmentBlendMode==="additive"&&(E=null),E===null?v(s,a):E&&E.isColor&&(v(E,1),S=!0),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),E&&(E.isCubeTexture||E.mapping===ob)?(c===void 0&&(c=new Et(new Oc(1,1,1),new cl({name:"BackgroundCubeMaterial",uniforms:vh(la.cube.uniforms),vertexShader:la.cube.vertexShader,fragmentShader:la.cube.fragmentShader,side:dr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,(u!==E||d!==E.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,u=E,d=E.version,f=t.toneMapping),m.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(l===void 0&&(l=new Et(new Qu(2,2),new cl({name:"BackgroundMaterial",uniforms:vh(la.background.uniforms),vertexShader:la.background.vertexShader,fragmentShader:la.background.fragmentShader,side:Za,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=E,E.matrixAutoUpdate===!0&&E.updateMatrix(),l.material.uniforms.uvTransform.value.copy(E.matrix),(u!==E||d!==E.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,u=E,d=E.version,f=t.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null))}function v(m,_){n.buffers.color.setClear(m.r,m.g,m.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(m,_=1){s.set(m),a=_,v(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,v(s,a)},render:h}}function qRe(t,e,n,i){const o=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,l={},c=_(null);let u=c;function d(F,N,H,z,B){let q=!1;if(a){const W=m(z,H,N);u!==W&&(u=W,h(u.object)),q=S(z,B),q&&E(z,B)}else{const W=N.wireframe===!0;(u.geometry!==z.id||u.program!==H.id||u.wireframe!==W)&&(u.geometry=z.id,u.program=H.id,u.wireframe=W,q=!0)}F.isInstancedMesh===!0&&(q=!0),B!==null&&n.update(B,34963),q&&(A(F,N,H,z),B!==null&&t.bindBuffer(34963,n.get(B).buffer))}function f(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(F){return i.isWebGL2?t.bindVertexArray(F):s.bindVertexArrayOES(F)}function v(F){return i.isWebGL2?t.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function m(F,N,H){const z=H.wireframe===!0;let B=l[F.id];B===void 0&&(B={},l[F.id]=B);let q=B[N.id];q===void 0&&(q={},B[N.id]=q);let W=q[z];return W===void 0&&(W=_(f()),q[z]=W),W}function _(F){const N=[],H=[],z=[];for(let B=0;B<o;B++)N[B]=0,H[B]=0,z[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:H,attributeDivisors:z,object:F,attributes:{},index:null}}function S(F,N){const H=u.attributes,z=F.attributes;let B=0;for(const q in z){const W=H[q],j=z[q];if(W===void 0||W.attribute!==j||W.data!==j.data)return!0;B++}return u.attributesNum!==B||u.index!==N}function E(F,N){const H={},z=F.attributes;let B=0;for(const q in z){const W=z[q],j={};j.attribute=W,W.data&&(j.data=W.data),H[q]=j,B++}u.attributes=H,u.attributesNum=B,u.index=N}function w(){const F=u.newAttributes;for(let N=0,H=F.length;N<H;N++)F[N]=0}function T(F){C(F,0)}function C(F,N){const H=u.newAttributes,z=u.enabledAttributes,B=u.attributeDivisors;H[F]=1,z[F]===0&&(t.enableVertexAttribArray(F),z[F]=1),B[F]!==N&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,N),B[F]=N)}function P(){const F=u.newAttributes,N=u.enabledAttributes;for(let H=0,z=N.length;H<z;H++)N[H]!==F[H]&&(t.disableVertexAttribArray(H),N[H]=0)}function R(F,N,H,z,B,q){i.isWebGL2===!0&&(H===5124||H===5125)?t.vertexAttribIPointer(F,N,H,B,q):t.vertexAttribPointer(F,N,H,z,B,q)}function A(F,N,H,z){if(i.isWebGL2===!1&&(F.isInstancedMesh||z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const B=z.attributes,q=H.getAttributes(),W=N.defaultAttributeValues;for(const j in q){const $=q[j];if($.location>=0){let ie=B[j];if(ie===void 0&&(j==="instanceMatrix"&&F.instanceMatrix&&(ie=F.instanceMatrix),j==="instanceColor"&&F.instanceColor&&(ie=F.instanceColor)),ie!==void 0){const Q=ie.normalized,le=ie.itemSize,he=n.get(ie);if(he===void 0)continue;const ue=he.buffer,Ie=he.type,Me=he.bytesPerElement;if(ie.isInterleavedBufferAttribute){const ke=ie.data,Ze=ke.stride,pt=ie.offset;if(ke&&ke.isInstancedInterleavedBuffer){for(let be=0;be<$.locationSize;be++)C($.location+be,ke.meshPerAttribute);F.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let be=0;be<$.locationSize;be++)T($.location+be);t.bindBuffer(34962,ue);for(let be=0;be<$.locationSize;be++)R($.location+be,le/$.locationSize,Ie,Q,Ze*Me,(pt+le/$.locationSize*be)*Me)}else{if(ie.isInstancedBufferAttribute){for(let ke=0;ke<$.locationSize;ke++)C($.location+ke,ie.meshPerAttribute);F.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let ke=0;ke<$.locationSize;ke++)T($.location+ke);t.bindBuffer(34962,ue);for(let ke=0;ke<$.locationSize;ke++)R($.location+ke,le/$.locationSize,Ie,Q,le*Me,le/$.locationSize*ke*Me)}}else if(W!==void 0){const Q=W[j];if(Q!==void 0)switch(Q.length){case 2:t.vertexAttrib2fv($.location,Q);break;case 3:t.vertexAttrib3fv($.location,Q);break;case 4:t.vertexAttrib4fv($.location,Q);break;default:t.vertexAttrib1fv($.location,Q)}}}}P()}function L(){O();for(const F in l){const N=l[F];for(const H in N){const z=N[H];for(const B in z)v(z[B].object),delete z[B];delete N[H]}delete l[F]}}function k(F){if(l[F.id]===void 0)return;const N=l[F.id];for(const H in N){const z=N[H];for(const B in z)v(z[B].object),delete z[B];delete N[H]}delete l[F.id]}function U(F){for(const N in l){const H=l[N];if(H[F.id]===void 0)continue;const z=H[F.id];for(const B in z)v(z[B].object),delete z[B];delete H[F.id]}}function O(){I(),u!==c&&(u=c,h(u.object))}function I(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:d,reset:O,resetDefaultState:I,dispose:L,releaseStatesOfGeometry:k,releaseStatesOfProgram:U,initAttributes:w,enableAttribute:T,disableUnusedAttributes:P}}function YRe(t,e,n,i){const o=i.isWebGL2;let s;function a(u){s=u}function l(u,d){t.drawArrays(s,u,d),n.update(d,s,1)}function c(u,d,f){if(f===0)return;let h,v;if(o)h=t,v="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[v](s,u,d,f),n.update(d,s,f)}this.setMode=a,this.render=l,this.renderInstances=c}function KRe(t,e,n){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(A){if(A==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let l=n.precision!==void 0?n.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const u=a||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),h=t.getParameter(35660),v=t.getParameter(3379),m=t.getParameter(34076),_=t.getParameter(34921),S=t.getParameter(36347),E=t.getParameter(36348),w=t.getParameter(36349),T=h>0,C=a||e.has("OES_texture_float"),P=T&&C,R=a?t.getParameter(36183):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:o,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:h,maxTextureSize:v,maxCubemapSize:m,maxAttributes:_,maxVertexUniforms:S,maxVaryings:E,maxFragmentUniforms:w,vertexTextures:T,floatFragmentTextures:C,floatVertexTextures:P,maxSamples:R}}function XRe(t){const e=this;let n=null,i=0,o=!1,s=!1;const a=new ul,l=new Nr,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,v){const m=f.length!==0||h||i!==0||o;return o=h,n=d(f,v,0),i=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,u()},this.setState=function(f,h,v){const m=f.clippingPlanes,_=f.clipIntersection,S=f.clipShadows,E=t.get(f);if(!o||m===null||m.length===0||s&&!S)s?d(null):u();else{const w=s?0:i,T=w*4;let C=E.clippingState||null;c.value=C,C=d(m,h,T,v);for(let P=0;P!==T;++P)C[P]=n[P];E.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,h,v,m){const _=f!==null?f.length:0;let S=null;if(_!==0){if(S=c.value,m!==!0||S===null){const E=v+_*4,w=h.matrixWorldInverse;l.getNormalMatrix(w),(S===null||S.length<E)&&(S=new Float32Array(E));for(let T=0,C=v;T!==_;++T,C+=4)a.copy(f[T]).applyMatrix4(w,l),a.normal.toArray(S,C),S[C+3]=a.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,S}}function JRe(t){let e=new WeakMap;function n(a,l){return l===sb?a.mapping=Dg:l===sC&&(a.mapping=Fg),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===sb||l===sC)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=t.getRenderTarget(),d=new Ib(c.height/2);return d.fromEquirectangularTexture(t,a),e.set(a,d),t.setRenderTarget(u),a.addEventListener("dispose",o),n(d.texture,a.mapping)}else return null}}return a}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Eh extends GC{constructor(e=-1,n=1,i=1,o=-1,s=.1,a=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=o,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,o,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=i-e,a=i+e,l=o+n,c=o-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}Eh.prototype.isOrthographicCamera=!0;class kb extends cl{constructor(e){super(e);this.type="RawShaderMaterial"}}kb.prototype.isRawShaderMaterial=!0;const wh=4,Nc=8,ca=Math.pow(2,Nc),PB=[.125,.215,.35,.446,.526,.582],RB=Nc-wh+1+PB.length,xh=20,Db={[Or]:0,[Zi]:1},WC=new Eh,{_lodPlanes:Kg,_sizeLods:LB,_sigmas:Fb}=QRe(),IB=new rt;let qC=null;const ed=(1+Math.sqrt(5))/2,Sh=1/ed,OB=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,ed,Sh),new ee(0,ed,-Sh),new ee(Sh,0,ed),new ee(-Sh,0,ed),new ee(ed,Sh,0),new ee(-ed,Sh,0)];class ZRe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=eLe(xh),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,o=100){qC=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,o,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=DB(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=kB(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Kg.length;e++)Kg[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(qC),e.scissorTest=!1,Ub(e,0,0,e.width,e.height)}_fromTexture(e){qC=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:In,minFilter:In,generateMipmaps:!1,type:ys,format:er,encoding:Or,depthBuffer:!1},i=NB(n);return i.depthBuffer=!e,this._pingPongRenderTarget=NB(n),i}_compileMaterial(e){const n=new Et(Kg[0],e);this._renderer.compile(n,WC)}_sceneToCubeUV(e,n,i,o){const s=90,a=1,l=new zr(s,a,n,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(IB),d.toneMapping=tl,d.autoClear=!1;const v=new Po({name:"PMREM.Background",side:dr,depthWrite:!1,depthTest:!1}),m=new Et(new Oc,v);let _=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,_=!0):(v.color.copy(IB),_=!0);for(let E=0;E<6;E++){const w=E%3;w==0?(l.up.set(0,c[E],0),l.lookAt(u[E],0,0)):w==1?(l.up.set(0,0,c[E]),l.lookAt(0,u[E],0)):(l.up.set(0,c[E],0),l.lookAt(0,0,u[E])),Ub(o,w*ca,E>2?ca:0,ca,ca),d.setRenderTarget(o),_&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=S}_setEncoding(e,n){this._renderer.capabilities.isWebGL2===!0&&n.format===er&&n.type===aa&&n.encoding===Zi?e.value=Db[Or]:e.value=Db[n.encoding]}_textureToCubeUV(e,n){const i=this._renderer,o=e.mapping===Dg||e.mapping===Fg;o?this._cubemapShader==null&&(this._cubemapShader=DB()):this._equirectShader==null&&(this._equirectShader=kB());const s=o?this._cubemapShader:this._equirectShader,a=new Et(Kg[0],s),l=s.uniforms;l.envMap.value=e,o||l.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(l.inputEncoding,e),Ub(n,0,0,3*ca,2*ca),i.setRenderTarget(n),i.render(a,WC)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let o=1;o<RB;o++){const s=Math.sqrt(Fb[o]*Fb[o]-Fb[o-1]*Fb[o-1]),a=OB[(o-1)%OB.length];this._blur(e,o-1,o,s,a)}n.autoClear=i}_blur(e,n,i,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,o,"latitudinal",s),this._halfBlur(a,e,i,i,o,"longitudinal",s)}_halfBlur(e,n,i,o,s,a,l){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Et(Kg[o],u),h=u.uniforms,v=LB[i]-1,m=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xh-1),_=s/m,S=isFinite(s)?1+Math.floor(d*_):xh;S>xh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${xh}`);const E=[];let w=0;for(let R=0;R<xh;++R){const A=R/_,L=Math.exp(-A*A/2);E.push(L),R==0?w+=L:R<S&&(w+=2*L)}for(let R=0;R<E.length;R++)E[R]=E[R]/w;h.envMap.value=e.texture,h.samples.value=S,h.weights.value=E,h.latitudinal.value=a==="latitudinal",l&&(h.poleAxis.value=l),h.dTheta.value=m,h.mipInt.value=Nc-i;const T=LB[o],C=3*Math.max(0,ca-2*T),P=(o===0?0:2*ca)+2*T*(o>Nc-wh?o-Nc+wh:0);Ub(n,C,P,3*T,2*T),c.setRenderTarget(n),c.render(f,WC)}}function QRe(){const t=[],e=[],n=[];let i=Nc;for(let o=0;o<RB;o++){const s=Math.pow(2,i);e.push(s);let a=1/s;o>Nc-wh?a=PB[o-Nc+wh-1]:o==0&&(a=0),n.push(a);const l=1/(s-1),c=-l/2,u=1+l/2,d=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,h=6,v=3,m=2,_=1,S=new Float32Array(v*h*f),E=new Float32Array(m*h*f),w=new Float32Array(_*h*f);for(let C=0;C<f;C++){const P=C%3*2/3-1,R=C>2?0:-1,A=[P,R,0,P+2/3,R,0,P+2/3,R+1,0,P,R,0,P+2/3,R+1,0,P,R+1,0];S.set(A,v*h*C),E.set(d,m*h*C);const L=[C,C,C,C,C,C];w.set(L,_*h*C)}const T=new kn;T.setAttribute("position",new Nn(S,v)),T.setAttribute("uv",new Nn(E,m)),T.setAttribute("faceIndex",new Nn(w,_)),t.push(T),i>wh&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function NB(t){const e=new Qi(3*ca,3*ca,t);return e.texture.mapping=ob,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Ub(t,e,n,i,o){t.viewport.set(e,n,i,o),t.scissor.set(e,n,i,o)}function eLe(t){const e=new Float32Array(t),n=new ee(0,1,0);return new kb({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:YC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${KC()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function kB(){const t=new Le(1,1);return new kb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Db[Or]}},vertexShader:YC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${KC()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function DB(){return new kb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Db[Or]}},vertexShader:YC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${KC()}

			void main() {

				gl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function YC(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KC(){return`

		uniform int inputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else {

				return sRGBToLinear( value );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function tLe(t){let e=new WeakMap,n=null;function i(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const c=l.mapping,u=c===sb||c===sC,d=c===Dg||c===Fg;if(u||d){if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||d&&f&&o(f)){const h=t.getRenderTarget();n===null&&(n=new ZRe(t));const v=u?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,v),t.setRenderTarget(h),l.addEventListener("dispose",s),v.texture}else return null}}}return l}function o(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function nLe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let o;switch(i){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(i)}return e[i]=o,o}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const o=n(i);return o===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),o}}}function rLe(t,e,n,i){const o={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",a),delete o[h.id];const v=s.get(h);v&&(e.remove(v),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function l(f,h){return o[h.id]===!0||(h.addEventListener("dispose",a),o[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const m in h)e.update(h[m],34962);const v=f.morphAttributes;for(const m in v){const _=v[m];for(let S=0,E=_.length;S<E;S++)e.update(_[S],34962)}}function u(f){const h=[],v=f.index,m=f.attributes.position;let _=0;if(v!==null){const w=v.array;_=v.version;for(let T=0,C=w.length;T<C;T+=3){const P=w[T+0],R=w[T+1],A=w[T+2];h.push(P,R,R,A,A,P)}}else{const w=m.array;_=m.version;for(let T=0,C=w.length/3-1;T<C;T+=3){const P=T+0,R=T+1,A=T+2;h.push(P,R,R,A,A,P)}}const S=new(hB(h)>65535?CB:TB)(h,1);S.version=_;const E=s.get(f);E&&e.remove(E),s.set(f,S)}function d(f){const h=s.get(f);if(h){const v=f.index;v!==null&&h.version<v.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:c,getWireframeAttribute:d}}function iLe(t,e,n,i){const o=i.isWebGL2;let s;function a(h){s=h}let l,c;function u(h){l=h.type,c=h.bytesPerElement}function d(h,v){t.drawElements(s,v,l,h*c),n.update(v,s,1)}function f(h,v,m){if(m===0)return;let _,S;if(o)_=t,S="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[S](s,v,l,h*c,m),n.update(v,s,m)}this.setMode=a,this.setIndex=u,this.render=d,this.renderInstances=f}function sLe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,l){switch(n.calls++,a){case 4:n.triangles+=l*(s/3);break;case 1:n.lines+=l*(s/2);break;case 3:n.lines+=l*(s-1);break;case 2:n.lines+=l*s;break;case 0:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:o,update:i}}class XC extends fr{constructor(e=null,n=1,i=1,o=1){super(null);this.image={data:e,width:n,height:i,depth:o},this.magFilter=br,this.minFilter=br,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}XC.prototype.isDataTexture2DArray=!0;function oLe(t,e){return t[0]-e[0]}function aLe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function FB(t,e){let n=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?n=127:i instanceof Int16Array?n=32767:i instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),t.divideScalar(n)}function lLe(t,e,n){const i={},o=new Float32Array(8),s=new WeakMap,a=new ee,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function c(u,d,f,h){const v=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=d.morphAttributes.position.length;let _=s.get(d);if(_===void 0||_.count!==m){_!==void 0&&_.texture.dispose();const w=d.morphAttributes.normal!==void 0,T=d.morphAttributes.position,C=d.morphAttributes.normal||[],P=d.attributes.position.count,R=w===!0?2:1;let A=P*R,L=1;A>e.maxTextureSize&&(L=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const k=new Float32Array(A*L*4*m),U=new XC(k,A,L,m);U.format=er,U.type=Ks,U.needsUpdate=!0;const O=R*4;for(let I=0;I<m;I++){const F=T[I],N=C[I],H=A*L*4*I;for(let z=0;z<F.count;z++){a.fromBufferAttribute(F,z),F.normalized===!0&&FB(a,F);const B=z*O;k[H+B+0]=a.x,k[H+B+1]=a.y,k[H+B+2]=a.z,k[H+B+3]=0,w===!0&&(a.fromBufferAttribute(N,z),N.normalized===!0&&FB(a,N),k[H+B+4]=a.x,k[H+B+5]=a.y,k[H+B+6]=a.z,k[H+B+7]=0)}}_={count:m,texture:U,size:new Le(A,L)},s.set(d,_)}let S=0;for(let w=0;w<v.length;w++)S+=v[w];const E=d.morphTargetsRelative?1:1-S;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",v),h.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const m=v===void 0?0:v.length;let _=i[d.id];if(_===void 0||_.length!==m){_=[];for(let C=0;C<m;C++)_[C]=[C,0];i[d.id]=_}for(let C=0;C<m;C++){const P=_[C];P[0]=C,P[1]=v[C]}_.sort(aLe);for(let C=0;C<8;C++)C<m&&_[C][1]?(l[C][0]=_[C][0],l[C][1]=_[C][1]):(l[C][0]=Number.MAX_SAFE_INTEGER,l[C][1]=0);l.sort(oLe);const S=d.morphAttributes.position,E=d.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const P=l[C],R=P[0],A=P[1];R!==Number.MAX_SAFE_INTEGER&&A?(S&&d.getAttribute("morphTarget"+C)!==S[R]&&d.setAttribute("morphTarget"+C,S[R]),E&&d.getAttribute("morphNormal"+C)!==E[R]&&d.setAttribute("morphNormal"+C,E[R]),o[C]=A,w+=A):(S&&d.hasAttribute("morphTarget"+C)===!0&&d.deleteAttribute("morphTarget"+C),E&&d.hasAttribute("morphNormal"+C)===!0&&d.deleteAttribute("morphNormal"+C),o[C]=0)}const T=d.morphTargetsRelative?1:1-w;h.getUniforms().setValue(t,"morphTargetBaseInfluence",T),h.getUniforms().setValue(t,"morphTargetInfluences",o)}}return{update:c}}function cLe(t,e,n,i){let o=new WeakMap;function s(c){const u=i.render.frame,d=c.geometry,f=e.get(c,d);return o.get(f)!==u&&(e.update(f),o.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),n.update(c.instanceMatrix,34962),c.instanceColor!==null&&n.update(c.instanceColor,34962)),f}function a(){o=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class UB extends fr{constructor(e=null,n=1,i=1,o=1){super(null);this.image={data:e,width:n,height:i,depth:o},this.magFilter=br,this.minFilter=br,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}UB.prototype.isDataTexture3D=!0;const jB=new fr,BB=new XC,VB=new UB,HB=new Lb,zB=[],GB=[],$B=new Float32Array(16),WB=new Float32Array(9),qB=new Float32Array(4);function Th(t,e,n){const i=t[0];if(i<=0||i>0)return t;const o=e*n;let s=zB[o];if(s===void 0&&(s=new Float32Array(o),zB[o]=s),e!==0){i.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(s,l)}return s}function Ii(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function _i(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function jb(t,e){let n=GB[e];n===void 0&&(n=new Int32Array(e),GB[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function uLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function dLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ii(n,e))return;t.uniform2fv(this.addr,e),_i(n,e)}}function fLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ii(n,e))return;t.uniform3fv(this.addr,e),_i(n,e)}}function hLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ii(n,e))return;t.uniform4fv(this.addr,e),_i(n,e)}}function pLe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ii(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),_i(n,e)}else{if(Ii(n,i))return;qB.set(i),t.uniformMatrix2fv(this.addr,!1,qB),_i(n,i)}}function mLe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ii(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),_i(n,e)}else{if(Ii(n,i))return;WB.set(i),t.uniformMatrix3fv(this.addr,!1,WB),_i(n,i)}}function gLe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ii(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),_i(n,e)}else{if(Ii(n,i))return;$B.set(i),t.uniformMatrix4fv(this.addr,!1,$B),_i(n,i)}}function vLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function yLe(t,e){const n=this.cache;Ii(n,e)||(t.uniform2iv(this.addr,e),_i(n,e))}function _Le(t,e){const n=this.cache;Ii(n,e)||(t.uniform3iv(this.addr,e),_i(n,e))}function bLe(t,e){const n=this.cache;Ii(n,e)||(t.uniform4iv(this.addr,e),_i(n,e))}function ELe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function wLe(t,e){const n=this.cache;Ii(n,e)||(t.uniform2uiv(this.addr,e),_i(n,e))}function xLe(t,e){const n=this.cache;Ii(n,e)||(t.uniform3uiv(this.addr,e),_i(n,e))}function SLe(t,e){const n=this.cache;Ii(n,e)||(t.uniform4uiv(this.addr,e),_i(n,e))}function TLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.safeSetTexture2D(e||jB,o)}function CLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture3D(e||VB,o)}function MLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.safeSetTextureCube(e||HB,o)}function ALe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture2DArray(e||BB,o)}function PLe(t){switch(t){case 5126:return uLe;case 35664:return dLe;case 35665:return fLe;case 35666:return hLe;case 35674:return pLe;case 35675:return mLe;case 35676:return gLe;case 5124:case 35670:return vLe;case 35667:case 35671:return yLe;case 35668:case 35672:return _Le;case 35669:case 35673:return bLe;case 5125:return ELe;case 36294:return wLe;case 36295:return xLe;case 36296:return SLe;case 35678:case 36198:case 36298:case 36306:case 35682:return TLe;case 35679:case 36299:case 36307:return CLe;case 35680:case 36300:case 36308:case 36293:return MLe;case 36289:case 36303:case 36311:case 36292:return ALe}}function RLe(t,e){t.uniform1fv(this.addr,e)}function LLe(t,e){const n=Th(e,this.size,2);t.uniform2fv(this.addr,n)}function ILe(t,e){const n=Th(e,this.size,3);t.uniform3fv(this.addr,n)}function OLe(t,e){const n=Th(e,this.size,4);t.uniform4fv(this.addr,n)}function NLe(t,e){const n=Th(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function kLe(t,e){const n=Th(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function DLe(t,e){const n=Th(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function FLe(t,e){t.uniform1iv(this.addr,e)}function ULe(t,e){t.uniform2iv(this.addr,e)}function jLe(t,e){t.uniform3iv(this.addr,e)}function BLe(t,e){t.uniform4iv(this.addr,e)}function VLe(t,e){t.uniform1uiv(this.addr,e)}function HLe(t,e){t.uniform2uiv(this.addr,e)}function zLe(t,e){t.uniform3uiv(this.addr,e)}function GLe(t,e){t.uniform4uiv(this.addr,e)}function $Le(t,e,n){const i=e.length,o=jb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.safeSetTexture2D(e[s]||jB,o[s])}function WLe(t,e,n){const i=e.length,o=jb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.setTexture3D(e[s]||VB,o[s])}function qLe(t,e,n){const i=e.length,o=jb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.safeSetTextureCube(e[s]||HB,o[s])}function YLe(t,e,n){const i=e.length,o=jb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||BB,o[s])}function KLe(t){switch(t){case 5126:return RLe;case 35664:return LLe;case 35665:return ILe;case 35666:return OLe;case 35674:return NLe;case 35675:return kLe;case 35676:return DLe;case 5124:case 35670:return FLe;case 35667:case 35671:return ULe;case 35668:case 35672:return jLe;case 35669:case 35673:return BLe;case 5125:return VLe;case 36294:return HLe;case 36295:return zLe;case 36296:return GLe;case 35678:case 36198:case 36298:case 36306:case 35682:return $Le;case 35679:case 36299:case 36307:return WLe;case 35680:case 36300:case 36308:case 36293:return qLe;case 36289:case 36303:case 36311:case 36292:return YLe}}function XLe(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=PLe(e.type)}function YB(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=KLe(e.type)}YB.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),_i(e,t)};function KB(t){this.id=t,this.seq=[],this.map={}}KB.prototype.setValue=function(t,e,n){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(t,e[a.id],n)}};const JC=/(\w+)(\])?(\[|\.)?/g;function XB(t,e){t.seq.push(e),t.map[e.id]=e}function JLe(t,e,n){const i=t.name,o=i.length;for(JC.lastIndex=0;;){const s=JC.exec(i),a=JC.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&a+2===o){XB(n,u===void 0?new XLe(l,t,e):new YB(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new KB(l),XB(n,f)),n=f}}}function kc(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const o=t.getActiveUniform(e,i),s=t.getUniformLocation(e,o.name);JLe(o,s,this)}}kc.prototype.setValue=function(t,e,n,i){const o=this.map[e];o!==void 0&&o.setValue(t,n,i)};kc.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};kc.upload=function(t,e,n,i){for(let o=0,s=e.length;o!==s;++o){const a=e[o],l=n[a.id];l.needsUpdate!==!1&&a.setValue(t,l.value,i)}};kc.seqWithValue=function(t,e){const n=[];for(let i=0,o=t.length;i!==o;++i){const s=t[i];s.id in e&&n.push(s)}return n};function JB(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let ZLe=0;function QLe(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function ZB(t){switch(t){case Or:return["Linear","( value )"];case Zi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function QB(t,e,n){const i=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();return i&&o===""?"":n.toUpperCase()+`

`+o+`

`+QLe(t.getShaderSource(e))}function td(t,e){const n=ZB(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function eIe(t,e){const n=ZB(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function tIe(t,e){let n;switch(e){case GCe:n="Linear";break;case $Ce:n="Reinhard";break;case WCe:n="OptimizedCineon";break;case Jj:n="ACESFilmic";break;case qCe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function nIe(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xg).join(`
`)}function rIe(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function iIe(t,e){const n={},i=t.getProgramParameter(e,35721);for(let o=0;o<i;o++){const s=t.getActiveAttrib(e,o),a=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function Xg(t){return t!==""}function eV(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tV(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sIe=/^[ \t]*#include +<([\w\d./]+)>/gm;function ZC(t){return t.replace(sIe,oIe)}function oIe(t,e){const n=Xt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return ZC(n)}const aIe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,lIe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nV(t){return t.replace(lIe,rV).replace(aIe,cIe)}function cIe(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),rV(t,e,n,i)}function rV(t,e,n,i){let o="";for(let s=parseInt(e);s<parseInt(n);s++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function iV(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uIe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Vj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Hj?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ng&&(e="SHADOWMAP_TYPE_VSM"),e}function dIe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Dg:case Fg:e="ENVMAP_TYPE_CUBE";break;case ob:case oC:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fIe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Fg:case oC:e="ENVMAP_MODE_REFRACTION";break}return e}function hIe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case ib:e="ENVMAP_BLENDING_MULTIPLY";break;case HCe:e="ENVMAP_BLENDING_MIX";break;case zCe:e="ENVMAP_BLENDING_ADD";break}return e}function pIe(t,e,n,i){const o=t.getContext(),s=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=uIe(n),u=dIe(n),d=fIe(n),f=hIe(n),h=n.isWebGL2?"":nIe(n),v=rIe(s),m=o.createProgram();let _,S,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=[v].filter(Xg).join(`
`),_.length>0&&(_+=`
`),S=[h,v].filter(Xg).join(`
`),S.length>0&&(S+=`
`)):(_=[iV(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xg).join(`
`),S=[h,iV(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==tl?"#define TONE_MAPPING":"",n.toneMapping!==tl?Xt.tonemapping_pars_fragment:"",n.toneMapping!==tl?tIe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===Xs?"#define OPAQUE":"",Xt.encodings_pars_fragment,n.map?td("mapTexelToLinear",n.mapEncoding):"",n.matcap?td("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?td("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?td("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?td("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?td("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?td("lightMapTexelToLinear",n.lightMapEncoding):"",eIe("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Xg).join(`
`)),a=ZC(a),a=eV(a,n),a=tV(a,n),l=ZC(l),l=eV(l,n),l=tV(l,n),a=nV(a),l=nV(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,S=["#define varying in",n.glslVersion===cB?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===cB?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const w=E+_+a,T=E+S+l,C=JB(o,35633,w),P=JB(o,35632,T);if(o.attachShader(m,C),o.attachShader(m,P),n.index0AttributeName!==void 0?o.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),t.debug.checkShaderErrors){const L=o.getProgramInfoLog(m).trim(),k=o.getShaderInfoLog(C).trim(),U=o.getShaderInfoLog(P).trim();let O=!0,I=!0;if(o.getProgramParameter(m,35714)===!1){O=!1;const F=QB(o,C,"vertex"),N=QB(o,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(m,35715)+`

Program Info Log: `+L+`
`+F+`
`+N)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(k===""||U==="")&&(I=!1);I&&(this.diagnostics={runnable:O,programLog:L,vertexShader:{log:k,prefix:_},fragmentShader:{log:U,prefix:S}})}o.deleteShader(C),o.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new kc(o,m)),R};let A;return this.getAttributes=function(){return A===void 0&&(A=iIe(o,m)),A},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=ZLe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=C,this.fragmentShader=P,this}let mIe=0;class gIe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,o=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(o)===!1&&(a.add(o),o.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const i=new vIe;n.set(e,i)}return n.get(e)}}class vIe{constructor(){this.id=mIe++,this.usedTimes=0}}function yIe(t,e,n,i,o,s,a){const l=new RC,c=new gIe,u=[],d=o.isWebGL2,f=o.logarithmicDepthBuffer,h=o.floatVertexTextures,v=o.maxVertexUniforms,m=o.vertexTextures;let _=o.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(I){const N=I.skeleton.bones;if(h)return 1024;{const z=Math.floor((v-20)/4),B=Math.min(z,N.length);return B<N.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+N.length+" bones. This GPU supports "+B+"."),0):B}}function w(I){let F;return I&&I.isTexture?F=I.encoding:I&&I.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),F=I.texture.encoding):F=Or,d&&I&&I.isTexture&&I.format===er&&I.type===aa&&I.encoding===Zi&&(F=Or),F}function T(I,F,N,H,z){const B=H.fog,q=I.isMeshStandardMaterial?H.environment:null,W=(I.isMeshStandardMaterial?n:e).get(I.envMap||q),j=S[I.type],$=z.isSkinnedMesh?E(z):0;I.precision!==null&&(_=o.getMaxPrecision(I.precision),_!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",_,"instead."));let ie,Q,le,he;if(j){const Ze=la[j];ie=Ze.vertexShader,Q=Ze.fragmentShader}else ie=I.vertexShader,Q=I.fragmentShader,c.update(I),le=c.getVertexShaderID(I),he=c.getFragmentShaderID(I);const ue=t.getRenderTarget(),Ie=I.alphaTest>0,Me=I.clearcoat>0;return{isWebGL2:d,shaderID:j,shaderName:I.type,vertexShader:ie,fragmentShader:Q,defines:I.defines,customVertexShaderID:le,customFragmentShaderID:he,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:_,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:m,outputEncoding:ue!==null?w(ue.texture):t.outputEncoding,map:!!I.map,mapEncoding:w(I.map),matcap:!!I.matcap,matcapEncoding:w(I.matcap),envMap:!!W,envMapMode:W&&W.mapping,envMapEncoding:w(W),envMapCubeUV:!!W&&(W.mapping===ob||W.mapping===oC),lightMap:!!I.lightMap,lightMapEncoding:w(I.lightMap),aoMap:!!I.aoMap,emissiveMap:!!I.emissiveMap,emissiveMapEncoding:w(I.emissiveMap),bumpMap:!!I.bumpMap,normalMap:!!I.normalMap,objectSpaceNormalMap:I.normalMapType===BMe,tangentSpaceNormalMap:I.normalMapType===Ku,clearcoat:Me,clearcoatMap:Me&&!!I.clearcoatMap,clearcoatRoughnessMap:Me&&!!I.clearcoatRoughnessMap,clearcoatNormalMap:Me&&!!I.clearcoatNormalMap,displacementMap:!!I.displacementMap,roughnessMap:!!I.roughnessMap,metalnessMap:!!I.metalnessMap,specularMap:!!I.specularMap,specularIntensityMap:!!I.specularIntensityMap,specularColorMap:!!I.specularColorMap,specularColorMapEncoding:w(I.specularColorMap),alphaMap:!!I.alphaMap,alphaTest:Ie,gradientMap:!!I.gradientMap,sheen:I.sheen>0,sheenColorMap:!!I.sheenColorMap,sheenColorMapEncoding:w(I.sheenColorMap),sheenRoughnessMap:!!I.sheenRoughnessMap,transmission:I.transmission>0,transmissionMap:!!I.transmissionMap,thicknessMap:!!I.thicknessMap,combine:I.combine,vertexTangents:!!I.normalMap&&!!z.geometry&&!!z.geometry.attributes.tangent,vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!z.geometry&&!!z.geometry.attributes.color&&z.geometry.attributes.color.itemSize===4,vertexUvs:!!I.map||!!I.bumpMap||!!I.normalMap||!!I.specularMap||!!I.alphaMap||!!I.emissiveMap||!!I.roughnessMap||!!I.metalnessMap||!!I.clearcoatMap||!!I.clearcoatRoughnessMap||!!I.clearcoatNormalMap||!!I.displacementMap||!!I.transmissionMap||!!I.thicknessMap||!!I.specularIntensityMap||!!I.specularColorMap||!!I.sheenColorMap||!!I.sheenRoughnessMap,uvsVertexOnly:!(!!I.map||!!I.bumpMap||!!I.normalMap||!!I.specularMap||!!I.alphaMap||!!I.emissiveMap||!!I.roughnessMap||!!I.metalnessMap||!!I.clearcoatNormalMap||I.transmission>0||!!I.transmissionMap||!!I.thicknessMap||!!I.specularIntensityMap||!!I.specularColorMap||I.sheen>0||!!I.sheenColorMap||!!I.sheenRoughnessMap)&&!!I.displacementMap,fog:!!B,useFog:I.fog,fogExp2:B&&B.isFogExp2,flatShading:!!I.flatShading,sizeAttenuation:I.sizeAttenuation,logarithmicDepthBuffer:f,skinning:z.isSkinnedMesh===!0&&$>0,maxBones:$,useVertexTexture:h,morphTargets:!!z.geometry&&!!z.geometry.morphAttributes.position,morphNormals:!!z.geometry&&!!z.geometry.morphAttributes.normal,morphTargetsCount:!!z.geometry&&!!z.geometry.morphAttributes.position?z.geometry.morphAttributes.position.length:0,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,format:I.format,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:I.toneMapped?t.toneMapping:tl,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Qa,flipSided:I.side===dr,depthPacking:I.depthPacking!==void 0?I.depthPacking:!1,index0AttributeName:I.index0AttributeName,extensionDerivatives:I.extensions&&I.extensions.derivatives,extensionFragDepth:I.extensions&&I.extensions.fragDepth,extensionDrawBuffers:I.extensions&&I.extensions.drawBuffers,extensionShaderTextureLOD:I.extensions&&I.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function C(I){const F=[];if(I.shaderID?F.push(I.shaderID):(F.push(I.customVertexShaderID),F.push(I.customFragmentShaderID)),I.defines!==void 0)for(const N in I.defines)F.push(N),F.push(I.defines[N]);return I.isRawShaderMaterial===!1&&(P(F,I),R(F,I),F.push(t.outputEncoding)),F.push(I.customProgramCacheKey),F.join()}function P(I,F){I.push(F.precision),I.push(F.outputEncoding),I.push(F.mapEncoding),I.push(F.matcapEncoding),I.push(F.envMapMode),I.push(F.envMapEncoding),I.push(F.lightMapEncoding),I.push(F.emissiveMapEncoding),I.push(F.combine),I.push(F.vertexUvs),I.push(F.fogExp2),I.push(F.sizeAttenuation),I.push(F.maxBones),I.push(F.morphTargetsCount),I.push(F.numDirLights),I.push(F.numPointLights),I.push(F.numSpotLights),I.push(F.numHemiLights),I.push(F.numRectAreaLights),I.push(F.numDirLightShadows),I.push(F.numPointLightShadows),I.push(F.numSpotLightShadows),I.push(F.shadowMapType),I.push(F.toneMapping),I.push(F.numClippingPlanes),I.push(F.numClipIntersection),I.push(F.format),I.push(F.specularColorMapEncoding),I.push(F.sheenColorMapEncoding)}function R(I,F){l.disableAll(),F.isWebGL2&&l.enable(0),F.supportsVertexTextures&&l.enable(1),F.instancing&&l.enable(2),F.instancingColor&&l.enable(3),F.map&&l.enable(4),F.matcap&&l.enable(5),F.envMap&&l.enable(6),F.envMapCubeUV&&l.enable(7),F.lightMap&&l.enable(8),F.aoMap&&l.enable(9),F.emissiveMap&&l.enable(10),F.bumpMap&&l.enable(11),F.normalMap&&l.enable(12),F.objectSpaceNormalMap&&l.enable(13),F.tangentSpaceNormalMap&&l.enable(14),F.clearcoat&&l.enable(15),F.clearcoatMap&&l.enable(16),F.clearcoatRoughnessMap&&l.enable(17),F.clearcoatNormalMap&&l.enable(18),F.displacementMap&&l.enable(19),F.specularMap&&l.enable(20),F.roughnessMap&&l.enable(21),F.metalnessMap&&l.enable(22),F.gradientMap&&l.enable(23),F.alphaMap&&l.enable(24),F.alphaTest&&l.enable(25),F.vertexColors&&l.enable(26),F.vertexAlphas&&l.enable(27),F.vertexUvs&&l.enable(28),F.vertexTangents&&l.enable(29),F.uvsVertexOnly&&l.enable(30),F.fog&&l.enable(31),I.push(l.mask),l.disableAll(),F.useFog&&l.enable(0),F.flatShading&&l.enable(1),F.logarithmicDepthBuffer&&l.enable(2),F.skinning&&l.enable(3),F.useVertexTexture&&l.enable(4),F.morphTargets&&l.enable(5),F.morphNormals&&l.enable(6),F.premultipliedAlpha&&l.enable(7),F.shadowMapEnabled&&l.enable(8),F.physicallyCorrectLights&&l.enable(9),F.doubleSided&&l.enable(10),F.flipSided&&l.enable(11),F.depthPacking&&l.enable(12),F.dithering&&l.enable(13),F.specularIntensityMap&&l.enable(14),F.specularColorMap&&l.enable(15),F.transmission&&l.enable(16),F.transmissionMap&&l.enable(17),F.thicknessMap&&l.enable(18),F.sheen&&l.enable(19),F.sheenColorMap&&l.enable(20),F.sheenRoughnessMap&&l.enable(21),I.push(l.mask)}function A(I){const F=S[I.type];let N;if(F){const H=la[F];N=pAe.clone(H.uniforms)}else N=I.uniforms;return N}function L(I,F){let N;for(let H=0,z=u.length;H<z;H++){const B=u[H];if(B.cacheKey===F){N=B,++N.usedTimes;break}}return N===void 0&&(N=new pIe(t,F,I,s),u.push(N)),N}function k(I){if(--I.usedTimes==0){const F=u.indexOf(I);u[F]=u[u.length-1],u.pop(),I.destroy()}}function U(I){c.remove(I)}function O(){c.dispose()}return{getParameters:T,getProgramCacheKey:C,getUniforms:A,acquireProgram:L,releaseProgram:k,releaseShaderCache:U,programs:u,dispose:O}}function _Ie(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:o}}function bIe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function sV(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oV(){const t=[];let e=0;const n=[],i=[],o=[];function s(){e=0,n.length=0,i.length=0,o.length=0}function a(f,h,v,m,_,S){let E=t[e];return E===void 0?(E={id:f.id,object:f,geometry:h,material:v,groupOrder:m,renderOrder:f.renderOrder,z:_,group:S},t[e]=E):(E.id=f.id,E.object=f,E.geometry=h,E.material=v,E.groupOrder=m,E.renderOrder=f.renderOrder,E.z=_,E.group=S),e++,E}function l(f,h,v,m,_,S){const E=a(f,h,v,m,_,S);v.transmission>0?i.push(E):v.transparent===!0?o.push(E):n.push(E)}function c(f,h,v,m,_,S){const E=a(f,h,v,m,_,S);v.transmission>0?i.unshift(E):v.transparent===!0?o.unshift(E):n.unshift(E)}function u(f,h){n.length>1&&n.sort(f||bIe),i.length>1&&i.sort(h||sV),o.length>1&&o.sort(h||sV)}function d(){for(let f=e,h=t.length;f<h;f++){const v=t[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:o,init:s,push:l,unshift:c,finish:d,sort:u}}function EIe(){let t=new WeakMap;function e(i,o){let s;return t.has(i)===!1?(s=new oV,t.set(i,[s])):o>=t.get(i).length?(s=new oV,t.get(i).push(s)):s=t.get(i)[o],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function wIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ee,color:new rt};break;case"SpotLight":n={position:new ee,direction:new ee,color:new rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new rt,groundColor:new rt};break;case"RectAreaLight":n={color:new rt,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=n,n}}}function xIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let SIe=0;function TIe(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function CIe(t,e){const n=new wIe,i=xIe(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)o.probe.push(new ee);const s=new ee,a=new ot,l=new ot;function c(d,f){let h=0,v=0,m=0;for(let k=0;k<9;k++)o.probe[k].set(0,0,0);let _=0,S=0,E=0,w=0,T=0,C=0,P=0,R=0;d.sort(TIe);const A=f!==!0?Math.PI:1;for(let k=0,U=d.length;k<U;k++){const O=d[k],I=O.color,F=O.intensity,N=O.distance,H=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=I.r*F*A,v+=I.g*F*A,m+=I.b*F*A;else if(O.isLightProbe)for(let z=0;z<9;z++)o.probe[z].addScaledVector(O.sh.coefficients[z],F);else if(O.isDirectionalLight){const z=n.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity*A),O.castShadow){const B=O.shadow,q=i.get(O);q.shadowBias=B.bias,q.shadowNormalBias=B.normalBias,q.shadowRadius=B.radius,q.shadowMapSize=B.mapSize,o.directionalShadow[_]=q,o.directionalShadowMap[_]=H,o.directionalShadowMatrix[_]=O.shadow.matrix,C++}o.directional[_]=z,_++}else if(O.isSpotLight){const z=n.get(O);if(z.position.setFromMatrixPosition(O.matrixWorld),z.color.copy(I).multiplyScalar(F*A),z.distance=N,z.coneCos=Math.cos(O.angle),z.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),z.decay=O.decay,O.castShadow){const B=O.shadow,q=i.get(O);q.shadowBias=B.bias,q.shadowNormalBias=B.normalBias,q.shadowRadius=B.radius,q.shadowMapSize=B.mapSize,o.spotShadow[E]=q,o.spotShadowMap[E]=H,o.spotShadowMatrix[E]=O.shadow.matrix,R++}o.spot[E]=z,E++}else if(O.isRectAreaLight){const z=n.get(O);z.color.copy(I).multiplyScalar(F),z.halfWidth.set(O.width*.5,0,0),z.halfHeight.set(0,O.height*.5,0),o.rectArea[w]=z,w++}else if(O.isPointLight){const z=n.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity*A),z.distance=O.distance,z.decay=O.decay,O.castShadow){const B=O.shadow,q=i.get(O);q.shadowBias=B.bias,q.shadowNormalBias=B.normalBias,q.shadowRadius=B.radius,q.shadowMapSize=B.mapSize,q.shadowCameraNear=B.camera.near,q.shadowCameraFar=B.camera.far,o.pointShadow[S]=q,o.pointShadowMap[S]=H,o.pointShadowMatrix[S]=O.shadow.matrix,P++}o.point[S]=z,S++}else if(O.isHemisphereLight){const z=n.get(O);z.skyColor.copy(O.color).multiplyScalar(F*A),z.groundColor.copy(O.groundColor).multiplyScalar(F*A),o.hemi[T]=z,T++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Ke.LTC_FLOAT_1,o.rectAreaLTC2=Ke.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=Ke.LTC_HALF_1,o.rectAreaLTC2=Ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=h,o.ambient[1]=v,o.ambient[2]=m;const L=o.hash;(L.directionalLength!==_||L.pointLength!==S||L.spotLength!==E||L.rectAreaLength!==w||L.hemiLength!==T||L.numDirectionalShadows!==C||L.numPointShadows!==P||L.numSpotShadows!==R)&&(o.directional.length=_,o.spot.length=E,o.rectArea.length=w,o.point.length=S,o.hemi.length=T,o.directionalShadow.length=C,o.directionalShadowMap.length=C,o.pointShadow.length=P,o.pointShadowMap.length=P,o.spotShadow.length=R,o.spotShadowMap.length=R,o.directionalShadowMatrix.length=C,o.pointShadowMatrix.length=P,o.spotShadowMatrix.length=R,L.directionalLength=_,L.pointLength=S,L.spotLength=E,L.rectAreaLength=w,L.hemiLength=T,L.numDirectionalShadows=C,L.numPointShadows=P,L.numSpotShadows=R,o.version=SIe++)}function u(d,f){let h=0,v=0,m=0,_=0,S=0;const E=f.matrixWorldInverse;for(let w=0,T=d.length;w<T;w++){const C=d[w];if(C.isDirectionalLight){const P=o.directional[h];P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(E),h++}else if(C.isSpotLight){const P=o.spot[m];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(E),m++}else if(C.isRectAreaLight){const P=o.rectArea[_];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),l.identity(),a.copy(C.matrixWorld),a.premultiply(E),l.extractRotation(a),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(l),P.halfHeight.applyMatrix4(l),_++}else if(C.isPointLight){const P=o.point[v];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),v++}else if(C.isHemisphereLight){const P=o.hemi[S];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(E),P.direction.normalize(),S++}}}return{setup:c,setupView:u,state:o}}function aV(t,e){const n=new CIe(t,e),i=[],o=[];function s(){i.length=0,o.length=0}function a(f){i.push(f)}function l(f){o.push(f)}function c(f){n.setup(i,f)}function u(f){n.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:o,lights:n},setupLights:c,setupLightsView:u,pushLight:a,pushShadow:l}}function MIe(t,e){let n=new WeakMap;function i(s,a=0){let l;return n.has(s)===!1?(l=new aV(t,e),n.set(s,[l])):a>=n.get(s).length?(l=new aV(t,e),n.get(s).push(l)):l=n.get(s)[a],l}function o(){n=new WeakMap}return{get:i,dispose:o}}class lV extends Tr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=UMe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}lV.prototype.isMeshDepthMaterial=!0;class cV extends Tr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}cV.prototype.isMeshDistanceMaterial=!0;const AIe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,PIe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uV(t,e,n){let i=new Nb;const o=new Le,s=new Le,a=new On,l=new lV({depthPacking:jMe}),c=new cV,u={},d=n.maxTextureSize,f={0:dr,1:Za,2:Qa},h=new cl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:AIe,fragmentShader:PIe}),v=h.clone();v.defines.HORIZONTAL_PASS=1;const m=new kn;m.setAttribute("position",new Nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Et(m,h),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Vj,this.render=function(C,P,R){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||C.length===0)return;const A=t.getRenderTarget(),L=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),U=t.state;U.setBlending(el),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let O=0,I=C.length;O<I;O++){const F=C[O],N=F.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;o.copy(N.mapSize);const H=N.getFrameExtents();if(o.multiply(H),s.copy(N.mapSize),(o.x>d||o.y>d)&&(o.x>d&&(s.x=Math.floor(d/H.x),o.x=s.x*H.x,N.mapSize.x=s.x),o.y>d&&(s.y=Math.floor(d/H.y),o.y=s.y*H.y,N.mapSize.y=s.y)),N.map===null&&!N.isPointLightShadow&&this.type===Ng){const B={minFilter:In,magFilter:In,format:er};N.map=new Qi(o.x,o.y,B),N.map.texture.name=F.name+".shadowMap",N.mapPass=new Qi(o.x,o.y,B),N.camera.updateProjectionMatrix()}if(N.map===null){const B={minFilter:br,magFilter:br,format:er};N.map=new Qi(o.x,o.y,B),N.map.texture.name=F.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const z=N.getViewportCount();for(let B=0;B<z;B++){const q=N.getViewport(B);a.set(s.x*q.x,s.y*q.y,s.x*q.z,s.y*q.w),U.viewport(a),N.updateMatrices(F,B),i=N.getFrustum(),T(P,R,N.camera,F,this.type)}!N.isPointLightShadow&&this.type===Ng&&E(N,R),N.needsUpdate=!1}S.needsUpdate=!1,t.setRenderTarget(A,L,k)};function E(C,P){const R=e.update(_);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,v.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,v.needsUpdate=!0),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(P,null,R,h,_,null),v.uniforms.shadow_pass.value=C.mapPass.texture,v.uniforms.resolution.value=C.mapSize,v.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(P,null,R,v,_,null)}function w(C,P,R,A,L,k,U){let O=null;const I=A.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0?O=I:O=A.isPointLight===!0?c:l,t.localClippingEnabled&&R.clipShadows===!0&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0){const F=O.uuid,N=R.uuid;let H=u[F];H===void 0&&(H={},u[F]=H);let z=H[N];z===void 0&&(z=O.clone(),H[N]=z),O=z}return O.visible=R.visible,O.wireframe=R.wireframe,U===Ng?O.side=R.shadowSide!==null?R.shadowSide:R.side:O.side=R.shadowSide!==null?R.shadowSide:f[R.side],O.alphaMap=R.alphaMap,O.alphaTest=R.alphaTest,O.clipShadows=R.clipShadows,O.clippingPlanes=R.clippingPlanes,O.clipIntersection=R.clipIntersection,O.displacementMap=R.displacementMap,O.displacementScale=R.displacementScale,O.displacementBias=R.displacementBias,O.wireframeLinewidth=R.wireframeLinewidth,O.linewidth=R.linewidth,A.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(A.matrixWorld),O.nearDistance=L,O.farDistance=k),O}function T(C,P,R,A,L){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&L===Ng)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,C.matrixWorld);const O=e.update(C),I=C.material;if(Array.isArray(I)){const F=O.groups;for(let N=0,H=F.length;N<H;N++){const z=F[N],B=I[z.materialIndex];if(B&&B.visible){const q=w(C,O,B,A,R.near,R.far,L);t.renderBufferDirect(R,null,O,q,C,z)}}}else if(I.visible){const F=w(C,O,I,A,R.near,R.far,L);t.renderBufferDirect(R,null,O,F,C,null)}}const U=C.children;for(let O=0,I=U.length;O<I;O++)T(U[O],P,R,A,L)}}function RIe(t,e,n){const i=n.isWebGL2;function o(){let se=!1;const Ve=new On;let je=null;const St=new On(0,0,0,0);return{setMask:function(st){je!==st&&!se&&(t.colorMask(st,st,st,st),je=st)},setLocked:function(st){se=st},setClear:function(st,kt,We,Lt,Sn){Sn===!0&&(st*=Lt,kt*=Lt,We*=Lt),Ve.set(st,kt,We,Lt),St.equals(Ve)===!1&&(t.clearColor(st,kt,We,Lt),St.copy(Ve))},reset:function(){se=!1,je=null,St.set(-1,0,0,0)}}}function s(){let se=!1,Ve=null,je=null,St=null;return{setTest:function(st){st?Q(2929):le(2929)},setMask:function(st){Ve!==st&&!se&&(t.depthMask(st),Ve=st)},setFunc:function(st){if(je!==st){if(st)switch(st){case kCe:t.depthFunc(512);break;case DCe:t.depthFunc(519);break;case FCe:t.depthFunc(513);break;case iC:t.depthFunc(515);break;case UCe:t.depthFunc(514);break;case jCe:t.depthFunc(518);break;case BCe:t.depthFunc(516);break;case VCe:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);je=st}},setLocked:function(st){se=st},setClear:function(st){St!==st&&(t.clearDepth(st),St=st)},reset:function(){se=!1,Ve=null,je=null,St=null}}}function a(){let se=!1,Ve=null,je=null,St=null,st=null,kt=null,We=null,Lt=null,Sn=null;return{setTest:function(vn){se||(vn?Q(2960):le(2960))},setMask:function(vn){Ve!==vn&&!se&&(t.stencilMask(vn),Ve=vn)},setFunc:function(vn,Ss,ts){(je!==vn||St!==Ss||st!==ts)&&(t.stencilFunc(vn,Ss,ts),je=vn,St=Ss,st=ts)},setOp:function(vn,Ss,ts){(kt!==vn||We!==Ss||Lt!==ts)&&(t.stencilOp(vn,Ss,ts),kt=vn,We=Ss,Lt=ts)},setLocked:function(vn){se=vn},setClear:function(vn){Sn!==vn&&(t.clearStencil(vn),Sn=vn)},reset:function(){se=!1,Ve=null,je=null,St=null,st=null,kt=null,We=null,Lt=null,Sn=null}}}const l=new o,c=new s,u=new a;let d={},f={},h=null,v=!1,m=null,_=null,S=null,E=null,w=null,T=null,C=null,P=!1,R=null,A=null,L=null,k=null,U=null;const O=t.getParameter(35661);let I=!1,F=0;const N=t.getParameter(7938);N.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(N)[1]),I=F>=1):N.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),I=F>=2);let H=null,z={};const B=t.getParameter(3088),q=t.getParameter(2978),W=new On().fromArray(B),j=new On().fromArray(q);function $(se,Ve,je){const St=new Uint8Array(4),st=t.createTexture();t.bindTexture(se,st),t.texParameteri(se,10241,9728),t.texParameteri(se,10240,9728);for(let kt=0;kt<je;kt++)t.texImage2D(Ve+kt,0,6408,1,1,0,6408,5121,St);return st}const ie={};ie[3553]=$(3553,3553,1),ie[34067]=$(34067,34069,6),l.setClear(0,0,0,1),c.setClear(1),u.setClear(0),Q(2929),c.setFunc(iC),pt(!1),be(Bj),Q(2884),ke(el);function Q(se){d[se]!==!0&&(t.enable(se),d[se]=!0)}function le(se){d[se]!==!1&&(t.disable(se),d[se]=!1)}function he(se,Ve){return f[se]!==Ve?(t.bindFramebuffer(se,Ve),f[se]=Ve,i&&(se===36009&&(f[36160]=Ve),se===36160&&(f[36009]=Ve)),!0):!1}function ue(se){return h!==se?(t.useProgram(se),h=se,!0):!1}const Ie={[eh]:32774,[SCe]:32778,[TCe]:32779};if(i)Ie[qj]=32775,Ie[Yj]=32776;else{const se=e.get("EXT_blend_minmax");se!==null&&(Ie[qj]=se.MIN_EXT,Ie[Yj]=se.MAX_EXT)}const Me={[CCe]:0,[MCe]:1,[ACe]:768,[Kj]:770,[NCe]:776,[ICe]:774,[RCe]:772,[PCe]:769,[Xj]:771,[OCe]:775,[LCe]:773};function ke(se,Ve,je,St,st,kt,We,Lt){if(se===el){v===!0&&(le(3042),v=!1);return}if(v===!1&&(Q(3042),v=!0),se!==xCe){if(se!==m||Lt!==P){if((_!==eh||w!==eh)&&(t.blendEquation(32774),_=eh,w=eh),Lt)switch(se){case kg:t.blendFuncSeparate(1,771,1,771);break;case Gj:t.blendFunc(1,1);break;case $j:t.blendFuncSeparate(0,0,769,771);break;case Wj:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case kg:t.blendFuncSeparate(770,771,1,771);break;case Gj:t.blendFunc(770,1);break;case $j:t.blendFunc(0,769);break;case Wj:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}S=null,E=null,T=null,C=null,m=se,P=Lt}return}st=st||Ve,kt=kt||je,We=We||St,(Ve!==_||st!==w)&&(t.blendEquationSeparate(Ie[Ve],Ie[st]),_=Ve,w=st),(je!==S||St!==E||kt!==T||We!==C)&&(t.blendFuncSeparate(Me[je],Me[St],Me[kt],Me[We]),S=je,E=St,T=kt,C=We),m=se,P=null}function Ze(se,Ve){se.side===Qa?le(2884):Q(2884);let je=se.side===dr;Ve&&(je=!je),pt(je),se.blending===kg&&se.transparent===!1?ke(el):ke(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.premultipliedAlpha),c.setFunc(se.depthFunc),c.setTest(se.depthTest),c.setMask(se.depthWrite),l.setMask(se.colorWrite);const St=se.stencilWrite;u.setTest(St),St&&(u.setMask(se.stencilWriteMask),u.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),u.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),Ae(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?Q(32926):le(32926)}function pt(se){R!==se&&(se?t.frontFace(2304):t.frontFace(2305),R=se)}function be(se){se!==ECe?(Q(2884),se!==A&&(se===Bj?t.cullFace(1029):se===wCe?t.cullFace(1028):t.cullFace(1032))):le(2884),A=se}function De(se){se!==L&&(I&&t.lineWidth(se),L=se)}function Ae(se,Ve,je){se?(Q(32823),(k!==Ve||U!==je)&&(t.polygonOffset(Ve,je),k=Ve,U=je)):le(32823)}function Qe(se){se?Q(3089):le(3089)}function Xe(se){se===void 0&&(se=33984+O-1),H!==se&&(t.activeTexture(se),H=se)}function mt(se,Ve){H===null&&Xe();let je=z[H];je===void 0&&(je={type:void 0,texture:void 0},z[H]=je),(je.type!==se||je.texture!==Ve)&&(t.bindTexture(se,Ve||ie[se]),je.type=se,je.texture=Ve)}function Mt(){const se=z[H];se!==void 0&&se.type!==void 0&&(t.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function jt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function hn(){try{t.texSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ne(){try{t.texSubImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function J(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Oe(){try{t.texStorage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ze(){try{t.texImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Re(){try{t.texImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function vt(se){W.equals(se)===!1&&(t.scissor(se.x,se.y,se.z,se.w),W.copy(se))}function ct(se){j.equals(se)===!1&&(t.viewport(se.x,se.y,se.z,se.w),j.copy(se))}function He(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},H=null,z={},f={},h=null,v=!1,m=null,_=null,S=null,E=null,w=null,T=null,C=null,P=!1,R=null,A=null,L=null,k=null,U=null,W.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),l.reset(),c.reset(),u.reset()}return{buffers:{color:l,depth:c,stencil:u},enable:Q,disable:le,bindFramebuffer:he,useProgram:ue,setBlending:ke,setMaterial:Ze,setFlipSided:pt,setCullFace:be,setLineWidth:De,setPolygonOffset:Ae,setScissorTest:Qe,activeTexture:Xe,bindTexture:mt,unbindTexture:Mt,compressedTexImage2D:jt,texImage2D:ze,texImage3D:Re,texStorage2D:Te,texStorage3D:Oe,texSubImage2D:hn,texSubImage3D:ne,compressedTexSubImage2D:J,scissor:vt,viewport:ct,reset:He}}function LIe(t,e,n,i,o,s,a){const l=o.isWebGL2,c=o.maxTextures,u=o.maxCubemapSize,d=o.maxTextureSize,f=o.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,m=new WeakMap;let _,S=!1;try{S=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(ne,J){return S?new OffscreenCanvas(ne,J):hb("canvas")}function w(ne,J,Te,Oe){let ze=1;if((ne.width>Oe||ne.height>Oe)&&(ze=Oe/Math.max(ne.width,ne.height)),ze<1||J===!0)if(typeof HTMLImageElement!="undefined"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&ne instanceof ImageBitmap){const Re=J?dB:Math.floor,vt=Re(ze*ne.width),ct=Re(ze*ne.height);_===void 0&&(_=E(vt,ct));const He=Te?E(vt,ct):_;return He.width=vt,He.height=ct,He.getContext("2d").drawImage(ne,0,0,vt,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+vt+"x"+ct+")."),He}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne;return ne}function T(ne){return bC(ne.width)&&bC(ne.height)}function C(ne){return l?!1:ne.wrapS!==Zr||ne.wrapT!==Zr||ne.minFilter!==br&&ne.minFilter!==In}function P(ne,J){return ne.generateMipmaps&&J&&ne.minFilter!==br&&ne.minFilter!==In}function R(ne){t.generateMipmap(ne)}function A(ne,J,Te,Oe){if(l===!1)return J;if(ne!==null){if(t[ne]!==void 0)return t[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let ze=J;return J===6403&&(Te===5126&&(ze=33326),Te===5131&&(ze=33325),Te===5121&&(ze=33321)),J===6407&&(Te===5126&&(ze=34837),Te===5131&&(ze=34843),Te===5121&&(ze=32849)),J===6408&&(Te===5126&&(ze=34836),Te===5131&&(ze=34842),Te===5121&&(ze=Oe===Zi?35907:32856)),(ze===33325||ze===33326||ze===34842||ze===34836)&&e.get("EXT_color_buffer_float"),ze}function L(ne,J,Te){return P(ne,Te)===!0||ne.isFramebufferTexture&&ne.minFilter!==br&&ne.minFilter!==In?Math.log2(Math.max(J.width,J.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?J.mipmaps.length:1}function k(ne){return ne===br||ne===ab||ne===lb?9728:9729}function U(ne){const J=ne.target;J.removeEventListener("dispose",U),I(J),J.isVideoTexture&&m.delete(J),a.memory.textures--}function O(ne){const J=ne.target;J.removeEventListener("dispose",O),F(J)}function I(ne){const J=i.get(ne);J.__webglInit!==void 0&&(t.deleteTexture(J.__webglTexture),i.remove(ne))}function F(ne){const J=ne.texture,Te=i.get(ne),Oe=i.get(J);if(!!ne){if(Oe.__webglTexture!==void 0&&(t.deleteTexture(Oe.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++)t.deleteFramebuffer(Te.__webglFramebuffer[ze]),Te.__webglDepthbuffer&&t.deleteRenderbuffer(Te.__webglDepthbuffer[ze]);else t.deleteFramebuffer(Te.__webglFramebuffer),Te.__webglDepthbuffer&&t.deleteRenderbuffer(Te.__webglDepthbuffer),Te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Te.__webglMultisampledFramebuffer),Te.__webglColorRenderbuffer&&t.deleteRenderbuffer(Te.__webglColorRenderbuffer),Te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Te.__webglDepthRenderbuffer);if(ne.isWebGLMultipleRenderTargets)for(let ze=0,Re=J.length;ze<Re;ze++){const vt=i.get(J[ze]);vt.__webglTexture&&(t.deleteTexture(vt.__webglTexture),a.memory.textures--),i.remove(J[ze])}i.remove(J),i.remove(ne)}}let N=0;function H(){N=0}function z(){const ne=N;return ne>=c&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+c),N+=1,ne}function B(ne,J){const Te=i.get(ne);if(ne.isVideoTexture&&Xe(ne),ne.version>0&&Te.__version!==ne.version){const Oe=ne.image;if(Oe===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(Te,ne,J);return}}n.activeTexture(33984+J),n.bindTexture(3553,Te.__webglTexture)}function q(ne,J){const Te=i.get(ne);if(ne.version>0&&Te.__version!==ne.version){he(Te,ne,J);return}n.activeTexture(33984+J),n.bindTexture(35866,Te.__webglTexture)}function W(ne,J){const Te=i.get(ne);if(ne.version>0&&Te.__version!==ne.version){he(Te,ne,J);return}n.activeTexture(33984+J),n.bindTexture(32879,Te.__webglTexture)}function j(ne,J){const Te=i.get(ne);if(ne.version>0&&Te.__version!==ne.version){ue(Te,ne,J);return}n.activeTexture(33984+J),n.bindTexture(34067,Te.__webglTexture)}const $={[nl]:10497,[Zr]:33071,[Ug]:33648},ie={[br]:9728,[ab]:9984,[lb]:9986,[In]:9729,[aC]:9985,[rl]:9987};function Q(ne,J,Te){if(Te?(t.texParameteri(ne,10242,$[J.wrapS]),t.texParameteri(ne,10243,$[J.wrapT]),(ne===32879||ne===35866)&&t.texParameteri(ne,32882,$[J.wrapR]),t.texParameteri(ne,10240,ie[J.magFilter]),t.texParameteri(ne,10241,ie[J.minFilter])):(t.texParameteri(ne,10242,33071),t.texParameteri(ne,10243,33071),(ne===32879||ne===35866)&&t.texParameteri(ne,32882,33071),(J.wrapS!==Zr||J.wrapT!==Zr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(ne,10240,k(J.magFilter)),t.texParameteri(ne,10241,k(J.minFilter)),J.minFilter!==br&&J.minFilter!==In&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Oe=e.get("EXT_texture_filter_anisotropic");if(J.type===Ks&&e.has("OES_texture_float_linear")===!1||l===!1&&J.type===ys&&e.has("OES_texture_half_float_linear")===!1)return;(J.anisotropy>1||i.get(J).__currentAnisotropy)&&(t.texParameterf(ne,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,o.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy)}}function le(ne,J){ne.__webglInit===void 0&&(ne.__webglInit=!0,J.addEventListener("dispose",U),ne.__webglTexture=t.createTexture(),a.memory.textures++)}function he(ne,J,Te){let Oe=3553;J.isDataTexture2DArray&&(Oe=35866),J.isDataTexture3D&&(Oe=32879),le(ne,J),n.activeTexture(33984+Te),n.bindTexture(Oe,ne.__webglTexture),t.pixelStorei(37440,J.flipY),t.pixelStorei(37441,J.premultiplyAlpha),t.pixelStorei(3317,J.unpackAlignment),t.pixelStorei(37443,0);const ze=C(J)&&T(J.image)===!1,Re=w(J.image,ze,!1,d),vt=T(Re)||l,ct=s.convert(J.format);let He=s.convert(J.type),se=A(J.internalFormat,ct,He,J.encoding);Q(Oe,J,vt);let Ve;const je=J.mipmaps,St=l&&J.isVideoTexture!==!0,st=ne.__version===void 0,kt=L(J,Re,vt);if(J.isDepthTexture)se=6402,l?J.type===Ks?se=36012:J.type===cb?se=33190:J.type===th?se=35056:se=33189:J.type===Ks&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),J.format===qu&&se===6402&&J.type!==jg&&J.type!==cb&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),J.type=jg,He=s.convert(J.type)),J.format===nh&&se===6402&&(se=34041,J.type!==th&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),J.type=th,He=s.convert(J.type))),St&&st?n.texStorage2D(3553,1,se,Re.width,Re.height):n.texImage2D(3553,0,se,Re.width,Re.height,0,ct,He,null);else if(J.isDataTexture)if(je.length>0&&vt){St&&st&&n.texStorage2D(3553,kt,se,je[0].width,je[0].height);for(let We=0,Lt=je.length;We<Lt;We++)Ve=je[We],St?n.texSubImage2D(3553,0,0,0,Ve.width,Ve.height,ct,He,Ve.data):n.texImage2D(3553,We,se,Ve.width,Ve.height,0,ct,He,Ve.data);J.generateMipmaps=!1}else St?(st&&n.texStorage2D(3553,kt,se,Re.width,Re.height),n.texSubImage2D(3553,0,0,0,Re.width,Re.height,ct,He,Re.data)):n.texImage2D(3553,0,se,Re.width,Re.height,0,ct,He,Re.data);else if(J.isCompressedTexture){St&&st&&n.texStorage2D(3553,kt,se,je[0].width,je[0].height);for(let We=0,Lt=je.length;We<Lt;We++)Ve=je[We],J.format!==er&&J.format!==Xs?ct!==null?St?n.compressedTexSubImage2D(3553,We,0,0,Ve.width,Ve.height,ct,Ve.data):n.compressedTexImage2D(3553,We,se,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):St?n.texSubImage2D(3553,We,0,0,Ve.width,Ve.height,ct,He,Ve.data):n.texImage2D(3553,We,se,Ve.width,Ve.height,0,ct,He,Ve.data)}else if(J.isDataTexture2DArray)St?(st&&n.texStorage3D(35866,kt,se,Re.width,Re.height,Re.depth),n.texSubImage3D(35866,0,0,0,0,Re.width,Re.height,Re.depth,ct,He,Re.data)):n.texImage3D(35866,0,se,Re.width,Re.height,Re.depth,0,ct,He,Re.data);else if(J.isDataTexture3D)St?(st&&n.texStorage3D(32879,kt,se,Re.width,Re.height,Re.depth),n.texSubImage3D(32879,0,0,0,0,Re.width,Re.height,Re.depth,ct,He,Re.data)):n.texImage3D(32879,0,se,Re.width,Re.height,Re.depth,0,ct,He,Re.data);else if(J.isFramebufferTexture)St&&st?n.texStorage2D(3553,kt,se,Re.width,Re.height):n.texImage2D(3553,0,se,Re.width,Re.height,0,ct,He,null);else if(je.length>0&&vt){St&&st&&n.texStorage2D(3553,kt,se,je[0].width,je[0].height);for(let We=0,Lt=je.length;We<Lt;We++)Ve=je[We],St?n.texSubImage2D(3553,We,0,0,ct,He,Ve):n.texImage2D(3553,We,se,ct,He,Ve);J.generateMipmaps=!1}else St?(st&&n.texStorage2D(3553,kt,se,Re.width,Re.height),n.texSubImage2D(3553,0,0,0,ct,He,Re)):n.texImage2D(3553,0,se,ct,He,Re);P(J,vt)&&R(Oe),ne.__version=J.version,J.onUpdate&&J.onUpdate(J)}function ue(ne,J,Te){if(J.image.length!==6)return;le(ne,J),n.activeTexture(33984+Te),n.bindTexture(34067,ne.__webglTexture),t.pixelStorei(37440,J.flipY),t.pixelStorei(37441,J.premultiplyAlpha),t.pixelStorei(3317,J.unpackAlignment),t.pixelStorei(37443,0);const Oe=J&&(J.isCompressedTexture||J.image[0].isCompressedTexture),ze=J.image[0]&&J.image[0].isDataTexture,Re=[];for(let We=0;We<6;We++)!Oe&&!ze?Re[We]=w(J.image[We],!1,!0,u):Re[We]=ze?J.image[We].image:J.image[We];const vt=Re[0],ct=T(vt)||l,He=s.convert(J.format),se=s.convert(J.type),Ve=A(J.internalFormat,He,se,J.encoding),je=l&&J.isVideoTexture!==!0,St=ne.__version===void 0;let st=L(J,vt,ct);Q(34067,J,ct);let kt;if(Oe){je&&St&&n.texStorage2D(34067,st,Ve,vt.width,vt.height);for(let We=0;We<6;We++){kt=Re[We].mipmaps;for(let Lt=0;Lt<kt.length;Lt++){const Sn=kt[Lt];J.format!==er&&J.format!==Xs?He!==null?je?n.compressedTexSubImage2D(34069+We,Lt,0,0,Sn.width,Sn.height,He,Sn.data):n.compressedTexImage2D(34069+We,Lt,Ve,Sn.width,Sn.height,0,Sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):je?n.texSubImage2D(34069+We,Lt,0,0,Sn.width,Sn.height,He,se,Sn.data):n.texImage2D(34069+We,Lt,Ve,Sn.width,Sn.height,0,He,se,Sn.data)}}}else{kt=J.mipmaps,je&&St&&(kt.length>0&&st++,n.texStorage2D(34067,st,Ve,Re[0].width,Re[0].height));for(let We=0;We<6;We++)if(ze){je?n.texSubImage2D(34069+We,0,0,0,Re[We].width,Re[We].height,He,se,Re[We].data):n.texImage2D(34069+We,0,Ve,Re[We].width,Re[We].height,0,He,se,Re[We].data);for(let Lt=0;Lt<kt.length;Lt++){const vn=kt[Lt].image[We].image;je?n.texSubImage2D(34069+We,Lt+1,0,0,vn.width,vn.height,He,se,vn.data):n.texImage2D(34069+We,Lt+1,Ve,vn.width,vn.height,0,He,se,vn.data)}}else{je?n.texSubImage2D(34069+We,0,0,0,He,se,Re[We]):n.texImage2D(34069+We,0,Ve,He,se,Re[We]);for(let Lt=0;Lt<kt.length;Lt++){const Sn=kt[Lt];je?n.texSubImage2D(34069+We,Lt+1,0,0,He,se,Sn.image[We]):n.texImage2D(34069+We,Lt+1,Ve,He,se,Sn.image[We])}}}P(J,ct)&&R(34067),ne.__version=J.version,J.onUpdate&&J.onUpdate(J)}function Ie(ne,J,Te,Oe,ze){const Re=s.convert(Te.format),vt=s.convert(Te.type),ct=A(Te.internalFormat,Re,vt,Te.encoding);i.get(J).__hasExternalTextures||(ze===32879||ze===35866?n.texImage3D(ze,0,ct,J.width,J.height,J.depth,0,Re,vt,null):n.texImage2D(ze,0,ct,J.width,J.height,0,Re,vt,null)),n.bindFramebuffer(36160,ne),J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,Oe,ze,i.get(Te).__webglTexture,0,Qe(J)):t.framebufferTexture2D(36160,Oe,ze,i.get(Te).__webglTexture,0),n.bindFramebuffer(36160,null)}function Me(ne,J,Te){if(t.bindRenderbuffer(36161,ne),J.depthBuffer&&!J.stencilBuffer){let Oe=33189;if(Te||J.useRenderToTexture){const ze=J.depthTexture;ze&&ze.isDepthTexture&&(ze.type===Ks?Oe=36012:ze.type===cb&&(Oe=33190));const Re=Qe(J);J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Re,Oe,J.width,J.height):t.renderbufferStorageMultisample(36161,Re,Oe,J.width,J.height)}else t.renderbufferStorage(36161,Oe,J.width,J.height);t.framebufferRenderbuffer(36160,36096,36161,ne)}else if(J.depthBuffer&&J.stencilBuffer){const Oe=Qe(J);Te&&J.useRenderbuffer?t.renderbufferStorageMultisample(36161,Oe,35056,J.width,J.height):J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Oe,35056,J.width,J.height):t.renderbufferStorage(36161,34041,J.width,J.height),t.framebufferRenderbuffer(36160,33306,36161,ne)}else{const Oe=J.isWebGLMultipleRenderTargets===!0?J.texture[0]:J.texture,ze=s.convert(Oe.format),Re=s.convert(Oe.type),vt=A(Oe.internalFormat,ze,Re,Oe.encoding),ct=Qe(J);Te&&J.useRenderbuffer?t.renderbufferStorageMultisample(36161,ct,vt,J.width,J.height):J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,ct,vt,J.width,J.height):t.renderbufferStorage(36161,vt,J.width,J.height)}t.bindRenderbuffer(36161,null)}function ke(ne,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,ne),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(J.depthTexture).__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),B(J.depthTexture,0);const Oe=i.get(J.depthTexture).__webglTexture,ze=Qe(J);if(J.depthTexture.format===qu)J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,Oe,0,ze):t.framebufferTexture2D(36160,36096,3553,Oe,0);else if(J.depthTexture.format===nh)J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,Oe,0,ze):t.framebufferTexture2D(36160,33306,3553,Oe,0);else throw new Error("Unknown depthTexture format")}function Ze(ne){const J=i.get(ne),Te=ne.isWebGLCubeRenderTarget===!0;if(ne.depthTexture&&!J.__autoAllocateDepthBuffer){if(Te)throw new Error("target.depthTexture not supported in Cube render targets");ke(J.__webglFramebuffer,ne)}else if(Te){J.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)n.bindFramebuffer(36160,J.__webglFramebuffer[Oe]),J.__webglDepthbuffer[Oe]=t.createRenderbuffer(),Me(J.__webglDepthbuffer[Oe],ne,!1)}else n.bindFramebuffer(36160,J.__webglFramebuffer),J.__webglDepthbuffer=t.createRenderbuffer(),Me(J.__webglDepthbuffer,ne,!1);n.bindFramebuffer(36160,null)}function pt(ne,J,Te){const Oe=i.get(ne);J!==void 0&&Ie(Oe.__webglFramebuffer,ne,ne.texture,36064,3553),Te!==void 0&&Ze(ne)}function be(ne){const J=ne.texture,Te=i.get(ne),Oe=i.get(J);ne.addEventListener("dispose",O),ne.isWebGLMultipleRenderTargets!==!0&&(Oe.__webglTexture===void 0&&(Oe.__webglTexture=t.createTexture()),Oe.__version=J.version,a.memory.textures++);const ze=ne.isWebGLCubeRenderTarget===!0,Re=ne.isWebGLMultipleRenderTargets===!0,vt=J.isDataTexture3D||J.isDataTexture2DArray,ct=T(ne)||l;if(l&&J.format===Xs&&(J.type===Ks||J.type===ys)&&(J.format=er,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ze){Te.__webglFramebuffer=[];for(let He=0;He<6;He++)Te.__webglFramebuffer[He]=t.createFramebuffer()}else if(Te.__webglFramebuffer=t.createFramebuffer(),Re)if(o.drawBuffers){const He=ne.texture;for(let se=0,Ve=He.length;se<Ve;se++){const je=i.get(He[se]);je.__webglTexture===void 0&&(je.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(ne.useRenderbuffer)if(l){Te.__webglMultisampledFramebuffer=t.createFramebuffer(),Te.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,Te.__webglColorRenderbuffer);const He=s.convert(J.format),se=s.convert(J.type),Ve=A(J.internalFormat,He,se,J.encoding),je=Qe(ne);t.renderbufferStorageMultisample(36161,je,Ve,ne.width,ne.height),n.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,Te.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),ne.depthBuffer&&(Te.__webglDepthRenderbuffer=t.createRenderbuffer(),Me(Te.__webglDepthRenderbuffer,ne,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ze){n.bindTexture(34067,Oe.__webglTexture),Q(34067,J,ct);for(let He=0;He<6;He++)Ie(Te.__webglFramebuffer[He],ne,J,36064,34069+He);P(J,ct)&&R(34067),n.unbindTexture()}else if(Re){const He=ne.texture;for(let se=0,Ve=He.length;se<Ve;se++){const je=He[se],St=i.get(je);n.bindTexture(3553,St.__webglTexture),Q(3553,je,ct),Ie(Te.__webglFramebuffer,ne,je,36064+se,3553),P(je,ct)&&R(3553)}n.unbindTexture()}else{let He=3553;vt&&(l?He=J.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(He,Oe.__webglTexture),Q(He,J,ct),Ie(Te.__webglFramebuffer,ne,J,36064,He),P(J,ct)&&R(He),n.unbindTexture()}ne.depthBuffer&&Ze(ne)}function De(ne){const J=T(ne)||l,Te=ne.isWebGLMultipleRenderTargets===!0?ne.texture:[ne.texture];for(let Oe=0,ze=Te.length;Oe<ze;Oe++){const Re=Te[Oe];if(P(Re,J)){const vt=ne.isWebGLCubeRenderTarget?34067:3553,ct=i.get(Re).__webglTexture;n.bindTexture(vt,ct),R(vt),n.unbindTexture()}}}function Ae(ne){if(ne.useRenderbuffer)if(l){const J=ne.width,Te=ne.height;let Oe=16384;const ze=[36064],Re=ne.stencilBuffer?33306:36096;ne.depthBuffer&&ze.push(Re),ne.ignoreDepthForMultisampleCopy||(ne.depthBuffer&&(Oe|=256),ne.stencilBuffer&&(Oe|=1024));const vt=i.get(ne);n.bindFramebuffer(36008,vt.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,vt.__webglFramebuffer),ne.ignoreDepthForMultisampleCopy&&(t.invalidateFramebuffer(36008,[Re]),t.invalidateFramebuffer(36009,[Re])),t.blitFramebuffer(0,0,J,Te,0,0,J,Te,Oe,9728),t.invalidateFramebuffer(36008,ze),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,vt.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Qe(ne){return l&&(ne.useRenderbuffer||ne.useRenderToTexture)?Math.min(f,ne.samples):0}function Xe(ne){const J=a.render.frame;m.get(ne)!==J&&(m.set(ne,J),ne.update())}let mt=!1,Mt=!1;function jt(ne,J){ne&&ne.isWebGLRenderTarget&&(mt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),mt=!0),ne=ne.texture),B(ne,J)}function hn(ne,J){ne&&ne.isWebGLCubeRenderTarget&&(Mt===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Mt=!0),ne=ne.texture),j(ne,J)}this.allocateTextureUnit=z,this.resetTextureUnits=H,this.setTexture2D=B,this.setTexture2DArray=q,this.setTexture3D=W,this.setTextureCube=j,this.rebindTextures=pt,this.setupRenderTarget=be,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=Ze,this.setupFrameBufferTexture=Ie,this.safeSetTexture2D=jt,this.safeSetTextureCube=hn}function IIe(t,e,n){const i=n.isWebGL2;function o(s){let a;if(s===aa)return 5121;if(s===JCe)return 32819;if(s===ZCe)return 32820;if(s===QCe)return 33635;if(s===YCe)return 5120;if(s===KCe)return 5122;if(s===jg)return 5123;if(s===XCe)return 5124;if(s===cb)return 5125;if(s===Ks)return 5126;if(s===ys)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===eMe)return 6406;if(s===Xs)return 6407;if(s===er)return 6408;if(s===tMe)return 6409;if(s===nMe)return 6410;if(s===qu)return 6402;if(s===nh)return 34041;if(s===rMe)return 6403;if(s===iMe)return 36244;if(s===sMe)return 33319;if(s===oMe)return 33320;if(s===aMe)return 36248;if(s===lMe)return 36249;if(s===lC||s===Qj||s===eB||s===cC)if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===lC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Qj)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===eB)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===cC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===uC||s===tB||s===dC||s===nB)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===uC)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===tB)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===dC)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===nB)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===rB)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===fC||s===hC)&&(a=e.get("WEBGL_compressed_texture_etc"),a!==null)){if(s===fC)return a.COMPRESSED_RGB8_ETC2;if(s===hC)return a.COMPRESSED_RGBA8_ETC2_EAC}if(s===iB||s===cMe||s===uMe||s===dMe||s===fMe||s===hMe||s===pMe||s===mMe||s===gMe||s===vMe||s===yMe||s===_Me||s===bMe||s===EMe||s===wMe||s===xMe||s===SMe||s===TMe||s===CMe||s===MMe||s===AMe||s===PMe||s===RMe||s===LMe||s===IMe||s===OMe||s===NMe||s===kMe)return a=e.get("WEBGL_compressed_texture_astc"),a!==null?s:null;if(s===sB)return a=e.get("EXT_texture_compression_bptc"),a!==null?s:null;if(s===th)return i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:o}}class dV extends zr{constructor(e=[]){super();this.cameras=e}}dV.prototype.isArrayCamera=!0;class dl extends cn{constructor(){super();this.type="Group"}}dl.prototype.isGroup=!0;const OIe={type:"move"};class QC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let o=null,s=null,a=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(l!==null&&(o=n.getPose(e.targetRaySpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(OIe))),u&&e.hand){a=!0;for(const _ of e.hand.values()){const S=n.getJointPose(_,i);if(u.joints[_.jointName]===void 0){const w=new dl;w.matrixAutoUpdate=!1,w.visible=!1,u.joints[_.jointName]=w,u.add(w)}const E=u.joints[_.jointName];S!==null&&(E.matrix.fromArray(S.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.jointRadius=S.radius),E.visible=S!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),v=.02,m=.005;u.inputState.pinching&&h>v+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=v-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));return l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}}class eM extends fr{constructor(e,n,i,o,s,a,l,c,u,d){if(d=d!==void 0?d:qu,d!==qu&&d!==nh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===qu&&(i=jg),i===void 0&&d===nh&&(i=th);super(null,o,s,a,l,c,d,i,u);this.image={width:e,height:n},this.magFilter=l!==void 0?l:br,this.minFilter=c!==void 0?c:br,this.flipY=!1,this.generateMipmaps=!1}}eM.prototype.isDepthTexture=!0;class NIe extends _s{constructor(e,n){super();const i=this;let o=null,s=1,a=null,l="local-floor";const c=e.extensions.has("WEBGL_multisampled_render_to_texture");let u=null,d=null,f=null,h=null,v=!1,m=null;const _=n.getContextAttributes();let S=null,E=null;const w=[],T=new Map,C=new zr;C.layers.enable(1),C.viewport=new On;const P=new zr;P.layers.enable(2),P.viewport=new On;const R=[C,P],A=new dV;A.layers.enable(1),A.layers.enable(2);let L=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let $=w[j];return $===void 0&&($=new QC,w[j]=$),$.getTargetRaySpace()},this.getControllerGrip=function(j){let $=w[j];return $===void 0&&($=new QC,w[j]=$),$.getGripSpace()},this.getHand=function(j){let $=w[j];return $===void 0&&($=new QC,w[j]=$),$.getHandSpace()};function U(j){const $=T.get(j.inputSource);$&&$.dispatchEvent({type:j.type,data:j.inputSource})}function O(){T.forEach(function(j,$){j.disconnect($)}),T.clear(),L=null,k=null,e.setRenderTarget(S),h=null,f=null,d=null,o=null,E=null,W.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){s=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){l=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return o},this.setSession=async function(j){if(o=j,o!==null){if(S=e.getRenderTarget(),o.addEventListener("select",U),o.addEventListener("selectstart",U),o.addEventListener("selectend",U),o.addEventListener("squeeze",U),o.addEventListener("squeezestart",U),o.addEventListener("squeezeend",U),o.addEventListener("end",O),o.addEventListener("inputsourceschange",I),_.xrCompatible!==!0&&await n.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const $={antialias:o.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(o,n,$),o.updateRenderState({baseLayer:h}),E=new Qi(h.framebufferWidth,h.framebufferHeight,{format:er,type:aa,encoding:e.outputEncoding})}else{v=_.antialias;let $=null,ie=null,Q=null;_.depth&&(Q=_.stencil?35056:33190,$=_.stencil?nh:qu,ie=_.stencil?th:jg);const le={colorFormat:_.alpha||v?32856:32849,depthFormat:Q,scaleFactor:s};d=new XRWebGLBinding(o,n),f=d.createProjectionLayer(le),o.updateRenderState({layers:[f]}),v?E=new wC(f.textureWidth,f.textureHeight,{format:er,type:aa,depthTexture:new eM(f.textureWidth,f.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:_.stencil,ignoreDepth:f.ignoreDepthValues,useRenderToTexture:c,encoding:e.outputEncoding}):E=new Qi(f.textureWidth,f.textureHeight,{format:_.alpha?er:Xs,type:aa,depthTexture:new eM(f.textureWidth,f.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:_.stencil,ignoreDepth:f.ignoreDepthValues,encoding:e.outputEncoding})}this.setFoveation(1),a=await o.requestReferenceSpace(l),W.setContext(o),W.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function I(j){const $=o.inputSources;for(let ie=0;ie<w.length;ie++)T.set($[ie],w[ie]);for(let ie=0;ie<j.removed.length;ie++){const Q=j.removed[ie],le=T.get(Q);le&&(le.dispatchEvent({type:"disconnected",data:Q}),T.delete(Q))}for(let ie=0;ie<j.added.length;ie++){const Q=j.added[ie],le=T.get(Q);le&&le.dispatchEvent({type:"connected",data:Q})}}const F=new ee,N=new ee;function H(j,$,ie){F.setFromMatrixPosition($.matrixWorld),N.setFromMatrixPosition(ie.matrixWorld);const Q=F.distanceTo(N),le=$.projectionMatrix.elements,he=ie.projectionMatrix.elements,ue=le[14]/(le[10]-1),Ie=le[14]/(le[10]+1),Me=(le[9]+1)/le[5],ke=(le[9]-1)/le[5],Ze=(le[8]-1)/le[0],pt=(he[8]+1)/he[0],be=ue*Ze,De=ue*pt,Ae=Q/(-Ze+pt),Qe=Ae*-Ze;$.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Qe),j.translateZ(Ae),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const Xe=ue+Ae,mt=Ie+Ae,Mt=be-Qe,jt=De+(Q-Qe),hn=Me*Ie/mt*Xe,ne=ke*Ie/mt*Xe;j.projectionMatrix.makePerspective(Mt,jt,hn,ne,Xe,mt)}function z(j,$){$===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices($.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(o===null)return;A.near=P.near=C.near=j.near,A.far=P.far=C.far=j.far,(L!==A.near||k!==A.far)&&(o.updateRenderState({depthNear:A.near,depthFar:A.far}),L=A.near,k=A.far);const $=j.parent,ie=A.cameras;z(A,$);for(let le=0;le<ie.length;le++)z(ie[le],$);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),j.position.copy(A.position),j.quaternion.copy(A.quaternion),j.scale.copy(A.scale),j.matrix.copy(A.matrix),j.matrixWorld.copy(A.matrixWorld);const Q=j.children;for(let le=0,he=Q.length;le<he;le++)Q[le].updateMatrixWorld(!0);ie.length===2?H(A,C,P):A.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return A},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(j){f!==null&&(f.fixedFoveation=j),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=j)};let B=null;function q(j,$){if(u=$.getViewerPose(a),m=$,u!==null){const Q=u.views;h!==null&&(e.setRenderTargetFramebuffer(E,h.framebuffer),e.setRenderTarget(E));let le=!1;Q.length!==A.cameras.length&&(A.cameras.length=0,le=!0);for(let he=0;he<Q.length;he++){const ue=Q[he];let Ie=null;if(h!==null)Ie=h.getViewport(ue);else{const ke=d.getViewSubImage(f,ue);Ie=ke.viewport,he===0&&(e.setRenderTargetTextures(E,ke.colorTexture,f.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(E))}const Me=R[he];Me.matrix.fromArray(ue.transform.matrix),Me.projectionMatrix.fromArray(ue.projectionMatrix),Me.viewport.set(Ie.x,Ie.y,Ie.width,Ie.height),he===0&&A.matrix.copy(Me.matrix),le===!0&&A.cameras.push(Me)}}const ie=o.inputSources;for(let Q=0;Q<w.length;Q++){const le=w[Q],he=ie[Q];le.update(he,$,a)}B&&B(j,$),m=null}const W=new AB;W.setAnimationLoop(q),this.setAnimationLoop=function(j){B=j},this.dispose=function(){}}}function kIe(t){function e(E,w){E.fogColor.value.copy(w.color),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function n(E,w,T,C,P){w.isMeshBasicMaterial?i(E,w):w.isMeshLambertMaterial?(i(E,w),c(E,w)):w.isMeshToonMaterial?(i(E,w),d(E,w)):w.isMeshPhongMaterial?(i(E,w),u(E,w)):w.isMeshStandardMaterial?(i(E,w),w.isMeshPhysicalMaterial?h(E,w,P):f(E,w)):w.isMeshMatcapMaterial?(i(E,w),v(E,w)):w.isMeshDepthMaterial?(i(E,w),m(E,w)):w.isMeshDistanceMaterial?(i(E,w),_(E,w)):w.isMeshNormalMaterial?(i(E,w),S(E,w)):w.isLineBasicMaterial?(o(E,w),w.isLineDashedMaterial&&s(E,w)):w.isPointsMaterial?a(E,w,T,C):w.isSpriteMaterial?l(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function i(E,w){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.specularMap&&(E.specularMap.value=w.specularMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);const T=t.get(w).envMap;T&&(E.envMap.value=T,E.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=w.reflectivity,E.ior.value=w.ior,E.refractionRatio.value=w.refractionRatio),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity);let C;w.map?C=w.map:w.specularMap?C=w.specularMap:w.displacementMap?C=w.displacementMap:w.normalMap?C=w.normalMap:w.bumpMap?C=w.bumpMap:w.roughnessMap?C=w.roughnessMap:w.metalnessMap?C=w.metalnessMap:w.alphaMap?C=w.alphaMap:w.emissiveMap?C=w.emissiveMap:w.clearcoatMap?C=w.clearcoatMap:w.clearcoatNormalMap?C=w.clearcoatNormalMap:w.clearcoatRoughnessMap?C=w.clearcoatRoughnessMap:w.specularIntensityMap?C=w.specularIntensityMap:w.specularColorMap?C=w.specularColorMap:w.transmissionMap?C=w.transmissionMap:w.thicknessMap?C=w.thicknessMap:w.sheenColorMap?C=w.sheenColorMap:w.sheenRoughnessMap&&(C=w.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),E.uvTransform.value.copy(C.matrix));let P;w.aoMap?P=w.aoMap:w.lightMap&&(P=w.lightMap),P!==void 0&&(P.isWebGLRenderTarget&&(P=P.texture),P.matrixAutoUpdate===!0&&P.updateMatrix(),E.uv2Transform.value.copy(P.matrix))}function o(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity}function s(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function a(E,w,T,C){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*T,E.scale.value=C*.5,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);let P;w.map?P=w.map:w.alphaMap&&(P=w.alphaMap),P!==void 0&&(P.matrixAutoUpdate===!0&&P.updateMatrix(),E.uvTransform.value.copy(P.matrix))}function l(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);let T;w.map?T=w.map:w.alphaMap&&(T=w.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),E.uvTransform.value.copy(T.matrix))}function c(E,w){w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap)}function u(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function d(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function f(E,w){E.roughness.value=w.roughness,E.metalness.value=w.metalness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),t.get(w).envMap&&(E.envMapIntensity.value=w.envMapIntensity)}function h(E,w,T){f(E,w),E.ior.value=w.ior,w.sheen>0&&(E.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),E.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(E.sheenColorMap.value=w.sheenColorMap),w.sheenRoughnessMap&&(E.sheenRoughnessMap.value=w.sheenRoughnessMap)),w.clearcoat>0&&(E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),E.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===dr&&E.clearcoatNormalScale.value.negate())),w.transmission>0&&(E.transmission.value=w.transmission,E.transmissionSamplerMap.value=T.texture,E.transmissionSamplerSize.value.set(T.width,T.height),w.transmissionMap&&(E.transmissionMap.value=w.transmissionMap),E.thickness.value=w.thickness,w.thicknessMap&&(E.thicknessMap.value=w.thicknessMap),E.attenuationDistance.value=w.attenuationDistance,E.attenuationColor.value.copy(w.attenuationColor)),E.specularIntensity.value=w.specularIntensity,E.specularColor.value.copy(w.specularColor),w.specularIntensityMap&&(E.specularIntensityMap.value=w.specularIntensityMap),w.specularColorMap&&(E.specularColorMap.value=w.specularColorMap)}function v(E,w){w.matcap&&(E.matcap.value=w.matcap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function m(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function _(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),E.referencePosition.value.copy(w.referencePosition),E.nearDistance.value=w.nearDistance,E.farDistance.value=w.farDistance}function S(E,w){w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function DIe(){const t=hb("canvas");return t.style.display="block",t}function wn(t={}){const e=t.canvas!==void 0?t.canvas:DIe(),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,o=t.depth!==void 0?t.depth:!0,s=t.stencil!==void 0?t.stencil:!0,a=t.antialias!==void 0?t.antialias:!1,l=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,c=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,u=t.powerPreference!==void 0?t.powerPreference:"default",d=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let f=null,h=null;const v=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Or,this.physicallyCorrectLights=!1,this.toneMapping=tl,this.toneMappingExposure=1;const _=this;let S=!1,E=0,w=0,T=null,C=-1,P=null;const R=new On,A=new On;let L=null,k=e.width,U=e.height,O=1,I=null,F=null;const N=new On(0,0,k,U),H=new On(0,0,k,U);let z=!1;const B=[],q=new Nb;let W=!1,j=!1,$=null;const ie=new ot,Q=new ee,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function he(){return T===null?O:1}let ue=n;function Ie(Z,fe){for(let _e=0;_e<Z.length;_e++){const ge=Z[_e],Se=e.getContext(ge,fe);if(Se!==null)return Se}return null}try{const Z={alpha:i,depth:o,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${rC}`),e.addEventListener("webglcontextlost",St,!1),e.addEventListener("webglcontextrestored",st,!1),ue===null){const fe=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&fe.shift(),ue=Ie(fe,Z),ue===null)throw Ie(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ue.getShaderPrecisionFormat===void 0&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let Me,ke,Ze,pt,be,De,Ae,Qe,Xe,mt,Mt,jt,hn,ne,J,Te,Oe,ze,Re,vt,ct,He,se;function Ve(){Me=new nLe(ue),ke=new KRe(ue,Me,t),Me.init(ke),He=new IIe(ue,Me,ke),Ze=new RIe(ue,Me,ke),B[0]=1029,pt=new sLe(ue),be=new _Ie,De=new LIe(ue,Me,Ze,be,ke,He,pt),Ae=new JRe(_),Qe=new tLe(_),Xe=new _Ae(ue,ke),se=new qRe(ue,Me,Xe,ke),mt=new rLe(ue,Xe,pt,se),Mt=new cLe(ue,mt,Xe,pt),Re=new lLe(ue,ke,De),Te=new XRe(be),jt=new yIe(_,Ae,Qe,Me,ke,se,Te),hn=new kIe(be),ne=new EIe,J=new MIe(Me,ke),ze=new WRe(_,Ae,Ze,Mt,l),Oe=new uV(_,Mt,ke),vt=new YRe(ue,Me,pt,ke),ct=new iLe(ue,Me,pt,ke),pt.programs=jt.programs,_.capabilities=ke,_.extensions=Me,_.properties=be,_.renderLists=ne,_.shadowMap=Oe,_.state=Ze,_.info=pt}Ve();const je=new NIe(_,ue);this.xr=je,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const Z=Me.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=Me.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(Z){Z!==void 0&&(O=Z,this.setSize(k,U,!1))},this.getSize=function(Z){return Z.set(k,U)},this.setSize=function(Z,fe,_e){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=Z,U=fe,e.width=Math.floor(Z*O),e.height=Math.floor(fe*O),_e!==!1&&(e.style.width=Z+"px",e.style.height=fe+"px"),this.setViewport(0,0,Z,fe)},this.getDrawingBufferSize=function(Z){return Z.set(k*O,U*O).floor()},this.setDrawingBufferSize=function(Z,fe,_e){k=Z,U=fe,O=_e,e.width=Math.floor(Z*_e),e.height=Math.floor(fe*_e),this.setViewport(0,0,Z,fe)},this.getCurrentViewport=function(Z){return Z.copy(R)},this.getViewport=function(Z){return Z.copy(N)},this.setViewport=function(Z,fe,_e,ge){Z.isVector4?N.set(Z.x,Z.y,Z.z,Z.w):N.set(Z,fe,_e,ge),Ze.viewport(R.copy(N).multiplyScalar(O).floor())},this.getScissor=function(Z){return Z.copy(H)},this.setScissor=function(Z,fe,_e,ge){Z.isVector4?H.set(Z.x,Z.y,Z.z,Z.w):H.set(Z,fe,_e,ge),Ze.scissor(A.copy(H).multiplyScalar(O).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(Z){Ze.setScissorTest(z=Z)},this.setOpaqueSort=function(Z){I=Z},this.setTransparentSort=function(Z){F=Z},this.getClearColor=function(Z){return Z.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(Z,fe,_e){let ge=0;(Z===void 0||Z)&&(ge|=16384),(fe===void 0||fe)&&(ge|=256),(_e===void 0||_e)&&(ge|=1024),ue.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",St,!1),e.removeEventListener("webglcontextrestored",st,!1),ne.dispose(),J.dispose(),be.dispose(),Ae.dispose(),Qe.dispose(),Mt.dispose(),se.dispose(),jt.dispose(),je.dispose(),je.removeEventListener("sessionstart",Ss),je.removeEventListener("sessionend",ts),$&&($.dispose(),$=null),Io.stop()};function St(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Z=pt.autoReset,fe=Oe.enabled,_e=Oe.autoUpdate,ge=Oe.needsUpdate,Se=Oe.type;Ve(),pt.autoReset=Z,Oe.enabled=fe,Oe.autoUpdate=_e,Oe.needsUpdate=ge,Oe.type=Se}function kt(Z){const fe=Z.target;fe.removeEventListener("dispose",kt),We(fe)}function We(Z){Lt(Z),be.remove(Z)}function Lt(Z){const fe=be.get(Z).programs;fe!==void 0&&(fe.forEach(function(_e){jt.releaseProgram(_e)}),Z.isShaderMaterial&&jt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,fe,_e,ge,Se,At){fe===null&&(fe=le);const It=Se.isMesh&&Se.matrixWorld.determinant()<0,Bt=ZE(Z,fe,_e,ge,Se);Ze.setMaterial(ge,It);let Pt=_e.index;const Jt=_e.attributes.position;if(Pt===null){if(Jt===void 0||Jt.count===0)return}else if(Pt.count===0)return;let Vt=1;ge.wireframe===!0&&(Pt=mt.getWireframeAttribute(_e),Vt=2),se.setup(Se,ge,Bt,_e,Pt);let Zt,Xn=vt;Pt!==null&&(Zt=Xe.get(Pt),Xn=ct,Xn.setIndex(Zt));const wa=Pt!==null?Pt.count:Jt.count,Al=_e.drawRange.start*Vt,ln=_e.drawRange.count*Vt,Ei=At!==null?At.start*Vt:0,hr=At!==null?At.count*Vt:1/0,wi=Math.max(Al,Ei),bd=Math.min(wa,Al+ln,Ei+hr)-1,Ts=Math.max(0,bd-wi+1);if(Ts!==0){if(Se.isMesh)ge.wireframe===!0?(Ze.setLineWidth(ge.wireframeLinewidth*he()),Xn.setMode(1)):Xn.setMode(4);else if(Se.isLine){let so=ge.linewidth;so===void 0&&(so=1),Ze.setLineWidth(so*he()),Se.isLineSegments?Xn.setMode(1):Se.isLineLoop?Xn.setMode(2):Xn.setMode(3)}else Se.isPoints?Xn.setMode(0):Se.isSprite&&Xn.setMode(4);if(Se.isInstancedMesh)Xn.renderInstances(wi,Ts,Se.count);else if(_e.isInstancedBufferGeometry){const so=Math.min(_e.instanceCount,_e._maxInstanceCount);Xn.renderInstances(wi,Ts,so)}else Xn.render(wi,Ts)}},this.compile=function(Z,fe){h=J.get(Z),h.init(),m.push(h),Z.traverseVisible(function(_e){_e.isLight&&_e.layers.test(fe.layers)&&(h.pushLight(_e),_e.castShadow&&h.pushShadow(_e))}),h.setupLights(_.physicallyCorrectLights),Z.traverse(function(_e){const ge=_e.material;if(ge)if(Array.isArray(ge))for(let Se=0;Se<ge.length;Se++){const At=ge[Se];ap(At,Z,_e)}else ap(ge,Z,_e)}),m.pop(),h=null};let Sn=null;function vn(Z){Sn&&Sn(Z)}function Ss(){Io.stop()}function ts(){Io.start()}const Io=new AB;Io.setAnimationLoop(vn),typeof window!="undefined"&&Io.setContext(window),this.setAnimationLoop=function(Z){Sn=Z,je.setAnimationLoop(Z),Z===null?Io.stop():Io.start()},je.addEventListener("sessionstart",Ss),je.addEventListener("sessionend",ts),this.render=function(Z,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;Z.autoUpdate===!0&&Z.updateMatrixWorld(),fe.parent===null&&fe.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(fe),fe=je.getCamera()),Z.isScene===!0&&Z.onBeforeRender(_,Z,fe,T),h=J.get(Z,m.length),h.init(),m.push(h),ie.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),q.setFromProjectionMatrix(ie),j=this.localClippingEnabled,W=Te.init(this.clippingPlanes,j,fe),f=ne.get(Z,v.length),f.init(),v.push(f),nv(Z,fe,0,_.sortObjects),f.finish(),_.sortObjects===!0&&f.sort(I,F),W===!0&&Te.beginShadows();const _e=h.state.shadowsArray;if(Oe.render(_e,Z,fe),W===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset(),ze.render(f,Z),h.setupLights(_.physicallyCorrectLights),fe.isArrayCamera){const ge=fe.cameras;for(let Se=0,At=ge.length;Se<At;Se++){const It=ge[Se];rv(f,Z,It,It.viewport)}}else rv(f,Z,fe);T!==null&&(De.updateMultisampleRenderTarget(T),De.updateRenderTargetMipmap(T)),Z.isScene===!0&&Z.onAfterRender(_,Z,fe),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1),se.resetDefaultState(),C=-1,P=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,v.pop(),v.length>0?f=v[v.length-1]:f=null};function nv(Z,fe,_e,ge){if(Z.visible===!1)return;if(Z.layers.test(fe.layers)){if(Z.isGroup)_e=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(fe);else if(Z.isLight)h.pushLight(Z),Z.castShadow&&h.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||q.intersectsSprite(Z)){ge&&Q.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ie);const It=Mt.update(Z),Bt=Z.material;Bt.visible&&f.push(Z,It,Bt,_e,Q.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==pt.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=pt.render.frame),!Z.frustumCulled||q.intersectsObject(Z))){ge&&Q.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ie);const It=Mt.update(Z),Bt=Z.material;if(Array.isArray(Bt)){const Pt=It.groups;for(let Jt=0,Vt=Pt.length;Jt<Vt;Jt++){const Zt=Pt[Jt],Xn=Bt[Zt.materialIndex];Xn&&Xn.visible&&f.push(Z,It,Xn,_e,Q.z,Zt)}}else Bt.visible&&f.push(Z,It,Bt,_e,Q.z,null)}}const At=Z.children;for(let It=0,Bt=At.length;It<Bt;It++)nv(At[It],fe,_e,ge)}function rv(Z,fe,_e,ge){const Se=Z.opaque,At=Z.transmissive,It=Z.transparent;h.setupLightsView(_e),At.length>0&&JE(Se,fe,_e),ge&&Ze.viewport(R.copy(ge)),Se.length>0&&_d(Se,fe,_e),At.length>0&&_d(At,fe,_e),It.length>0&&_d(It,fe,_e)}function JE(Z,fe,_e){if($===null){const It=a===!0&&ke.isWebGL2===!0?wC:Qi;$=new It(1024,1024,{generateMipmaps:!0,type:He.convert(ys)!==null?ys:aa,minFilter:rl,magFilter:br,wrapS:Zr,wrapT:Zr,useRenderToTexture:Me.has("WEBGL_multisampled_render_to_texture")})}const ge=_.getRenderTarget();_.setRenderTarget($),_.clear();const Se=_.toneMapping;_.toneMapping=tl,_d(Z,fe,_e),_.toneMapping=Se,De.updateMultisampleRenderTarget($),De.updateRenderTargetMipmap($),_.setRenderTarget(ge)}function _d(Z,fe,_e){const ge=fe.isScene===!0?fe.overrideMaterial:null;for(let Se=0,At=Z.length;Se<At;Se++){const It=Z[Se],Bt=It.object,Pt=It.geometry,Jt=ge===null?It.material:ge,Vt=It.group;Bt.layers.test(_e.layers)&&iv(Bt,fe,_e,Pt,Jt,Vt)}}function iv(Z,fe,_e,ge,Se,At){Z.onBeforeRender(_,fe,_e,ge,Se,At),Z.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Se.onBeforeRender(_,fe,_e,ge,Z,At),Se.transparent===!0&&Se.side===Qa?(Se.side=dr,Se.needsUpdate=!0,_.renderBufferDirect(_e,fe,ge,Se,Z,At),Se.side=Za,Se.needsUpdate=!0,_.renderBufferDirect(_e,fe,ge,Se,Z,At),Se.side=Qa):_.renderBufferDirect(_e,fe,ge,Se,Z,At),Z.onAfterRender(_,fe,_e,ge,Se,At)}function ap(Z,fe,_e){fe.isScene!==!0&&(fe=le);const ge=be.get(Z),Se=h.state.lights,At=h.state.shadowsArray,It=Se.state.version,Bt=jt.getParameters(Z,Se.state,At,fe,_e),Pt=jt.getProgramCacheKey(Bt);let Jt=ge.programs;ge.environment=Z.isMeshStandardMaterial?fe.environment:null,ge.fog=fe.fog,ge.envMap=(Z.isMeshStandardMaterial?Qe:Ae).get(Z.envMap||ge.environment),Jt===void 0&&(Z.addEventListener("dispose",kt),Jt=new Map,ge.programs=Jt);let Vt=Jt.get(Pt);if(Vt!==void 0){if(ge.currentProgram===Vt&&ge.lightsStateVersion===It)return sv(Z,Bt),Vt}else Bt.uniforms=jt.getUniforms(Z),Z.onBuild(_e,Bt,_),Z.onBeforeCompile(Bt,_),Vt=jt.acquireProgram(Bt,Pt),Jt.set(Pt,Vt),ge.uniforms=Bt.uniforms;const Zt=ge.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Zt.clippingPlanes=Te.uniform),sv(Z,Bt),ge.needsLights=QE(Z),ge.lightsStateVersion=It,ge.needsLights&&(Zt.ambientLightColor.value=Se.state.ambient,Zt.lightProbe.value=Se.state.probe,Zt.directionalLights.value=Se.state.directional,Zt.directionalLightShadows.value=Se.state.directionalShadow,Zt.spotLights.value=Se.state.spot,Zt.spotLightShadows.value=Se.state.spotShadow,Zt.rectAreaLights.value=Se.state.rectArea,Zt.ltc_1.value=Se.state.rectAreaLTC1,Zt.ltc_2.value=Se.state.rectAreaLTC2,Zt.pointLights.value=Se.state.point,Zt.pointLightShadows.value=Se.state.pointShadow,Zt.hemisphereLights.value=Se.state.hemi,Zt.directionalShadowMap.value=Se.state.directionalShadowMap,Zt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Zt.spotShadowMap.value=Se.state.spotShadowMap,Zt.spotShadowMatrix.value=Se.state.spotShadowMatrix,Zt.pointShadowMap.value=Se.state.pointShadowMap,Zt.pointShadowMatrix.value=Se.state.pointShadowMatrix);const Xn=Vt.getUniforms(),wa=kc.seqWithValue(Xn.seq,Zt);return ge.currentProgram=Vt,ge.uniformsList=wa,Vt}function sv(Z,fe){const _e=be.get(Z);_e.outputEncoding=fe.outputEncoding,_e.instancing=fe.instancing,_e.skinning=fe.skinning,_e.morphTargets=fe.morphTargets,_e.morphNormals=fe.morphNormals,_e.morphTargetsCount=fe.morphTargetsCount,_e.numClippingPlanes=fe.numClippingPlanes,_e.numIntersection=fe.numClipIntersection,_e.vertexAlphas=fe.vertexAlphas,_e.vertexTangents=fe.vertexTangents,_e.toneMapping=fe.toneMapping}function ZE(Z,fe,_e,ge,Se){fe.isScene!==!0&&(fe=le),De.resetTextureUnits();const At=fe.fog,It=ge.isMeshStandardMaterial?fe.environment:null,Bt=T===null?_.outputEncoding:T.texture.encoding,Pt=(ge.isMeshStandardMaterial?Qe:Ae).get(ge.envMap||It),Jt=ge.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,Vt=!!ge.normalMap&&!!_e.attributes.tangent,Zt=!!_e.morphAttributes.position,Xn=!!_e.morphAttributes.normal,wa=_e.morphAttributes.position?_e.morphAttributes.position.length:0,Al=ge.toneMapped?_.toneMapping:tl,ln=be.get(ge),Ei=h.state.lights;if(W===!0&&(j===!0||Z!==P)){const Ui=Z===P&&ge.id===C;Te.setState(ge,Z,Ui)}let hr=!1;ge.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==Ei.state.version||ln.outputEncoding!==Bt||Se.isInstancedMesh&&ln.instancing===!1||!Se.isInstancedMesh&&ln.instancing===!0||Se.isSkinnedMesh&&ln.skinning===!1||!Se.isSkinnedMesh&&ln.skinning===!0||ln.envMap!==Pt||ge.fog&&ln.fog!==At||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Te.numPlanes||ln.numIntersection!==Te.numIntersection)||ln.vertexAlphas!==Jt||ln.vertexTangents!==Vt||ln.morphTargets!==Zt||ln.morphNormals!==Xn||ln.toneMapping!==Al||ke.isWebGL2===!0&&ln.morphTargetsCount!==wa)&&(hr=!0):(hr=!0,ln.__version=ge.version);let wi=ln.currentProgram;hr===!0&&(wi=ap(ge,fe,Se));let bd=!1,Ts=!1,so=!1;const Mr=wi.getUniforms(),Pl=ln.uniforms;if(Ze.useProgram(wi.program)&&(bd=!0,Ts=!0,so=!0),ge.id!==C&&(C=ge.id,Ts=!0),bd||P!==Z){if(Mr.setValue(ue,"projectionMatrix",Z.projectionMatrix),ke.logarithmicDepthBuffer&&Mr.setValue(ue,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),P!==Z&&(P=Z,Ts=!0,so=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){const Ui=Mr.map.cameraPosition;Ui!==void 0&&Ui.setValue(ue,Q.setFromMatrixPosition(Z.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&Mr.setValue(ue,"isOrthographic",Z.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Se.isSkinnedMesh)&&Mr.setValue(ue,"viewMatrix",Z.matrixWorldInverse)}if(Se.isSkinnedMesh){Mr.setOptional(ue,Se,"bindMatrix"),Mr.setOptional(ue,Se,"bindMatrixInverse");const Ui=Se.skeleton;Ui&&(ke.floatVertexTextures?(Ui.boneTexture===null&&Ui.computeBoneTexture(),Mr.setValue(ue,"boneTexture",Ui.boneTexture,De),Mr.setValue(ue,"boneTextureSize",Ui.boneTextureSize)):Mr.setOptional(ue,Ui,"boneMatrices"))}return!!_e&&(_e.morphAttributes.position!==void 0||_e.morphAttributes.normal!==void 0)&&Re.update(Se,_e,ge,wi),(Ts||ln.receiveShadow!==Se.receiveShadow)&&(ln.receiveShadow=Se.receiveShadow,Mr.setValue(ue,"receiveShadow",Se.receiveShadow)),Ts&&(Mr.setValue(ue,"toneMappingExposure",_.toneMappingExposure),ln.needsLights&&lp(Pl,so),At&&ge.fog&&hn.refreshFogUniforms(Pl,At),hn.refreshMaterialUniforms(Pl,ge,O,U,$),kc.upload(ue,ln.uniformsList,Pl,De)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(kc.upload(ue,ln.uniformsList,Pl,De),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&Mr.setValue(ue,"center",Se.center),Mr.setValue(ue,"modelViewMatrix",Se.modelViewMatrix),Mr.setValue(ue,"normalMatrix",Se.normalMatrix),Mr.setValue(ue,"modelMatrix",Se.matrixWorld),wi}function lp(Z,fe){Z.ambientLightColor.needsUpdate=fe,Z.lightProbe.needsUpdate=fe,Z.directionalLights.needsUpdate=fe,Z.directionalLightShadows.needsUpdate=fe,Z.pointLights.needsUpdate=fe,Z.pointLightShadows.needsUpdate=fe,Z.spotLights.needsUpdate=fe,Z.spotLightShadows.needsUpdate=fe,Z.rectAreaLights.needsUpdate=fe,Z.hemisphereLights.needsUpdate=fe}function QE(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(Z,fe,_e){be.get(Z.texture).__webglTexture=fe,be.get(Z.depthTexture).__webglTexture=_e;const ge=be.get(Z);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=_e===void 0,ge.__autoAllocateDepthBuffer||Z.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),Z.useRenderToTexture=!1,Z.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(Z,fe){const _e=be.get(Z);_e.__webglFramebuffer=fe,_e.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(Z,fe=0,_e=0){T=Z,E=fe,w=_e;let ge=!0;if(Z){const Pt=be.get(Z);Pt.__useDefaultFramebuffer!==void 0?(Ze.bindFramebuffer(36160,null),ge=!1):Pt.__webglFramebuffer===void 0?De.setupRenderTarget(Z):Pt.__hasExternalTextures&&De.rebindTextures(Z,be.get(Z.texture).__webglTexture,be.get(Z.depthTexture).__webglTexture)}let Se=null,At=!1,It=!1;if(Z){const Pt=Z.texture;(Pt.isDataTexture3D||Pt.isDataTexture2DArray)&&(It=!0);const Jt=be.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Se=Jt[fe],At=!0):Z.useRenderbuffer?Se=be.get(Z).__webglMultisampledFramebuffer:Se=Jt,R.copy(Z.viewport),A.copy(Z.scissor),L=Z.scissorTest}else R.copy(N).multiplyScalar(O).floor(),A.copy(H).multiplyScalar(O).floor(),L=z;if(Ze.bindFramebuffer(36160,Se)&&ke.drawBuffers&&ge){let Pt=!1;if(Z)if(Z.isWebGLMultipleRenderTargets){const Jt=Z.texture;if(B.length!==Jt.length||B[0]!==36064){for(let Vt=0,Zt=Jt.length;Vt<Zt;Vt++)B[Vt]=36064+Vt;B.length=Jt.length,Pt=!0}}else(B.length!==1||B[0]!==36064)&&(B[0]=36064,B.length=1,Pt=!0);else(B.length!==1||B[0]!==1029)&&(B[0]=1029,B.length=1,Pt=!0);Pt&&(ke.isWebGL2?ue.drawBuffers(B):Me.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(Ze.viewport(R),Ze.scissor(A),Ze.setScissorTest(L),At){const Pt=be.get(Z.texture);ue.framebufferTexture2D(36160,36064,34069+fe,Pt.__webglTexture,_e)}else if(It){const Pt=be.get(Z.texture),Jt=fe||0;ue.framebufferTextureLayer(36160,36064,Pt.__webglTexture,_e||0,Jt)}C=-1},this.readRenderTargetPixels=function(Z,fe,_e,ge,Se,At,It){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Bt=be.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&It!==void 0&&(Bt=Bt[It]),Bt){Ze.bindFramebuffer(36160,Bt);try{const Pt=Z.texture,Jt=Pt.format,Vt=Pt.type;if(Jt!==er&&He.convert(Jt)!==ue.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Zt=Vt===ys&&(Me.has("EXT_color_buffer_half_float")||ke.isWebGL2&&Me.has("EXT_color_buffer_float"));if(Vt!==aa&&He.convert(Vt)!==ue.getParameter(35738)&&!(Vt===Ks&&(ke.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!Zt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue.checkFramebufferStatus(36160)===36053?fe>=0&&fe<=Z.width-ge&&_e>=0&&_e<=Z.height-Se&&ue.readPixels(fe,_e,ge,Se,He.convert(Jt),He.convert(Vt),At):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Pt=T!==null?be.get(T).__webglFramebuffer:null;Ze.bindFramebuffer(36160,Pt)}}},this.copyFramebufferToTexture=function(Z,fe,_e=0){if(fe.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const ge=Math.pow(2,-_e),Se=Math.floor(fe.image.width*ge),At=Math.floor(fe.image.height*ge);De.setTexture2D(fe,0),ue.copyTexSubImage2D(3553,_e,0,0,Z.x,Z.y,Se,At),Ze.unbindTexture()},this.copyTextureToTexture=function(Z,fe,_e,ge=0){const Se=fe.image.width,At=fe.image.height,It=He.convert(_e.format),Bt=He.convert(_e.type);De.setTexture2D(_e,0),ue.pixelStorei(37440,_e.flipY),ue.pixelStorei(37441,_e.premultiplyAlpha),ue.pixelStorei(3317,_e.unpackAlignment),fe.isDataTexture?ue.texSubImage2D(3553,ge,Z.x,Z.y,Se,At,It,Bt,fe.image.data):fe.isCompressedTexture?ue.compressedTexSubImage2D(3553,ge,Z.x,Z.y,fe.mipmaps[0].width,fe.mipmaps[0].height,It,fe.mipmaps[0].data):ue.texSubImage2D(3553,ge,Z.x,Z.y,It,Bt,fe.image),ge===0&&_e.generateMipmaps&&ue.generateMipmap(3553),Ze.unbindTexture()},this.copyTextureToTexture3D=function(Z,fe,_e,ge,Se=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const At=Z.max.x-Z.min.x+1,It=Z.max.y-Z.min.y+1,Bt=Z.max.z-Z.min.z+1,Pt=He.convert(ge.format),Jt=He.convert(ge.type);let Vt;if(ge.isDataTexture3D)De.setTexture3D(ge,0),Vt=32879;else if(ge.isDataTexture2DArray)De.setTexture2DArray(ge,0),Vt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ue.pixelStorei(37440,ge.flipY),ue.pixelStorei(37441,ge.premultiplyAlpha),ue.pixelStorei(3317,ge.unpackAlignment);const Zt=ue.getParameter(3314),Xn=ue.getParameter(32878),wa=ue.getParameter(3316),Al=ue.getParameter(3315),ln=ue.getParameter(32877),Ei=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;ue.pixelStorei(3314,Ei.width),ue.pixelStorei(32878,Ei.height),ue.pixelStorei(3316,Z.min.x),ue.pixelStorei(3315,Z.min.y),ue.pixelStorei(32877,Z.min.z),_e.isDataTexture||_e.isDataTexture3D?ue.texSubImage3D(Vt,Se,fe.x,fe.y,fe.z,At,It,Bt,Pt,Jt,Ei.data):_e.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ue.compressedTexSubImage3D(Vt,Se,fe.x,fe.y,fe.z,At,It,Bt,Pt,Ei.data)):ue.texSubImage3D(Vt,Se,fe.x,fe.y,fe.z,At,It,Bt,Pt,Jt,Ei),ue.pixelStorei(3314,Zt),ue.pixelStorei(32878,Xn),ue.pixelStorei(3316,wa),ue.pixelStorei(3315,Al),ue.pixelStorei(32877,ln),Se===0&&ge.generateMipmaps&&ue.generateMipmap(Vt),Ze.unbindTexture()},this.initTexture=function(Z){De.setTexture2D(Z,0),Ze.unbindTexture()},this.resetState=function(){E=0,w=0,T=null,Ze.reset(),se.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}wn.prototype.isWebGLRenderer=!0;class FIe extends wn{}FIe.prototype.isWebGL1Renderer=!0;class ua extends cn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}ua.prototype.isScene=!0;class Ch{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Bg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Js()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=n.array[i+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Js()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Js()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ch.prototype.isInterleavedBuffer=!0;const Er=new ee;class Mh{constructor(e,n,i,o=!1){this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=o===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Er.x=this.getX(n),Er.y=this.getY(n),Er.z=this.getZ(n),Er.applyMatrix4(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Er.x=this.getX(n),Er.y=this.getY(n),Er.z=this.getZ(n),Er.applyNormalMatrix(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Er.x=this.getX(n),Er.y=this.getY(n),Er.z=this.getZ(n),Er.transformDirection(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=o,this}setXYZW(e,n,i,o,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[o+s])}return new Nn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Mh.prototype.isInterleavedBufferAttribute=!0;class fV extends Tr{constructor(e){super();this.type="SpriteMaterial",this.color=new rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}fV.prototype.isSpriteMaterial=!0;let Ah;const Jg=new ee,Ph=new ee,Rh=new ee,Lh=new Le,Zg=new Le,hV=new ot,Bb=new ee,Qg=new ee,Vb=new ee,pV=new Le,tM=new Le,mV=new Le;class UIe extends cn{constructor(e){super();if(this.type="Sprite",Ah===void 0){Ah=new kn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Ch(n,5);Ah.setIndex([0,1,2,0,2,3]),Ah.setAttribute("position",new Mh(i,3,0,!1)),Ah.setAttribute("uv",new Mh(i,2,3,!1))}this.geometry=Ah,this.material=e!==void 0?e:new fV,this.center=new Le(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ph.setFromMatrixScale(this.matrixWorld),hV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ph.multiplyScalar(-Rh.z);const i=this.material.rotation;let o,s;i!==0&&(s=Math.cos(i),o=Math.sin(i));const a=this.center;Hb(Bb.set(-.5,-.5,0),Rh,a,Ph,o,s),Hb(Qg.set(.5,-.5,0),Rh,a,Ph,o,s),Hb(Vb.set(.5,.5,0),Rh,a,Ph,o,s),pV.set(0,0),tM.set(1,0),mV.set(1,1);let l=e.ray.intersectTriangle(Bb,Qg,Vb,!1,Jg);if(l===null&&(Hb(Qg.set(-.5,.5,0),Rh,a,Ph,o,s),tM.set(0,1),l=e.ray.intersectTriangle(Bb,Vb,Qg,!1,Jg),l===null))return;const c=e.ray.origin.distanceTo(Jg);c<e.near||c>e.far||n.push({distance:c,point:Jg.clone(),uv:Sr.getUV(Jg,Bb,Qg,Vb,pV,tM,mV,new Le),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}UIe.prototype.isSprite=!0;function Hb(t,e,n,i,o,s){Lh.subVectors(t,n).addScalar(.5).multiply(i),o!==void 0?(Zg.x=s*Lh.x-o*Lh.y,Zg.y=o*Lh.x+s*Lh.y):Zg.copy(Lh),t.copy(e),t.x+=Zg.x,t.y+=Zg.y,t.applyMatrix4(hV)}const gV=new ee,vV=new On,yV=new On,jIe=new ee,_V=new ot;class nM extends Et{constructor(e,n){super(e,n);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ot,this.bindMatrixInverse=new ot}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new On,n=this.geometry.attributes.skinWeight;for(let i=0,o=n.count;i<o;i++){e.x=n.getX(i),e.y=n.getY(i),e.z=n.getZ(i),e.w=n.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,o=this.geometry;vV.fromBufferAttribute(o.attributes.skinIndex,e),yV.fromBufferAttribute(o.attributes.skinWeight,e),gV.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=yV.getComponent(s);if(a!==0){const l=vV.getComponent(s);_V.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),n.addScaledVector(jIe.copy(gV).applyMatrix4(_V),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}nM.prototype.isSkinnedMesh=!0;class rM extends cn{constructor(){super();this.type="Bone"}}rM.prototype.isBone=!0;class iM extends fr{constructor(e=null,n=1,i=1,o,s,a,l,c,u=br,d=br,f,h){super(null,a,l,c,u,d,o,s,f,h);this.image={data:e,width:n,height:i},this.magFilter=u,this.minFilter=d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}iM.prototype.isDataTexture=!0;const bV=new ot,BIe=new ot;class sM{constructor(e=[],n=[]){this.uuid=Js(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,o=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:BIe;bV.multiplyMatrices(l,n[s]),bV.toArray(i,s*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new sM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uB(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new iM(n,e,e,er,Ks);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,o=e.bones.length;i<o;i++){const s=e.bones[i];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new rM),this.bones.push(a),this.boneInverses.push(new ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let o=0,s=n.length;o<s;o++){const a=n[o];e.bones.push(a.uuid);const l=i[o];e.boneInverses.push(l.toArray())}return e}}class oM extends Nn{constructor(e,n,i,o=1){typeof i=="number"&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,n,i);this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}oM.prototype.isInstancedBufferAttribute=!0;const EV=new ot,wV=new ot,zb=[],e0=new Et;class VIe extends Et{constructor(e,n,i){super(e,n);this.instanceMatrix=new oM(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,o=this.count;if(e0.geometry=this.geometry,e0.material=this.material,e0.material!==void 0)for(let s=0;s<o;s++){this.getMatrixAt(s,EV),wV.multiplyMatrices(i,EV),e0.matrixWorld=wV,e0.raycast(e,zb);for(let a=0,l=zb.length;a<l;a++){const c=zb[a];c.instanceId=s,c.object=this,n.push(c)}zb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new oM(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}VIe.prototype.isInstancedMesh=!0;class Ih extends Tr{constructor(e){super();this.type="LineBasicMaterial",this.color=new rt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Ih.prototype.isLineBasicMaterial=!0;const xV=new ee,SV=new ee,TV=new ot,aM=new Zu,Gb=new Cc;class $b extends cn{constructor(e=new kn,n=new Ih){super();this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[0];for(let o=1,s=n.count;o<s;o++)xV.fromBufferAttribute(n,o-1),SV.fromBufferAttribute(n,o),i[o]=i[o-1],i[o]+=xV.distanceTo(SV);e.setAttribute("lineDistance",new kr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const i=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Gb.copy(i.boundingSphere),Gb.applyMatrix4(o),Gb.radius+=s,e.ray.intersectsSphere(Gb)===!1)return;TV.copy(o).invert(),aM.copy(e.ray).applyMatrix4(TV);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new ee,d=new ee,f=new ee,h=new ee,v=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,S=i.attributes.position;if(m!==null){const E=Math.max(0,a.start),w=Math.min(m.count,a.start+a.count);for(let T=E,C=w-1;T<C;T+=v){const P=m.getX(T),R=m.getX(T+1);if(u.fromBufferAttribute(S,P),d.fromBufferAttribute(S,R),aM.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(h);L<e.near||L>e.far||n.push({distance:L,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const E=Math.max(0,a.start),w=Math.min(S.count,a.start+a.count);for(let T=E,C=w-1;T<C;T+=v){if(u.fromBufferAttribute(S,T),d.fromBufferAttribute(S,T+1),aM.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(h);R<e.near||R>e.far||n.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}$b.prototype.isLine=!0;const CV=new ee,MV=new ee;class Wb extends $b{constructor(e,n){super(e,n);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[];for(let o=0,s=n.count;o<s;o+=2)CV.fromBufferAttribute(n,o),MV.fromBufferAttribute(n,o+1),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+CV.distanceTo(MV);e.setAttribute("lineDistance",new kr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Wb.prototype.isLineSegments=!0;class AV extends $b{constructor(e,n){super(e,n);this.type="LineLoop"}}AV.prototype.isLineLoop=!0;class lM extends Tr{constructor(e){super();this.type="PointsMaterial",this.color=new rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}lM.prototype.isPointsMaterial=!0;const PV=new ot,cM=new Zu,qb=new Cc,Yb=new ee;class RV extends cn{constructor(e=new kn,n=new lM){super();this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,o=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qb.copy(i.boundingSphere),qb.applyMatrix4(o),qb.radius+=s,e.ray.intersectsSphere(qb)===!1)return;PV.copy(o).invert(),cM.copy(e.ray).applyMatrix4(PV);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l;if(i.isBufferGeometry){const u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let m=h,_=v;m<_;m++){const S=u.getX(m);Yb.fromBufferAttribute(f,S),LV(Yb,S,c,o,e,n,this)}}else{const h=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count);for(let m=h,_=v;m<_;m++)Yb.fromBufferAttribute(f,m),LV(Yb,m,c,o,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}RV.prototype.isPoints=!0;function LV(t,e,n,i,o,s,a){const l=cM.distanceSqToPoint(t);if(l<n){const c=new ee;cM.closestPointToPoint(t,c),c.applyMatrix4(i);const u=o.ray.origin.distanceTo(c);if(u<o.near||u>o.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:a})}}class HIe extends fr{constructor(e,n,i,o,s,a,l,c,u){super(e,n,i,o,s,a,l,c,u);this.format=l!==void 0?l:Xs,this.minFilter=a!==void 0?a:In,this.magFilter=s!==void 0?s:In,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}HIe.prototype.isVideoTexture=!0;class zIe extends fr{constructor(e,n,i){super({width:e,height:n});this.format=i,this.magFilter=br,this.minFilter=br,this.generateMipmaps=!1,this.needsUpdate=!0}}zIe.prototype.isFramebufferTexture=!0;class uM extends fr{constructor(e,n,i,o,s,a,l,c,u,d,f,h){super(null,a,l,c,u,d,o,s,f,h);this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}uM.prototype.isCompressedTexture=!0;class GIe extends fr{constructor(e,n,i,o,s,a,l,c,u){super(e,n,i,o,s,a,l,c,u);this.needsUpdate=!0}}GIe.prototype.isCanvasTexture=!0;new ee;new ee;new ee;new Sr;class Qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,o=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(o),n.push(s),o=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let o=0;const s=i.length;let a;n?a=n:a=e*i[s-1];let l=0,c=s-1,u;for(;l<=c;)if(o=Math.floor(l+(c-l)/2),u=i[o]-a,u<0)l=o+1;else if(u>0)c=o-1;else{c=o;break}if(o=c,i[o]===a)return o/(s-1);const d=i[o],h=i[o+1]-d,v=(a-d)/h;return(o+v)/(s-1)}getTangent(e,n){const i=1e-4;let o=e-i,s=e+i;o<0&&(o=0),s>1&&(s=1);const a=this.getPoint(o),l=this.getPoint(s),c=n||(a.isVector2?new Le:new ee);return c.copy(l).sub(a).normalize(),c}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new ee,o=[],s=[],a=[],l=new ee,c=new ot;for(let v=0;v<=e;v++){const m=v/e;o[v]=this.getTangentAt(m,new ee)}s[0]=new ee,a[0]=new ee;let u=Number.MAX_VALUE;const d=Math.abs(o[0].x),f=Math.abs(o[0].y),h=Math.abs(o[0].z);d<=u&&(u=d,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),h<=u&&i.set(0,0,1),l.crossVectors(o[0],i).normalize(),s[0].crossVectors(o[0],l),a[0].crossVectors(o[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),l.crossVectors(o[v-1],o[v]),l.length()>Number.EPSILON){l.normalize();const m=Math.acos(Pi(o[v-1].dot(o[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(l,m))}a[v].crossVectors(o[v],s[v])}if(n===!0){let v=Math.acos(Pi(s[0].dot(s[e]),-1,1));v/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(v=-v);for(let m=1;m<=e;m++)s[m].applyMatrix4(c.makeRotationAxis(o[m],v*m)),a[m].crossVectors(o[m],s[m])}return{tangents:o,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Kb extends Qs{constructor(e=0,n=0,i=1,o=1,s=0,a=Math.PI*2,l=!1,c=0){super();this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=c}getPoint(e,n){const i=n||new Le,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(a?s=0:s=o),this.aClockwise===!0&&!a&&(s===o?s=-o:s=s-o);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,v=u-this.aY;c=h*d-v*f+this.aX,u=h*f+v*d+this.aY}return i.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Kb.prototype.isEllipseCurve=!0;class IV extends Kb{constructor(e,n,i,o,s,a){super(e,n,i,i,o,s,a);this.type="ArcCurve"}}IV.prototype.isArcCurve=!0;function dM(){let t=0,e=0,n=0,i=0;function o(s,a,l,c){t=s,e=l,n=-3*s+3*a-2*l-c,i=2*s-2*a+l+c}return{initCatmullRom:function(s,a,l,c,u){o(a,l,u*(l-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,l,c,u,d,f){let h=(a-s)/u-(l-s)/(u+d)+(l-a)/d,v=(l-a)/d-(c-a)/(d+f)+(c-l)/f;h*=d,v*=d,o(a,l,h,v)},calc:function(s){const a=s*s,l=a*s;return t+e*s+n*a+i*l}}}const Xb=new ee,fM=new dM,hM=new dM,pM=new dM;class OV extends Qs{constructor(e=[],n=!1,i="centripetal",o=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=o}getPoint(e,n=new ee){const i=n,o=this.points,s=o.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,d;this.closed||l>0?u=o[(l-1)%s]:(Xb.subVectors(o[0],o[1]).add(o[0]),u=Xb);const f=o[l%s],h=o[(l+1)%s];if(this.closed||l+2<s?d=o[(l+2)%s]:(Xb.subVectors(o[s-1],o[s-2]).add(o[s-1]),d=Xb),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(f),v),_=Math.pow(f.distanceToSquared(h),v),S=Math.pow(h.distanceToSquared(d),v);_<1e-4&&(_=1),m<1e-4&&(m=_),S<1e-4&&(S=_),fM.initNonuniformCatmullRom(u.x,f.x,h.x,d.x,m,_,S),hM.initNonuniformCatmullRom(u.y,f.y,h.y,d.y,m,_,S),pM.initNonuniformCatmullRom(u.z,f.z,h.z,d.z,m,_,S)}else this.curveType==="catmullrom"&&(fM.initCatmullRom(u.x,f.x,h.x,d.x,this.tension),hM.initCatmullRom(u.y,f.y,h.y,d.y,this.tension),pM.initCatmullRom(u.z,f.z,h.z,d.z,this.tension));return i.set(fM.calc(c),hM.calc(c),pM.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const o=this.points[n];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(new ee().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}OV.prototype.isCatmullRomCurve3=!0;function NV(t,e,n,i,o){const s=(i-e)*.5,a=(o-n)*.5,l=t*t,c=t*l;return(2*n-2*i+s+a)*c+(-3*n+3*i-2*s-a)*l+s*t+n}function $Ie(t,e){const n=1-t;return n*n*e}function WIe(t,e){return 2*(1-t)*t*e}function qIe(t,e){return t*t*e}function t0(t,e,n,i){return $Ie(t,e)+WIe(t,n)+qIe(t,i)}function YIe(t,e){const n=1-t;return n*n*n*e}function KIe(t,e){const n=1-t;return 3*n*n*t*e}function XIe(t,e){return 3*(1-t)*t*t*e}function JIe(t,e){return t*t*t*e}function n0(t,e,n,i,o){return YIe(t,e)+KIe(t,n)+XIe(t,i)+JIe(t,o)}class mM extends Qs{constructor(e=new Le,n=new Le,i=new Le,o=new Le){super();this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=o}getPoint(e,n=new Le){const i=n,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(n0(e,o.x,s.x,a.x,l.x),n0(e,o.y,s.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}mM.prototype.isCubicBezierCurve=!0;class kV extends Qs{constructor(e=new ee,n=new ee,i=new ee,o=new ee){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=o}getPoint(e,n=new ee){const i=n,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(n0(e,o.x,s.x,a.x,l.x),n0(e,o.y,s.y,a.y,l.y),n0(e,o.z,s.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}kV.prototype.isCubicBezierCurve3=!0;class Jb extends Qs{constructor(e=new Le,n=new Le){super();this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Le){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new Le;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Jb.prototype.isLineCurve=!0;class ZIe extends Qs{constructor(e=new ee,n=new ee){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new ee){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gM extends Qs{constructor(e=new Le,n=new Le,i=new Le){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Le){const i=n,o=this.v0,s=this.v1,a=this.v2;return i.set(t0(e,o.x,s.x,a.x),t0(e,o.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}gM.prototype.isQuadraticBezierCurve=!0;class DV extends Qs{constructor(e=new ee,n=new ee,i=new ee){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ee){const i=n,o=this.v0,s=this.v1,a=this.v2;return i.set(t0(e,o.x,s.x,a.x),t0(e,o.y,s.y,a.y),t0(e,o.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}DV.prototype.isQuadraticBezierCurve3=!0;class vM extends Qs{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,n=new Le){const i=n,o=this.points,s=(o.length-1)*e,a=Math.floor(s),l=s-a,c=o[a===0?a:a-1],u=o[a],d=o[a>o.length-2?o.length-1:a+1],f=o[a>o.length-3?o.length-1:a+2];return i.set(NV(l,c.x,u.x,d.x,f.x),NV(l,c.y,u.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const o=this.points[n];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(new Le().fromArray(o))}return this}}vM.prototype.isSplineCurve=!0;var FV=Object.freeze({__proto__:null,ArcCurve:IV,CatmullRomCurve3:OV,CubicBezierCurve:mM,CubicBezierCurve3:kV,EllipseCurve:Kb,LineCurve:Jb,LineCurve3:ZIe,QuadraticBezierCurve:gM,QuadraticBezierCurve3:DV,SplineCurve:vM});class QIe extends Qs{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Jb(n,e))}getPoint(e,n){const i=e*this.getLength(),o=this.getCurveLengths();let s=0;for(;s<o.length;){if(o[s]>=i){const a=o[s]-i,l=this.curves[s],c=l.getLength(),u=c===0?0:1-a/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,o=this.curves.length;i<o;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let o=0,s=this.curves;o<s.length;o++){const a=s[o],l=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,c=a.getPoints(l);for(let u=0;u<c.length;u++){const d=c[u];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const o=e.curves[n];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const o=this.curves[n];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const o=e.curves[n];this.curves.push(new FV[o.type]().fromJSON(o))}return this}}class yM extends QIe{constructor(e){super();this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Jb(this.currentPoint.clone(),new Le(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,o){const s=new gM(this.currentPoint.clone(),new Le(e,n),new Le(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}bezierCurveTo(e,n,i,o,s,a){const l=new mM(this.currentPoint.clone(),new Le(e,n),new Le(i,o),new Le(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new vM(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,i,o,s,a),this}absarc(e,n,i,o,s,a){return this.absellipse(e,n,i,i,o,s,a),this}ellipse(e,n,i,o,s,a,l,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,i,o,s,a,l,c),this}absellipse(e,n,i,o,s,a,l,c){const u=new Kb(e,n,i,o,s,a,l,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class r0 extends yM{constructor(e){super(e);this.uuid=Js(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,o=this.holes.length;i<o;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const o=e.holes[n];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const o=this.holes[n];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const o=e.holes[n];this.holes.push(new yM().fromJSON(o))}return this}}const eOe={triangulate:function(t,e,n=2){const i=e&&e.length,o=i?e[0]*n:t.length;let s=UV(t,0,o,n,!0);const a=[];if(!s||s.next===s.prev)return a;let l,c,u,d,f,h,v;if(i&&(s=sOe(t,e,s,n)),t.length>80*n){l=u=t[0],c=d=t[1];for(let m=n;m<o;m+=n)f=t[m],h=t[m+1],f<l&&(l=f),h<c&&(c=h),f>u&&(u=f),h>d&&(d=h);v=Math.max(u-l,d-c),v=v!==0?1/v:0}return i0(s,a,n,l,c,v),a}};function UV(t,e,n,i,o){let s,a;if(o===gOe(t,e,n,i)>0)for(s=e;s<n;s+=i)a=VV(s,t[s],t[s+1],a);else for(s=n-i;s>=e;s-=i)a=VV(s,t[s],t[s+1],a);return a&&Zb(a,a.next)&&(o0(a),a=a.next),a}function Dc(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Zb(n,n.next)||sr(n.prev,n,n.next)===0)){if(o0(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function i0(t,e,n,i,o,s,a){if(!t)return;!a&&s&&uOe(t,i,o,s);let l=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?nOe(t,i,o,s):tOe(t)){e.push(c.i/n),e.push(t.i/n),e.push(u.i/n),o0(t),t=u.next,l=u.next;continue}if(t=u,t===l){a?a===1?(t=rOe(Dc(t),e,n),i0(t,e,n,i,o,s,2)):a===2&&iOe(t,e,n,i,o,s):i0(Dc(t),e,n,i,o,s,1);break}}}function tOe(t){const e=t.prev,n=t,i=t.next;if(sr(e,n,i)>=0)return!1;let o=t.next.next;for(;o!==t.prev;){if(Oh(e.x,e.y,n.x,n.y,i.x,i.y,o.x,o.y)&&sr(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function nOe(t,e,n,i){const o=t.prev,s=t,a=t.next;if(sr(o,s,a)>=0)return!1;const l=o.x<s.x?o.x<a.x?o.x:a.x:s.x<a.x?s.x:a.x,c=o.y<s.y?o.y<a.y?o.y:a.y:s.y<a.y?s.y:a.y,u=o.x>s.x?o.x>a.x?o.x:a.x:s.x>a.x?s.x:a.x,d=o.y>s.y?o.y>a.y?o.y:a.y:s.y>a.y?s.y:a.y,f=_M(l,c,e,n,i),h=_M(u,d,e,n,i);let v=t.prevZ,m=t.nextZ;for(;v&&v.z>=f&&m&&m.z<=h;){if(v!==t.prev&&v!==t.next&&Oh(o.x,o.y,s.x,s.y,a.x,a.y,v.x,v.y)&&sr(v.prev,v,v.next)>=0||(v=v.prevZ,m!==t.prev&&m!==t.next&&Oh(o.x,o.y,s.x,s.y,a.x,a.y,m.x,m.y)&&sr(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;v&&v.z>=f;){if(v!==t.prev&&v!==t.next&&Oh(o.x,o.y,s.x,s.y,a.x,a.y,v.x,v.y)&&sr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;m&&m.z<=h;){if(m!==t.prev&&m!==t.next&&Oh(o.x,o.y,s.x,s.y,a.x,a.y,m.x,m.y)&&sr(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function rOe(t,e,n){let i=t;do{const o=i.prev,s=i.next.next;!Zb(o,s)&&jV(o,i,i.next,s)&&s0(o,s)&&s0(s,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(s.i/n),o0(i),o0(i.next),i=t=s),i=i.next}while(i!==t);return Dc(i)}function iOe(t,e,n,i,o,s){let a=t;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&hOe(a,l)){let c=BV(a,l);a=Dc(a,a.next),c=Dc(c,c.next),i0(a,e,n,i,o,s),i0(c,e,n,i,o,s);return}l=l.next}a=a.next}while(a!==t)}function sOe(t,e,n,i){const o=[];let s,a,l,c,u;for(s=0,a=e.length;s<a;s++)l=e[s]*i,c=s<a-1?e[s+1]*i:t.length,u=UV(t,l,c,i,!1),u===u.next&&(u.steiner=!0),o.push(fOe(u));for(o.sort(oOe),s=0;s<o.length;s++)aOe(o[s],n),n=Dc(n,n.next);return n}function oOe(t,e){return t.x-e.x}function aOe(t,e){if(e=lOe(t,e),e){const n=BV(e,t);Dc(e,e.next),Dc(n,n.next)}}function lOe(t,e){let n=e;const i=t.x,o=t.y;let s=-1/0,a;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=i&&h>s){if(s=h,h===i){if(o===n.y)return n;if(o===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!a)return null;if(i===s)return a;const l=a,c=a.x,u=a.y;let d=1/0,f;n=a;do i>=n.x&&n.x>=c&&i!==n.x&&Oh(o<u?i:s,o,c,u,o<u?s:i,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(i-n.x),s0(n,t)&&(f<d||f===d&&(n.x>a.x||n.x===a.x&&cOe(a,n)))&&(a=n,d=f)),n=n.next;while(n!==l);return a}function cOe(t,e){return sr(t.prev,t,e.prev)<0&&sr(e.next,t,t.next)<0}function uOe(t,e,n,i){let o=t;do o.z===null&&(o.z=_M(o.x,o.y,e,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,dOe(o)}function dOe(t){let e,n,i,o,s,a,l,c,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,i=n,l=0,e=0;e<u&&(l++,i=i.nextZ,!!i);e++);for(c=u;l>0||c>0&&i;)l!==0&&(c===0||!i||n.z<=i.z)?(o=n,n=n.nextZ,l--):(o=i,i=i.nextZ,c--),s?s.nextZ=o:t=o,o.prevZ=s,s=o;n=i}s.nextZ=null,u*=2}while(a>1);return t}function _M(t,e,n,i,o){return t=32767*(t-n)*o,e=32767*(e-i)*o,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function fOe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Oh(t,e,n,i,o,s,a,l){return(o-a)*(e-l)-(t-a)*(s-l)>=0&&(t-a)*(i-l)-(n-a)*(e-l)>=0&&(n-a)*(s-l)-(o-a)*(i-l)>=0}function hOe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!pOe(t,e)&&(s0(t,e)&&s0(e,t)&&mOe(t,e)&&(sr(t.prev,t,e.prev)||sr(t,e.prev,e))||Zb(t,e)&&sr(t.prev,t,t.next)>0&&sr(e.prev,e,e.next)>0)}function sr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Zb(t,e){return t.x===e.x&&t.y===e.y}function jV(t,e,n,i){const o=eE(sr(t,e,n)),s=eE(sr(t,e,i)),a=eE(sr(n,i,t)),l=eE(sr(n,i,e));return!!(o!==s&&a!==l||o===0&&Qb(t,n,e)||s===0&&Qb(t,i,e)||a===0&&Qb(n,t,i)||l===0&&Qb(n,e,i))}function Qb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function eE(t){return t>0?1:t<0?-1:0}function pOe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&jV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function s0(t,e){return sr(t.prev,t,t.next)<0?sr(t,e,t.next)>=0&&sr(t,t.prev,e)>=0:sr(t,e,t.prev)<0||sr(t,t.next,e)<0}function mOe(t,e){let n=t,i=!1;const o=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function BV(t,e){const n=new bM(t.i,t.x,t.y),i=new bM(e.i,e.x,e.y),o=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function VV(t,e,n,i){const o=new bM(t,e,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function o0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gOe(t,e,n,i){let o=0;for(let s=e,a=n-i;s<n;s+=i)o+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return o}class Fc{static area(e){const n=e.length;let i=0;for(let o=n-1,s=0;s<n;o=s++)i+=e[o].x*e[s].y-e[s].x*e[o].y;return i*.5}static isClockWise(e){return Fc.area(e)<0}static triangulateShape(e,n){const i=[],o=[],s=[];HV(e),zV(i,e);let a=e.length;n.forEach(HV);for(let c=0;c<n.length;c++)o.push(a),a+=n[c].length,zV(i,n[c]);const l=eOe.triangulate(i,o);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function HV(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function zV(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Nh extends kn{constructor(e=new r0([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),n={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,o=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];a(u)}this.setAttribute("position",new kr(o,3)),this.setAttribute("uv",new kr(s,2)),this.computeVertexNormals();function a(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1;let f=n.depth!==void 0?n.depth:1,h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:v-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const E=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:vOe;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=n.amount);let T,C=!1,P,R,A,L;E&&(T=E.getSpacedPoints(d),C=!0,h=!1,P=E.computeFrenetFrames(d,!1),R=new ee,A=new ee,L=new ee),h||(S=0,v=0,m=0,_=0);const k=l.extractPoints(u);let U=k.shape;const O=k.holes;if(!Fc.isClockWise(U)){U=U.reverse();for(let be=0,De=O.length;be<De;be++){const Ae=O[be];Fc.isClockWise(Ae)&&(O[be]=Ae.reverse())}}const F=Fc.triangulateShape(U,O),N=U;for(let be=0,De=O.length;be<De;be++){const Ae=O[be];U=U.concat(Ae)}function H(be,De,Ae){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),De.clone().multiplyScalar(Ae).add(be)}const z=U.length,B=F.length;function q(be,De,Ae){let Qe,Xe,mt;const Mt=be.x-De.x,jt=be.y-De.y,hn=Ae.x-be.x,ne=Ae.y-be.y,J=Mt*Mt+jt*jt,Te=Mt*ne-jt*hn;if(Math.abs(Te)>Number.EPSILON){const Oe=Math.sqrt(J),ze=Math.sqrt(hn*hn+ne*ne),Re=De.x-jt/Oe,vt=De.y+Mt/Oe,ct=Ae.x-ne/ze,He=Ae.y+hn/ze,se=((ct-Re)*ne-(He-vt)*hn)/(Mt*ne-jt*hn);Qe=Re+Mt*se-be.x,Xe=vt+jt*se-be.y;const Ve=Qe*Qe+Xe*Xe;if(Ve<=2)return new Le(Qe,Xe);mt=Math.sqrt(Ve/2)}else{let Oe=!1;Mt>Number.EPSILON?hn>Number.EPSILON&&(Oe=!0):Mt<-Number.EPSILON?hn<-Number.EPSILON&&(Oe=!0):Math.sign(jt)===Math.sign(ne)&&(Oe=!0),Oe?(Qe=-jt,Xe=Mt,mt=Math.sqrt(J)):(Qe=Mt,Xe=jt,mt=Math.sqrt(J/2))}return new Le(Qe/mt,Xe/mt)}const W=[];for(let be=0,De=N.length,Ae=De-1,Qe=be+1;be<De;be++,Ae++,Qe++)Ae===De&&(Ae=0),Qe===De&&(Qe=0),W[be]=q(N[be],N[Ae],N[Qe]);const j=[];let $,ie=W.concat();for(let be=0,De=O.length;be<De;be++){const Ae=O[be];$=[];for(let Qe=0,Xe=Ae.length,mt=Xe-1,Mt=Qe+1;Qe<Xe;Qe++,mt++,Mt++)mt===Xe&&(mt=0),Mt===Xe&&(Mt=0),$[Qe]=q(Ae[Qe],Ae[mt],Ae[Mt]);j.push($),ie=ie.concat($)}for(let be=0;be<S;be++){const De=be/S,Ae=v*Math.cos(De*Math.PI/2),Qe=m*Math.sin(De*Math.PI/2)+_;for(let Xe=0,mt=N.length;Xe<mt;Xe++){const Mt=H(N[Xe],W[Xe],Qe);Ie(Mt.x,Mt.y,-Ae)}for(let Xe=0,mt=O.length;Xe<mt;Xe++){const Mt=O[Xe];$=j[Xe];for(let jt=0,hn=Mt.length;jt<hn;jt++){const ne=H(Mt[jt],$[jt],Qe);Ie(ne.x,ne.y,-Ae)}}}const Q=m+_;for(let be=0;be<z;be++){const De=h?H(U[be],ie[be],Q):U[be];C?(A.copy(P.normals[0]).multiplyScalar(De.x),R.copy(P.binormals[0]).multiplyScalar(De.y),L.copy(T[0]).add(A).add(R),Ie(L.x,L.y,L.z)):Ie(De.x,De.y,0)}for(let be=1;be<=d;be++)for(let De=0;De<z;De++){const Ae=h?H(U[De],ie[De],Q):U[De];C?(A.copy(P.normals[be]).multiplyScalar(Ae.x),R.copy(P.binormals[be]).multiplyScalar(Ae.y),L.copy(T[be]).add(A).add(R),Ie(L.x,L.y,L.z)):Ie(Ae.x,Ae.y,f/d*be)}for(let be=S-1;be>=0;be--){const De=be/S,Ae=v*Math.cos(De*Math.PI/2),Qe=m*Math.sin(De*Math.PI/2)+_;for(let Xe=0,mt=N.length;Xe<mt;Xe++){const Mt=H(N[Xe],W[Xe],Qe);Ie(Mt.x,Mt.y,f+Ae)}for(let Xe=0,mt=O.length;Xe<mt;Xe++){const Mt=O[Xe];$=j[Xe];for(let jt=0,hn=Mt.length;jt<hn;jt++){const ne=H(Mt[jt],$[jt],Qe);C?Ie(ne.x,ne.y+T[d-1].y,T[d-1].x+Ae):Ie(ne.x,ne.y,f+Ae)}}}le(),he();function le(){const be=o.length/3;if(h){let De=0,Ae=z*De;for(let Qe=0;Qe<B;Qe++){const Xe=F[Qe];Me(Xe[2]+Ae,Xe[1]+Ae,Xe[0]+Ae)}De=d+S*2,Ae=z*De;for(let Qe=0;Qe<B;Qe++){const Xe=F[Qe];Me(Xe[0]+Ae,Xe[1]+Ae,Xe[2]+Ae)}}else{for(let De=0;De<B;De++){const Ae=F[De];Me(Ae[2],Ae[1],Ae[0])}for(let De=0;De<B;De++){const Ae=F[De];Me(Ae[0]+z*d,Ae[1]+z*d,Ae[2]+z*d)}}i.addGroup(be,o.length/3-be,0)}function he(){const be=o.length/3;let De=0;ue(N,De),De+=N.length;for(let Ae=0,Qe=O.length;Ae<Qe;Ae++){const Xe=O[Ae];ue(Xe,De),De+=Xe.length}i.addGroup(be,o.length/3-be,1)}function ue(be,De){let Ae=be.length;for(;--Ae>=0;){const Qe=Ae;let Xe=Ae-1;Xe<0&&(Xe=be.length-1);for(let mt=0,Mt=d+S*2;mt<Mt;mt++){const jt=z*mt,hn=z*(mt+1),ne=De+Qe+jt,J=De+Xe+jt,Te=De+Xe+hn,Oe=De+Qe+hn;ke(ne,J,Te,Oe)}}}function Ie(be,De,Ae){c.push(be),c.push(De),c.push(Ae)}function Me(be,De,Ae){Ze(be),Ze(De),Ze(Ae);const Qe=o.length/3,Xe=w.generateTopUV(i,o,Qe-3,Qe-2,Qe-1);pt(Xe[0]),pt(Xe[1]),pt(Xe[2])}function ke(be,De,Ae,Qe){Ze(be),Ze(De),Ze(Qe),Ze(De),Ze(Ae),Ze(Qe);const Xe=o.length/3,mt=w.generateSideWallUV(i,o,Xe-6,Xe-3,Xe-2,Xe-1);pt(mt[0]),pt(mt[1]),pt(mt[3]),pt(mt[1]),pt(mt[2]),pt(mt[3])}function Ze(be){o.push(c[be*3+0]),o.push(c[be*3+1]),o.push(c[be*3+2])}function pt(be){s.push(be.x),s.push(be.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return yOe(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=n[e.shapes[s]];i.push(l)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new FV[o.type]().fromJSON(o)),new Nh(i,e.options)}}const vOe={generateTopUV:function(t,e,n,i,o){const s=e[n*3],a=e[n*3+1],l=e[i*3],c=e[i*3+1],u=e[o*3],d=e[o*3+1];return[new Le(s,a),new Le(l,c),new Le(u,d)]},generateSideWallUV:function(t,e,n,i,o,s){const a=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[i*3],d=e[i*3+1],f=e[i*3+2],h=e[o*3],v=e[o*3+1],m=e[o*3+2],_=e[s*3],S=e[s*3+1],E=e[s*3+2];return Math.abs(l-d)<Math.abs(a-u)?[new Le(a,1-c),new Le(u,1-f),new Le(h,1-m),new Le(_,1-E)]:[new Le(l,1-c),new Le(d,1-f),new Le(v,1-m),new Le(S,1-E)]}};function yOe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,o=t.length;i<o;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class EM extends kn{constructor(e=new r0([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),n=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],o=[],s=[],a=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(l,c,d),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new kr(o,3)),this.setAttribute("normal",new kr(s,3)),this.setAttribute("uv",new kr(a,2));function u(d){const f=o.length/3,h=d.extractPoints(n);let v=h.shape;const m=h.holes;Fc.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,E=m.length;S<E;S++){const w=m[S];Fc.isClockWise(w)===!0&&(m[S]=w.reverse())}const _=Fc.triangulateShape(v,m);for(let S=0,E=m.length;S<E;S++){const w=m[S];v=v.concat(w)}for(let S=0,E=v.length;S<E;S++){const w=v[S];o.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let S=0,E=_.length;S<E;S++){const w=_[S],T=w[0]+f,C=w[1]+f,P=w[2]+f;i.push(T,C,P),c+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return _Oe(n,e)}static fromJSON(e,n){const i=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];i.push(a)}return new EM(i,e.curveSegments)}}function _Oe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const o=t[n];e.shapes.push(o.uuid)}else e.shapes.push(t.uuid);return e}class GV extends Tr{constructor(e){super();this.type="ShadowMaterial",this.color=new rt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}GV.prototype.isShadowMaterial=!0;class fl extends Tr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}fl.prototype.isMeshStandardMaterial=!0;class nd extends fl{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new rt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}nd.prototype.isMeshPhysicalMaterial=!0;class bOe extends Tr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new rt(16777215),this.specular=new rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}bOe.prototype.isMeshPhongMaterial=!0;class EOe extends Tr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}EOe.prototype.isMeshToonMaterial=!0;class wOe extends Tr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}wOe.prototype.isMeshNormalMaterial=!0;class xOe extends Tr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}xOe.prototype.isMeshLambertMaterial=!0;class SOe extends Tr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}SOe.prototype.isMeshMatcapMaterial=!0;class TOe extends Ih{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}TOe.prototype.isLineDashedMaterial=!0;const tr={arraySlice:function(t,e,n){return tr.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(o,s){return t[o]-t[s]}const n=t.length,i=new Array(n);for(let o=0;o!==n;++o)i[o]=o;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,o=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const l=n[s]*e;for(let c=0;c!==e;++c)o[a++]=t[l+c]}return o},flattenJSON:function(t,e,n,i){let o=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[o++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[o++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[o++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),n.push(a)),s=t[o++];while(s!==void 0)},subclip:function(t,e,n,i,o=30){const s=t.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],h=[];for(let v=0;v<u.times.length;++v){const m=u.times[v]*o;if(!(m<n||m>=i)){f.push(u.times[v]);for(let _=0;_<d;++_)h.push(u.values[v*d+_])}}f.length!==0&&(u.times=tr.convertArray(f,u.times.constructor),u.values=tr.convertArray(h,u.values.constructor),a.push(u))}s.tracks=a;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const o=n.tracks.length,s=e/i;for(let a=0;a<o;++a){const l=n.tracks[a],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(E){return E.name===l.name&&E.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=v/3);const m=l.times.length-1;let _;if(s<=l.times[0]){const E=d,w=f-d;_=tr.arraySlice(l.values,E,w)}else if(s>=l.times[m]){const E=m*f+d,w=E+f-d;_=tr.arraySlice(l.values,E,w)}else{const E=l.createInterpolant(),w=d,T=f-d;E.evaluate(s),_=tr.arraySlice(E.resultBuffer,w,T)}c==="quaternion"&&new Ri().fromArray(_).normalize().conjugate().toArray(_);const S=u.times.length;for(let E=0;E<S;++E){const w=E*v+h;if(c==="quaternion")Ri.multiplyQuaternionsFlat(u.values,w,_,0,u.values,w);else{const T=v-h*2;for(let C=0;C<T;++C)u.values[w+C]-=_[C]}}}return t.blendMode=aB,t}};class hl{constructor(e,n,i,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,o=n[i],s=n[i-1];e:{t:{let a;n:{r:if(!(e<o)){for(let l=i+2;;){if(o===void 0){if(e<s)break r;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===l)break;if(s=o,o=n[++i],e<o)break t}a=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(i=2,s=l);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,o);if(i===c)break;if(o=s,s=n[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const l=i+a>>>1;e<n[l]?a=l:i=l+1}if(o=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,o);if(o===void 0)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,o)}return this.interpolate_(i,s,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o;for(let a=0;a!==o;++a)n[a]=i[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}hl.prototype.beforeStart_=hl.prototype.copySampleValue_;hl.prototype.afterEnd_=hl.prototype.copySampleValue_;class COe extends hl{constructor(e,n,i,o){super(e,n,i,o);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ih,endingEnd:ih}}intervalChanged_(e,n,i){const o=this.parameterPositions;let s=e-2,a=e+1,l=o[s],c=o[a];if(l===void 0)switch(this.getSettings_().endingStart){case sh:s=e,l=2*n-i;break;case ub:s=o.length-2,l=n+o[s]-o[s+1];break;default:s=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case sh:a=e,c=2*i-n;break;case ub:a=1,c=i+o[1]-o[0];break;default:a=e-1,c=n}const u=(i-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,v=this._weightNext,m=(i-n)/(o-n),_=m*m,S=_*m,E=-h*S+2*h*_-h*m,w=(1+h)*S+(-1.5-2*h)*_+(-.5+h)*m+1,T=(-1-v)*S+(1.5+v)*_+.5*m,C=v*S-v*_;for(let P=0;P!==l;++P)s[P]=E*a[d+P]+w*a[u+P]+T*a[c+P]+C*a[f+P];return s}}class $V extends hl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(i-n)/(o-n),f=1-d;for(let h=0;h!==l;++h)s[h]=a[u+h]*f+a[c+h]*d;return s}}class MOe extends hl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class da{constructor(e,n,i,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tr.convertArray(n,this.TimeBufferType),this.values=tr.convertArray(i,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:tr.convertArray(e.times,Array),values:tr.convertArray(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(i.interpolation=o)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new MOe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $V(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new COe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case rh:n=this.InterpolantFactoryMethodDiscrete;break;case Yu:n=this.InterpolantFactoryMethodLinear;break;case gC:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rh;case this.InterpolantFactoryMethodLinear:return Yu;case this.InterpolantFactoryMethodSmooth:return gC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,o=n.length;i!==o;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,o=n.length;i!==o;++i)n[i]*=e}return this}trim(e,n){const i=this.times,o=i.length;let s=0,a=o-1;for(;s!==o&&i[s]<e;)++s;for(;a!==-1&&i[a]>n;)--a;if(++a,s!==0||a!==o){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=tr.arraySlice(i,s,a),this.values=tr.arraySlice(this.values,s*l,a*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,o=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(o!==void 0&&tr.isTypedArray(o))for(let l=0,c=o.length;l!==c;++l){const u=o[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=tr.arraySlice(this.times),n=tr.arraySlice(this.values),i=this.getValueSize(),o=this.getInterpolation()===gC,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(o)c=!0;else{const f=l*i,h=f-i,v=f+i;for(let m=0;m!==i;++m){const _=n[f+m];if(_!==n[h+m]||_!==n[v+m]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const f=l*i,h=a*i;for(let v=0;v!==i;++v)n[h+v]=n[f+v]}++a}}if(s>0){e[a]=e[s];for(let l=s*i,c=a*i,u=0;u!==i;++u)n[c+u]=n[l+u];++a}return a!==e.length?(this.times=tr.arraySlice(e,0,a),this.values=tr.arraySlice(n,0,a*i)):(this.times=e,this.values=n),this}clone(){const e=tr.arraySlice(this.times,0),n=tr.arraySlice(this.values,0),i=this.constructor,o=new i(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}da.prototype.TimeBufferType=Float32Array;da.prototype.ValueBufferType=Float32Array;da.prototype.DefaultInterpolation=Yu;class kh extends da{}kh.prototype.ValueTypeName="bool";kh.prototype.ValueBufferType=Array;kh.prototype.DefaultInterpolation=rh;kh.prototype.InterpolantFactoryMethodLinear=void 0;kh.prototype.InterpolantFactoryMethodSmooth=void 0;class WV extends da{}WV.prototype.ValueTypeName="color";class a0 extends da{}a0.prototype.ValueTypeName="number";class AOe extends hl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(i-n)/(o-n);let u=e*l;for(let d=u+l;u!==d;u+=4)Ri.slerpFlat(s,0,a,u-l,a,u,c);return s}}class rd extends da{InterpolantFactoryMethodLinear(e){return new AOe(this.times,this.values,this.getValueSize(),e)}}rd.prototype.ValueTypeName="quaternion";rd.prototype.DefaultInterpolation=Yu;rd.prototype.InterpolantFactoryMethodSmooth=void 0;class Dh extends da{}Dh.prototype.ValueTypeName="string";Dh.prototype.ValueBufferType=Array;Dh.prototype.DefaultInterpolation=rh;Dh.prototype.InterpolantFactoryMethodLinear=void 0;Dh.prototype.InterpolantFactoryMethodSmooth=void 0;class l0 extends da{}l0.prototype.ValueTypeName="vector";class wM{constructor(e,n=-1,i,o=vC){this.name=e,this.tracks=i,this.duration=n,this.blendMode=o,this.uuid=Js(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,o=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)n.push(ROe(i[a]).scale(o));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)n.push(da.toJSON(i[s]));return o}static CreateFromMorphTargetSequence(e,n,i,o){const s=n.length,a=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const d=tr.getKeyframeOrder(c);c=tr.sortedArray(c,1,d),u=tr.sortedArray(u,1,d),!o&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new a0(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const o=e;i=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<i.length;o++)if(i[o].name===n)return i[o];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const o={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let h=o[f];h||(o[f]=h=[]),h.push(u)}}const a=[];for(const l in o)a.push(this.CreateFromMorphTargetSequence(l,o[l],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,v,m,_){if(v.length!==0){const S=[],E=[];tr.flattenJSON(v,S,E,m),S.length!==0&&_.push(new f(h,S,E))}},o=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const v={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let _=0;_<h[m].morphTargets.length;_++)v[h[m].morphTargets[_]]=-1;for(const _ in v){const S=[],E=[];for(let w=0;w!==h[m].morphTargets.length;++w){const T=h[m];S.push(T.time),E.push(T.morphTarget===_?1:0)}o.push(new a0(".morphTargetInfluence["+_+"]",S,E))}c=v.length*(a||1)}else{const v=".bones["+n[f].name+"]";i(l0,v+".position",h,"pos",o),i(rd,v+".quaternion",h,"rot",o),i(l0,v+".scale",h,"scl",o)}}return o.length===0?null:new this(s,c,o,l)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,o=e.length;i!==o;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function POe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return a0;case"vector":case"vector2":case"vector3":case"vector4":return l0;case"color":return WV;case"quaternion":return rd;case"bool":case"boolean":return kh;case"string":return Dh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ROe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=POe(t.type);if(t.times===void 0){const n=[],i=[];tr.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LOe{constructor(e,n,i){const o=this;let s=!1,a=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(d){l++,s===!1&&o.onStart!==void 0&&o.onStart(d,a,l),s=!0},this.itemEnd=function(d){a++,o.onProgress!==void 0&&o.onProgress(d,a,l),a===l&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(d){o.onError!==void 0&&o.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const v=u[f],m=u[f+1];if(v.global&&(v.lastIndex=0),v.test(d))return m}return null}}}const IOe=new LOe;class eo{constructor(e){this.manager=e!==void 0?e:IOe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(o,s){i.load(e,o,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const pl={};class ml extends eo{constructor(e){super(e)}load(e,n,i,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(pl[e]!==void 0){pl[e].push({onLoad:n,onProgress:i,onError:o});return}pl[e]=[],pl[e].push({onLoad:n,onProgress:i,onError:o});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||l.body.getReader===void 0)return l;const c=pl[e],u=l.body.getReader(),d=l.headers.get("Content-Length"),f=d?parseInt(d):0,h=f!==0;let v=0;const m=new ReadableStream({start(_){S();function S(){u.read().then(({done:E,value:w})=>{if(E)_.close();else{v+=w.byteLength;const T=new ProgressEvent("progress",{lengthComputable:h,loaded:v,total:f});for(let C=0,P=c.length;C<P;C++){const R=c[C];R.onProgress&&R.onProgress(T)}_.enqueue(w),S()}})}}});return new Response(m)}else throw Error(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`)}).then(l=>{switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(l=>{Fh.add(e,l);const c=pl[e];delete pl[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onLoad&&f.onLoad(l)}}).catch(l=>{const c=pl[e];if(c===void 0)throw this.manager.itemError(e),l;delete pl[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onError&&f.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xM extends eo{constructor(e){super(e)}load(e,n,i,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Fh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const l=hb("img");function c(){d(),Fh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){d(),o&&o(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class OOe extends eo{constructor(e){super(e)}load(e,n,i,o){const s=new Lb,a=new xM(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function c(u){a.load(e[u],function(d){s.images[u]=d,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,o)}for(let u=0;u<e.length;++u)c(u);return s}}class NOe extends eo{constructor(e){super(e)}load(e,n,i,o){const s=this,a=new iM,l=new ml(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){const u=s.parse(c);!u||(u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Zr,a.wrapT=u.wrapT!==void 0?u.wrapT:Zr,a.magFilter=u.magFilter!==void 0?u.magFilter:In,a.minFilter=u.minFilter!==void 0?u.minFilter:In,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=rl),u.mipmapCount===1&&(a.minFilter=In),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u))},i,o),a}}class tE extends eo{constructor(e){super(e)}load(e,n,i,o){const s=new fr,a=new xM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},i,o),s}}class fa extends cn{constructor(e,n=1){super();this.type="Light",this.color=new rt(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}fa.prototype.isLight=!0;class kOe extends fa{constructor(e,n,i){super(e,i);this.type="HemisphereLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.groundColor=new rt(n)}copy(e){return fa.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}kOe.prototype.isHemisphereLight=!0;const qV=new ot,YV=new ee,KV=new ee;class SM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Nb,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new On(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;YV.setFromMatrixPosition(e.matrixWorld),n.position.copy(YV),KV.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(KV),n.updateMatrixWorld(),qV.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qV),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n.projectionMatrix),i.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class XV extends SM{constructor(){super(new zr(50,1,.5,500));this.focus=1}updateMatrices(e){const n=this.camera,i=Hg*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||o!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=o,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}XV.prototype.isSpotLightShadow=!0;class JV extends fa{constructor(e,n,i=0,o=Math.PI/3,s=0,a=1){super(e,n);this.type="SpotLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.target=new cn,this.distance=i,this.angle=o,this.penumbra=s,this.decay=a,this.shadow=new XV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}JV.prototype.isSpotLight=!0;const ZV=new ot,c0=new ee,TM=new ee;class QV extends SM{constructor(){super(new zr(90,1,.5,500));this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new On(2,1,1,1),new On(0,1,1,1),new On(3,1,1,1),new On(1,1,1,1),new On(3,0,1,1),new On(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,o=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),c0.setFromMatrixPosition(e.matrixWorld),i.position.copy(c0),TM.copy(i.position),TM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(TM),i.updateMatrixWorld(),o.makeTranslation(-c0.x,-c0.y,-c0.z),ZV.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZV)}}QV.prototype.isPointLightShadow=!0;class nE extends fa{constructor(e,n,i=0,o=1){super(e,n);this.type="PointLight",this.distance=i,this.decay=o,this.shadow=new QV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}nE.prototype.isPointLight=!0;class eH extends SM{constructor(){super(new Eh(-5,5,5,-5,.5,500))}}eH.prototype.isDirectionalLightShadow=!0;class rE extends fa{constructor(e,n){super(e,n);this.type="DirectionalLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.target=new cn,this.shadow=new eH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}rE.prototype.isDirectionalLight=!0;class DOe extends fa{constructor(e,n){super(e,n);this.type="AmbientLight"}}DOe.prototype.isAmbientLight=!0;class FOe extends fa{constructor(e,n,i=10,o=10){super(e,n);this.type="RectAreaLight",this.width=i,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}FOe.prototype.isRectAreaLight=!0;class tH{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,o=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*o),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*o)),n.addScaledVector(a[5],1.092548*(o*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(i*s)),n.addScaledVector(a[8],.546274*(i*i-o*o)),n}getIrradianceAt(e,n){const i=e.x,o=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*o),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*o),n.addScaledVector(a[5],2*.429043*o*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*i*s),n.addScaledVector(a[8],.429043*(i*i-o*o)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].fromArray(e,n+o*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].toArray(e,n+o*3);return e}static getBasisAt(e,n){const i=e.x,o=e.y,s=e.z;n[0]=.282095,n[1]=.488603*o,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*o,n[5]=1.092548*o*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-o*o)}}tH.prototype.isSphericalHarmonics3=!0;class iE extends fa{constructor(e=new tH,n=1){super(void 0,n);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}iE.prototype.isLightProbe=!0;class Uc{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let i=0,o=e.length;i<o;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class UOe extends kn{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}UOe.prototype.isInstancedBufferGeometry=!0;class nH extends eo{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Fh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){Fh.add(e,c),n&&n(c),s.manager.itemEnd(e)}).catch(function(c){o&&o(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}nH.prototype.isImageBitmapLoader=!0;let sE;const jOe={getContext:function(){return sE===void 0&&(sE=new(window.AudioContext||window.webkitAudioContext)),sE},setContext:function(t){sE=t}};class BOe extends eo{constructor(e){super(e)}load(e,n,i,o){const s=this,a=new ml(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);jOe.getContext().decodeAudioData(c,function(d){n(d)})}catch(c){o?o(c):console.error(c),s.manager.itemError(e)}},i,o)}}class VOe extends iE{constructor(e,n,i=1){super(void 0,i);const o=new rt().set(e),s=new rt().set(n),a=new ee(o.r,o.g,o.b),l=new ee(s.r,s.g,s.b),c=Math.sqrt(Math.PI),u=c*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(c),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(u)}}VOe.prototype.isHemisphereLightProbe=!0;class HOe extends iE{constructor(e,n=1){super(void 0,n);const i=new rt().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}HOe.prototype.isAmbientLightProbe=!0;class zOe extends cn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class GOe{constructor(e,n,i){this.binding=e,this.valueSize=i;let o,s,a;switch(n){case"quaternion":o=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":o=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:o=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,o=this.valueSize,s=e*o+o;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==o;++l)i[s+l]=i[l];a=n}else{a+=n;const l=n/a;this._mixBufferRegion(i,s,0,l,o)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,o=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,o,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,o=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(i,o,c,1-s,n)}a>0&&this._mixBufferRegionAdditive(i,o,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(i[c]!==i[c+n]){l.setValue(i,o);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,o=i*this._origIndex;e.getValue(n,o);for(let s=i,a=o;s!==a;++s)n[s]=n[o+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,o,s){if(o>=.5)for(let a=0;a!==s;++a)e[n+a]=e[i+a]}_slerp(e,n,i,o){Ri.slerpFlat(e,n,e,n,e,i,o)}_slerpAdditive(e,n,i,o,s){const a=this._workIndex*s;Ri.multiplyQuaternionsFlat(e,a,e,n,e,i),Ri.slerpFlat(e,n,e,n,e,a,o)}_lerp(e,n,i,o,s){const a=1-o;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*a+e[i+l]*o}}_lerpAdditive(e,n,i,o,s){for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]+e[i+a]*o}}}const CM="\\[\\]\\.:\\/",$Oe=new RegExp("["+CM+"]","g"),MM="[^"+CM+"]",WOe="[^"+CM.replace("\\.","")+"]",qOe=/((?:WC+[\/:])*)/.source.replace("WC",MM),YOe=/(WCOD+)?/.source.replace("WCOD",WOe),KOe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",MM),XOe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",MM),JOe=new RegExp("^"+qOe+YOe+KOe+XOe+"$"),ZOe=["material","materials","bones"];class QOe{constructor(e,n,i){const o=i||an.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,o=this._bindings[i];o!==void 0&&o.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let o=this._targetGroup.nCachedObjects_,s=i.length;o!==s;++o)i[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class an{constructor(e,n,i){this.path=n,this.parsedPath=i||an.parseTrackName(n),this.node=an.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new an.Composite(e,n,i):new an(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($Oe,"")}static parseTrackName(e){const n=JOe.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const s=i.nodeName.substring(o+1);ZOe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===n||l.uuid===n)return l;const c=i(l.children);if(c)return c}return null},o=i(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)e[n++]=i[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,o=n.propertyName;let s=n.propertyIndex;if(e||(e=an.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[o];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+o+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}an.Composite=QOe;an.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};an.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};an.prototype.GetterByBindingType=[an.prototype._getValue_direct,an.prototype._getValue_array,an.prototype._getValue_arrayElement,an.prototype._getValue_toArray];an.prototype.SetterByBindingTypeAndVersioning=[[an.prototype._setValue_direct,an.prototype._setValue_direct_setNeedsUpdate,an.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[an.prototype._setValue_array,an.prototype._setValue_array_setNeedsUpdate,an.prototype._setValue_array_setMatrixWorldNeedsUpdate],[an.prototype._setValue_arrayElement,an.prototype._setValue_arrayElement_setNeedsUpdate,an.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[an.prototype._setValue_fromArray,an.prototype._setValue_fromArray_setNeedsUpdate,an.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class e6e{constructor(e,n,i=null,o=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=o;const s=n.tracks,a=s.length,l=new Array(a),c={endingStart:ih,endingEnd:ih};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);l[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const o=this._clip.duration,s=e._clip.duration,a=s/o,l=o/s;e.warp(1,a,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const o=this._mixer,s=o.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=o._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+i,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,o){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;if(c<0||i===0)return;this._startTime=null,n=i*c}n*=this._updateTimeScale(e);const a=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case aB:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulateAdditive(l);break;case vC:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulate(o,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const o=i.evaluate(e)[0];n*=o,e>i.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(n*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let o=this.time+e,s=this._loopCount;const a=i===mC;if(e===0)return s===-1?o:a&&(s&1)==1?n-o:o;if(i===oB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=n)o=n;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),o>=n||o<0){const l=Math.floor(o/n);o-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=e>0?n:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=o;if(a&&(s&1)==1)return n-o}return o}_setEndings(e,n,i){const o=this._interpolantSettings;i?(o.endingStart=sh,o.endingEnd=sh):(e?o.endingStart=this.zeroSlopeAtStart?sh:ih:o.endingStart=ub,n?o.endingEnd=this.zeroSlopeAtEnd?sh:ih:o.endingEnd=ub)}_scheduleFading(e,n,i){const o=this._mixer,s=o.time;let a=this._weightInterpolant;a===null&&(a=o._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=i,this}}class rH extends _s{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,o=e._clip.tracks,s=o.length,a=e._propertyBindings,l=e._interpolants,c=i.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const h=o[f],v=h.name;let m=d[v];if(m!==void 0)a[f]=m;else{if(m=a[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,v));continue}const _=n&&n._propertyBindings[f].binding.parsedPath;m=new GOe(an.create(i,v,_),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,v),a[f]=m}l[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,o=e._clip.uuid,s=this._actionsByClip[o];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,o,i)}const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];s.useCount++==0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];--s.useCount==0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const o=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=o.length,o.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],o=e._cacheIndex;i._cacheIndex=o,n[o]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],c=l.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];--s.referenceCount==0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,o=this._nActiveActions++,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,o=--this._nActiveActions,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const o=this._bindingsByRootAndName,s=this._bindings;let a=o[n];a===void 0&&(a={},o[n]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,o=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,l=a[o],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete a[o]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,o=this._nActiveBindings++,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,o=--this._nActiveBindings,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new $V(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,o=--this._nActiveControlInterpolants,s=n[o];e.__cacheIndex=o,n[o]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const o=n||this._root,s=o.uuid;let a=typeof e=="string"?wM.findByName(o,e):e;const l=a!==null?a.uuid:e,c=this._actionsByClip[l];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=vC),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new e6e(this,a,n,i);return this._bindAction(d,u),this._addInactiveAction(d,l,s),d}existingAction(e,n){const i=n||this._root,o=i.uuid,s=typeof e=="string"?wM.findByName(i,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[o]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,o=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)n[u]._update(o,e,s,a);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,o=this._actionsByClip,s=o[i];if(s!==void 0){const a=s.knownActions;for(let l=0,c=a.length;l!==c;++l){const u=a[l];this._deactivateAction(u);const d=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete o[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const l=i[a].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const o=this._bindingsByRootAndName,s=o[n];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}rH.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class t6e extends Ch{constructor(e,n,i=1){super(e,n);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}t6e.prototype.isInstancedInterleavedBuffer=!0;class n6e{constructor(e,n,i=0,o=1/0){this.ray=new Zu(e,n),this.near=i,this.far=o,this.camera=null,this.layers=new RC,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return AM(e,this,i,n),i.sort(iH),i}intersectObjects(e,n=!0,i=[]){for(let o=0,s=e.length;o<s;o++)AM(e[o],this,i,n);return i.sort(iH),i}}function iH(t,e){return t.distance-e.distance}function AM(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const o=t.children;for(let s=0,a=o.length;s<a;s++)AM(o[s],e,n,!0)}}class oE{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const jc=new ee,aE=new ot,PM=new ot;class r6e extends Wb{constructor(e){const n=sH(e),i=new kn,o=[],s=[],a=new rt(0,0,1),l=new rt(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}i.setAttribute("position",new kr(o,3)),i.setAttribute("color",new kr(s,3));const c=new Ih({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,o=i.getAttribute("position");PM.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(aE.multiplyMatrices(PM,l.matrixWorld),jc.setFromMatrixPosition(aE),o.setXYZ(a,jc.x,jc.y,jc.z),aE.multiplyMatrices(PM,l.parent.matrixWorld),jc.setFromMatrixPosition(aE),o.setXYZ(a+1,jc.x,jc.y,jc.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function sH(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,sH(t.children[n]));return e}class i6e extends Wb{constructor(e=10,n=10,i=4473924,o=8947848){i=new rt(i),o=new rt(o);const s=n/2,a=e/n,l=e/2,c=[],u=[];for(let h=0,v=0,m=-l;h<=n;h++,m+=a){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);const _=h===s?i:o;_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3}const d=new kn;d.setAttribute("position",new kr(c,3)),d.setAttribute("color",new kr(u,3));const f=new Ih({vertexColors:!0,toneMapped:!1});super(d,f);this.type="GridHelper"}}const oH=new Float32Array(1),s6e=new Int32Array(oH.buffer);class RM{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),oH[0]=e;const n=s6e[0];let i=n>>16&32768,o=n>>12&2047;const s=n>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&n&8388607,i):s<113?(o|=2048,i|=(o>>114-s)+(o>>113-s&1),i):(i|=s-112<<10|o>>1,i+=o&1,i)}}Qs.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Qs.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};yM.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};i6e.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};r6e.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};eo.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Uc.extractUrlBase(t)};eo.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Li.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Li.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Li.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Li.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Li.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};Cc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Nb.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};Nr.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Nr.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Nr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Nr.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Nr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Nr.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};ot.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};ot.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};ot.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ee().setFromMatrixColumn(this,3)};ot.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};ot.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};ot.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ot.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ot.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};ot.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};ot.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ot.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};ot.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};ot.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};ot.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};ot.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};ot.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ot.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};ot.prototype.makeFrustum=function(t,e,n,i,o,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,o,s)};ot.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};ul.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};Ri.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};Ri.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Zu.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Zu.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};Zu.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Sr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Sr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};Sr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};Sr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};Sr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};Sr.barycoordFromPoint=function(t,e,n,i,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Sr.getBarycoord(t,e,n,i,o)};Sr.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Sr.getNormal(t,e,n,i)};r0.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};r0.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Nh(this,t)};r0.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new EM(this,t)};Le.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};Le.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};Le.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ee.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};ee.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};ee.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};ee.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};ee.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};ee.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};ee.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};ee.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};On.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};On.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};cn.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};cn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};cn.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};cn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};cn.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(cn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Et.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Et.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),DMe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});nM.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};zr.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(fa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(Nn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===db},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(db)}}});Nn.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?db:Bg),this};Nn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Nn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};kn.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};kn.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Nn(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};kn.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};kn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};kn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};kn.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};kn.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(kn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Ch.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?db:Bg),this};Ch.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Nh.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Nh.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Nh.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};ua.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Tr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new rt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===zj}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(cl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});wn.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)};wn.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};wn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};wn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};wn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};wn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};wn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};wn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};wn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};wn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};wn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};wn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};wn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};wn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};wn.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};wn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};wn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};wn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};wn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};wn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};wn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};wn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};wn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};wn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};wn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(wn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Zi:Or}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(uV.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Qi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});zOe.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new BOe().load(t,function(i){e.setBuffer(i)}),this};Yg.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};Yg.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};ah.crossOrigin=void 0;ah.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new tE;o.setCrossOrigin(this.crossOrigin);const s=o.load(t,n,void 0,i);return e&&(s.mapping=e),s};ah.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new OOe;o.setCrossOrigin(this.crossOrigin);const s=o.load(t,n,void 0,i);return e&&(s.mapping=e),s};ah.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ah.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:rC}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=rC);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=navigator.xr!=null&&self.XRSession!=null&&navigator.xr.isSessionSupported!=null,lH=aH&&self.XRSession.prototype.requestHitTestSource,LM=self.ResizeObserver!=null,IM=self.IntersectionObserver!=null,cH=lH;(()=>{const t=navigator.userAgent||navigator.vendor||self.opera;let e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e})();/\bCrOS\b/.test(navigator.userAgent);const o6e=/android/i.test(navigator.userAgent),a6e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,uH=(()=>{const t=document.createElement("a");return Boolean(t.relList&&t.relList.supports&&t.relList.supports("ar"))})();/Safari\//.test(navigator.userAgent);const l6e=/firefox/i.test(navigator.userAgent),c6e=/OculusBrowser/.test(navigator.userAgent);a6e&&/CriOS\//.test(navigator.userAgent);const u6e=o6e&&!l6e&&!c6e;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d6e=nb`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f6e=nb`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h6e=nb`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6e=nb`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

/* NOTE: This ruleset is our integration surface area with the
 * :focus-visible polyfill.
 *
 * @see https://github.com/WICG/focus-visible/pull/196 */
:host([data-js-focus-visible]:focus:not(.focus-visible)),
:host([data-js-focus-visible]) :focus:not(.focus-visible) {
  outline: none;
}

.container {
  position: relative;
}

.userInput {
  width: 100%;
  height: 100%;
  display: block;
  position: relative;
  overflow: hidden;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

canvas.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  opacity: 0;
  transition: opacity 0.3s 0.3s;
  background-color: inherit;
}

.slot.poster.show {
  opacity: 1;
  transition: none;
}

.slot.poster.quick {
  transition: none;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: var(--poster-color, #fff);
  background-image: var(--poster-image, none);
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .mask {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--progress-mask, #fff);
  transition: opacity 0.3s;
  opacity: 0.2;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  align-items: center;
  justify-content: center;

  opacity: 0;
  will-change: opacity;
  overflow: hidden;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.slot.interaction-prompt > .animated-container {
  will-change: transform, opacity;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="A depiction of a 3D model"
      aria-live="polite">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>
  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Activate to view in 3D!"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          aria-label="View this 3D model up close">
        ${h6e}
      </a>
    </slot>
  </div>

  <div class="slot interaction-prompt">
    <div class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${f6e}
      </slot>
    </div>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="mask" part="default-progress-mask"></div>
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>
    
    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${d6e}
        </a>
      </slot>
    </div>
  </div>
</div>`,m6e=t=>{Oj(p6e,t)},OM=new WeakMap;class g6e extends eo{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,o){const s=new ml(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(n).catch(o)},i,o)}decodeDracoFile(e,n,i,o){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const c in n.attributeTypes){const u=n.attributeTypes[c];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[c]=u.name)}const i=JSON.stringify(n);if(OM.has(e)){const c=OM.get(e);if(c.key===i)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const s=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(s,a).then(c=>(o=c,new Promise((u,d)=>{o._callbacks[s]={resolve:u,reject:d},o.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{o&&s&&this._releaseTask(o,s)}),OM.set(e,{key:i,promise:l}),l}_createGeometry(e){const n=new kn;e.index&&n.setIndex(new Nn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const o=e.attributes[i],s=o.name,a=o.array,l=o.itemSize;n.setAttribute(s,new Nn(a,l))}return n}_loadLibrary(e,n){const i=new ml(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((o,s)=>{i.load(e,o,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const o=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=v6e.toString(),a=["/* draco decoder */",o,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(s){const a=s.data;switch(a.type){case"decode":o._callbacks[a.id].resolve(a);break;case"error":o._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,s){return o._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function v6e(){let t,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":t=l.decoderConfig,e=new Promise(function(d){t.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(t)});break;case"decode":const c=l.buffer,u=l.taskConfig;e.then(d=>{const f=d.draco,h=new f.Decoder,v=new f.DecoderBuffer;v.Init(new Int8Array(c),c.byteLength);try{const m=n(f,h,v,u),_=m.attributes.map(S=>S.array.buffer);m.index&&_.push(m.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:m},_)}catch(m){console.error(m),self.postMessage({type:"error",id:l.id,error:m.message})}finally{f.destroy(v),f.destroy(h)}});break}};function n(a,l,c,u){const d=u.attributeIDs,f=u.attributeTypes;let h,v;const m=l.GetEncodedGeometryType(c);if(m===a.TRIANGULAR_MESH)h=new a.Mesh,v=l.DecodeBufferToMesh(c,h);else if(m===a.POINT_CLOUD)h=new a.PointCloud,v=l.DecodeBufferToPointCloud(c,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const _={index:null,attributes:[]};for(const S in d){const E=self[f[S]];let w,T;if(u.useUniqueIDs)T=d[S],w=l.GetAttributeByUniqueId(h,T);else{if(T=l.GetAttributeId(h,a[d[S]]),T===-1)continue;w=l.GetAttribute(h,T)}_.attributes.push(o(a,l,h,S,E,w))}return m===a.TRIANGULAR_MESH&&(_.index=i(a,l,h)),a.destroy(h),_}function i(a,l,c){const d=c.num_faces()*3,f=d*4,h=a._malloc(f);l.GetTrianglesUInt32Array(c,f,h);const v=new Uint32Array(a.HEAPF32.buffer,h,d).slice();return a._free(h),{array:v,itemSize:1}}function o(a,l,c,u,d,f){const h=f.num_components(),m=c.num_points()*h,_=m*d.BYTES_PER_ELEMENT,S=s(a,d),E=a._malloc(_);l.GetAttributeDataArrayForAllPoints(c,f,S,_,E);const w=new d(a.HEAPF32.buffer,E,m).slice();return a._free(E),{name:u,array:w,itemSize:h}}function s(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}class y6e extends eo{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new w6e(n)}),this.register(function(n){return new A6e(n)}),this.register(function(n){return new P6e(n)}),this.register(function(n){return new x6e(n)}),this.register(function(n){return new S6e(n)}),this.register(function(n){return new T6e(n)}),this.register(function(n){return new C6e(n)}),this.register(function(n){return new M6e(n)}),this.register(function(n){return new b6e(n)}),this.register(function(n){return new R6e(n)})}load(e,n,i,o){const s=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=Uc.extractUrlBase(e),this.manager.itemStart(e);const l=function(u){o?o(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},c=new ml(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{s.parse(u,a,function(d){n(d),s.manager.itemEnd(e)},l)}catch(d){l(d)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,o){let s;const a={},l={};if(typeof e=="string")s=e;else if(Uc.decodeText(new Uint8Array(e,0,4))===dH){try{a[rn.KHR_BINARY_GLTF]=new L6e(e)}catch(f){o&&o(f);return}s=a[rn.KHR_BINARY_GLTF].content}else s=Uc.decodeText(new Uint8Array(e));const c=JSON.parse(s);if(c.asset===void 0||c.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new z6e(c,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const f=this.pluginCallbacks[d](u);l[f.name]=f,a[f.name]=!0}if(c.extensionsUsed)for(let d=0;d<c.extensionsUsed.length;++d){const f=c.extensionsUsed[d],h=c.extensionsRequired||[];switch(f){case rn.KHR_MATERIALS_UNLIT:a[f]=new E6e;break;case rn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new N6e;break;case rn.KHR_DRACO_MESH_COMPRESSION:a[f]=new I6e(c,this.dracoLoader);break;case rn.KHR_TEXTURE_TRANSFORM:a[f]=new O6e;break;case rn.KHR_MESH_QUANTIZATION:a[f]=new k6e;break;default:h.indexOf(f)>=0&&l[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(i,o)}parseAsync(e,n){const i=this;return new Promise(function(o,s){i.parse(e,n,o,s)})}}function _6e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const rn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class b6e{constructor(e){this.parser=e,this.name=rn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,o=n.length;i<o;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let o=n.cache.get(i);if(o)return o;const s=n.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new rt(16777215);c.color!==void 0&&d.fromArray(c.color);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new rE(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new nE(d),u.distance=f;break;case"spot":u=new JV(d),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+e),o=Promise.resolve(u),n.cache.add(i,o),o}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return i._getNodeRef(n.cache,l,c)})}}class E6e{constructor(){this.name=rn.KHR_MATERIALS_UNLIT}getMaterialType(){return Po}extendParams(e,n,i){const o=[];e.color=new rt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}s.baseColorTexture!==void 0&&o.push(i.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(o)}}class w6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Le(l,l)}return Promise.all(s)}}class x6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new rt(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=o.extensions[this.name];return a.sheenColorFactor!==void 0&&n.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class S6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class T6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||0;const l=a.attenuationColor||[1,1,1];return n.attenuationColor=new rt(l[0],l[1],l[2]),Promise.all(s)}}class C6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=o.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class M6e{constructor(e){this.parser=e,this.name=rn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nd}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return n.specularColor=new rt(l[0],l[1],l[2]),a.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture).then(function(c){c.encoding=Zi})),Promise.all(s)}}class A6e{constructor(e){this.parser=e,this.name=rn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const s=o.extensions[this.name],a=i.images[s.source],l=n.options.ktx2Loader;if(!l){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a,l)}}class P6e{constructor(e){this.parser=e,this.name=rn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,o=i.json,s=o.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],l=o.images[a.source];let c=i.textureLoader;if(l.uri){const u=i.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,l,c);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class R6e{constructor(e){this.name=rn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const o=i.extensions[this.name],s=this.parser.getDependency("buffer",o.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,a.ready]).then(function(l){const c=o.byteOffset||0,u=o.byteLength||0,d=o.count,f=o.byteStride,h=new ArrayBuffer(d*f),v=new Uint8Array(l[0],c,u);return a.decodeGltfBuffer(new Uint8Array(h),d,f,v,o.mode,o.filter),h})}else return null}}const dH="glTF",u0=12,fH={JSON:1313821514,BIN:5130562};class L6e{constructor(e){this.name=rn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,u0);if(this.header={magic:Uc.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==dH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-u0,o=new DataView(e,u0);let s=0;for(;s<i;){const a=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);if(s+=4,l===fH.JSON){const c=new Uint8Array(e,u0+s,a);this.content=Uc.decodeText(c)}else if(l===fH.BIN){const c=u0+s;this.body=e.slice(c,c+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class I6e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=rn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,o=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},c={},u={};for(const d in a){const f=kM[d]||d.toLowerCase();l[f]=a[d]}for(const d in e.attributes){const f=kM[d]||d.toLowerCase();if(a[d]!==void 0){const h=i.accessors[e.attributes[d]],v=d0[h.componentType];u[f]=v,c[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(d){return new Promise(function(f){o.decodeDracoFile(d,function(h){for(const v in h.attributes){const m=h.attributes[v],_=c[v];_!==void 0&&(m.normalized=_)}f(h)},l,u)})})}}class O6e{constructor(){this.name=rn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class NM extends fl{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),l={specular:{value:new rt().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=l,this.onBeforeCompile=function(c){for(const u in l)c.uniforms[u]=l[u];c.fragmentShader=c.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return l.specular.value},set:function(c){l.specular.value=c}},specularMap:{get:function(){return l.specularMap.value},set:function(c){l.specularMap.value=c,c?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return l.glossiness.value},set:function(c){l.glossiness.value=c}},glossinessMap:{get:function(){return l.glossinessMap.value},set:function(c){l.glossinessMap.value=c,c?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class N6e{constructor(){this.name=rn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return NM}extendParams(e,n,i){const o=n.extensions[this.name];e.color=new rt(1,1,1),e.opacity=1;const s=[];if(Array.isArray(o.diffuseFactor)){const a=o.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(o.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",o.diffuseTexture)),e.emissive=new rt(0,0,0),e.glossiness=o.glossinessFactor!==void 0?o.glossinessFactor:1,e.specular=new rt(1,1,1),Array.isArray(o.specularFactor)&&e.specular.fromArray(o.specularFactor),o.specularGlossinessTexture!==void 0){const a=o.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",a)),s.push(i.assignTexture(e,"specularMap",a))}return Promise.all(s)}createMaterial(e){const n=new NM(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=Ku,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class k6e{constructor(){this.name=rn.KHR_MESH_QUANTIZATION}}class id extends hl{constructor(e,n,i,o){super(e,n,i,o)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o*3+o;for(let a=0;a!==o;a++)n[a]=i[s+a];return n}}id.prototype.beforeStart_=id.prototype.copySampleValue_;id.prototype.afterEnd_=id.prototype.copySampleValue_;id.prototype.interpolate_=function(t,e,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-e,d=(n-e)/u,f=d*d,h=f*d,v=t*c,m=v-c,_=-2*h+3*f,S=h-f,E=1-_,w=S-f+d;for(let T=0;T!==a;T++){const C=s[m+T+a],P=s[m+T+l]*u,R=s[v+T+a],A=s[v+T]*u;o[T]=E*C+w*P+_*R+S*A}return o};const D6e=new Ri;class F6e extends id{interpolate_(e,n,i,o){const s=super.interpolate_(e,n,i,o);return D6e.fromArray(s).normalize().toArray(s),s}}const gl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},d0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hH={9728:br,9729:In,9984:ab,9985:aC,9986:lb,9987:rl},pH={33071:Zr,33648:Ug,10497:nl},mH={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},kM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Bc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},U6e={CUBICSPLINE:void 0,LINEAR:Yu,STEP:rh},DM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function j6e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new fl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Za})),t.DefaultMaterial}function f0(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function sd(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function B6e(t,e,n){let i=!1,o=!1;for(let l=0,c=e.length;l<c;l++){const u=e[l];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(o=!0),i&&o)break}if(!i&&!o)return Promise.resolve(t);const s=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];if(i){const d=u.POSITION!==void 0?n.getDependency("accessor",u.POSITION):t.attributes.position;s.push(d)}if(o){const d=u.NORMAL!==void 0?n.getDependency("accessor",u.NORMAL):t.attributes.normal;a.push(d)}}return Promise.all([Promise.all(s),Promise.all(a)]).then(function(l){const c=l[0],u=l[1];return i&&(t.morphAttributes.position=c),o&&(t.morphAttributes.normal=u),t.morphTargetsRelative=!0,t})}function V6e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,o=n.length;i<o;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function H6e(t){const e=t.extensions&&t.extensions[rn.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+gH(e.attributes):n=t.indices+":"+gH(t.attributes)+":"+t.mode,n}function gH(t){let e="";const n=Object.keys(t).sort();for(let i=0,o=n.length;i<o;i++)e+=n[i]+":"+t[n[i]]+";";return e}function FM(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class z6e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new _6e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|Safari/.test(navigator.userAgent)===!1?this.textureLoader=new nH(this.options.manager):this.textureLoader=new tE(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ml(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,o=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const l={scene:a[0][o.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:o.asset,parser:i,userData:{}};f0(s,l,o),sd(l,o),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){e(l)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let o=0,s=n.length;o<s;o++){const a=n[o].joints;for(let l=0,c=a.length;l<c;l++)e[a[l]].isBone=!0}for(let o=0,s=e.length;o<s;o++){const a=e[o];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const o=i.clone(),s=(a,l)=>{const c=this.associations.get(a);c!=null&&this.associations.set(l,c);for(const[u,d]of a.children.entries())s(d,l.children[u])};return s(i,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const o=e(n[i]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let o=0;o<n.length;o++){const s=e(n[o]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let o=this.cache.get(i);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this.loadNode(n);break;case"mesh":o=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this.loadAnimation(n);break;case"camera":o=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[rn.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(s,a){i.load(Uc.resolveURL(n.uri,o.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const o=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+o)})}loadAccessor(e){const n=this,i=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0)return Promise.resolve(null);const s=[];return o.bufferView!==void 0?s.push(this.getDependency("bufferView",o.bufferView)):s.push(null),o.sparse!==void 0&&(s.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],c=mH[o.type],u=d0[o.componentType],d=u.BYTES_PER_ELEMENT,f=d*c,h=o.byteOffset||0,v=o.bufferView!==void 0?i.bufferViews[o.bufferView].byteStride:void 0,m=o.normalized===!0;let _,S;if(v&&v!==f){const E=Math.floor(h/v),w="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+E+":"+o.count;let T=n.cache.get(w);T||(_=new u(l,E*v,o.count*v/d),T=new Ch(_,v/d),n.cache.add(w,T)),S=new Mh(T,c,h%v/d,m)}else l===null?_=new u(o.count*c):_=new u(l,h,o.count*c),S=new Nn(_,c,m);if(o.sparse!==void 0){const E=mH.SCALAR,w=d0[o.sparse.indices.componentType],T=o.sparse.indices.byteOffset||0,C=o.sparse.values.byteOffset||0,P=new w(a[1],T,o.sparse.count*E),R=new u(a[2],C,o.sparse.count*c);l!==null&&(S=new Nn(S.array.slice(),S.itemSize,S.normalized));for(let A=0,L=P.length;A<L;A++){const k=P[A];if(S.setX(k,R[A*c]),c>=2&&S.setY(k,R[A*c+1]),c>=3&&S.setZ(k,R[A*c+2]),c>=4&&S.setW(k,R[A*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const n=this.json,i=this.options,o=n.textures[e],s=n.images[o.source];let a=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const o=this,s=this.json,a=this.options,l=s.textures[e],c=(n.uri||n.bufferView)+":"+l.sampler;if(this.textureCache[c])return this.textureCache[c];const u=self.URL||self.webkitURL;let d=n.uri||"",f=!1;if(n.bufferView!==void 0)d=o.getDependency("bufferView",n.bufferView).then(function(v){f=!0;const m=new Blob([v],{type:n.mimeType});return d=u.createObjectURL(m),d});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(d).then(function(v){return new Promise(function(m,_){let S=m;i.isImageBitmapLoader===!0&&(S=function(E){const w=new fr(E);w.needsUpdate=!0,m(w)}),i.load(Uc.resolveURL(v,a.path),S,void 0,_)})}).then(function(v){f===!0&&u.revokeObjectURL(d),v.flipY=!1,l.name&&(v.name=l.name);const _=(s.samplers||{})[l.sampler]||{};return v.magFilter=hH[_.magFilter]||In,v.minFilter=hH[_.minFilter]||rl,v.wrapS=pH[_.wrapS]||nl,v.wrapT=pH[_.wrapT]||nl,o.associations.set(v,{textures:e}),v}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",d),null});return this.textureCache[c]=h,h}assignTexture(e,n,i){const o=this;return this.getDependency("texture",i.index).then(function(s){if(i.texCoord!==void 0&&i.texCoord!=0&&!(n==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+n+" not yet supported."),o.extensions[rn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[rn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[rn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const o=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new lM,Tr.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(l,c)),i=c}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new Ih,Tr.prototype.copy.call(c,i),c.color.copy(i.color),this.cache.add(l,c)),i=c}if(o||s||a){let l="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),o&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=i.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),o&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(i))),i=c}i.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=i}getMaterialType(){return fl}loadMaterial(e){const n=this,i=this.json,o=this.extensions,s=i.materials[e];let a;const l={},c=s.extensions||{},u=[];if(c[rn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=o[rn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=f.getMaterialType(),u.push(f.extendParams(l,s,n))}else if(c[rn.KHR_MATERIALS_UNLIT]){const f=o[rn.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),u.push(f.extendParams(l,s,n))}else{const f=s.pbrMetallicRoughness||{};if(l.color=new rt(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;l.color.fromArray(h),l.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",f.baseColorTexture)),l.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,l.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=Qa);const d=s.alphaMode||DM.OPAQUE;if(d===DM.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.format=Xs,l.transparent=!1,d===DM.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Po&&(u.push(n.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Le(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;l.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&a!==Po&&(u.push(n.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Po&&(l.emissive=new rt().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&a!==Po&&u.push(n.assignTexture(l,"emissiveMap",s.emissiveTexture)),Promise.all(u).then(function(){let f;return a===NM?f=o[rn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):f=new a(l),s.name&&(f.name=s.name),f.map&&(f.map.encoding=Zi),f.emissiveMap&&(f.emissiveMap.encoding=Zi),sd(f,s),n.associations.set(f,{materials:e}),s.extensions&&f0(o,f,s),f})}createUniqueName(e){const n=an.sanitizeNodeName(e||"");let i=n;for(let o=1;this.nodeNamesUsed[i];++o)i=n+"_"+o;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const n=this,i=this.extensions,o=this.primitiveCache;function s(l){return i[rn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(c){return yH(c,l,n)})}const a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l],d=H6e(u),f=o[d];if(f)a.push(f.promise);else{let h;u.extensions&&u.extensions[rn.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=yH(new kn,u,n),o[d]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,o=this.extensions,s=i.meshes[e],a=s.primitives,l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c].material===void 0?j6e(this.cache):this.getDependency("material",a[c].material);l.push(d)}return l.push(n.loadGeometries(a)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),d=c[c.length-1],f=[];for(let v=0,m=d.length;v<m;v++){const _=d[v],S=a[v];let E;const w=u[v];if(S.mode===gl.TRIANGLES||S.mode===gl.TRIANGLE_STRIP||S.mode===gl.TRIANGLE_FAN||S.mode===void 0)E=s.isSkinnedMesh===!0?new nM(_,w):new Et(_,w),E.isSkinnedMesh===!0&&!E.geometry.attributes.skinWeight.normalized&&E.normalizeSkinWeights(),S.mode===gl.TRIANGLE_STRIP?E.geometry=_H(E.geometry,FMe):S.mode===gl.TRIANGLE_FAN&&(E.geometry=_H(E.geometry,lB));else if(S.mode===gl.LINES)E=new Wb(_,w);else if(S.mode===gl.LINE_STRIP)E=new $b(_,w);else if(S.mode===gl.LINE_LOOP)E=new AV(_,w);else if(S.mode===gl.POINTS)E=new RV(_,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(E.geometry.morphAttributes).length>0&&V6e(E,s),E.name=n.createUniqueName(s.name||"mesh_"+e),sd(E,s),S.extensions&&f0(o,E,S),n.assignFinalMaterial(E),f.push(E)}for(let v=0,m=f.length;v<m;v++)n.associations.set(f[v],{meshes:e,primitives:v});if(f.length===1)return f[0];const h=new dl;n.associations.set(h,{meshes:e});for(let v=0,m=f.length;v<m;v++)h.add(f[v]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],o=i[i.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new zr(fB.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):i.type==="orthographic"&&(n=new Eh(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),sd(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",n.inverseBindMatrices).then(function(o){return i.inverseBindMatrices=o,i})}loadAnimation(e){const i=this.json.animations[e],o=[],s=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const f=i.channels[u],h=i.samplers[f.sampler],v=f.target,m=v.node!==void 0?v.node:v.id,_=i.parameters!==void 0?i.parameters[h.input]:h.input,S=i.parameters!==void 0?i.parameters[h.output]:h.output;o.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",S)),l.push(h),c.push(v)}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],h=u[2],v=u[3],m=u[4],_=[];for(let E=0,w=d.length;E<w;E++){const T=d[E],C=f[E],P=h[E],R=v[E],A=m[E];if(T===void 0)continue;T.updateMatrix(),T.matrixAutoUpdate=!0;let L;switch(Bc[A.path]){case Bc.weights:L=a0;break;case Bc.rotation:L=rd;break;case Bc.position:case Bc.scale:default:L=l0;break}const k=T.name?T.name:T.uuid,U=R.interpolation!==void 0?U6e[R.interpolation]:Yu,O=[];Bc[A.path]===Bc.weights?T.traverse(function(F){F.morphTargetInfluences&&O.push(F.name?F.name:F.uuid)}):O.push(k);let I=P.array;if(P.normalized){const F=FM(I.constructor),N=new Float32Array(I.length);for(let H=0,z=I.length;H<z;H++)N[H]=I[H]*F;I=N}for(let F=0,N=O.length;F<N;F++){const H=new L(O[F]+"."+Bc[A.path],C.array,I,U);R.interpolation==="CUBICSPLINE"&&(H.createInterpolant=function(B){const q=this instanceof rd?F6e:id;return new q(this.times,this.values,this.getValueSize()/3,B)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(H)}}const S=i.name?i.name:"animation_"+e;return new wM(S,void 0,_)})}createNodeMesh(e){const n=this.json,i=this,o=n.nodes[e];return o.mesh===void 0?null:i.getDependency("mesh",o.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,o.mesh,s);return o.weights!==void 0&&a.traverse(function(l){if(!!l.isMesh)for(let c=0,u=o.weights.length;c<u;c++)l.morphTargetInfluences[c]=o.weights[c]}),a})}loadNode(e){const n=this.json,i=this.extensions,o=this,s=n.nodes[e],a=s.name?o.createUniqueName(s.name):"";return function(){const l=[],c=o._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(o.getDependency("camera",s.camera).then(function(u){return o._getNodeRef(o.cameraCache,s.camera,u)})),o._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){l.push(u)}),Promise.all(l)}().then(function(l){let c;if(s.isBone===!0?c=new rM:l.length>1?c=new dl:l.length===1?c=l[0]:c=new cn,c!==l[0])for(let u=0,d=l.length;u<d;u++)c.add(l[u]);if(s.name&&(c.userData.name=s.name,c.name=a),sd(c,s),s.extensions&&f0(i,c,s),s.matrix!==void 0){const u=new ot;u.fromArray(s.matrix),c.applyMatrix4(u)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return o.associations.has(c)||o.associations.set(c,{}),o.associations.get(c).nodes=e,c})}loadScene(e){const n=this.json,i=this.extensions,o=this.json.scenes[e],s=this,a=new dl;o.name&&(a.name=s.createUniqueName(o.name)),sd(a,o),o.extensions&&f0(i,a,o);const l=o.nodes||[],c=[];for(let u=0,d=l.length;u<d;u++)c.push(vH(l[u],a,n,s));return Promise.all(c).then(function(){const u=d=>{const f=new Map;for(const[h,v]of s.associations)(h instanceof Tr||h instanceof fr)&&f.set(h,v);return d.traverse(h=>{const v=s.associations.get(h);v!=null&&f.set(h,v)}),f};return s.associations=u(a),a})}}function vH(t,e,n,i){const o=n.nodes[t];return i.getDependency("node",t).then(function(s){if(o.skin===void 0)return s;let a;return i.getDependency("skin",o.skin).then(function(l){a=l;const c=[];for(let u=0,d=a.joints.length;u<d;u++)c.push(i.getDependency("node",a.joints[u]));return Promise.all(c)}).then(function(l){return s.traverse(function(c){if(!c.isMesh)return;const u=[],d=[];for(let f=0,h=l.length;f<h;f++){const v=l[f];if(v){u.push(v);const m=new ot;a.inverseBindMatrices!==void 0&&m.fromArray(a.inverseBindMatrices.array,f*16),d.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[f])}c.bind(new sM(u,d),c.matrixWorld)}),s})}).then(function(s){e.add(s);const a=[];if(o.children){const l=o.children;for(let c=0,u=l.length;c<u;c++){const d=l[c];a.push(vH(d,s,n,i))}}return Promise.all(a)})}function G6e(t,e,n){const i=e.attributes,o=new Li;if(i.POSITION!==void 0){const l=n.json.accessors[i.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(o.set(new ee(c[0],c[1],c[2]),new ee(u[0],u[1],u[2])),l.normalized){const d=FM(d0[l.componentType]);o.min.multiplyScalar(d),o.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new ee,c=new ee;for(let u=0,d=s.length;u<d;u++){const f=s[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],v=h.min,m=h.max;if(v!==void 0&&m!==void 0){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(m[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(m[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(m[2]))),h.normalized){const _=FM(d0[h.componentType]);c.multiplyScalar(_)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(l)}t.boundingBox=o;const a=new Cc;o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=a}function yH(t,e,n){const i=e.attributes,o=[];function s(a,l){return n.getDependency("accessor",a).then(function(c){t.setAttribute(l,c)})}for(const a in i){const l=kM[a]||a.toLowerCase();l in t.attributes||o.push(s(i[a],l))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(l){t.setIndex(l)});o.push(a)}return sd(t,e),G6e(t,e,n),Promise.all(o).then(function(){return e.targets!==void 0?B6e(t,e.targets,n):t})}function _H(t,e){let n=t.getIndex();if(n===null){const a=[],l=t.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)a.push(c);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,o=[];if(e===lB)for(let a=1;a<=i;a++)o.push(n.getX(0)),o.push(n.getX(a)),o.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2==0?(o.push(n.getX(a)),o.push(n.getX(a+1)),o.push(n.getX(a+2))):(o.push(n.getX(a+2)),o.push(n.getX(a+1)),o.push(n.getX(a)));o.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(o),s}class $6e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const i=this.workersResolve[e];if(i&&i(n),this.queue.length){const{resolve:o,msg:s,transfer:a}=this.queue.shift();this.workersResolve[e]=o,this.workers[e].postMessage(s,a)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(i=>{const o=this._getIdleWorker();o!==-1?(this._initWorker(o),this.workerStatus|=1<<o,this.workersResolve[o]=i,this.workers[o].postMessage(e,n)):this.queue.push({resolve:i,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const W6e=2,q6e=1,UM=new WeakMap;let jM=0;class ha extends eo{constructor(e){super(e);this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new $6e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER!="undefined"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}init(){if(!this.transcoderPending){const e=new ml(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const n=e.loadAsync("basis_transcoder.js"),i=new ml(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const o=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,o]).then(([s,a])=>{const l=ha.BasisWorker.toString(),c=["/* constants */","let _EngineFormat = "+JSON.stringify(ha.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(ha.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(ha.BasisFormat),"/* basis_transcoder.js */",s,"/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c])),this.transcoderBinary=a,this.workerPool.setWorkerCreator(()=>{const u=new Worker(this.workerSourceURL),d=this.transcoderBinary.slice(0);return u.postMessage({type:"init",config:this.workerConfig,transcoderBinary:d},[d]),u})}),jM>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),jM++}return this.transcoderPending}load(e,n,i,o){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const s=new ml(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const a=new uM;return s.load(e,l=>{if(UM.has(l))return UM.get(l).promise.then(n).catch(o);this._createTexture([l]).then(function(c){a.copy(c),a.needsUpdate=!0,n&&n(a)}).catch(o)},i,o),a}_createTextureFrom(e){const{mipmaps:n,width:i,height:o,format:s,type:a,error:l,dfdTransferFn:c,dfdFlags:u}=e;if(a==="error")return Promise.reject(l);const d=new uM(n,i,o,s,aa);return d.minFilter=n.length===1?In:rl,d.magFilter=In,d.generateMipmaps=!1,d.needsUpdate=!0,d.encoding=c===W6e?Zi:Or,d.premultiplyAlpha=!!(u&q6e),d}_createTexture(e,n={}){const i=n,o=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:i},e)).then(s=>this._createTextureFrom(s.data));return UM.set(e[0],{promise:o}),o}dispose(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),jM--,this}}ha.BasisFormat={ETC1S:0,UASTC_4x4:1};ha.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};ha.EngineFormat={RGBAFormat:er,RGBA_ASTC_4x4_Format:iB,RGBA_BPTC_Format:sB,RGBA_ETC2_EAC_Format:hC,RGBA_PVRTC_4BPPV1_Format:dC,RGBA_S3TC_DXT5_Format:cC,RGB_ETC1_Format:rB,RGB_ETC2_Format:fC,RGB_PVRTC_4BPPV1_Format:uC,RGB_S3TC_DXT1_Format:lC};ha.BasisWorker=function(){let t,e,n;const i=_EngineFormat,o=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(v){const m=v.data;switch(m.type){case"init":t=m.config,a(m.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:_,height:S,hasAlpha:E,mipmaps:w,format:T,dfdTransferFn:C,dfdFlags:P}=l(m.buffers[0]),R=[];for(let A=0;A<w.length;++A)R.push(w[A].data.buffer);self.postMessage({type:"transcode",id:m.id,width:_,height:S,hasAlpha:E,mipmaps:w,format:T,dfdTransferFn:C,dfdFlags:P},R)}catch(_){console.error(_),self.postMessage({type:"error",id:m.id,error:_.message})}});break}});function a(v){e=new Promise(m=>{n={wasmBinary:v,onRuntimeInitialized:m},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function l(v){const m=new n.KTX2File(new Uint8Array(v));function _(){m.close(),m.delete()}if(!m.isValid())throw _(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const S=m.isUASTC()?s.UASTC_4x4:s.ETC1S,E=m.getWidth(),w=m.getHeight(),T=m.getLevels(),C=m.getHasAlpha(),P=m.getDFDTransferFunc(),R=m.getDFDFlags(),{transcoderFormat:A,engineFormat:L}=f(S,E,w,C);if(!E||!w||!T)throw _(),new Error("THREE.KTX2Loader:	Invalid texture");if(!m.startTranscoding())throw _(),new Error("THREE.KTX2Loader: .startTranscoding failed");const k=[];for(let U=0;U<T;U++){const O=m.getImageLevelInfo(U,0,0),I=O.origWidth,F=O.origHeight,N=new Uint8Array(m.getImageTranscodedSizeInBytes(U,0,0,A));if(!m.transcodeImage(N,U,0,0,A,0,-1,-1))throw _(),new Error("THREE.KTX2Loader: .transcodeImage failed.");k.push({data:N,width:I,height:F})}return _(),{width:E,height:w,hasAlpha:C,mipmaps:k,format:L,dfdTransferFn:P,dfdFlags:R}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[o.ASTC_4x4,o.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.BC7_M5,o.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.BC1,o.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.ETC1,o.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.PVRTC1_4_RGB,o.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(v,m){return v.priorityETC1S-m.priorityETC1S}),d=c.sort(function(v,m){return v.priorityUASTC-m.priorityUASTC});function f(v,m,_,S){let E,w;const T=v===s.ETC1S?u:d;for(let C=0;C<T.length;C++){const P=T[C];if(!!t[P.if]&&!!P.basisFormat.includes(v)&&!(S&&P.transcoderFormat.length<2)&&!(P.needsPowerOfTwo&&!(h(m)&&h(_))))return E=P.transcoderFormat[S?1:0],w=P.engineFormat[S?1:0],{transcoderFormat:E,engineFormat:w}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),E=o.RGBA32,w=i.RGBAFormat,{transcoderFormat:E,engineFormat:w}}function h(v){return v<=2?!0:(v&v-1)==0&&v!==0}};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bH,EH;const Ro=Symbol("retainerCount"),vl=Symbol("recentlyUsed"),lE=Symbol("evict"),h0=Symbol("evictionThreshold"),BM=Symbol("cache");class Y6e{constructor(e,n=5){this[bH]=new Map,this[EH]=[],this[BM]=e,this[h0]=n}set evictionThreshold(e){this[h0]=e,this[lE]()}get evictionThreshold(){return this[h0]}get cache(){return this[BM]}retainerCount(e){return this[Ro].get(e)||0}reset(){this[Ro].clear(),this[vl]=[]}retain(e){this[Ro].has(e)||this[Ro].set(e,0),this[Ro].set(e,this[Ro].get(e)+1);const n=this[vl].indexOf(e);n!==-1&&this[vl].splice(n,1),this[vl].unshift(e),this[lE]()}release(e){this[Ro].has(e)&&this[Ro].set(e,Math.max(this[Ro].get(e)-1,0)),this[lE]()}[(bH=Ro,EH=vl,lE)](){if(!(this[vl].length<this[h0]))for(let e=this[vl].length-1;e>=this[h0];--e){const n=this[vl][e];this[Ro].get(n)===0&&(this[BM].delete(n),this[vl].splice(e,1))}}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6e=t=>{const e=[],n=new Set;for(const i of t){let o=i,s=0;for(;n.has(o);)o=i+"."+ ++s;n.add(o),e.push(o)}return e},X6e=t=>{const e=new Map;for(const n of t.mappings)for(const i of n.variants)e.set(i,{material:null,gltfMaterialIndex:n.material});return e};class J6e{constructor(e){this.parser=e,this.name="KHR_materials_variants"}afterRoot(e){const n=this.parser,i=n.json;if(i.extensions===void 0||i.extensions[this.name]===void 0)return null;const s=i.extensions[this.name].variants||[],a=K6e(s.map(l=>l.name));for(const l of e.scenes)l.traverse(c=>{const u=n.associations.get(c);if(u==null||u.meshes==null)return;const d=u.meshes,h=i.meshes[d].primitives,v="isMesh"in c?[c]:c.children;for(let m=0;m<h.length;m++){const S=h[m].extensions;!S||!S[this.name]||(v[m].userData.variantMaterials=X6e(S[this.name]))}});return e.userData.variants=a,Promise.resolve()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wH,xH;const Z6e=(t,e,n=()=>{})=>{const i=o=>{const s=o.loaded/o.total;n(Math.max(0,Math.min(1,isFinite(s)?s:1)))};return new Promise((o,s)=>{e.load(t,o,i,s)})},Q6e=t=>new Promise((e,n)=>{const i=document.createElement("script");document.body.appendChild(i),i.onload=e,i.onerror=n,i.async=!0,i.src=t}),yl=new Map,VM=new Map;let SH;const TH=new g6e;let CH;const HM=new ha;let zM,GM;const Uh=Symbol("loader"),Vc=Symbol("evictionPolicy"),MH=Symbol("GLTFInstance");class Oi extends _s{constructor(e){super();this[xH]=new y6e().register(n=>new J6e(n)),this[MH]=e,this[Uh].setDRACOLoader(TH),this[Uh].setKTX2Loader(HM)}static setDRACODecoderLocation(e){SH=e,TH.setDecoderPath(e)}static getDRACODecoderLocation(){return SH}static setKTX2TranscoderLocation(e){CH=e,HM.setTranscoderPath(e)}static getKTX2TranscoderLocation(){return CH}static setMeshoptDecoderLocation(e){zM!==e&&(zM=e,GM=Q6e(e).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return zM}static initializeKTX2Loader(e){HM.detectSupport(e)}static get cache(){return yl}static clearCache(){yl.forEach((e,n)=>{this.delete(n)}),this[Vc].reset()}static has(e){return yl.has(e)}static async delete(e){if(!this.has(e))return;const n=yl.get(e);VM.delete(e),yl.delete(e),(await n).dispose()}static hasFinishedLoading(e){return!!VM.get(e)}get[(wH=Vc,xH=Uh,Vc)](){return this.constructor[Vc]}async preload(e,n,i=()=>{}){if(this.dispatchEvent({type:"preload",element:n,src:e}),!yl.has(e)){GM!=null&&this[Uh].setMeshoptDecoder(await GM);const o=Z6e(e,this[Uh],l=>{i(l*.8)}),s=this[MH],a=o.then(l=>s.prepare(l)).then(l=>(i(.9),new s(l)));yl.set(e,a)}await yl.get(e),VM.set(e,!0),i&&i(1)}async load(e,n,i=()=>{}){await this.preload(e,n,i);const s=await(await yl.get(e)).clone();return this[Vc].retain(e),s.dispose=(()=>{const a=s.dispose;let l=!1;return()=>{l||(l=!0,a.apply(s),this[Vc].release(e))}})(),s}}Oi[wH]=new Y6e(Oi);class AH extends cn{constructor(e=document.createElement("div")){super();this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof Element&&n.element.parentNode!==null&&n.element.parentNode.removeChild(n.element)})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this}}AH.prototype.isCSS2DObject=!0;const Hc=new ee,PH=new ot,RH=new ot,LH=new ee,IH=new ee;class e8e{constructor(e={}){const n=this;let i,o,s,a;const l={objects:new WeakMap},c=e.element!==void 0?e.element:document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:i,height:o}},this.render=function(v,m){v.autoUpdate===!0&&v.updateMatrixWorld(),m.parent===null&&m.updateMatrixWorld(),PH.copy(m.matrixWorldInverse),RH.multiplyMatrices(m.projectionMatrix,PH),u(v,v,m),h(v)},this.setSize=function(v,m){i=v,o=m,s=i/2,a=o/2,c.style.width=v+"px",c.style.height=m+"px"};function u(v,m,_){if(v.isCSS2DObject){v.onBeforeRender(n,m,_),Hc.setFromMatrixPosition(v.matrixWorld),Hc.applyMatrix4(RH);const S=v.element;/apple/i.test(navigator.vendor)?S.style.transform="translate(-50%,-50%) translate("+Math.round(Hc.x*s+s)+"px,"+Math.round(-Hc.y*a+a)+"px)":S.style.transform="translate(-50%,-50%) translate("+(Hc.x*s+s)+"px,"+(-Hc.y*a+a)+"px)",S.style.display=v.visible&&Hc.z>=-1&&Hc.z<=1?"":"none";const E={distanceToCameraSquared:d(_,v)};l.objects.set(v,E),S.parentNode!==c&&c.appendChild(S),v.onAfterRender(n,m,_)}for(let S=0,E=v.children.length;S<E;S++)u(v.children[S],m,_)}function d(v,m){return LH.setFromMatrixPosition(v.matrixWorld),IH.setFromMatrixPosition(m.matrixWorld),LH.distanceToSquared(IH)}function f(v){const m=[];return v.traverse(function(_){_.isCSS2DObject&&m.push(_)}),m}function h(v){const m=f(v).sort(function(S,E){const w=l.objects.get(S).distanceToCameraSquared,T=l.objects.get(E).distanceToCameraSquared;return w-T}),_=m.length;for(let S=0,E=m.length;S<E;S++)m[S].element.style.zIndex=_-S}}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=t=>!!t&&t!=="null"?t8e(t):null,NH=()=>{if(cH)return;const t=[];throw aH||t.push("WebXR Device API"),lH||t.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${t.join(", ")}`)},t8e=t=>new URL(t,window.location.toString()).toString(),n8e=(t,e)=>{let n=null;const i=(...o)=>{n==null&&(t(...o),n=self.setTimeout(()=>n=null,e))};return i.flush=()=>{n!=null&&(self.clearTimeout(n),n=null)},i},$M=(t,e)=>{let n=null;return(...i)=>{n!=null&&self.clearTimeout(n),n=self.setTimeout(()=>{n=null,t(...i)},e)}},od=(t,e,n)=>Math.max(e,Math.min(n,t)),r8e=1,WM=(()=>{const t=(()=>{const e=document.head!=null?Array.from(document.head.querySelectorAll("meta")):[];for(const n of e)if(n.name==="viewport")return!0;return!1})();return t||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>t?window.devicePixelRatio:r8e})(),kH=(()=>{const t="model-viewer-debug-mode",e=new RegExp(`[?&]${t}(&|$)`);return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)})(),i8e=t=>{if(t.keys!=null)return t.keys().next().value||null;let e=null;try{t.forEach((n,i,o)=>{throw e=i,new Error})}catch{}return e},DH=(t=0)=>new Promise(e=>setTimeout(e,t)),s8e=(t,e,n=null)=>new Promise(i=>{function o(s){(!n||n(s))&&(i(s),t.removeEventListener(e,o))}t.addEventListener(e,o)});/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=1e4,o8e=.001,UH=50;class ws{constructor(e=UH){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(e)}setDecayTime(e){this.naturalFrequency=1/Math.max(o8e,e)}update(e,n,i,o){const s=2e-4*this.naturalFrequency;if(e==null||o===0||e===n&&this.velocity===0)return n;if(i<0)return e;const a=e-n,l=this.velocity+this.naturalFrequency*a,c=a+i*l,u=Math.exp(-this.naturalFrequency*i),d=(l-this.naturalFrequency*c)*u,f=-this.naturalFrequency*(d+l*u);return Math.abs(d)<s*Math.abs(o)&&f*a>=0?(this.velocity=0,n):(this.velocity=d,n+c*u)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=(t,e)=>({type:"number",number:t,unit:e}),ad=(()=>{const t={},e=1e3;return n=>{const i=n;if(i in t)return t[i];const o=[];let s=0;for(;n;){if(++s>e){n="";break}const a=jH(n),l=a.nodes[0];if(l==null||l.terms.length===0)break;o.push(l),n=a.remainingInput}return t[i]=o}})(),jH=(()=>{const t=/^(\-\-|[a-z\u0240-\uffff])/i,e=/^([\*\+\/]|[\-]\s)/i,n=/^[\),]/,i="(",o="#";return s=>{const a=[];for(;s.length&&(s=s.trim(),!n.test(s));)if(s[0]===i){const{nodes:l,remainingInput:c}=BH(s);s=c,a.push({type:"function",name:{type:"ident",value:"calc"},arguments:l})}else if(t.test(s)){const l=a8e(s),c=l.nodes[0];if(s=l.remainingInput,s[0]===i){const{nodes:u,remainingInput:d}=BH(s);a.push({type:"function",name:c,arguments:u}),s=d}else a.push(c)}else if(e.test(s))a.push({type:"operator",value:s[0]}),s=s.slice(1);else{const{nodes:l,remainingInput:c}=s[0]===o?c8e(s):l8e(s);if(l.length===0)break;a.push(l[0]),s=c}return{nodes:[{type:"expression",terms:a}],remainingInput:s}}})(),a8e=(()=>{const t=/[^a-z0-9_\-\u0240-\uffff]/i;return e=>{const n=e.match(t),i=n==null?e:e.substr(0,n.index),o=n==null?"":e.substr(n.index);return{nodes:[{type:"ident",value:i}],remainingInput:o}}})(),l8e=(()=>{const t=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,e=/^[a-z%]+/i,n=/^(m|mm|cm|rad|deg|[%])$/;return i=>{const o=i.match(t),s=o==null?"0":o[0];i=s==null?i:i.slice(s.length);const a=i.match(e);let l=a!=null&&a[0]!==""?a[0]:null;const c=a==null?i:i.slice(l.length);return l!=null&&!n.test(l)&&(l=null),{nodes:[{type:"number",number:parseFloat(s)||0,unit:l}],remainingInput:c}}})(),c8e=(()=>{const t=/^[a-f0-9]*/i;return e=>{e=e.slice(1).trim();const n=e.match(t);return{nodes:n==null?[]:[{type:"hex",value:n[0]}],remainingInput:n==null?e:e.slice(n[0].length)}}})(),BH=t=>{const e=[];for(t=t.slice(1).trim();t.length;){const n=jH(t);if(e.push(n.nodes[0]),t=n.remainingInput.trim(),t[0]===",")t=t.slice(1).trim();else if(t[0]===")"){t=t.slice(1);break}}return{nodes:e,remainingInput:t}},VH=Symbol("visitedTypes");class u8e{constructor(e){this[VH]=e}walk(e,n){const i=e.slice();for(;i.length;){const o=i.shift();switch(this[VH].indexOf(o.type)>-1&&n(o),o.type){case"expression":i.unshift(...o.terms);break;case"function":i.unshift(o.name,...o.arguments);break}}}}const zc=Object.freeze({type:"number",number:0,unit:null});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=(t,e=0)=>{let{number:n,unit:i}=t;if(!isFinite(n))n=e,i="rad";else if(t.unit==="rad"||t.unit==null)return t;const a=(i==="deg"&&n!=null?n:0)*Math.PI/180;return{type:"number",number:a,unit:"rad"}},HH=(t,e=0)=>{let{number:n,unit:i}=t;if(!isFinite(n))n=e,i="m";else if(t.unit==="m")return t;let o;switch(i){default:o=1;break;case"cm":o=1/100;break;case"mm":o=1/1e3;break}const s=o*n;return{type:"number",number:s,unit:"m"}},pa=(()=>{const t=n=>n,e={rad:t,deg:p0,m:t,mm:HH,cm:HH};return(n,i=zc)=>{isFinite(n.number)||(n.number=i.number,n.unit=i.unit);const{unit:o}=n;if(o==null)return n;const s=e[o];return s==null?i:s(n)}})();/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH extends AH{constructor(e){super(document.createElement("div"));this.normal=new ee(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=e.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(e.position),this.updateNormal(e.normal)}get facingCamera(){return!this.element.classList.contains("hide")}show(){(!this.facingCamera||!this.initialized)&&this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,this.referenceCount===0}updatePosition(e){if(e==null)return;const n=ad(e)[0].terms;for(let i=0;i<3;++i)this.position.setComponent(i,pa(n[i]).number);this.updateMatrixWorld()}updateNormal(e){if(e==null)return;const n=ad(e)[0].terms;for(let i=0;i<3;++i)this.normal.setComponent(i,pa(n[i]).number)}orient(e){this.pivot.style.transform=`rotate(${e}rad)`}updateVisibility(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(n=>{if(n.nodeType!==Node.ELEMENT_NODE)return;const i=n,o=i.dataset.visibilityAttribute;if(o!=null){const s=`data-${o}`;e?i.setAttribute(s,""):i.removeAttribute(s)}i.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}),this.initialized=!0}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8e=t=>{if(!t.normalized)return 1;const e=t.array;return e instanceof Int8Array?1/127:e instanceof Uint8Array?1/255:e instanceof Int16Array?1/32767:e instanceof Uint16Array?1/65535:1},qM=(t,e,n)=>{let i=n;const o=new ee;return t.traverse(s=>{let a,l;s.updateWorldMatrix(!1,!1);const c=s.geometry;if(c!==void 0){if(c.isGeometry){const u=c.vertices;for(a=0,l=u.length;a<l;a++)o.copy(u[a]),o.applyMatrix4(s.matrixWorld),i=e(i,o)}else if(c.isBufferGeometry){const{position:u}=c.attributes;if(u!==void 0){const d=d8e(u);for(a=0,l=u.count;a<l;a++)o.fromBufferAttribute(u,a),o.multiplyScalar(d),o.applyMatrix4(s.matrixWorld),i=e(i,o)}}}}),i};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=.002,$H=9,f8e=6,WH=2;class h8e extends rE{constructor(e,n,i){super();this.shadowMaterial=new GV,this.boundingBox=new Li,this.size=new ee,this.shadowScale=1,this.isAnimated=!1,this.side="bottom",this.needsUpdate=!1,this.intensity=0,this.castShadow=!0,this.frustumCulled=!1,this.floor=new Et(new Qu,this.shadowMaterial),this.floor.rotateX(-Math.PI/2),this.floor.receiveShadow=!0,this.floor.castShadow=!1,this.floor.frustumCulled=!1,this.add(this.floor),e.target.add(this),this.target=e.target,this.setScene(e,n,i)}setScene(e,n,i){if(this.side=i,this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.side==="back"){const{min:l,max:c}=this.boundingBox;[l.y,l.z]=[l.z,l.y],[c.y,c.z]=[c.z,c.y],[this.size.y,this.size.z]=[this.size.z,this.size.y],this.rotation.x=Math.PI/2,this.rotation.y=Math.PI}else this.rotation.x=0,this.rotation.y=0;const{boundingBox:o,size:s}=this;if(this.isAnimated){const l=Math.max(s.x,s.y,s.z)*WH;s.y=l,o.expandByVector(s.subScalar(l).multiplyScalar(-.5)),o.max.y=o.min.y+l,s.set(l,l,l)}o.getCenter(this.floor.position);const a=o.max.y+s.y*GH;i==="bottom"?(this.position.y=a,this.position.z=0):(this.position.y=0,this.position.z=a),this.setSoftness(n)}setSoftness(e){const n=Math.pow(2,$H-e*($H-f8e));this.setMapSize(n)}setMapSize(e){const{camera:n,mapSize:i,map:o}=this.shadow,{size:s,boundingBox:a}=this;o!=null&&(o.dispose(),this.shadow.map=null),this.isAnimated&&(e*=WH);const l=Math.floor(s.x>s.z?e:e*s.x/s.z),c=Math.floor(s.x>s.z?e*s.z/s.x:e);i.set(l,c);const u=2.5*s.x/l,d=2.5*s.z/c;n.left=-a.max.x-u,n.right=-a.min.x+u,n.bottom=a.min.z-d,n.top=a.max.z+d,this.setScaleAndOffset(this.shadowScale,0),this.floor.scale.set(s.x+2*u,s.z+2*d,1),this.needsUpdate=!0,this.shadow.needsUpdate=!0}setIntensity(e){this.shadowMaterial.opacity=e,e>0?(this.visible=!0,this.floor.visible=!0):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.shadowMaterial.opacity}setRotation(e){if(this.side!=="bottom"){this.shadow.camera.up.set(0,1,0),this.shadow.updateMatrices(this);return}this.shadow.camera.up.set(Math.sin(e),0,Math.cos(e)),this.shadow.updateMatrices(this)}setScaleAndOffset(e,n){const i=this.size.y,{camera:o}=this.shadow;this.shadowScale=e,o.near=0,o.far=i-n/e,o.updateProjectionMatrix(),o.scale.setScalar(e);const s=i*GH;this.floor.position.y=2*s-o.far}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=45,KM=new ee,qH=new ee,YH=new ee,p8e=new n6e,m8e=new ee,m0=new Le;class g8e extends ua{constructor({canvas:e,element:n,width:i,height:o}){super();this.context=null,this.annotationRenderer=new e8e,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.renderCount=0,this.externalRenderer=null,this.camera=new zr(45,1,.1,100),this.xrCamera=null,this.url=null,this.target=new cn,this.modelContainer=new cn,this.animationNames=[],this.boundingBox=new Li,this.size=new ee,this.idealAspect=0,this.framedFoVDeg=YM,this.boundingRadius=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this.canScale=!0,this.tightBounds=!1,this.isDirty=!1,this.goalTarget=new ee,this.targetDamperX=new ws,this.targetDamperY=new ws,this.targetDamperZ=new ws,this._currentGLTF=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=n,this.canvas=e,this.camera=new zr(45,1,.1,100),this.camera.name="MainCamera",this.add(this.target),this.setSize(i,o),this.target.name="Target",this.modelContainer.name="ModelContainer",this.target.add(this.modelContainer),this.mixer=new rH(this.modelContainer);const{domElement:s}=this.annotationRenderer,{style:a}=s;a.display="none",a.pointerEvents="none",a.position="absolute",a.top="0",this.element.shadowRoot.querySelector(".default").appendChild(s),this.schemaElement.setAttribute("type","application/ld+json")}createContext(){this.context=this.canvas.getContext("2d")}getCamera(){return this.xrCamera!=null?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}async setObject(e){this.reset(),this.modelContainer.add(e),await this.setupScene()}async setSource(e,n=()=>{}){if(!e||e===this.url){n(1);return}if(this.reset(),this.url=e,this.externalRenderer!=null){const l=await this.externalRenderer.load(n);this.boundingRadius=l.framedRadius,this.idealAspect=l.fieldOfViewAspect,this.dispatchEvent({type:"model-load",url:this.url});return}this.cancelPendingSourceChange!=null&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);let i;try{i=await new Promise(async(l,c)=>{this.cancelPendingSourceChange=()=>c();try{const u=await this.element[_n].loader.load(e,this.element,n);l(u)}catch(u){c(u)}})}catch(l){if(l==null)return;throw l}this.reset(),this.url=e,this._currentGLTF=i,i!=null&&this.modelContainer.add(i.scene);const{animations:o}=i,s=new Map,a=[];for(const l of o)s.set(l.name,l),a.push(l.name);this.animations=o,this.animationsByName=s,this.animationNames=a,await this.setupScene()}async setupScene(){this.updateBoundingBox(),await this.updateFraming(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity),this.dispatchEvent({type:"model-load",url:this.url})}reset(){this.url=null,this.queueRender(),this.shadow!=null&&this.shadow.setIntensity(0);const e=this._currentGLTF;if(e!=null){for(const n of this.modelContainer.children)this.modelContainer.remove(n);e.dispose(),this._currentGLTF=null}this.currentAnimationAction!=null&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}get currentGLTF(){return this._currentGLTF}setSize(e,n){if(!(this.width===e&&this.height===n)){if(this.width=Math.max(e,1),this.height=Math.max(n,1),this.annotationRenderer.setSize(e,n),this.aspect=this.width/this.height,this.externalRenderer!=null){const i=WM();this.externalRenderer.resize(e*i,n*i)}this.queueRender()}}updateBoundingBox(){if(this.target.remove(this.modelContainer),this.tightBounds===!0){const e=(n,i)=>n.expandByPoint(i);this.boundingBox=qM(this.modelContainer,e,new Li)}else this.boundingBox.setFromObject(this.modelContainer);this.boundingBox.getSize(this.size),this.target.add(this.modelContainer)}async updateFraming(){this.target.remove(this.modelContainer);let e=this.boundingBox.getCenter(new ee);this.tightBounds===!0&&(await this.element.requestUpdate("cameraTarget"),e=this.getTarget());const n=(o,s)=>Math.max(o,e.distanceToSquared(s));this.boundingRadius=Math.sqrt(qM(this.modelContainer,n,0));const i=(o,s)=>{s.sub(e);const a=Math.sqrt(s.x*s.x+s.z*s.z);return Math.max(o,a/(this.idealCameraDistance()-Math.abs(s.y)))};this.idealAspect=qM(this.modelContainer,i,0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.target.add(this.modelContainer)}idealCameraDistance(){const e=this.framedFoVDeg/2*Math.PI/180;return this.boundingRadius/Math.sin(e)}adjustedFoV(e){const n=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(n)*180/Math.PI}getNDC(e,n){if(this.xrCamera!=null)m0.set(e/window.screen.width,n/window.screen.height);else{const i=this.element.getBoundingClientRect();m0.set((e-i.x)/this.width,(n-i.y)/this.height)}return m0.multiplyScalar(2).subScalar(1),m0.y*=-1,m0}getSize(){return{width:this.width,height:this.height}}setTarget(e,n,i){this.goalTarget.set(-e,-n,-i)}setTargetDamperDecayTime(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}getTarget(){return m8e.copy(this.goalTarget).multiplyScalar(-1)}jumpToGoal(){this.updateTarget(FH)}updateTarget(e){const n=this.goalTarget,i=this.target.position;if(!n.equals(i)){const o=this.boundingRadius/10;let{x:s,y:a,z:l}=i;s=this.targetDamperX.update(s,n.x,e,o),a=this.targetDamperY.update(a,n.y,e,o),l=this.targetDamperZ.update(l,n.z,e,o),this.target.position.set(s,a,l),this.target.updateMatrixWorld(),this.setShadowRotation(this.yaw),this.queueRender()}}pointTowards(e,n){const{x:i,z:o}=this.position;this.yaw=Math.atan2(e-i,n-o)}set yaw(e){this.rotation.y=e,this.updateMatrixWorld(!0),this.setShadowRotation(e),this.queueRender()}get yaw(){return this.rotation.y}set animationTime(e){this.mixer.setTime(e)}get animationTime(){if(this.currentAnimationAction!=null){const e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop===mC&&(e&1)==1?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0}get duration(){return this.currentAnimationAction!=null&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return this.currentAnimationAction!=null}playAnimation(e=null,n=0,i=pC,o=1/0){if(this._currentGLTF==null)return;const{animations:s}=this;if(s==null||s.length===0){console.warn("Cannot play animation (model does not have any animations)");return}let a=null;e!=null&&(a=this.animationsByName.get(e)),a==null&&(a=s[0]);try{const{currentAnimationAction:l}=this,c=this.mixer.clipAction(a,this);this.currentAnimationAction=c,this.element.paused?this.mixer.stopAllAction():l!=null&&c!==l&&c.crossFadeFrom(l,n,!1),c.setLoop(i,o),c.enabled=!0,c.play()}catch(l){console.error(l)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(e){this.mixer.update(e)}subscribeMixerEvent(e,n){this.mixer.addEventListener(e,n)}updateShadow(){const e=this.shadow;if(e!=null){const n=this.element.arPlacement==="wall"?"back":"bottom";e.setScene(this,this.shadowSoftness,n),e.setRotation(this.yaw)}}setShadowIntensity(e){if(this.shadowIntensity=e,this._currentGLTF!=null&&!(e<=0&&this.shadow==null)){if(this.shadow==null){const n=this.element.arPlacement==="wall"?"back":"bottom";this.shadow=new h8e(this,this.shadowSoftness,n),this.shadow.setRotation(this.yaw)}this.shadow.setIntensity(e)}}setShadowSoftness(e){this.shadowSoftness=e;const n=this.shadow;n!=null&&n.setSoftness(e)}setShadowRotation(e){const n=this.shadow;n!=null&&n.setRotation(e)}isShadowDirty(){const e=this.shadow;if(e==null)return!1;{const{needsUpdate:n}=e;return e.needsUpdate=!1,n}}setShadowScaleAndOffset(e,n){const i=this.shadow;i!=null&&i.setScaleAndOffset(e,n)}get raycaster(){return p8e}positionAndNormalFromPoint(e,n=this){this.raycaster.setFromCamera(e,this.getCamera());const i=this.raycaster.intersectObject(n,!0);if(i.length===0)return null;const o=i[0];return o.face==null?null:o.uv==null?{position:o.point,normal:o.face.normal,uv:null}:(o.face.normal.applyNormalMatrix(new Nr().getNormalMatrix(o.object.matrixWorld)),{position:o.point,normal:o.face.normal,uv:o.uv})}addHotspot(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}removeHotspot(e){this.target.remove(e)}forHotspots(e){const{children:n}=this.target;for(let i=0,o=n.length;i<o;i++){const s=n[i];s instanceof zH&&e(s)}}updateHotspots(e){this.forHotspots(n=>{KM.copy(e),qH.setFromMatrixPosition(n.matrixWorld),KM.sub(qH),YH.copy(n.normal).transformDirection(this.target.matrixWorld),KM.dot(YH)<0?n.hide():n.show()})}orientHotspots(e){this.forHotspots(n=>{n.orient(e)})}setHotspotsVisibility(e){this.forHotspots(n=>{n.visible=e})}updateSchema(e){var n;const{schemaElement:i,element:o}=this,{alt:s,poster:a,iosSrc:l}=o;if(e!=null){const c=[{"@type":"MediaObject",contentUrl:e,encodingFormat:((n=e.split(".").pop())===null||n===void 0?void 0:n.toLowerCase())==="gltf"?"model/gltf+json":"model/gltf-binary"}];l&&c.push({"@type":"MediaObject",contentUrl:l,encodingFormat:"model/vnd.usdz+zip"});const u={"@context":"http://schema.org/","@type":"3DModel",image:a!=null?a:void 0,name:s!=null?s:void 0,encoding:c};i.textContent=JSON.stringify(u),document.head.appendChild(i)}else i.parentElement!=null&&i.parentElement.removeChild(i)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g0=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const v8e=.1,y8e=0,_8e=1,b8e=1,v0=Symbol("currentEnvironmentMap"),cE=Symbol("applyEnvironmentMap"),uE=Symbol("updateEnvironment"),y0=Symbol("cancelEnvironmentUpdate"),XM=Symbol("onPreload"),E8e=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=y8e,this.shadowSoftness=_8e,this.exposure=b8e,this[e]=null,this[n]=null,this[i]=a=>{a.element===this&&this[uE]()}}connectedCallback(){super.connectedCallback(),this[_n].loader.addEventListener("preload",this[XM])}disconnectedCallback(){super.disconnectedCallback(),this[_n].loader.removeEventListener("preload",this[XM])}updated(a){super.updated(a),a.has("shadowIntensity")&&(this[qe].setShadowIntensity(this.shadowIntensity*v8e),this[Ni]()),a.has("shadowSoftness")&&(this[qe].setShadowSoftness(this.shadowSoftness),this[Ni]()),a.has("exposure")&&(this[qe].exposure=this.exposure,this[Ni]()),(a.has("environmentImage")||a.has("skyboxImage"))&&this[ud]()&&this[uE]()}[(e=v0,n=y0,i=XM,_a)](){super[_a](),this[v0]!=null&&this[cE](this[v0])}async[uE](){const{skyboxImage:a,environmentImage:l}=this;this[y0]!=null&&(this[y0](),this[y0]=null);const{textureUtils:c}=this[_n];if(c!=null)try{const{environmentMap:u,skybox:d}=await new Promise(async(f,h)=>{const v=c.generateEnvironmentMapAndSkybox(OH(a),l,{progressTracker:this[Hh]});this[y0]=()=>h(v),f(await v)});d!=null?this[qe].background=d.name===u.name?u:d:this[qe].background=null,this[cE](u),this[qe].dispatchEvent({type:"envmap-update"})}catch(u){if(u instanceof Error)throw this[cE](null),u}}[cE](a){this[qe].environment!==a&&(this[v0]=a,this[qe].environment=this[v0],this.dispatchEvent(new CustomEvent("environment-change")),this[Ni]())}}return g0([Nt({type:String,attribute:"environment-image"})],o.prototype,"environmentImage",void 0),g0([Nt({type:String,attribute:"skybox-image"})],o.prototype,"skyboxImage",void 0),g0([Nt({type:Number,attribute:"shadow-intensity"})],o.prototype,"shadowIntensity",void 0),g0([Nt({type:Number,attribute:"shadow-softness"})],o.prototype,"shadowSoftness",void 0),g0([Nt({type:Number})],o.prototype,"exposure",void 0),o};class w8e{constructor(e,n,i,o,s){this.xrLight=e,this.renderer=n,this.lightProbe=i,this.xrWebGLBinding=null,this.estimationStartCallback=s,this.frameCallback=this.onXRFrame.bind(this);const a=n.xr.getSession();if(o&&"XRWebGLBinding"in window){const l=new Ib(16);e.environment=l.texture;const c=n.getContext();switch(a.preferredReflectionFormat){case"srgba8":c.getExtension("EXT_sRGB");break;case"rgba16f":c.getExtension("OES_texture_half_float");break}this.xrWebGLBinding=new XRWebGLBinding(a,c),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}a.requestAnimationFrame(this.frameCallback)}updateReflection(){const e=this.renderer.properties.get(this.xrLight.environment);if(e){const n=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);n&&(e.__webglTexture=n)}}onXRFrame(e,n){if(!this.xrLight)return;n.session.requestAnimationFrame(this.frameCallback);const o=n.getLightEstimate(this.lightProbe);if(o){this.xrLight.lightProbe.sh.fromArray(o.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const s=Math.max(1,Math.max(o.primaryLightIntensity.x,Math.max(o.primaryLightIntensity.y,o.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(o.primaryLightIntensity.x/s,o.primaryLightIntensity.y/s,o.primaryLightIntensity.z/s),this.xrLight.directionalLight.intensity=s,this.xrLight.directionalLight.position.copy(o.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class x8e extends dl{constructor(e,n=!0){super();this.lightProbe=new iE,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new rE,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let i=null,o=!1;e.xr.addEventListener("sessionstart",()=>{const s=e.xr.getSession();"requestLightProbe"in s&&s.requestLightProbe({reflectionFormat:s.preferredReflectionFormat}).then(a=>{i=new w8e(this,e,a,n,()=>{o=!0,this.dispatchEvent({type:"estimationstart"})})})}),e.xr.addEventListener("sessionend",()=>{i&&(i.dispose(),i=null),o&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{i&&(i.dispose(),i=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=.2,KH=.03,S8e=.75,XH=12,T8e=Math.PI/(2*XH),JH=new Le,dE=(t,e,n)=>{let i=e>0?n>0?0:-Math.PI/2:n>0?Math.PI/2:Math.PI;for(let o=0;o<=XH;++o)t.push(e+(jh-KH)*Math.cos(i),n+(jh-KH)*Math.sin(i),0,e+jh*Math.cos(i),n+jh*Math.sin(i),0),i+=T8e};class ZH extends Et{constructor(e,n){const i=new kn,o=[],s=[],{size:a,boundingBox:l}=e,c=a.x/2,u=(n==="back"?a.y:a.z)/2;dE(s,c,u),dE(s,-c,u),dE(s,-c,-u),dE(s,c,-u);const d=s.length/3;for(let v=0;v<d-2;v+=2)o.push(v,v+1,v+3,v,v+3,v+2);const f=d-2;o.push(f,f+1,1,f,1,0),i.setAttribute("position",new kr(s,3)),i.setIndex(o);super(i);this.side=n;const h=this.material;switch(h.side=Za,h.transparent=!0,h.opacity=0,this.goalOpacity=0,this.opacityDamper=new ws,this.hitPlane=new Et(new Qu(2*(c+jh),2*(u+jh))),this.hitPlane.visible=!1,this.add(this.hitPlane),l.getCenter(this.position),n){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=l.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=l.min.z,this.position.z=this.shadowHeight}e.target.add(this)}getHit(e,n,i){JH.set(n,-i),this.hitPlane.visible=!0;const o=e.positionAndNormalFromPoint(JH,this.hitPlane);return this.hitPlane.visible=!1,o==null?null:o.position}getExpandedHit(e,n,i){this.hitPlane.scale.set(1e3,1e3,1e3);const o=this.getHit(e,n,i);return this.hitPlane.scale.set(1,1,1),o}set offsetHeight(e){this.side==="back"?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}get offsetHeight(){return this.side==="back"?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(e){this.goalOpacity=e?S8e:0}updateOpacity(e){const n=this.material;n.opacity=this.opacityDamper.update(n.opacity,this.goalOpacity,e,1),this.visible=n.opacity>0}dispose(){var e;const{geometry:n,material:i}=this.hitPlane;n.dispose(),i.dispose(),this.geometry.dispose(),this.material.dispose(),(e=this.parent)===null||e===void 0||e.remove(this)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8e=30,M8e=.3,QH=1.5,A8e=20,ez=1.3,P8e=1/ez,R8e=.25,L8e=10,Gc={NOT_PRESENTING:"not-presenting",SESSION_STARTED:"session-started",OBJECT_PLACED:"object-placed",FAILED:"failed"},JM={TRACKING:"tracking",NOT_TRACKING:"not-tracking"},fE=new ee,I8e=new ot,O8e=new ee,N8e=new zr(45,1,.1,100);class k8e extends _s{constructor(e){super();this.renderer=e,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this.oldEnvironment=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new ee,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new ee,this.firstRatio=0,this.lastAngle=0,this.goalPosition=new ee,this.goalYaw=0,this.goalScale=1,this.xDamper=new ws,this.yDamper=new ws,this.zDamper=new ws,this.yawDamper=new ws,this.scaleDamper=new ws,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{this.placementBox!=null&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new ZH(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=n=>{const i=this.transientHitTestSource;if(i==null)return;const o=this.frame.getHitTestResultsForTransientInput(i),s=this.presentedScene,a=this.placementBox;if(o.length===1){this.inputSource=n.inputSource;const{axes:l}=this.inputSource.gamepad,c=a.getHit(this.presentedScene,l[0],l[1]);a.show=!0,c!=null?(this.isTranslating=!0,this.lastDragPosition.copy(c)):this.placeOnWall===!1&&(this.isRotating=!0,this.lastAngle=l[0]*QH)}else if(o.length===2){a.show=!0,this.isTwoFingering=!0;const{separation:l}=this.fingerPolar(o);this.firstRatio=l/s.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=e.threeRenderer,this.threeRenderer.xr.enabled=!0}async resolveARSession(){NH();const e=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:{root:this.overlay}});return this.threeRenderer.xr.setReferenceSpaceType("local"),await this.threeRenderer.xr.setSession(e),this.threeRenderer.xr.cameraAutoUpdate=!1,e}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return NH(),await navigator.xr.isSessionSupported("immersive-ar")}catch(e){return console.warn("Request to present in WebXR denied:"),console.warn(e),console.warn("Falling back to next ar-mode"),!1}}async present(e,n=!1){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let i=new Promise((u,d)=>{requestAnimationFrame(()=>u())});e.setHotspotsVisibility(!1),e.queueRender(),await i,this._presentedScene=e,this.overlay=e.element.shadowRoot.querySelector("div.default"),n===!0&&(this.xrLight=new x8e(this.threeRenderer),this.xrLight.addEventListener("estimationstart",()=>{if(!this.isPresenting||this.xrLight==null)return;const u=this.presentedScene;u.add(this.xrLight),this.oldEnvironment=u.environment,u.environment=this.xrLight.environment}));const o=await this.resolveARSession();o.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0});const s=e.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");s.classList.add("enabled"),s.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=s;const a=await o.requestReferenceSpace("viewer");this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=e.yaw,this.goalYaw=e.yaw,this.goalScale=1,this.oldBackground=e.background,e.background=null,this.oldShadowIntensity=e.shadowIntensity,e.setShadowIntensity(.01),this.oldTarget.copy(e.getTarget()),e.addEventListener("model-load",this.onUpdateScene);const l=A8e*Math.PI/180,c=this.placeOnWall===!0?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(l),z:-Math.cos(l)});o.requestHitTestSource({space:a,offsetRay:c}).then(u=>{this.initialHitSource=u}),this.currentSession=o,this.placementBox=new ZH(e,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:Gc.SESSION_STARTED})}async stopPresenting(){if(!this.isPresenting)return;const e=new Promise(n=>{this.resolveCleanup=n});try{await this.currentSession.end(),await e}catch(n){console.warn("Error while trying to end WebXR AR session"),console.warn(n),this.postSessionCleanup()}}get isPresenting(){return this.presentedScene!=null}get target(){return this.oldTarget}updateTarget(){const e=this.presentedScene;if(e!=null){const n=e.getTarget();this.oldTarget.copy(n),this.placeOnWall?n.z=e.boundingBox.min.z:n.y=e.boundingBox.min.y,e.setTarget(n.x,n.y,n.z)}}postSessionCleanup(){const e=this.currentSession;e!=null&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const n=this.presentedScene;if(n!=null){const{element:a}=n;this.xrLight!=null&&(n.remove(this.xrLight),this.oldEnvironment!=null&&(n.environment=this.oldEnvironment,this.oldEnvironment=null),this.xrLight.dispose(),this.xrLight=null),n.position.set(0,0,0),n.scale.set(1,1,1),n.setShadowScaleAndOffset(1,0);const l=this.turntableRotation;l!=null&&(n.yaw=l);const c=this.oldShadowIntensity;c!=null&&n.setShadowIntensity(c);const u=this.oldBackground;u!=null&&(n.background=u);const d=this.oldTarget;n.setTarget(d.x,d.y,d.z),n.xrCamera=null,n.removeEventListener("model-load",this.onUpdateScene),n.orientHotspots(0),a.requestUpdate("cameraTarget"),a.requestUpdate("maxCameraOrbit"),a[x0](a.getBoundingClientRect())}this.renderer.height=0;const i=this.exitWebXRButtonContainer;i!=null&&(i.classList.remove("enabled"),i.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const o=this.transientHitTestSource;o!=null&&(o.cancel(),this.transientHitTestSource=null);const s=this.initialHitSource;s!=null&&(s.cancel(),this.initialHitSource=null),this.placementBox!=null&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this._presentedScene=null,this.frame=null,this.inputSource=null,this.overlay=null,this.resolveCleanup!=null&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:Gc.NOT_PRESENTING})}updateView(e){const n=this.presentedScene,i=this.threeRenderer.xr;i.updateCamera(N8e),n.xrCamera=i.getCamera();const{elements:o}=n.getCamera().matrixWorld;if(n.orientHotspots(Math.atan2(o[1],o[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){const l=e.recommendedViewportScale;e.requestViewportScale(Math.max(l,R8e))}const a=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(a.x,a.y,a.width,a.height)}placeInitially(){const e=this.presentedScene,{position:n,element:i}=e,o=e.getCamera(),{width:s,height:a}=this.overlay.getBoundingClientRect();e.setSize(s,a),o.projectionMatrixInverse.copy(o.projectionMatrix).invert();const{theta:l,radius:c}=i.getCameraOrbit(),u=o.getWorldDirection(fE);e.yaw=Math.atan2(-u.x,-u.z)-l,this.goalYaw=e.yaw,n.copy(o.position).add(u.multiplyScalar(c)),this.updateTarget();const d=e.getTarget();n.add(d).sub(this.oldTarget),this.goalPosition.copy(n),e.setHotspotsVisibility(!0);const{session:f}=this.frame;f.addEventListener("selectstart",this.onSelectStart),f.addEventListener("selectend",this.onSelectEnd),f.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(h=>{this.transientHitTestSource=h})}getTouchLocation(){const{axes:e}=this.inputSource.gamepad;let n=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return n!=null&&(fE.copy(n).sub(this.presentedScene.getCamera().position),fE.length()>L8e)?null:n}getHitPoint(e){const n=this.threeRenderer.xr.getReferenceSpace(),i=e.getPose(n);if(i==null)return null;const o=I8e.fromArray(i.transform.matrix);return this.placeOnWall===!0&&(this.goalYaw=Math.atan2(o.elements[4],o.elements[6])),o.elements[5]>.75!==this.placeOnWall?O8e.setFromMatrixPosition(o):null}moveToFloor(e){const n=this.initialHitSource;if(n==null)return;const i=e.getHitTestResults(n);if(i.length==0)return;const o=i[0],s=this.getHitPoint(o);s!=null&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(s):this.goalPosition.y=s.y),n.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:Gc.OBJECT_PLACED}))}fingerPolar(e){const n=e[0].inputSource.gamepad.axes,i=e[1].inputSource.gamepad.axes,o=i[0]-n[0],s=i[1]-n[1],a=Math.atan2(s,o);let l=this.lastAngle-a;return l>Math.PI?l-=2*Math.PI:l<-Math.PI&&(l+=2*Math.PI),this.lastAngle=a,{separation:Math.sqrt(o*o+s*s),deltaYaw:l}}processInput(e){const n=this.transientHitTestSource;if(n==null||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const i=e.getHitTestResultsForTransientInput(n),o=this.presentedScene,s=o.scale.x;if(this.isTwoFingering){if(i.length<2)this.isTwoFingering=!1;else{const{separation:a,deltaYaw:l}=this.fingerPolar(i);if(this.placeOnWall===!1&&(this.goalYaw+=l),o.canScale){const c=a/this.firstRatio;this.goalScale=c<ez&&c>P8e?1:c}}return}else if(i.length===2){this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:a}=this.fingerPolar(i);this.firstRatio=a/s;return}if(this.isRotating){const a=this.inputSource.gamepad.axes[0]*QH;this.goalYaw+=a-this.lastAngle,this.lastAngle=a}else this.isTranslating&&i.forEach(a=>{if(a.inputSource!==this.inputSource)return;let l=null;if(a.results.length>0&&(l=this.getHitPoint(a.results[0])),l==null&&(l=this.getTouchLocation()),l!=null){if(this.goalPosition.sub(this.lastDragPosition),this.placeOnWall===!1){const c=l.y-this.lastDragPosition.y;if(c<0){this.placementBox.offsetHeight=c/s,this.presentedScene.setShadowScaleAndOffset(s,c);const u=fE.copy(o.getCamera().position),d=-c/(u.y-l.y);u.multiplyScalar(d),l.multiplyScalar(1-d).add(u)}}this.goalPosition.add(l),this.lastDragPosition.copy(l)}})}moveScene(e){const n=this.presentedScene,{position:i,yaw:o,boundingRadius:s}=n,a=this.goalPosition,l=n.scale.x,c=this.placementBox;if(!a.equals(i)||this.goalScale!==l){let{x:u,y:d,z:f}=i;u=this.xDamper.update(u,a.x,e,s),d=this.yDamper.update(d,a.y,e,s),f=this.zDamper.update(f,a.z,e,s),i.set(u,d,f);const h=this.scaleDamper.update(l,this.goalScale,e,1);if(n.scale.set(h,h,h),!this.isTranslating){const v=a.y-d;this.placementComplete&&this.placeOnWall===!1?(c.offsetHeight=v/h,n.setShadowScaleAndOffset(h,v)):v===0&&(this.placementComplete=!0,c.show=!1,n.setShadowIntensity(M8e))}}c.updateOpacity(e),n.updateTarget(e),n.yaw=this.yawDamper.update(o,this.goalYaw,e,Math.PI)}onWebXRFrame(e,n){this.frame=n,++this.frames;const i=this.threeRenderer.xr.getReferenceSpace(),o=n.getViewerPose(i);o==null&&this.tracking===!0&&this.frames>C8e&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:JM.NOT_TRACKING}));const s=this.presentedScene;if(o==null||s==null||!s.element[dd]()){this.threeRenderer.clear();return}this.tracking===!1&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:JM.TRACKING}));let a=!0;for(const l of o.views){if(this.updateView(l),a){this.moveToFloor(n),this.processInput(n);const u=e-this.lastTick;this.moveScene(u),this.renderer.preRender(s,e,u),this.lastTick=e}const c=this.threeRenderer.getContext();c.depthMask(!1),c.clear(c.DEPTH_BUFFER_BIT),c.depthMask(!0),this.threeRenderer.render(s,s.getCamera()),a=!1}}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8e{constructor(e){e.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:e,THREE:{ShaderMaterial:cl,Texture:fr,Mesh:Et,Scene:ua,PlaneBufferGeometry:Qu,OrthographicCamera:Eh,WebGLRenderTarget:Qi}}}))})}addScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}removeScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}function F8e(t){const e=new Map,n=new Map,i=t.clone();return tz(t,i,function(o,s){e.set(s,o),n.set(o,s)}),i.traverse(function(o){if(!o.isSkinnedMesh)return;const s=o,a=e.get(o),l=a.skeleton.bones;s.skeleton=a.skeleton.clone(),s.bindMatrix.copy(a.bindMatrix),s.skeleton.bones=l.map(function(c){return n.get(c)}),s.bind(s.skeleton,s.bindMatrix)}),i}function tz(t,e,n){n(t,e);for(let i=0;i<t.children.length;i++)tz(t.children[i],e.children[i],n)}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=Symbol("prepared"),hE=Symbol("prepare"),ma=Symbol("preparedGLTF"),pE=Symbol("clone");class U8e{constructor(e){this[ma]=e}static prepare(e){if(e.scene==null)throw new Error("Model does not have a scene");if(e[nz])return e;const n=this[hE](e);return n[nz]=!0,n}static[hE](e){const{scene:n}=e,i=[n];return Object.assign(Object.assign({},e),{scene:n,scenes:i})}get parser(){return this[ma].parser}get animations(){return this[ma].animations}get scene(){return this[ma].scene}get scenes(){return this[ma].scenes}get cameras(){return this[ma].cameras}get asset(){return this[ma].asset}get userData(){return this[ma].userData}clone(){const e=this.constructor,n=this[pE]();return new e(n)}dispose(){this.scenes.forEach(e=>{e.traverse(n=>{if(!n.isMesh)return;const i=n;(Array.isArray(i.material)?i.material:[i.material]).forEach(s=>{for(const a in s){const l=s[a];l instanceof fr&&l.dispose()}s.dispose()}),i.geometry.dispose()})})}[pE](){const e=this[ma],n=F8e(this.scene);j8e(n,this.scene);const i=[n],o=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:n,scenes:i,userData:o})}}const j8e=(t,e)=>{rz(t,e,(n,i)=>{i.userData.variantMaterials!==void 0&&(n.userData.variantMaterials=new Map(i.userData.variantMaterials)),i.userData.variantData!==void 0&&(n.userData.variantData=i.userData.variantData),i.userData.originalMaterial!==void 0&&(n.userData.originalMaterial=i.userData.originalMaterial)})},rz=(t,e,n)=>{n(t,e);for(let i=0;i<t.children.length;i++)rz(t.children[i],e.children[i],n)},iz=Symbol("threeGLTF"),sz=Symbol("gltf"),oz=Symbol("gltfElementMap"),az=Symbol("threeObjectMap"),lz=Symbol("parallelTraverseThreeScene"),cz=Symbol("correlateOriginalThreeGLTF"),uz=Symbol("correlateCloneThreeGLTF");class _0{constructor(e,n,i,o){this[iz]=e,this[sz]=n,this[oz]=o,this[az]=i}static from(e,n){return n!=null?this[uz](e,n):this[cz](e)}static[cz](e){const n=e.parser.json,i=e.parser.associations,o=new Map,s={name:"Default"},a={type:"materials",index:-1};for(const l of i.keys())l instanceof Tr&&i.get(l)==null&&(a.index<0&&(n.materials==null&&(n.materials=[]),a.index=n.materials.length,n.materials.push(s)),l.name=s.name,i.set(l,{materials:a.index}));for(const[l,c]of i){if(c){const u=l;u.userData=u.userData||{},u.userData.associations=c}for(const u in c)if(u!=null&&u!=="primitives"){const d=u,h=(n[d]||[])[c[d]];if(h==null)continue;let v=o.get(h);v==null&&(v=new Set,o.set(h,v)),v.add(l)}}return new _0(e,n,i,o)}static[uz](e,n){const i=n.threeGLTF,o=n.gltf,s=JSON.parse(JSON.stringify(o)),a=new Map,l=new Map;for(let c=0;c<i.scenes.length;c++)this[lz](i.scenes[c],e.scenes[c],(u,d)=>{const f=n.threeObjectMap.get(u);if(f!=null){for(const h in f)if(h!=null&&h!=="primitives"){const v=h,m=f[v],_=s[v][m],S=a.get(d)||{};S[v]=m,a.set(d,S);const E=l.get(_)||new Set;E.add(d),l.set(_,E)}}});return new _0(e,s,a,l)}static[lz](e,n,i){const o=a=>a.isMesh,s=(a,l)=>{if(i(a,l),a.isObject3D){if(o(a))if(Array.isArray(a.material))for(let c=0;c<a.material.length;++c)s(a.material[c],l.material[c]);else s(a.material,l.material);for(let c=0;c<a.children.length;++c)s(a.children[c],l.children[c])}};s(e,n)}get threeGLTF(){return this[iz]}get gltf(){return this[sz]}get gltfElementMap(){return this[oz]}get threeObjectMap(){return this[az]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=Symbol("correlatedSceneGraph");class B8e extends U8e{static[hE](e){const n=super[hE](e);n[mE]==null&&(n[mE]=_0.from(n));const{scene:i}=n,o=new Cc(void 0,1/0);return i.traverse(s=>{s.renderOrder=1e3,s.frustumCulled=!1,s.name||(s.name=s.uuid);const a=s;if(a.isMesh){a.castShadow=!0,a.isSkinnedMesh&&(a.geometry.boundingSphere=o,a.geometry.boundingBox=null);const l=a.material;l.shadowSide=Za}}),n}get correlatedSceneGraph(){return this[ma][mE]}[pE](){const e=super[pE](),n=new Map;return e.scene.traverse(i=>{if(i.isMesh){const o=i,s=o.material;if(s!=null){if(n.has(s.uuid)){o.material=n.get(s.uuid);return}o.material=s.clone(),n.set(s.uuid,o.material)}}}),e[mE]=_0.from(e,this.correlatedSceneGraph),e}}class V8e extends NOe{constructor(e){super(e);this.type=ys}parse(e){const n=-1,i=1,o=2,s=3,a=4,l=function(T,C){switch(T){case i:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case o:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case s:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:case a:console.error("THREE.RGBELoader: Error: "+(C||""))}return n},c=1,u=2,d=4,f=`
`,h=function(T,C,P){const R=128;C=C||1024;let A=T.pos,L=-1,k=0,U="",O=String.fromCharCode.apply(null,new Uint16Array(T.subarray(A,A+R)));for(;0>(L=O.indexOf(f))&&k<C&&A<T.byteLength;)U+=O,k+=O.length,A+=R,O+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(A,A+R)));return-1<L?(P!==!1&&(T.pos+=k+L+1),U+O.slice(0,L)):!1},v=function(T){const C=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*FORMAT=(\S+)\s*$/,L=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,k={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let U,O;if(T.pos>=T.byteLength||!(U=h(T)))return l(i,"no header found");if(!(O=U.match(C)))return l(s,"bad initial token");for(k.valid|=c,k.programtype=O[1],k.string+=U+`
`;U=h(T),U!==!1;){if(k.string+=U+`
`,U.charAt(0)==="#"){k.comments+=U+`
`;continue}if((O=U.match(P))&&(k.gamma=parseFloat(O[1],10)),(O=U.match(R))&&(k.exposure=parseFloat(O[1],10)),(O=U.match(A))&&(k.valid|=u,k.format=O[1]),(O=U.match(L))&&(k.valid|=d,k.height=parseInt(O[1],10),k.width=parseInt(O[2],10)),k.valid&u&&k.valid&d)break}return k.valid&u?k.valid&d?k:l(s,"missing image size specifier"):l(s,"missing format specifier")},m=function(T,C,P){const R=C;if(R<8||R>32767||T[0]!==2||T[1]!==2||T[2]&128)return new Uint8Array(T);if(R!==(T[2]<<8|T[3]))return l(s,"wrong scanline width");const A=new Uint8Array(4*C*P);if(!A.length)return l(a,"unable to allocate buffer space");let L=0,k=0;const U=4*R,O=new Uint8Array(4),I=new Uint8Array(U);let F=P;for(;F>0&&k<T.byteLength;){if(k+4>T.byteLength)return l(i);if(O[0]=T[k++],O[1]=T[k++],O[2]=T[k++],O[3]=T[k++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=R)return l(s,"bad rgbe scanline format");let N=0,H;for(;N<U&&k<T.byteLength;){H=T[k++];const B=H>128;if(B&&(H-=128),H===0||N+H>U)return l(s,"bad scanline data");if(B){const q=T[k++];for(let W=0;W<H;W++)I[N++]=q}else I.set(T.subarray(k,k+H),N),N+=H,k+=H}const z=R;for(let B=0;B<z;B++){let q=0;A[L]=I[B+q],q+=R,A[L+1]=I[B+q],q+=R,A[L+2]=I[B+q],q+=R,A[L+3]=I[B+q],L+=4}F--}return A},_=function(T,C,P,R){const A=T[C+3],L=Math.pow(2,A-128)/255;P[R+0]=T[C+0]*L,P[R+1]=T[C+1]*L,P[R+2]=T[C+2]*L},S=function(T,C,P,R){const A=T[C+3],L=Math.pow(2,A-128)/255;P[R+0]=RM.toHalfFloat(Math.min(T[C+0]*L,65504)),P[R+1]=RM.toHalfFloat(Math.min(T[C+1]*L,65504)),P[R+2]=RM.toHalfFloat(Math.min(T[C+2]*L,65504))},E=new Uint8Array(e);E.pos=0;const w=v(E);if(n!==w){const T=w.width,C=w.height,P=m(E.subarray(E.pos),T,C);if(n!==P){let R,A,L,k;switch(this.type){case Ks:k=P.length/4;const U=new Float32Array(k*3);for(let I=0;I<k;I++)_(P,I*4,U,I*3);R=U,A=Xs,L=Ks;break;case ys:k=P.length/4;const O=new Uint16Array(k*3);for(let I=0;I<k;I++)S(P,I*4,O,I*3);R=O,A=Xs,L=ys;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:T,height:C,data:R,header:w.string,gamma:w.gamma,exposure:w.exposure,format:A,type:L}}}return null}setDataType(e){return this.type=e,this}load(e,n,i,o){function s(a,l){switch(a.type){case Ks:a.encoding=Or,a.minFilter=In,a.magFilter=In,a.generateMipmaps=!1,a.flipY=!0;break;case ys:a.encoding=Or,a.minFilter=In,a.magFilter=In,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,l)}return super.load(e,s,i,o)}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8e extends ua{constructor(){super();this.position.y=-3.5;const e=new Oc;e.deleteAttribute("uv");const n=new fl({metalness:0,side:dr}),i=new fl({metalness:0}),o=new nE(16777215,500,28,2);o.position.set(.418,16.199,.3),this.add(o);const s=new Et(e,n);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),this.add(s);const a=new Et(e,i);a.position.set(-10.906,2.009,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),this.add(a);const l=new Et(e,i);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),this.add(l);const c=new Et(e,i);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);const u=new Et(e,i);u.position.set(-2.017,.018,6.124),u.rotation.set(0,.333,0),u.scale.set(2.002,4.566,2.064),this.add(u);const d=new Et(e,i);d.position.set(2.291,-.756,-2.621),d.rotation.set(0,-.286,0),d.scale.set(1.546,1.552,1.496),this.add(d);const f=new Et(e,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),this.add(f);const h=new Et(e,this.createAreaLightMaterial(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),this.add(h);const v=new Et(e,this.createAreaLightMaterial(50));v.position.set(-16.109,18.021,-8.207),v.scale.set(.1,2.425,2.751),this.add(v);const m=new Et(e,this.createAreaLightMaterial(17));m.position.set(14.904,12.198,-1.832),m.scale.set(.15,4.265,6.331),this.add(m);const _=new Et(e,this.createAreaLightMaterial(43));_.position.set(-.462,8.89,14.52),_.scale.set(4.38,5.441,.088),this.add(_);const S=new Et(e,this.createAreaLightMaterial(20));S.position.set(3.235,11.486,-12.541),S.scale.set(2.5,2,.1),this.add(S);const E=new Et(e,this.createAreaLightMaterial(100));E.position.set(0,20,0),E.scale.set(1,.1,1),this.add(E)}createAreaLightMaterial(e){const n=new Po;return n.color.setScalar(e),n}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8e extends ua{constructor(){super();this.position.y=-3.5;const e=new Oc;e.deleteAttribute("uv");const n=new fl({metalness:0,side:dr}),i=new fl({metalness:0}),o=new nE(16777215,400,28,2);o.position.set(.5,14,.5),this.add(o);const s=new Et(e,n);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),this.add(s);const a=new Et(e,i);a.position.set(-10.906,-1,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),this.add(a);const l=new Et(e,i);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),this.add(l);const c=new Et(e,i);c.position.set(6.167,-.16,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);const u=new Et(e,i);u.position.set(-2.017,.018,6.124),u.rotation.set(0,.333,0),u.scale.set(2.002,4.566,2.064),this.add(u);const d=new Et(e,i);d.position.set(2.291,-.756,-2.621),d.rotation.set(0,-.286,0),d.scale.set(1.546,1.552,1.496),this.add(d);const f=new Et(e,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),this.add(f);const h=new Et(e,this.createAreaLightMaterial(80));h.position.set(-14,10,8),h.scale.set(.1,2.5,2.5),this.add(h);const v=new Et(e,this.createAreaLightMaterial(80));v.position.set(-14,14,-4),v.scale.set(.1,2.5,2.5),this.add(v);const m=new Et(e,this.createAreaLightMaterial(23));m.position.set(14,12,0),m.scale.set(.1,5,5),this.add(m);const _=new Et(e,this.createAreaLightMaterial(16));_.position.set(0,9,14),_.scale.set(5,5,.1),this.add(_);const S=new Et(e,this.createAreaLightMaterial(80));S.position.set(7,8,-14),S.scale.set(2.5,2.5,.1),this.add(S);const E=new Et(e,this.createAreaLightMaterial(80));E.position.set(-7,16,-14),E.scale.set(2.5,2.5,.1),this.add(E);const w=new Et(e,this.createAreaLightMaterial(1));w.position.set(0,20,0),w.scale.set(.1,.1,.1),this.add(w)}createAreaLightMaterial(e){const n=new Po;return n.color.setScalar(e),n}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8e=.04,Bh=20,$8e=/\.hdr(\.js)?$/,W8e=new tE,dz=new V8e;dz.setDataType(ys);class fz extends _s{constructor(e){super();this.threeRenderer=e,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}async load(e,n=()=>{}){try{const i=$8e.test(e),o=i?dz:W8e,s=await new Promise((a,l)=>o.load(e,a,c=>{n(c.loaded/c.total*.9)},l));return n(1),s.name=e,s.mapping=sb,i||(s.encoding=Zi),s}finally{n&&n(1)}}async generateEnvironmentMapAndSkybox(e=null,n=null,i={}){const{progressTracker:o}=i,s=n==="neutral";s===!0&&(n=null),n=OH(n);let a=Promise.resolve(null),l;e&&(a=this.loadEquirectFromUrl(e,o)),n?l=this.loadEquirectFromUrl(n,o):e?l=this.loadEquirectFromUrl(e,o):l=s===!0?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();let[c,u]=await Promise.all([l,a]);if(c==null)throw new Error("Failed to load environment map.");return{environmentMap:c,skybox:u}}async loadEquirectFromUrl(e,n){if(!this.skyboxCache.has(e)){const i=n?n.beginActivity():()=>{},o=this.load(e,i);this.skyboxCache.set(e,o)}return this.skyboxCache.get(e)}async GenerateEnvironmentMap(e,n){await DH();const i=this.threeRenderer,o=new Ib(256,{generateMipmaps:!1,type:ys,format:er,encoding:Or,depthBuffer:!0}),s=new Yg(.1,100,o),a=s.renderTarget.texture;a.name=n,a.isRenderTargetTexture=!1,a.images=[1,1,1,1,1,1],e.scale.setComponent(0,-1);const l=i.outputEncoding,c=i.toneMapping;return i.toneMapping=tl,i.outputEncoding=Or,s.update(i,e),await this.blurCubemap(o,G8e),i.toneMapping=c,i.outputEncoding=l,a}async loadGeneratedEnvironmentMap(){return this.generatedEnvironmentMap==null&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new H8e,"default")),this.generatedEnvironmentMap}async loadGeneratedEnvironmentMapAlt(){return this.generatedEnvironmentMapAlt==null&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new z8e,"neutral")),this.generatedEnvironmentMapAlt}async blurCubemap(e,n){if(this.blurMaterial==null){this.blurMaterial=this.getBlurShader(Bh);const o=new Oc,s=new Et(o,this.blurMaterial);this.blurScene=new ua,this.blurScene.add(s)}const i=e.clone();this.halfblur(e,i,n,"latitudinal"),this.halfblur(i,e,n,"longitudinal")}async halfblur(e,n,i,o){const s=3,a=e.width,l=isFinite(i)?Math.PI/(2*a):2*Math.PI/(2*Bh-1),c=i/l,u=isFinite(i)?1+Math.floor(s*c):Bh;u>Bh&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${u} samples when the maximum is set to ${Bh}`);const d=[];let f=0;for(let m=0;m<Bh;++m){const _=m/c,S=Math.exp(-_*_/2);d.push(S),m==0?f+=S:m<u&&(f+=2*S)}for(let m=0;m<d.length;m++)d[m]=d[m]/f;const h=this.blurMaterial.uniforms;h.envMap.value=e.texture,h.samples.value=u,h.weights.value=d,h.latitudinal.value=o==="latitudinal",h.dTheta.value=l,new Yg(.1,100,n).update(this.threeRenderer,this.blurScene)}getBlurShader(e){const n=new Float32Array(e),i=new ee(0,1,0);return new cl({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:i}},vertexShader:`
      
      varying vec3 vOutputDirection;
  
      void main() {
  
        vOutputDirection = vec3( position );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  
      }
    `,fragmentShader:`
        varying vec3 vOutputDirection;
  
        uniform samplerCube envMap;
        uniform int samples;
        uniform float weights[ n ];
        uniform bool latitudinal;
        uniform float dTheta;
        uniform vec3 poleAxis;
  
        vec3 getSample( float theta, vec3 axis ) {
  
          float cosTheta = cos( theta );
          // Rodrigues' axis-angle rotation
          vec3 sampleDirection = vOutputDirection * cosTheta
            + cross( axis, vOutputDirection ) * sin( theta )
            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );
  
          return vec3( textureCube( envMap, sampleDirection ) );
  
        }
  
        void main() {
  
          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );
  
          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {
  
            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );
  
          }
  
          axis = normalize( axis );
  
          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );
  
          for ( int i = 1; i < n; i++ ) {
  
            if ( i >= samples ) {
  
              break;
  
            }
  
            float theta = dTheta * float( i );
            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );
  
          }
        }
      `,blending:el,depthTest:!1,depthWrite:!1,side:dr})}async dispose(){for(const[,e]of this.skyboxCache)(await e).dispose();this.generatedEnvironmentMap!=null&&((await this.generatedEnvironmentMap).dispose(),this.generatedEnvironmentMap=null),this.generatedEnvironmentMapAlt!=null&&((await this.generatedEnvironmentMapAlt).dispose(),this.generatedEnvironmentMapAlt=null),this.blurMaterial!=null&&this.blurMaterial.dispose()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8e=.2,ZM=18,QM=26,hz=2,eA=[1,.79,.62,.5,.4,.31,.25],Y8e=3,pz="high-performance";class _l extends _s{constructor(e){super();this.loader=new Oi(B8e),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.scaleStep=0,this.lastStep=Y8e,this.avgFrameDuration=(QM+ZM)/2,this.onWebGLContextLost=n=>{this.dispatchEvent({type:"contextlost",sourceEvent:n})},this.onWebGLContextRestored=()=>{var n;(n=this.textureUtils)===null||n===void 0||n.dispose(),this.textureUtils=new fz(this.threeRenderer);for(const i of this.scenes)i.element[uE]();this.threeRenderer.shadowMap.needsUpdate=!0},this.dpr=WM(),this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas";try{this.threeRenderer=new wn({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=Zi,this.threeRenderer.physicallyCorrectLights=!0,this.threeRenderer.setPixelRatio(1),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=Hj,this.threeRenderer.shadowMap.autoUpdate=!1,this.debugger=e.debug?new D8e(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=Jj}catch(n){console.warn(n)}this.arRenderer=new k8e(this),this.textureUtils=this.canRender?new fz(this.threeRenderer):null,Oi.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize(),this.lastTick=performance.now(),this.avgFrameDuration=0}static get singleton(){return this._singleton}static resetSingleton(){const e=this._singleton.dispose();for(const n of e)n.disconnectedCallback();this._singleton=new _l({powerPreference:(self.ModelViewerElement||{}).powerPreference||pz,debug:kH()});for(const n of e)n.connectedCallback()}get canRender(){return this.threeRenderer!=null}get scaleFactor(){return eA[this.scaleStep]}set minScale(e){let n=1;for(;n<eA.length&&!(eA[n]<e);)++n;this.lastStep=n-1}updateRendererSize(){const e=WM();if(e!==this.dpr)for(const l of this.scenes){const{element:c}=l;c[Vh](c.getBoundingClientRect())}let n=0,i=0;for(const l of this.scenes)n=Math.max(n,l.width),i=Math.max(i,l.height);if(n===this.width&&i===this.height&&e===this.dpr)return;this.width=n,this.height=i,this.dpr=e,this.canRender&&this.threeRenderer.setSize(n*e,i*e,!1);const o=this.scaleFactor,s=n/o,a=i/o;this.canvas3D.style.width=`${s}px`,this.canvas3D.style.height=`${a}px`;for(const l of this.scenes){const{canvas:c}=l;c.width=Math.round(n*e),c.height=Math.round(i*e),c.style.width=`${s}px`,c.style.height=`${a}px`,l.queueRender()}}updateRendererScale(){const e=this.scaleStep;if(this.avgFrameDuration>QM?++this.scaleStep:this.avgFrameDuration<ZM&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),e==this.scaleStep)return;const n=this.scaleFactor;this.avgFrameDuration=(QM+ZM)/2;const i=this.width/n,o=this.height/n;this.canvas3D.style.width=`${i}px`,this.canvas3D.style.height=`${o}px`;for(const s of this.scenes){const{style:a}=s.canvas;a.width=`${i}px`,a.height=`${o}px`,s.queueRender()}}registerScene(e){this.scenes.add(e);const{canvas:n}=e,i=this.scaleFactor;n.width=Math.round(this.width*this.dpr),n.height=Math.round(this.height*this.dpr),n.style.width=`${this.width/i}px`,n.style.height=`${this.height/i}px`,this.multipleScenesVisible&&n.classList.add("show"),e.queueRender(),this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((o,s)=>this.render(o,s)),this.debugger!=null&&this.debugger.addScene(e)}unregisterScene(e){this.scenes.delete(e),this.canRender&&this.scenes.size===0&&this.threeRenderer.setAnimationLoop(null),this.debugger!=null&&this.debugger.removeScene(e)}displayCanvas(e){return this.multipleScenesVisible?e.element[_E]:this.canvas3D}selectCanvas(){let e=0,n=null;for(const s of this.scenes){const{element:a}=s;a.modelIsVisible&&s.externalRenderer==null&&(++e,n=s.canvas)}if(n==null)return;const i=e>1,{canvas3D:o}=this;if(!(i===this.multipleScenesVisible&&(i||o.parentElement===n.parentElement))){this.multipleScenesVisible=i,i&&o.classList.remove("show");for(const s of this.scenes){if(s.externalRenderer!=null)continue;const a=s.element[_E];i?(a.classList.add("show"),s.queueRender()):s.canvas===n&&(s.canvas.parentElement.appendChild(o),o.classList.add("show"),a.classList.remove("show"),s.queueRender())}}}orderedScenes(){const e=[];for(const n of[!1,!0])for(const i of this.scenes)i.element.modelIsVisible===n&&e.push(i);return e}get isPresenting(){return this.arRenderer.isPresenting}preRender(e,n,i){const{element:o,exposure:s}=e;o[ya](n,i);const a=typeof s=="number"&&!self.isNaN(s);this.threeRenderer.toneMappingExposure=a?s:1,e.isShadowDirty()&&(this.threeRenderer.shadowMap.needsUpdate=!0)}render(e,n){if(n!=null){this.arRenderer.onWebXRFrame(e,n);return}const i=e-this.lastTick;if(this.lastTick=e,!this.canRender||this.isPresenting)return;this.avgFrameDuration+=od(q8e*(i-this.avgFrameDuration),-hz,hz),this.selectCanvas(),this.updateRendererSize(),this.updateRendererScale();const{dpr:o,scaleFactor:s}=this;for(const a of this.orderedScenes()){const{element:l}=a;if(!l.modelIsVisible&&a.renderCount>0||(this.preRender(a,e,i),!a.shouldRender()))continue;if(a.externalRenderer!=null){const d=a.getCamera();d.updateMatrix();const{matrix:f,projectionMatrix:h}=d,v=f.elements.slice(),m=a.getTarget();v[12]+=m.x,v[13]+=m.y,v[14]+=m.z,a.externalRenderer.render({viewMatrix:v,projectionMatrix:h.elements});continue}if(!l.modelIsVisible&&!this.multipleScenesVisible)for(const d of this.scenes)d.element.modelIsVisible&&d.queueRender();const c=Math.min(Math.ceil(a.width*s*o),this.canvas3D.width),u=Math.min(Math.ceil(a.height*s*o),this.canvas3D.height);if(this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.floor(this.height*o)-u,c,u),this.threeRenderer.render(a,a.camera),this.multipleScenesVisible){a.context==null&&a.createContext();const d=a.context;d.clearRect(0,0,c,u),d.drawImage(this.canvas3D,0,0,c,u,0,0,c,u)}a.hasRendered(),l.loaded&&++a.renderCount}}dispose(){this.textureUtils!=null&&this.textureUtils.dispose(),this.threeRenderer!=null&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const e=[];for(const n of this.scenes)e.push(n.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),e}}_l._singleton=new _l({powerPreference:(self.ModelViewerElement||{}).powerPreference||pz,debug:kH()});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8e=async t=>new Promise((e,n)=>{const i=512,o=t.match(/data:(.*);/);if(!o)return n(new Error(`${t} is not a valid data Url`));const s=o[1],a=t.replace(/data:image\/\w+;base64,/,""),l=atob(a),c=[];for(let u=0;u<l.length;u+=i){const d=l.slice(u,u+i),f=new Array(d.length);for(let v=0;v<d.length;v++)f[v]=d.charCodeAt(v);const h=new Uint8Array(f);c.push(h)}e(new Blob(c,{type:s}))});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8e extends EventTarget{constructor(){super(...arguments);this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(){const e={progress:0,completed:!1};return this.ongoingActivities.add(e),this.ongoingActivityCount===1&&this.announceTotalProgress(e,0),n=>{let i;return i=Math.max(od(n,0,1),e.progress),i!==e.progress&&this.announceTotalProgress(e,i),e.progress}}announceTotalProgress(e,n){let i=0,o=0;n==1&&(e.completed=!0);for(const l of this.ongoingActivities){const{progress:c}=l;i+=1-c,l.completed===!0&&o++}const s=e.progress;e.progress=n,this.totalProgress+=(n-s)*(1-this.totalProgress)/i;const a=o===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:a}})),o===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mz=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gz,vz,yz,_z,bz,Ez,wz,xz,Sz,Tz;const J8e=1e3,Z8e=50,Q8e=0,eNe=300,tNe=150,to=document.createElement("canvas"),tA=Symbol("fallbackResizeHandler"),nA=Symbol("defaultAriaLabel"),gE=Symbol("resizeObserver"),b0=Symbol("clearModelTimeout"),rA=Symbol("onContextLost"),ld=Symbol("loaded"),Vh=Symbol("updateSize"),vE=Symbol("intersectionObserver"),cd=Symbol("isElementInViewport"),yE=Symbol("announceModelVisibility"),iA=Symbol("ariaLabel"),E0=Symbol("loadedTime"),ga=Symbol("updateSource"),Cz=Symbol("markLoaded"),w0=Symbol("container"),va=Symbol("input"),_E=Symbol("canvas"),qe=Symbol("scene"),Ni=Symbol("needsRender"),ya=Symbol("tick"),_a=Symbol("onModelLoad"),x0=Symbol("onResize"),_n=Symbol("renderer"),Hh=Symbol("progressTracker"),Mz=Symbol("getLoaded"),bE=Symbol("getModelIsVisible"),ud=Symbol("shouldAttemptPreload"),dd=Symbol("sceneIsReady"),zh=Symbol("hasTransitioned"),EE=t=>({x:t.x,y:t.y,z:t.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),nNe=t=>({u:t.x,v:t.y,toString(){return`${this.u} ${this.v}`}});class sA extends eC{constructor(){super();this.alt=null,this.src=null,this[gz]=!1,this[vz]=!1,this[yz]=0,this[_z]=null,this[bz]=$M(()=>{const o=this.getBoundingClientRect();this[Vh](o)},Z8e),this[Ez]=$M(o=>{const s=this.modelIsVisible;s!==o&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:s}}))},Q8e),this[wz]=null,this[xz]=null,this[Sz]=new X8e,this[Tz]=o=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:o.sourceEvent}}))},this.attachShadow({mode:"open"});const e=this.shadowRoot;m6e(e),this[w0]=e.querySelector(".container"),this[va]=e.querySelector(".userInput"),this[_E]=e.querySelector("canvas"),this[nA]=this[va].getAttribute("aria-label");let n,i;if(this.isConnected){const o=this.getBoundingClientRect();n=o.width,i=o.height}else n=eNe,i=tNe;this[qe]=new g8e({canvas:this[_E],element:this,width:n,height:i}),this[qe].addEventListener("model-load",async o=>{this[Cz](),this[_a](),await DH(),this.dispatchEvent(new CustomEvent("load",{detail:{url:o.url}}))}),Promise.resolve().then(()=>{this[Vh](this.getBoundingClientRect())}),LM&&(this[gE]=new ResizeObserver(o=>{if(!this[_n].isPresenting)for(let s of o)s.target===this&&this[Vh](s.contentRect)})),IM?this[vE]=new IntersectionObserver(o=>{for(let s of o)if(s.target===this){const a=this.modelIsVisible;this[cd]=s.isIntersecting,this[yE](a),this[cd]&&!this[dd]()&&this[ga]()}},{root:null,rootMargin:"0px",threshold:0}):this[cd]=!0}static get is(){return"model-viewer"}static set modelCacheSize(e){Oi[Vc].evictionThreshold=e}static get modelCacheSize(){return Oi[Vc].evictionThreshold}static set minimumRenderScale(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),_l.singleton.minScale=e}static get minimumRenderScale(){return _l.singleton.minScale}get loaded(){return this[Mz]()}get[(gz=cd,vz=ld,yz=E0,_z=b0,bz=tA,Ez=yE,wz=gE,xz=vE,Sz=Hh,_n)](){return _l.singleton}get modelIsVisible(){return this[bE]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),LM?this[gE].observe(this):self.addEventListener("resize",this[tA]),IM&&this[vE].observe(this);const e=this[_n];e.addEventListener("contextlost",this[rA]),e.registerScene(this[qe]),this[b0]!=null&&(self.clearTimeout(this[b0]),this[b0]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),LM?this[gE].unobserve(this):self.removeEventListener("resize",this[tA]),IM&&this[vE].unobserve(this);const e=this[_n];e.removeEventListener("contextlost",this[rA]),e.unregisterScene(this[qe]),this[b0]=self.setTimeout(()=>{this[qe].reset()},J8e)}updated(e){if(super.updated(e),e.has("src")&&(this.src==null?(this[ld]=!1,this[E0]=0,this[qe].reset()):this.src!==this[qe].url&&(this[ld]=!1,this[E0]=0,this[ga]())),e.has("alt")){const n=this.alt==null?this[nA]:this.alt;this[va].setAttribute("aria-label",n)}}toDataURL(e,n){return this[_n].displayCanvas(this[qe]).toDataURL(e,n)}async toBlob(e){const n=e?e.mimeType:void 0,i=e?e.qualityArgument:void 0,o=e?e.idealAspect:void 0,{width:s,height:a,idealAspect:l,aspect:c}=this[qe],{dpr:u,scaleFactor:d}=this[_n];let f=s*d*u,h=a*d*u,v=0,m=0;if(o===!0)if(l>c){const _=h;h=Math.round(f/l),m=(_-h)/2}else{const _=f;f=Math.round(h*l),v=(_-f)/2}to.width=f,to.height=h;try{return new Promise(async(_,S)=>{if(to.getContext("2d").drawImage(this[_n].displayCanvas(this[qe]),v,m,f,h,0,0,f,h),to.msToBlob&&(!n||n==="image/png"))return _(to.msToBlob());if(!to.toBlob)return _(await K8e(to.toDataURL(n,i)));to.toBlob(E=>{if(!E)return S(new Error("Unable to retrieve canvas blob"));_(E)},n,i)})}finally{this[Vh]({width:s,height:a})}}registerRenderer(e){this[qe].externalRenderer=e}unregisterRenderer(){this[qe].externalRenderer=null}get[iA](){return this.alt==null||this.alt==="null"?this[nA]:this.alt}[Mz](){return this[ld]}[bE](){return this.loaded&&this[cd]}[zh](){return this.modelIsVisible}[ud](){return!!this.src&&this[cd]}[dd](){return this[ld]}[Vh]({width:e,height:n}){this[w0].style.width=`${e}px`,this[w0].style.height=`${n}px`,this[x0]({width:parseFloat(e),height:parseFloat(n)})}[ya](e,n){}[Cz](){this[ld]||(this[ld]=!0,this[E0]=performance.now())}[Ni](){this[qe].queueRender()}[_a](){}[x0](e){this[qe].setSize(e.width,e.height)}async[(Tz=rA,ga)](){if(this.loaded||!this[ud]())return;const e=this[Hh].beginActivity(),n=this.src;try{await this[qe].setSource(n,o=>e(o*.95));const i={url:n};this.dispatchEvent(new CustomEvent("preload",{detail:i}))}catch(i){this.dispatchEvent(new CustomEvent("error",{detail:i}))}finally{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e(1)})})}}}mz([Nt({type:String})],sA.prototype,"alt",void 0);mz([Nt({type:String})],sA.prototype,"src",void 0);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oA=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Az=1e3,S0=Symbol("changeAnimation"),bl=Symbol("paused"),rNe={repetitions:1/0,pingpong:!1},iNe=t=>{var e;class n extends t{constructor(...o){super(o);this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[e]=!0,this[qe].subscribeMixerEvent("loop",s=>{const a=s.action._loopCount;this.dispatchEvent(new CustomEvent("loop",{detail:{count:a}}))}),this[qe].subscribeMixerEvent("finished",()=>{this.currentTime=0,this[bl]=!0,this[_n].threeRenderer.shadowMap.autoUpdate=!1,this[S0]({repetitions:1/0,pingpong:!1}),this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[qe].animationNames:[]}get duration(){return this[qe].duration}get paused(){return this[bl]}get currentTime(){return this[qe].animationTime}set currentTime(o){this[qe].animationTime=o,this[_n].threeRenderer.shadowMap.needsUpdate=!0,this[Ni]()}pause(){this[bl]||(this[bl]=!0,this[_n].threeRenderer.shadowMap.autoUpdate=!1,this.dispatchEvent(new CustomEvent("pause")))}play(o=rNe){this.availableAnimations.length>0&&(this[bl]=!1,this[_n].threeRenderer.shadowMap.autoUpdate=!0,this[S0](o),this.dispatchEvent(new CustomEvent("play")))}[(e=bl,_a)](){super[_a](),this[bl]=!0,this.autoplay&&(this[S0]({repetitions:1/0,pingpong:!1}),this.play())}[ya](o,s){super[ya](o,s),!(this[bl]||!this[zh]()&&!this[_n].isPresenting)&&(this[qe].updateAnimation(s/Az),this[Ni]())}updated(o){super.updated(o),o.has("autoplay")&&this.autoplay&&this.play(),o.has("animationName")&&this[S0]({repetitions:1/0,pingpong:!1})}async[ga](){return this[qe].stopAnimation(),super[ga]()}[S0](o){var s;const a=(s=o.repetitions)!==null&&s!==void 0?s:1/0,l=o.pingpong?mC:a===1?oB:pC;this[qe].playAnimation(this.animationName,this.animationCrossfadeDuration/Az,l,a),this[bl]&&(this[qe].updateAnimation(0),this[Ni]())}}return oA([Nt({type:Boolean})],n.prototype,"autoplay",void 0),oA([Nt({type:String,attribute:"animation-name"})],n.prototype,"animationName",void 0),oA([Nt({type:Number,attribute:"animation-crossfade-duration"})],n.prototype,"animationCrossfadeDuration",void 0),n};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=Symbol("hotspotMap"),aA=Symbol("mutationCallback"),T0=Symbol("observer"),lA=Symbol("addHotspot"),Pz=Symbol("removeHotspot"),cA=new ot,Rz=new Nr,sNe=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this[e]=new Map,this[n]=a=>{a.forEach(l=>{(!(l instanceof MutationRecord)||l.type==="childList")&&(l.addedNodes.forEach(c=>{this[lA](c)}),l.removedNodes.forEach(c=>{this[Pz](c)}),this[Ni]())})},this[i]=new MutationObserver(this[aA])}connectedCallback(){super.connectedCallback();for(let l=0;l<this.children.length;++l)this[lA](this.children[l]);const{ShadyDOM:a}=self;a==null?this[T0].observe(this,{childList:!0}):this[T0]=a.observeChildren(this,this[aA])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:a}=self;a==null?this[T0].disconnect():a.unobserveChildren(this[T0])}[(e=Gh,n=aA,i=T0,ya)](a,l){super[ya](a,l);const c=this[qe],{annotationRenderer:u}=c,d=c.getCamera();c.shouldRender()&&(c.updateHotspots(d.position),u.domElement.style.display="",u.render(c,d))}updateHotspot(a){const l=this[Gh].get(a.name);l!=null&&(l.updatePosition(a.position),l.updateNormal(a.normal),this[Ni]())}positionAndNormalFromPoint(a,l){const c=this[qe],u=c.getNDC(a,l),d=c.positionAndNormalFromPoint(u);if(d==null)return null;cA.copy(c.target.matrixWorld).invert();const f=EE(d.position.applyMatrix4(cA));Rz.getNormalMatrix(cA);const h=EE(d.normal.applyNormalMatrix(Rz));let v=null;return d.uv!=null&&(v=nNe(d.uv)),{position:f,normal:h,uv:v}}[lA](a){if(!(a instanceof HTMLElement&&a.slot.indexOf("hotspot")===0))return;let l=this[Gh].get(a.slot);l!=null?l.increment():(l=new zH({name:a.slot,position:a.dataset.position,normal:a.dataset.normal}),this[Gh].set(a.slot,l),this[qe].addHotspot(l)),this[qe].queueRender()}[Pz](a){if(!(a instanceof HTMLElement))return;const l=this[Gh].get(a.slot);!l||(l.decrement()&&(this[qe].removeHotspot(l),this[Gh].delete(a.slot)),this[qe].queueRender())}}return o};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var Lz=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};try{URL.revokeObjectURL(Lz(""))}catch{Lz=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var ki=Uint8Array,Di=Uint16Array,$h=Uint32Array,uA=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dA=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Iz=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Oz=function(t,e){for(var n=new Di(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var o=new $h(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)o[s]=s-n[i]<<5|i;return[n,o]},Nz=Oz(uA,2),oNe=Nz[0],fA=Nz[1];oNe[28]=258,fA[258]=28;var aNe=Oz(dA,0),kz=aNe[1],hA=new Di(32768);for(var Yn=0;Yn<32768;++Yn){var $c=(Yn&43690)>>>1|(Yn&21845)<<1;$c=($c&52428)>>>2|($c&13107)<<2,$c=($c&61680)>>>4|($c&3855)<<4,hA[Yn]=(($c&65280)>>>8|($c&255)<<8)>>>1}var C0=function(t,e,n){for(var i=t.length,o=0,s=new Di(e);o<i;++o)++s[t[o]-1];var a=new Di(e);for(o=0;o<e;++o)a[o]=a[o-1]+s[o-1]<<1;var l;if(n){l=new Di(1<<e);var c=15-e;for(o=0;o<i;++o)if(t[o])for(var u=o<<4|t[o],d=e-t[o],f=a[t[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[hA[f]>>>c]=u}else for(l=new Di(i),o=0;o<i;++o)t[o]&&(l[o]=hA[a[t[o]-1]++]>>>15-t[o]);return l},fd=new ki(288);for(var Yn=0;Yn<144;++Yn)fd[Yn]=8;for(var Yn=144;Yn<256;++Yn)fd[Yn]=9;for(var Yn=256;Yn<280;++Yn)fd[Yn]=7;for(var Yn=280;Yn<288;++Yn)fd[Yn]=8;var wE=new ki(32);for(var Yn=0;Yn<32;++Yn)wE[Yn]=5;var lNe=C0(fd,9,0),cNe=C0(wE,5,0),Dz=function(t){return(t/8|0)+(t&7&&1)},Fz=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof Di?Di:t instanceof $h?$h:ki)(n-e);return i.set(t.subarray(e,n)),i},El=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>>8},M0=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},pA=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var o=n.length,s=n.slice();if(!o)return[gA,0];if(o==1){var a=new ki(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(P,R){return P.f-R.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=o-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,i=1;i<o;++i)s[i].s>h&&(h=s[i].s);var v=new Di(h+1),m=mA(n[d-1],v,0);if(m>e){var i=0,_=0,S=m-e,E=1<<S;for(s.sort(function(R,A){return v[A.s]-v[R.s]||R.f-A.f});i<o;++i){var w=s[i].s;if(v[w]>e)_+=E-(1<<m-v[w]),v[w]=e;else break}for(_>>>=S;_>0;){var T=s[i].s;v[T]<e?_-=1<<e-v[T]++-1:++i}for(;i>=0&&_;--i){var C=s[i].s;v[C]==e&&(--v[C],++_)}m=e}return[new ki(v),m]},mA=function(t,e,n){return t.s==-1?Math.max(mA(t.l,e,n+1),mA(t.r,e,n+1)):e[t.s]=n},Uz=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Di(++e),i=0,o=t[0],s=1,a=function(c){n[i++]=c},l=1;l<=e;++l)if(t[l]==o&&l!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(o),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(o);s=1,o=t[l]}return[n.subarray(0,i),e]},A0=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},xE=function(t,e,n){var i=n.length,o=Dz(e+2);t[o]=i&255,t[o+1]=i>>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var s=0;s<i;++s)t[o+s+4]=n[s];return(o+4+i)*8},jz=function(t,e,n,i,o,s,a,l,c,u,d){El(e,d++,n),++o[256];for(var f=pA(o,15),h=f[0],v=f[1],m=pA(s,15),_=m[0],S=m[1],E=Uz(h),w=E[0],T=E[1],C=Uz(_),P=C[0],R=C[1],A=new Di(19),L=0;L<w.length;++L)A[w[L]&31]++;for(var L=0;L<P.length;++L)A[P[L]&31]++;for(var k=pA(A,7),U=k[0],O=k[1],I=19;I>4&&!U[Iz[I-1]];--I);var F=u+5<<3,N=A0(o,fd)+A0(s,wE)+a,H=A0(o,h)+A0(s,_)+a+14+3*I+A0(A,U)+(2*A[16]+3*A[17]+7*A[18]);if(F<=N&&F<=H)return xE(e,d,t.subarray(c,c+u));var z,B,q,W;if(El(e,d,1+(H<N)),d+=2,H<N){z=C0(h,v,0),B=h,q=C0(_,S,0),W=_;var j=C0(U,O,0);El(e,d,T-257),El(e,d+5,R-1),El(e,d+10,I-4),d+=14;for(var L=0;L<I;++L)El(e,d+3*L,U[Iz[L]]);d+=3*I;for(var $=[w,P],ie=0;ie<2;++ie)for(var Q=$[ie],L=0;L<Q.length;++L){var le=Q[L]&31;El(e,d,j[le]),d+=U[le],le>15&&(El(e,d,Q[L]>>>5&127),d+=Q[L]>>>12)}}else z=lNe,B=fd,q=cNe,W=wE;for(var L=0;L<l;++L)if(i[L]>255){var le=i[L]>>>18&31;M0(e,d,z[le+257]),d+=B[le+257],le>7&&(El(e,d,i[L]>>>23&31),d+=uA[le]);var he=i[L]&31;M0(e,d,q[he]),d+=W[he],he>3&&(M0(e,d,i[L]>>>5&8191),d+=dA[he])}else M0(e,d,z[i[L]]),d+=B[i[L]];return M0(e,d,z[256]),d+B[256]},uNe=new $h([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gA=new ki(0),dNe=function(t,e,n,i,o,s){var a=t.length,l=new ki(i+a+5*(1+Math.ceil(a/7e3))+o),c=l.subarray(i,l.length-o),u=0;if(!e||a<8)for(var d=0;d<=a;d+=65535){var f=d+65535;f<a?u=xE(c,u,t.subarray(d,f)):(c[d]=s,u=xE(c,u,t.subarray(d,a)))}else{for(var h=uNe[e-1],v=h>>>13,m=h&8191,_=(1<<n)-1,S=new Di(32768),E=new Di(_+1),w=Math.ceil(n/3),T=2*w,C=function(Ae){return(t[Ae]^t[Ae+1]<<w^t[Ae+2]<<T)&_},P=new $h(25e3),R=new Di(288),A=new Di(32),L=0,k=0,d=0,U=0,O=0,I=0;d<a;++d){var F=C(d),N=d&32767,H=E[F];if(S[N]=H,E[F]=N,O<=d){var z=a-d;if((L>7e3||U>24576)&&z>423){u=jz(t,c,0,P,R,A,k,U,I,d-I,u),U=L=k=0,I=d;for(var B=0;B<286;++B)R[B]=0;for(var B=0;B<30;++B)A[B]=0}var q=2,W=0,j=m,$=N-H&32767;if(z>2&&F==C(d-$))for(var ie=Math.min(v,z)-1,Q=Math.min(32767,d),le=Math.min(258,z);$<=Q&&--j&&N!=H;){if(t[d+q]==t[d+q-$]){for(var he=0;he<le&&t[d+he]==t[d+he-$];++he);if(he>q){if(q=he,W=$,he>ie)break;for(var ue=Math.min($,he-2),Ie=0,B=0;B<ue;++B){var Me=d-$+B+32768&32767,ke=S[Me],Ze=Me-ke+32768&32767;Ze>Ie&&(Ie=Ze,H=Me)}}}N=H,H=S[N],$+=N-H+32768&32767}if(W){P[U++]=268435456|fA[q]<<18|kz[W];var pt=fA[q]&31,be=kz[W]&31;k+=uA[pt]+dA[be],++R[257+pt],++A[be],O=d+q,++L}else P[U++]=t[d],++R[t[d]]}}u=jz(t,c,s,P,R,A,k,U,I,d-I,u),!s&&u&7&&(u=xE(c,u+1,gA))}return Fz(l,0,i+Dz(u)+o)},fNe=function(){for(var t=new $h(256),e=0;e<256;++e){for(var n=e,i=9;--i;)n=(n&1&&3988292384)^n>>>1;t[e]=n}return t}(),hNe=function(){var t=-1;return{p:function(e){for(var n=t,i=0;i<e.length;++i)n=fNe[n&255^e[i]]^n>>>8;t=n},d:function(){return~t}}},pNe=function(t,e,n,i,o){return dNe(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,i,!o)},Bz=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n},ti=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function mNe(t,e){return pNe(t,e||{},0,0)}var Vz=function(t,e,n,i){for(var o in t){var s=t[o],a=e+o;s instanceof ki?n[a]=[s,i]:Array.isArray(s)?n[a]=[s[0],Bz(i,s[1])]:Vz(s,a+"/",n,i)}},Hz=typeof TextEncoder!="undefined"&&new TextEncoder,gNe=typeof TextDecoder!="undefined"&&new TextDecoder,vNe=0;try{gNe.decode(gA,{stream:!0}),vNe=1}catch{}function SE(t,e){if(e){for(var n=new ki(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}if(Hz)return Hz.encode(t);for(var o=t.length,s=new ki(t.length+(t.length>>1)),a=0,l=function(d){s[a++]=d},i=0;i<o;++i){if(a+5>s.length){var c=new ki(a+8+(o-i<<1));c.set(s),s=c}var u=t.charCodeAt(i);u<128||e?l(u):u<2048?(l(192|u>>6),l(128|u&63)):u>55295&&u<57344?(u=65536+(u&1023<<10)|t.charCodeAt(++i)&1023,l(240|u>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|u&63)):(l(224|u>>12),l(128|u>>6&63),l(128|u&63))}return Fz(s,0,a)}var vA=function(t){var e=0;if(t)for(var n in t){var i=t[n].length;if(i>65535)throw"extra field too long";e+=i+4}return e},zz=function(t,e,n,i,o,s,a,l){var c=i.length,u=n.extra,d=l&&l.length,f=vA(u);ti(t,e,a!=null?33639248:67324752),e+=4,a!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(s==null&&8),t[e++]=o&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),v=h.getFullYear()-1980;if(v<0||v>119)throw"date not in range 1980-2099";if(ti(t,e,v<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),e+=4,s!=null&&(ti(t,e,n.crc),ti(t,e+4,s),ti(t,e+8,n.size)),ti(t,e+12,c),ti(t,e+14,f),e+=16,a!=null&&(ti(t,e,d),ti(t,e+6,n.attrs),ti(t,e+10,a),e+=14),t.set(i,e),e+=c,f)for(var m in u){var _=u[m],S=_.length;ti(t,e,+m),ti(t,e+2,S),t.set(_,e+4),e+=4+S}return d&&(t.set(l,e),e+=d),e},yNe=function(t,e,n,i,o){ti(t,e,101010256),ti(t,e+8,n),ti(t,e+10,n),ti(t,e+12,i),ti(t,e+16,o)};function _Ne(t,e){e||(e={});var n={},i=[];Vz(t,"",n,e);var o=0,s=0;for(var a in n){var l=n[a],c=l[0],u=l[1],d=u.level==0?0:8,f=SE(a),h=f.length,v=u.comment,m=v&&SE(v),_=m&&m.length,S=vA(u.extra);if(h>65535)throw"filename too long";var E=d?mNe(c,u):c,w=E.length,T=hNe();T.p(c),i.push(Bz(u,{size:c.length,crc:T.d(),c:E,f,m,u:h!=a.length||m&&v.length!=_,o,compression:d})),o+=30+h+S+w,s+=76+2*(h+S)+(_||0)+w}for(var C=new ki(s+22),P=o,R=s-o,A=0;A<i.length;++A){var f=i[A];zz(C,f.o,f,f.f,f.u,f.c.length);var L=30+f.f.length+vA(f.extra);C.set(f.c,f.o+L),zz(C,o,f,f.f,f.u,f.c.length,f.o,f.m),o+=16+L+(f.m?f.m.length:0)}return yNe(C,o,i.length,R,P),C}class bNe{async parse(e){const n={},i="model.usda";n[i]=null;let o=Gz();const s={},a={};e.traverseVisible(c=>{if(c.isMesh)if(c.material.isMeshStandardMaterial){const u=c.geometry,d=c.material,f="geometries/Geometry_"+u.id+".usd";if(!(f in n)){const h=TNe(u);n[f]=wNe(h)}d.uuid in s||(s[d.uuid]=d),o+=xNe(c,u,d)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",c)}),o+=RNe(s,a),n[i]=SE(o),o=null;for(const c in a){const u=a[c],d=c.split("_")[1],f=u.format===1023,h=ENe(u.image,d),v=await new Promise(m=>h.toBlob(m,f?"image/png":"image/jpeg",1));n[`textures/Texture_${c}.${f?"png":"jpg"}`]=new Uint8Array(await v.arrayBuffer())}let l=0;for(const c in n){const u=n[c];l+=34+c.length;const f=l&63;if(f!==4){const h=64-f,v=new Uint8Array(h);n[c]=[u,{extra:{12345:v}}]}l=u.length}return _Ne(n,{level:0})}}function ENe(t,e){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const n=1024/Math.max(t.width,t.height),i=document.createElement("canvas");i.width=t.width*Math.min(1,n),i.height=t.height*Math.min(1,n);const o=i.getContext("2d");if(o.drawImage(t,0,0,i.width,i.height),e!==void 0){const s=parseInt(e,16),a=(s>>16&255)/255,l=(s>>8&255)/255,c=(s&255)/255,u=o.getImageData(0,0,i.width,i.height),d=u.data;for(let f=0;f<d.length;f+=4)d[f+0]=d[f+0]*a,d[f+1]=d[f+1]*l,d[f+2]=d[f+2]*c;o.putImageData(u,0,0)}return i}}const P0=7;function Gz(){return`#usda 1.0
(
    customLayerData = {
        string creator = "Three.js USDZExporter"
    }
    metersPerUnit = 1
    upAxis = "Y"
)

`}function wNe(t){let e=Gz();return e+=t,SE(e)}function xNe(t,e,n){const i="Object_"+t.id,o=SNe(t.matrixWorld);return t.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",t),`def Xform "${i}" (
    prepend references = @./geometries/Geometry_${e.id}.usd@</Geometry>
)
{
    matrix4d xformOp:transform = ${o}
    uniform token[] xformOpOrder = ["xformOp:transform"]

    rel material:binding = </Materials/Material_${n.id}>
}

`}function SNe(t){const e=t.elements;return`( ${TE(e,0)}, ${TE(e,4)}, ${TE(e,8)}, ${TE(e,12)} )`}function TE(t,e){return`(${t[e+0]}, ${t[e+1]}, ${t[e+2]}, ${t[e+3]})`}function TNe(t){return`
def "Geometry"
{
  ${CNe(t)}
}
`}function CNe(t){const e="Geometry",n=t.attributes,i=n.position.count;return`
    def Mesh "${e}"
    {
        int[] faceVertexCounts = [${MNe(t)}]
        int[] faceVertexIndices = [${ANe(t)}]
        normal3f[] normals = [${$z(n.normal,i)}] (
            interpolation = "vertex"
        )
        point3f[] points = [${$z(n.position,i)}]
        float2[] primvars:st = [${PNe(n.uv,i)}] (
            interpolation = "vertex"
        )
        uniform token subdivisionScheme = "none"
    }
`}function MNe(t){const e=t.index!==null?t.index.count:t.attributes.position.count;return Array(e/3).fill(3).join(", ")}function ANe(t){const e=t.index,n=[];if(e!==null)for(let i=0;i<e.count;i++)n.push(e.getX(i));else{const i=t.attributes.position.count;for(let o=0;o<i;o++)n.push(o)}return n.join(", ")}function $z(t,e){if(t===void 0)return console.warn("USDZExporter: Normals missing."),Array(e).fill("(0, 0, 0)").join(", ");const n=[];for(let i=0;i<t.count;i++){const o=t.getX(i),s=t.getY(i),a=t.getZ(i);n.push(`(${o.toPrecision(P0)}, ${s.toPrecision(P0)}, ${a.toPrecision(P0)})`)}return n.join(", ")}function PNe(t,e){if(t===void 0)return console.warn("USDZExporter: UVs missing."),Array(e).fill("(0, 0)").join(", ");const n=[];for(let i=0;i<t.count;i++){const o=t.getX(i),s=t.getY(i);n.push(`(${o.toPrecision(P0)}, ${1-s.toPrecision(P0)})`)}return n.join(", ")}function RNe(t,e){const n=[];for(const i in t){const o=t[i];n.push(LNe(o,e))}return`def "Materials"
{
${n.join("")}
}

`}function LNe(t,e){const n="            ",i=[],o=[];function s(a,l,c){const u=a.id+(c?"_"+c.getHexString():""),d=a.format===1023;return e[u]=a,`
        def Shader "Transform2d_${l}" (
            sdrMetadata = {
                string role = "math"
            }
        )
        {
            uniform token info:id = "UsdTransform2d"
            float2 inputs:in.connect = </Materials/Material_${t.id}/uvReader_st.outputs:result>
            float2 inputs:scale = ${qz(a.repeat)}
            float2 inputs:translation = ${qz(a.offset)}
            float2 outputs:result
        }

        def Shader "Texture_${a.id}_${l}"
        {
            uniform token info:id = "UsdUVTexture"
            asset inputs:file = @textures/Texture_${u}.${d?"png":"jpg"}@
            float2 inputs:st.connect = </Materials/Material_${t.id}/Transform2d_${l}.outputs:result>
            token inputs:wrapS = "repeat"
            token inputs:wrapT = "repeat"
            float outputs:r
            float outputs:g
            float outputs:b
            float3 outputs:rgb
        }`}return t.map!==null?(i.push(`${n}color3f inputs:diffuseColor.connect = </Materials/Material_${t.id}/Texture_${t.map.id}_diffuse.outputs:rgb>`),o.push(s(t.map,"diffuse",t.color))):i.push(`${n}color3f inputs:diffuseColor = ${Wz(t.color)}`),t.emissiveMap!==null?(i.push(`${n}color3f inputs:emissiveColor.connect = </Materials/Material_${t.id}/Texture_${t.emissiveMap.id}_emissive.outputs:rgb>`),o.push(s(t.emissiveMap,"emissive"))):t.emissive.getHex()>0&&i.push(`${n}color3f inputs:emissiveColor = ${Wz(t.emissive)}`),t.normalMap!==null&&(i.push(`${n}normal3f inputs:normal.connect = </Materials/Material_${t.id}/Texture_${t.normalMap.id}_normal.outputs:rgb>`),o.push(s(t.normalMap,"normal"))),t.aoMap!==null&&(i.push(`${n}float inputs:occlusion.connect = </Materials/Material_${t.id}/Texture_${t.aoMap.id}_occlusion.outputs:r>`),o.push(s(t.aoMap,"occlusion"))),t.roughnessMap!==null&&t.roughness===1?(i.push(`${n}float inputs:roughness.connect = </Materials/Material_${t.id}/Texture_${t.roughnessMap.id}_roughness.outputs:g>`),o.push(s(t.roughnessMap,"roughness"))):i.push(`${n}float inputs:roughness = ${t.roughness}`),t.metalnessMap!==null&&t.metalness===1?(i.push(`${n}float inputs:metallic.connect = </Materials/Material_${t.id}/Texture_${t.metalnessMap.id}_metallic.outputs:b>`),o.push(s(t.metalnessMap,"metallic"))):i.push(`${n}float inputs:metallic = ${t.metalness}`),t.alphaMap!==null?(i.push(`${n}float inputs:opacity.connect = </Materials/Material_${t.id}/Texture_${t.alphaMap.id}_opacity.outputs:r>`),i.push(`${n}float inputs:opacityThreshold = 0.0001`),o.push(s(t.alphaMap,"opacity"))):i.push(`${n}float inputs:opacity = ${t.opacity}`),t.isMeshPhysicalMaterial&&(i.push(`${n}float inputs:clearcoat = ${t.clearcoat}`),i.push(`${n}float inputs:clearcoatRoughness = ${t.clearcoatRoughness}`),i.push(`${n}float inputs:ior = ${t.ior}`)),`
    def Material "Material_${t.id}"
    {
        def Shader "PreviewSurface"
        {
            uniform token info:id = "UsdPreviewSurface"
${i.join(`
`)}
            int inputs:useSpecularWorkflow = 0
            token outputs:surface
        }

        token outputs:surface.connect = </Materials/Material_${t.id}/PreviewSurface.outputs:surface>
        token inputs:frame:stPrimvarName = "st"

        def Shader "uvReader_st"
        {
            uniform token info:id = "UsdPrimvarReader_float2"
            token inputs:varname.connect = </Materials/Material_${t.id}.inputs:frame:stPrimvarName>
            float2 inputs:fallback = (0.0, 0.0)
            float2 outputs:result
        }

${o.join(`
`)}

    }
`}function Wz(t){return`(${t.r}, ${t.g}, ${t.b})`}function qz(t){return`(${t.x}, ${t.y})`}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INe=t=>e=>{try{const n=ad(e),i=(n.length?n[0].terms:[]).filter(s=>s&&s.type==="ident").map(s=>s.value).filter(s=>t.indexOf(s)>-1),o=new Set;for(const s of i)o.add(s);return o}catch{}return new Set};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let Yz=!1,Kz=!1;const Xz="#model-viewer-no-ar-fallback",ONe=INe(["quick-look","scene-viewer","webxr","none"]),NNe="webxr scene-viewer",ba={QUICK_LOOK:"quick-look",SCENE_VIEWER:"scene-viewer",WEBXR:"webxr",NONE:"none"},wl=Symbol("arButtonContainer"),Jz=Symbol("enterARWithWebXR"),Zz=Symbol("openSceneViewer"),Qz=Symbol("openIOSARQuickLook"),kNe=Symbol("canActivateAR"),Wc=Symbol("arMode"),yA=Symbol("arModes"),qh=Symbol("arAnchor"),CE=Symbol("preload"),ME=Symbol("onARButtonContainerClick"),_A=Symbol("onARStatus"),bA=Symbol("onARTracking"),EA=Symbol("onARTap"),R0=Symbol("selectARMode"),wA=Symbol("triggerLoad"),DNe=t=>{var e,n,i,o,s,a,l,c,u,d;class f extends t{constructor(){super(...arguments);this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes=NNe,this.iosSrc=null,this.xrEnvironment=!1,this[e]=!1,this[n]=this.shadowRoot.querySelector(".ar-button"),this[i]=document.createElement("a"),this[o]=new Set,this[s]=ba.NONE,this[a]=!1,this[l]=v=>{v.preventDefault(),this.activateAR()},this[c]=({status:v})=>{(v===Gc.NOT_PRESENTING||this[_n].arRenderer.presentedScene===this[qe])&&(this.setAttribute("ar-status",v),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:v}})),v===Gc.NOT_PRESENTING?this.removeAttribute("ar-tracking"):v===Gc.SESSION_STARTED&&this.setAttribute("ar-tracking",JM.TRACKING))},this[u]=({status:v})=>{this.setAttribute("ar-tracking",v),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:v}}))},this[d]=v=>{v.data=="_apple_ar_quicklook_button_tapped"&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[Wc]!==ba.NONE}connectedCallback(){super.connectedCallback(),this[_n].arRenderer.addEventListener("status",this[_A]),this.setAttribute("ar-status",Gc.NOT_PRESENTING),this[_n].arRenderer.addEventListener("tracking",this[bA]),this[qh].addEventListener("message",this[EA])}disconnectedCallback(){super.disconnectedCallback(),this[_n].arRenderer.removeEventListener("status",this[_A]),this[_n].arRenderer.removeEventListener("tracking",this[bA]),this[qh].removeEventListener("message",this[EA])}async update(v){super.update(v),v.has("arScale")&&(this[qe].canScale=this.arScale!=="fixed"),v.has("arPlacement")&&(this[qe].updateShadow(),this[Ni]()),!(!v.has("ar")&&!v.has("arModes")&&!v.has("src")&&!v.has("iosSrc"))&&(v.has("arModes")&&(this[yA]=ONe(this.arModes)),this[R0]())}async activateAR(){switch(this[Wc]){case ba.QUICK_LOOK:this[Qz]();break;case ba.WEBXR:await this[Jz]();break;case ba.SCENE_VIEWER:this[Zz]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities");break}}async[(e=kNe,n=wl,i=qh,o=yA,s=Wc,a=CE,l=ME,c=_A,u=bA,d=EA,R0)](){if(this[Wc]=ba.NONE,this.ar){if(this.src!=null)for(const v of this[yA]){if(v==="webxr"&&cH&&!Yz&&await this[_n].arRenderer.supportsPresentation()){this[Wc]=ba.WEBXR;break}if(v==="scene-viewer"&&u6e&&!Kz){this[Wc]=ba.SCENE_VIEWER;break}if(v==="quick-look"&&uH){this[Wc]=ba.QUICK_LOOK;break}}!this.canActivateAR&&this.iosSrc!=null&&uH&&(this[Wc]=ba.QUICK_LOOK)}if(this.canActivateAR)this[wl].classList.add("enabled"),this[wl].addEventListener("click",this[ME]);else if(this[wl].classList.contains("enabled")){this[wl].removeEventListener("click",this[ME]),this[wl].classList.remove("enabled");const v=Gc.FAILED;this.setAttribute("ar-status",v),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:v}}))}}async[Jz](){console.log("Attempting to present in AR with WebXR..."),await this[wA]();try{this[wl].removeEventListener("click",this[ME]);const{arRenderer:v}=this[_n];v.placeOnWall=this.arPlacement==="wall",await v.present(this[qe],this.xrEnvironment)}catch(v){console.warn("Error while trying to present in AR with WebXR"),console.error(v),await this[_n].arRenderer.stopPresenting(),Yz=!0,console.warn("Falling back to next ar-mode"),await this[R0](),this.activateAR()}finally{this[R0]()}}async[wA](){this.loaded||(this[CE]=!0,this[ga](),await s8e(this,"load"),this[CE]=!1)}[ud](){return super[ud]()||this[CE]}[Zz](){const v=self.location.toString(),m=new URL(v),_=new URL(this.src,v),S=new URLSearchParams(_.search);if(m.hash=Xz,S.set("mode","ar_preferred"),S.has("disable_occlusion")||S.set("disable_occlusion","true"),this.arScale==="fixed"&&S.set("resizable","false"),this.arPlacement==="wall"&&S.set("enable_vertical_placement","true"),S.has("sound")){const T=new URL(S.get("sound"),v);S.set("sound",T.toString())}if(S.has("link")){const T=new URL(S.get("link"),v);S.set("link",T.toString())}const E=`intent://arvr.google.com/scene-viewer/1.0?${S.toString()+"&file="+encodeURIComponent(_.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(m.toString())};end;`,w=()=>{self.location.hash===Xz&&(Kz=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[R0]())};self.addEventListener("hashchange",w,{once:!0}),this[qh].setAttribute("href",E),console.log("Attempting to present in AR with Scene Viewer..."),this[qh].click()}async[Qz](){const v=!this.iosSrc;this[wl].classList.remove("enabled");const m=v?await this.prepareUSDZ():this.iosSrc,_=new URL(m,self.location.toString());this.arScale==="fixed"&&(_.hash&&(_.hash+="&"),_.hash+="allowsContentScaling=0");const S=this[qh];S.setAttribute("rel","ar");const E=document.createElement("img");S.appendChild(E),S.setAttribute("href",_.toString()),v&&S.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),S.click(),S.removeChild(E),v&&URL.revokeObjectURL(m),this[wl].classList.add("enabled")}async prepareUSDZ(){const v=this[Hh].beginActivity();await this[wA]();const m=this[qe],_=m.shadow;let S=!1;_!=null&&(S=_.visible,_.visible=!1),v(.2);const w=await new bNe().parse(m.modelContainer),T=new Blob([w],{type:"model/vnd.usdz+zip"}),C=URL.createObjectURL(T);return v(1),_!=null&&(_.visible=S),C}}return Wh([Nt({type:Boolean,attribute:"ar"})],f.prototype,"ar",void 0),Wh([Nt({type:String,attribute:"ar-scale"})],f.prototype,"arScale",void 0),Wh([Nt({type:String,attribute:"ar-placement"})],f.prototype,"arPlacement",void 0),Wh([Nt({type:String,attribute:"ar-modes"})],f.prototype,"arModes",void 0),Wh([Nt({type:String,attribute:"ios-src"})],f.prototype,"iosSrc",void 0),Wh([Nt({type:Boolean,attribute:"xr-environment"})],f.prototype,"xrEnvironment",void 0),f};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG,tG,nG;const Yh=Symbol("evaluate"),AE=Symbol("lastValue");class nr{constructor(){this[eG]=null}static evaluatableFor(e,n=zc){if(e instanceof nr)return e;if(e.type==="number")return e.unit==="%"?new FNe(e,n):e;switch(e.name.value){case"calc":return new BNe(e,n);case"env":return new UNe(e)}return zc}static evaluate(e){return e instanceof nr?e.evaluate():e}static isConstant(e){return e instanceof nr?e.isConstant:!0}static applyIntrinsics(e,n){const{basis:i,keywords:o}=n,{auto:s}=o;return i.map((a,l)=>{const c=s[l]==null?a:s[l];let u=e[l]?e[l]:c;if(u.type==="ident"){const d=u.value;d in o&&(u=o[d][l])}return(u==null||u.type==="ident")&&(u=c),u.unit==="%"?ei(u.number/100*a.number,a.unit):(u=pa(u,a),u.unit!==a.unit?a:u)})}get isConstant(){return!1}evaluate(){return(!this.isConstant||this[AE]==null)&&(this[AE]=this[Yh]()),this[AE]}}eG=AE;const rG=Symbol("percentage"),xA=Symbol("basis");class FNe extends nr{constructor(e,n){super();this[rG]=e,this[xA]=n}get isConstant(){return!0}[Yh](){return ei(this[rG].number/100*this[xA].number,this[xA].unit)}}const PE=Symbol("identNode");class UNe extends nr{constructor(e){super();this[tG]=null;const n=e.arguments.length?e.arguments[0].terms[0]:null;n!=null&&n.type==="ident"&&(this[PE]=n)}get isConstant(){return!1}[(tG=PE,Yh)](){if(this[PE]!=null)switch(this[PE].value){case"window-scroll-y":const e=window.pageYOffset,n=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),i=e/(n-window.innerHeight)||0;return{type:"number",number:i,unit:null}}return zc}}const jNe=/[\*\/]/,Kh=Symbol("evalutor");class BNe extends nr{constructor(e,n=zc){super();if(this[nG]=null,e.arguments.length!==1)return;const i=e.arguments[0].terms.slice(),o=[];for(;i.length;){const s=i.shift();if(o.length>0){const a=o[o.length-1];if(a.type==="operator"&&jNe.test(a.value)){const l=o.pop(),c=o.pop();if(c==null)return;o.push(new sG(l,nr.evaluatableFor(c,n),nr.evaluatableFor(s,n)));continue}}o.push(s.type==="operator"?s:nr.evaluatableFor(s,n))}for(;o.length>2;){const[s,a,l]=o.splice(0,3);if(a.type!=="operator")return;o.unshift(new sG(a,nr.evaluatableFor(s,n),nr.evaluatableFor(l,n)))}o.length===1&&(this[Kh]=o[0])}get isConstant(){return this[Kh]==null||nr.isConstant(this[Kh])}[(nG=Kh,Yh)](){return this[Kh]!=null?nr.evaluate(this[Kh]):zc}}const iG=Symbol("operator"),SA=Symbol("left"),TA=Symbol("right");class sG extends nr{constructor(e,n,i){super();this[iG]=e,this[SA]=n,this[TA]=i}get isConstant(){return nr.isConstant(this[SA])&&nr.isConstant(this[TA])}[Yh](){const e=pa(nr.evaluate(this[SA])),n=pa(nr.evaluate(this[TA])),{number:i,unit:o}=e,{number:s,unit:a}=n;if(a!=null&&o!=null&&a!=o)return zc;const l=o||a;let c;switch(this[iG].value){case"+":c=i+s;break;case"-":c=i-s;break;case"/":c=i/s;break;case"*":c=i*s;break;default:return zc}return{type:"number",number:c,unit:l}}}const CA=Symbol("evaluatables"),oG=Symbol("intrinsics");class aG extends nr{constructor(e,n){super();this[oG]=n;const i=e[0],o=i!=null?i.terms:[];this[CA]=n.basis.map((s,a)=>{const l=o[a];return l==null?{type:"ident",value:"auto"}:l.type==="ident"?l:nr.evaluatableFor(l,s)})}get isConstant(){for(const e of this[CA])if(!nr.isConstant(e))return!1;return!0}[Yh](){const e=this[CA].map(n=>nr.evaluate(n));return nr.applyIntrinsics(e,this[oG]).map(n=>n.number)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lG,cG,uG,dG;const Xh=Symbol("instances"),fG=Symbol("activateListener"),hG=Symbol("deactivateListener"),MA=Symbol("notifyInstances"),pG=Symbol("notify"),mG=Symbol("callback");class Ea{constructor(e){this[mG]=e}static[MA](){for(const e of Ea[Xh])e[pG]()}static[(lG=Xh,fG)](){window.addEventListener("scroll",this[MA],{passive:!0})}static[hG](){window.removeEventListener("scroll",this[MA])}observe(){Ea[Xh].size===0&&Ea[fG](),Ea[Xh].add(this)}disconnect(){Ea[Xh].delete(this),Ea[Xh].size===0&&Ea[hG]()}[pG](){this[mG]()}}Ea[lG]=new Set;const gG=Symbol("computeStyleCallback"),vG=Symbol("astWalker"),L0=Symbol("dependencies"),yG=Symbol("onScroll");class VNe{constructor(e){this[cG]={},this[uG]=new u8e(["function"]),this[dG]=()=>{this[gG]({relatedState:"window-scroll"})},this[gG]=e}observeEffectsFor(e){const n={},i=this[L0];this[vG].walk(e,o=>{const{name:s}=o,l=o.arguments[0].terms[0];if(!(s.value!=="env"||l==null||l.type!=="ident"))switch(l.value){case"window-scroll-y":if(n["window-scroll"]==null){const c="window-scroll"in i?i["window-scroll"]:new Ea(this[yG]);c.observe(),delete i["window-scroll"],n["window-scroll"]=c}break}});for(const o in i)i[o].disconnect();this[L0]=n}dispose(){for(const e in this[L0])this[L0][e].disconnect()}}cG=L0,uG=vG,dG=yG;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=t=>{const e=t.observeEffects||!1,n=t.intrinsics instanceof Function?t.intrinsics:()=>t.intrinsics;return(i,o)=>{const s=i.updated,a=i.connectedCallback,l=i.disconnectedCallback,c=Symbol(`${o}StyleEffector`),u=Symbol(`${o}StyleEvaluator`),d=Symbol(`${o}UpdateEvaluator`),f=Symbol(`${o}EvaluateAndSync`);Object.defineProperties(i,{[c]:{value:null,writable:!0},[u]:{value:null,writable:!0},[d]:{value:function(){const h=ad(this[o]);this[u]=new aG(h,n(this)),this[c]==null&&e&&(this[c]=new VNe(()=>this[f]())),this[c]!=null&&this[c].observeEffectsFor(h)}},[f]:{value:function(){if(this[u]==null)return;const h=this[u].evaluate();this[t.updateHandler](h)}},updated:{value:function(h){h.has(o)&&(this[d](),this[f]()),s.call(this,h)}},connectedCallback:{value:function(){a.call(this),this.requestUpdate(o,this[o])}},disconnectedCallback:{value:function(){l.call(this),this[c]!=null&&(this[c].dispose(),this[c]=null)}}})}};/* @license
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,interactionPolicy:"always-allow",touchAction:"pan-y"}),RE=Math.PI/8,LE=.04,Jh={PAGE_UP:33,PAGE_DOWN:34,LEFT:37,UP:38,RIGHT:39,DOWN:40},IE={USER_INTERACTION:"user-interaction",NONE:"none"};class HNe extends _s{constructor(e,n){super();this.camera=e,this.element=n,this.sensitivity=1,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserChange=!1,this.isUserPointing=!1,this.spherical=new oE,this.goalSpherical=new oE,this.thetaDamper=new ws,this.phiDamper=new ws,this.radiusDamper=new ws,this.logFov=Math.log(_G.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new ws,this.touchMode=null,this.lastPointerPosition={clientX:0,clientY:0},this.touchDecided=!1,this.onMouseMove=i=>{this.handleSinglePointerMove(i),i.cancelable&&i.preventDefault()},this.onTouchMove=i=>{this.touchMode!==null&&(this.touchMode(i),this.touchMode!==null&&i.cancelable&&i.preventDefault())},this.touchModeZoom=i=>{const{targetTouches:o}=i;if(this.lastTouches.length>1&&o.length>1){const s=this.twoTouchDistance(this.lastTouches[0],this.lastTouches[1]),a=this.twoTouchDistance(o[0],o[1]),l=LE*(s-a)/10;this.userAdjustOrbit(0,0,l),this.lastTouches=o}},this.touchModeRotate=i=>{const{targetTouches:o}=i,{touchAction:s}=this._options;if(!this.touchDecided&&s!=="none"){this.touchDecided=!0;const{clientX:a,clientY:l}=o[0],c=Math.abs(a-this.lastPointerPosition.clientX),u=Math.abs(l-this.lastPointerPosition.clientY);if(s==="pan-y"&&u>c||s==="pan-x"&&c>u){this.touchMode=null;return}}this.handleSinglePointerMove(o[0]),this.lastTouches=o},this.onMouseDown=i=>{this.onPointerDown(()=>{self.addEventListener("mousemove",this.onMouseMove),self.addEventListener("mouseup",this.onMouseUp,{once:!0}),this.handleSinglePointerDown(i)})},this.onTouchStart=i=>{this.onPointerDown(()=>{const{targetTouches:o,changedTouches:s,touches:a}=i;o.length===s.length&&(this.touchMode=null,this.touchDecided=!1),o.length===a.length&&this.onTouchChange(i)})},this.onMouseUp=i=>{self.removeEventListener("mousemove",this.onMouseMove),this.onPointerUp()},this.onTouchEnd=i=>{i.targetTouches.length>0&&this.touchMode!==null&&this.onTouchChange(i),this.onPointerUp()},this.onWheel=i=>{if(!this.canInteract)return;const o=i.deltaY*(i.deltaMode==1?18:1)*LE/30;this.userAdjustOrbit(0,0,o),i.cancelable&&i.preventDefault()},this.onKeyDown=i=>{let o=!1;switch(i.keyCode){case Jh.PAGE_UP:o=!0,this.userAdjustOrbit(0,0,LE);break;case Jh.PAGE_DOWN:o=!0,this.userAdjustOrbit(0,0,-1*LE);break;case Jh.UP:o=!0,this.userAdjustOrbit(0,-RE,0);break;case Jh.DOWN:o=!0,this.userAdjustOrbit(0,RE,0);break;case Jh.LEFT:o=!0,this.userAdjustOrbit(-RE,0,0);break;case Jh.RIGHT:o=!0,this.userAdjustOrbit(RE,0,0);break}o&&i.cancelable&&i.preventDefault()},this._options=Object.assign({},_G),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(this._interactionEnabled===!1){const{element:e}=this;e.addEventListener("mousedown",this.onMouseDown),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchstart",this.onTouchStart,{passive:!0}),e.addEventListener("touchmove",this.onTouchMove,{passive:!1}),e.addEventListener("touchend",this.onTouchEnd),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(this._interactionEnabled===!0){const{element:e}=this;self.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),this._disableZoom||e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),self.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchend",this.onTouchEnd),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(e){this._disableZoom!=e&&(this._disableZoom=e,e===!0?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(e=new oE){return e.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(e,n){this.camera.near=Math.max(e,n/1e3),this.camera.far=n,this.camera.updateProjectionMatrix()}updateAspect(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}setOrbit(e=this.goalSpherical.theta,n=this.goalSpherical.phi,i=this.goalSpherical.radius){const{minimumAzimuthalAngle:o,maximumAzimuthalAngle:s,minimumPolarAngle:a,maximumPolarAngle:l,minimumRadius:c,maximumRadius:u}=this._options,{theta:d,phi:f,radius:h}=this.goalSpherical,v=od(e,o,s);!isFinite(o)&&!isFinite(s)&&(this.spherical.theta=this.wrapAngle(this.spherical.theta-v)+v);const m=od(n,a,l),_=od(i,c,u);return v===d&&m===f&&_===h?!1:(this.goalSpherical.theta=v,this.goalSpherical.phi=m,this.goalSpherical.radius=_,this.goalSpherical.makeSafe(),this.isUserChange=!1,!0)}setRadius(e){this.goalSpherical.radius=e,this.setOrbit()}setFieldOfView(e){const{minimumFieldOfView:n,maximumFieldOfView:i}=this._options;e=od(e,n,i),this.goalLogFov=Math.log(e)}setDamperDecayTime(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}adjustOrbit(e,n,i){const{theta:o,phi:s,radius:a}=this.goalSpherical,{minimumRadius:l,maximumRadius:c,minimumFieldOfView:u,maximumFieldOfView:d}=this._options,f=this.spherical.theta-o,h=Math.PI-.001,v=o-od(e,-h-f,h-f),m=s-n,_=i===0?0:((i>0?c:l)-a)/(Math.log(i>0?d:u)-this.goalLogFov),S=a+i*(isFinite(_)?_:(c-l)*2);if(this.setOrbit(v,m,S),i!==0){const E=this.goalLogFov+i;this.setFieldOfView(Math.exp(E))}}jumpToGoal(){this.update(0,FH)}update(e,n){if(this.isStationary())return;const{maximumPolarAngle:i,maximumRadius:o}=this._options,s=this.spherical.theta-this.goalSpherical.theta;Math.abs(s)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=Math.sign(s)*2*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,n,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,n,i),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,n,o),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,n,1),this.moveCamera()}updateTouchActionStyle(){const{style:e}=this.element;if(this._interactionEnabled){const{touchAction:n}=this._options;this._disableZoom&&n!=="none"?e.touchAction="manipulation":e.touchAction=n}else e.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new Pc(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix());const e=this.isUserChange?IE.USER_INTERACTION:IE.NONE;this.dispatchEvent({type:"change",source:e})}get canInteract(){return this._options.interactionPolicy=="allow-when-focused"?this.element.getRootNode().activeElement===this.element:this._options.interactionPolicy==="always-allow"}userAdjustOrbit(e,n,i){this.adjustOrbit(e*this.sensitivity,n*this.sensitivity,i),this.isUserChange=!0,this.dispatchEvent({type:"change",source:IE.USER_INTERACTION})}wrapAngle(e){const n=(e+Math.PI)/(2*Math.PI);return(n-Math.floor(n))*2*Math.PI-Math.PI}pixelLengthToSphericalAngle(e){return 2*Math.PI*e/this.element.clientHeight}twoTouchDistance(e,n){const{clientX:i,clientY:o}=e,{clientX:s,clientY:a}=n,l=s-i,c=a-o;return Math.sqrt(l*l+c*c)}handleSinglePointerMove(e){const{clientX:n,clientY:i}=e,o=this.pixelLengthToSphericalAngle(n-this.lastPointerPosition.clientX),s=this.pixelLengthToSphericalAngle(i-this.lastPointerPosition.clientY);this.lastPointerPosition.clientX=n,this.lastPointerPosition.clientY=i,this.isUserPointing===!1&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start",pointer:Object.assign({},e)})),this.userAdjustOrbit(o,s,0)}onPointerDown(e){!this.canInteract||(this.isUserPointing=!1,e())}onTouchChange(e){const{targetTouches:n}=e;switch(n.length){default:case 1:this.touchMode=this.touchModeRotate,this.handleSinglePointerDown(n[0]);break;case 2:this.touchMode=this._disableZoom||this.touchDecided&&this.touchMode===null?null:this.touchModeZoom,this.touchDecided=!0;break}this.lastTouches=n}handleSinglePointerDown(e){this.lastPointerPosition.clientX=e.clientX,this.lastPointerPosition.clientY=e.clientY,this.element.style.cursor="grabbing"}onPointerUp(){this.element.style.cursor="grab",this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end",pointer:Object.assign({},this.lastPointerPosition)})}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=t=>t<.5?2*t*t:-1+(4-2*t)*t,zNe=(t,e,n=bG)=>i=>t+(e-t)*n(i),GNe=(t,e)=>{const n=e.reduce((o,s)=>o+s,0),i=e.map(o=>o/n);return o=>{let s=0,a=1/0,l=()=>0;for(let c=0;c<i.length&&(a=i[c],l=t[c],!(o<=s+a));++c)s+=a;return l((o-s)/a)}},EG=(t,e)=>{const n=[],i=[];let o=t;for(let s=0;s<e.length;++s){const a=e[s],{value:l,frames:c}=a,u=a.ease||bG,d=zNe(o,l,u);n.push(d),i.push(c),o=l}return GNe(n,i)};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const $Ne=5e3,WNe=EG(0,[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]),qNe=EG(0,[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]),wG="0deg 75deg 105%",YNe="auto auto auto",KNe="auto",XNe=1.1,JNe=["front","right","back","left"],ZNe=["upper-","","lower-"],QNe=3e3,eke="Use mouse, touch or arrow keys to control the camera!",hd={AUTO:"auto",WHEN_FOCUSED:"when-focused",NONE:"none"},AA={BASIC:"basic",WIGGLE:"wiggle"},tke={ALWAYS_ALLOW:"always-allow",WHEN_FOCUSED:"allow-when-focused"},nke={PAN_Y:"pan-y",PAN_X:"pan-x",NONE:"none"},rke=()=>({basis:[p0(ei(YM,"deg"))],keywords:{auto:[null]}}),ike={basis:[p0(ei(25,"deg"))],keywords:{auto:[null]}},ske=()=>({basis:[p0(ei(YM,"deg"))],keywords:{auto:[null]}}),xG=(()=>{const t=ad(wG)[0].terms,e=pa(t[0]),n=pa(t[1]);return i=>{const o=i[qe].idealCameraDistance();return{basis:[e,n,ei(o,"m")],keywords:{auto:[null,null,ei(105,"%")]}}}})(),oke=t=>{const e=XNe*t[qe].boundingRadius;return{basis:[ei(-1/0,"rad"),ei(Math.PI/8,"rad"),ei(e,"m")],keywords:{auto:[null,null,null]}}},ake=t=>{const e=xG(t),i=new aG([],e).evaluate()[2];return{basis:[ei(1/0,"rad"),ei(Math.PI-Math.PI/8,"rad"),ei(i,"m")],keywords:{auto:[null,null,null]}}},lke=t=>{const e=t[qe].boundingBox.getCenter(new ee);return{basis:[ei(e.x,"m"),ei(e.y,"m"),ei(e.z,"m")],keywords:{auto:[null,null,null]}}},PA=Math.PI/2,SG=Math.PI/3,TG=PA/2,CG=2*Math.PI,Kn=Symbol("controls"),I0=Symbol("promptElement"),RA=Symbol("promptAnimatedContainer"),OE=Symbol("deferInteractionPrompt"),MG=Symbol("updateAria"),AG=Symbol("updateCameraForRadius"),LA=Symbol("onBlur"),IA=Symbol("onFocus"),OA=Symbol("onChange"),O0=Symbol("onPointerChange"),xl=Symbol("waitingToPromptUser"),N0=Symbol("userHasInteracted"),pd=Symbol("promptElementVisibleTime"),k0=Symbol("lastPromptOffset"),D0=Symbol("focusedTime"),NE=Symbol("lastSpherical"),F0=Symbol("jumpCamera"),NA=Symbol("initialized"),U0=Symbol("maintainThetaPhi"),PG=Symbol("syncCameraOrbit"),RG=Symbol("syncFieldOfView"),LG=Symbol("syncCameraTarget"),IG=Symbol("syncMinCameraOrbit"),OG=Symbol("syncMaxCameraOrbit"),NG=Symbol("syncMinFieldOfView"),kG=Symbol("syncMaxFieldOfView"),cke=t=>{var e,n,i,o,s,a,l,c,u,d,f,h,v,m,_,S;class E extends t{constructor(){super(...arguments);this.cameraControls=!1,this.cameraOrbit=wG,this.cameraTarget=YNe,this.fieldOfView=KNe,this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=QNe,this.interactionPromptStyle=AA.WIGGLE,this.interactionPrompt=hd.AUTO,this.interactionPolicy=tke.ALWAYS_ALLOW,this.orbitSensitivity=1,this.touchAction=nke.PAN_Y,this.disableZoom=!1,this.interpolationDecay=UH,this.bounds="legacy",this[e]=this.shadowRoot.querySelector(".interaction-prompt"),this[n]=this.shadowRoot.querySelector(".interaction-prompt > .animated-container"),this[i]=1/0,this[o]=0,this[s]=1/0,this[a]=!1,this[l]=!1,this[c]=new HNe(this[qe].camera,this[va]),this[u]=new oE,this[d]=!1,this[f]=!1,this[h]=!1,this[v]=()=>{const T=this[va];isFinite(this[D0])||(this[D0]=performance.now());const C=this[iA];T.getAttribute("aria-label")!==C&&T.setAttribute("aria-label",C),this.interactionPrompt===hd.WHEN_FOCUSED&&!this[N0]&&(this[xl]=!0)},this[m]=()=>{this.interactionPrompt===hd.WHEN_FOCUSED&&(this[xl]=!1,this[I0].classList.remove("visible"),this[pd]=1/0,this[D0]=1/0)},this[_]=({source:T})=>{this[MG](),this[Ni](),T===IE.USER_INTERACTION&&(this[N0]=!0,this[OE]()),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:T}}))},this[S]=T=>{T.type==="pointer-change-start"?this[w0].classList.add("pointer-tumbling"):this[w0].classList.remove("pointer-tumbling")}}getCameraOrbit(){const{theta:T,phi:C,radius:P}=this[NE];return{theta:T,phi:C,radius:P,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return EE(this[_n].isPresenting?this[_n].arRenderer.target:this[qe].getTarget())}getFieldOfView(){return this[Kn].getFieldOfView()}getMinimumFieldOfView(){return this[Kn].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Kn].options.maximumFieldOfView}getIdealAspect(){return this[qe].idealAspect}jumpCameraToGoal(){this[F0]=!0,this.requestUpdate(F0,!1)}resetInteractionPrompt(){this[k0]=0,this[pd]=1/0,this[N0]=!1,this[xl]=this.interactionPrompt===hd.AUTO&&this.cameraControls}zoom(T){const C=new WheelEvent("wheel",{deltaY:-30*T});this[va].dispatchEvent(C)}connectedCallback(){super.connectedCallback(),this[Kn].addEventListener("change",this[OA]),this[Kn].addEventListener("pointer-change-start",this[O0]),this[Kn].addEventListener("pointer-change-end",this[O0])}disconnectedCallback(){super.disconnectedCallback(),this[Kn].removeEventListener("change",this[OA]),this[Kn].removeEventListener("pointer-change-start",this[O0]),this[Kn].removeEventListener("pointer-change-end",this[O0])}updated(T){super.updated(T);const C=this[Kn],P=this[va];if(T.has("cameraControls")&&(this.cameraControls?(C.enableInteraction(),this.interactionPrompt===hd.AUTO&&(this[xl]=!0),P.addEventListener("focus",this[IA]),P.addEventListener("blur",this[LA])):(P.removeEventListener("focus",this[IA]),P.removeEventListener("blur",this[LA]),C.disableInteraction(),this[OE]())),T.has("disableZoom")&&(C.disableZoom=this.disableZoom),T.has("bounds")&&(this[qe].tightBounds=this.bounds==="tight"),(T.has("interactionPrompt")||T.has("cameraControls")||T.has("src"))&&(this.interactionPrompt===hd.AUTO&&this.cameraControls&&!this[N0]?this[xl]=!0:this[OE]()),T.has("interactionPromptStyle")&&this[I0].classList.toggle("wiggle",this.interactionPromptStyle===AA.WIGGLE),T.has("interactionPolicy")){const R=this.interactionPolicy;C.applyOptions({interactionPolicy:R})}if(T.has("touchAction")){const R=this.touchAction;C.applyOptions({touchAction:R}),C.updateTouchActionStyle()}T.has("orbitSensitivity")&&(C.sensitivity=this.orbitSensitivity),T.has("interpolationDecay")&&(C.setDamperDecayTime(this.interpolationDecay),this[qe].setTargetDamperDecayTime(this.interpolationDecay)),this[F0]===!0&&Promise.resolve().then(()=>{C.jumpToGoal(),this[qe].jumpToGoal(),this[F0]=!1})}async updateFraming(){const T=this[qe],C=T.adjustedFoV(T.framedFoVDeg);await T.updateFraming();const P=T.adjustedFoV(T.framedFoVDeg),R=this[Kn].getFieldOfView()/C;this[Kn].setFieldOfView(P*R),this[U0]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),await this.requestUpdate("cameraOrbit")}[(e=I0,n=RA,i=D0,o=k0,s=pd,a=N0,l=xl,c=Kn,u=NE,d=F0,f=NA,h=U0,RG)](T){const C=this[qe];C.framedFoVDeg=T[0]*180/Math.PI,this[Kn].setFieldOfView(C.adjustedFoV(C.framedFoVDeg))}[PG](T){if(this[U0]){const{theta:C,phi:P}=this.getCameraOrbit();T[0]=C,T[1]=P,this[U0]=!1}this[Kn].setOrbit(T[0],T[1],T[2])}[IG](T){this[Kn].applyOptions({minimumAzimuthalAngle:T[0],minimumPolarAngle:T[1],minimumRadius:T[2]}),this.jumpCameraToGoal()}[OG](T){this[Kn].applyOptions({maximumAzimuthalAngle:T[0],maximumPolarAngle:T[1],maximumRadius:T[2]}),this[AG](T[2]),this.jumpCameraToGoal()}[NG](T){this[Kn].applyOptions({minimumFieldOfView:T[0]*180/Math.PI}),this.jumpCameraToGoal()}[kG](T){const C=this[qe].adjustedFoV(T[0]*180/Math.PI);this[Kn].applyOptions({maximumFieldOfView:C}),this.jumpCameraToGoal()}[LG](T){const[C,P,R]=T;this[qe].setTarget(C,P,R),this[_n].arRenderer.updateTarget()}[ya](T,C){if(super[ya](T,C),this[_n].isPresenting||!this[zh]())return;const P=performance.now();if(this[xl]){const R=this.interactionPrompt===hd.AUTO?this[E0]:this[D0];this.loaded&&P>R+this.interactionPromptThreshold&&(this[va].setAttribute("aria-label",eke),this[xl]=!1,this[pd]=P,this[I0].classList.add("visible"))}if(isFinite(this[pd])&&this.interactionPromptStyle===AA.WIGGLE){const R=this[qe],A=(P-this[pd])/$Ne%1,L=WNe(A),k=qNe(A);if(this[RA].style.opacity=`${k}`,L!==this[k0]){const U=L*R.width*.05,O=(L-this[k0])*Math.PI/16;this[RA].style.transform=`translateX(${U}px)`,this[Kn].adjustOrbit(O,0,0),this[k0]=L}}this[Kn].update(T,C),this[qe].updateTarget(C)}[OE](){this[xl]=!1,this[I0].classList.remove("visible"),this[pd]=1/0}[AG](T){const C=Math.max(this[qe].boundingRadius,T),P=0,R=2*C;this[Kn].updateNearFar(P,R)}[MG](){const{theta:T,phi:C}=this[NE],{theta:P,phi:R}=this[Kn].getCameraSpherical(this[NE]),A=this.getRootNode();if(A!=null&&A.activeElement===this){const L=(4+Math.floor((T%CG+TG)/PA))%4,k=(4+Math.floor((P%CG+TG)/PA))%4,U=Math.floor(C/SG),O=Math.floor(R/SG);if(k!==L||O!==U){const I=JNe[k],N=`View from stage ${ZNe[O]}${I}`;this[va].setAttribute("aria-label",N)}}}async[x0](T){const C=this[Kn],P=this[qe],R=P.adjustedFoV(P.framedFoVDeg);super[x0](T);const A=P.adjustedFoV(P.framedFoVDeg),L=C.getFieldOfView()/R;C.updateAspect(this[qe].aspect),await this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this[Kn].setFieldOfView(A*L),this.jumpCameraToGoal()}[_a](){super[_a](),this[NA]?this[U0]=!0:this[NA]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return v=IA,m=LA,_=OA,S=O0,ni([Nt({type:Boolean,attribute:"camera-controls"})],E.prototype,"cameraControls",void 0),ni([qc({intrinsics:xG,observeEffects:!0,updateHandler:PG}),Nt({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],E.prototype,"cameraOrbit",void 0),ni([qc({intrinsics:lke,observeEffects:!0,updateHandler:LG}),Nt({type:String,attribute:"camera-target",hasChanged:()=>!0})],E.prototype,"cameraTarget",void 0),ni([qc({intrinsics:rke,observeEffects:!0,updateHandler:RG}),Nt({type:String,attribute:"field-of-view",hasChanged:()=>!0})],E.prototype,"fieldOfView",void 0),ni([qc({intrinsics:oke,updateHandler:IG}),Nt({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],E.prototype,"minCameraOrbit",void 0),ni([qc({intrinsics:ake,updateHandler:OG}),Nt({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],E.prototype,"maxCameraOrbit",void 0),ni([qc({intrinsics:ike,updateHandler:NG}),Nt({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],E.prototype,"minFieldOfView",void 0),ni([qc({intrinsics:ske,updateHandler:kG}),Nt({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],E.prototype,"maxFieldOfView",void 0),ni([Nt({type:Number,attribute:"interaction-prompt-threshold"})],E.prototype,"interactionPromptThreshold",void 0),ni([Nt({type:String,attribute:"interaction-prompt-style"})],E.prototype,"interactionPromptStyle",void 0),ni([Nt({type:String,attribute:"interaction-prompt"})],E.prototype,"interactionPrompt",void 0),ni([Nt({type:String,attribute:"interaction-policy"})],E.prototype,"interactionPolicy",void 0),ni([Nt({type:Number,attribute:"orbit-sensitivity"})],E.prototype,"orbitSensitivity",void 0),ni([Nt({type:String,attribute:"touch-action"})],E.prototype,"touchAction",void 0),ni([Nt({type:Boolean,attribute:"disable-zoom"})],E.prototype,"disableZoom",void 0),ni([Nt({type:Number,attribute:"interpolation-decay"})],E.prototype,"interpolationDecay",void 0),ni([Nt({type:String,attribute:"bounds"})],E.prototype,"bounds",void 0),E};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DG,FG;const uke="This page includes one or more 3D models that are loading",dke="All 3D models in the page have loaded",fke=100,kE=Symbol("modelViewerStatusInstance"),UG=Symbol("updateStatus");class hke extends _s{constructor(){super();this[DG]=null,this.registeredInstanceStatuses=new Map,this.loadingPromises=[],this.statusElement=document.createElement("p"),this.statusUpdateInProgress=!1,this[FG]=$M(()=>this.updateStatus(),fke);const{statusElement:e}=this,{style:n}=e;e.setAttribute("role","status"),e.classList.add("screen-reader-only"),n.top=n.left="0",n.pointerEvents="none"}registerInstance(e){if(this.registeredInstanceStatuses.has(e))return;let n=()=>{};const i=e.loaded===!1&&!!e.src,o=new Promise(s=>{if(!i){s();return}const a=()=>{s(),e.removeEventListener("load",a),e.removeEventListener("error",a)};e.addEventListener("load",a),e.addEventListener("error",a),n=a});this.registeredInstanceStatuses.set(e,{onUnregistered:n}),this.loadingPromises.push(o),this.modelViewerStatusInstance==null&&(this.modelViewerStatusInstance=e)}unregisterInstance(e){if(!this.registeredInstanceStatuses.has(e))return;const n=this.registeredInstanceStatuses,i=n.get(e);n.delete(e),i.onUnregistered(),this.modelViewerStatusInstance===e&&(this.modelViewerStatusInstance=n.size>0?i8e(n):null)}get modelViewerStatusInstance(){return this[kE]}set modelViewerStatusInstance(e){if(this[kE]===e)return;const{statusElement:i}=this;e!=null&&e.shadowRoot!=null?e.shadowRoot.appendChild(i):i.parentNode!=null&&i.parentNode.removeChild(i),this[kE]=e,this[UG]()}async updateStatus(){if(!(this.statusUpdateInProgress||this.loadingPromises.length===0)){for(this.statusElement.textContent=uke,this.statusUpdateInProgress=!0,this.dispatchEvent({type:"initial-status-announced"});this.loadingPromises.length;){const{loadingPromises:e}=this;this.loadingPromises=[],await Promise.all(e)}this.statusElement.textContent=dke,this.statusUpdateInProgress=!1,this.dispatchEvent({type:"finished-loading-announced"})}}}DG=kE,FG=UG;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j0=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const pke=100,mke=.2,gke="https://www.gstatic.com/draco/versioned/decoders/1.4.1/",vke="https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/",yke=32,_ke=13,Zh={AUTO:"auto",INTERACTION:"interaction",MANUAL:"manual"},jG={AUTO:"auto",LAZY:"lazy",EAGER:"eager"},bke={INTERACTION:"interaction"},BG=new hke,md=Symbol("defaultProgressBarElement"),VG=Symbol("defaultProgressMaskElement"),Sl=Symbol("posterContainerElement"),Qh=Symbol("defaultPosterElement"),B0=Symbol("posterDismissalSource"),kA=Symbol("hidePoster"),DE=Symbol("modelIsRevealed"),DA=Symbol("updateProgressBar"),V0=Symbol("lastReportedProgress"),H0=Symbol("transitioned"),FA=Symbol("onTransitionEnd"),HG=Symbol("ariaLabelCallToAction"),UA=Symbol("onClick"),jA=Symbol("onKeydown"),BA=Symbol("onProgress"),Eke=t=>{var e,n,i,o,s,a,l,c,u,d,f,h,v,m;class _ extends t{constructor(...E){super(...E);this.poster=null,this.reveal=Zh.AUTO,this.loading=jG.AUTO,this.generateSchema=!1,this.seamlessPoster=!1,this[e]=!1,this[n]=!1,this[i]=0,this[o]=null,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[a]=this.shadowRoot.querySelector("#default-poster"),this[l]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[c]=this.shadowRoot.querySelector("#default-progress-bar > .mask"),this[u]=this[Qh].getAttribute("aria-label"),this[d]=n8e(P=>{const R=this[md].parentNode;requestAnimationFrame(()=>{this[VG].style.opacity=`${(1-P)*mke}`,this[md].style.transform=`scaleX(${P})`,P===0&&(R.removeChild(this[md]),R.appendChild(this[md])),P===1?this[md].classList.add("hide"):this[md].classList.remove("hide")})},pke),this[f]=()=>{this.reveal===Zh.MANUAL||this.reveal===Zh.AUTO||this.dismissPoster()},this[h]=P=>{if(this.reveal!==Zh.MANUAL)switch(P.keyCode){case yke:case _ke:this.dismissPoster();break}},this[v]=P=>{const R=P.detail.totalProgress;this[V0]=Math.max(R,this[V0]),R===1&&(this[DA].flush(),this[dd]()&&(this[B0]!=null||this.reveal===Zh.AUTO)&&this[kA]()),this[DA](R),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:R}}))},this[m]=()=>{this[H0]=!0;const P=this.getRootNode();P&&P.activeElement===this&&this[va].focus();const R=this[Qh];R.setAttribute("aria-hidden","true"),R.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))};const w=self.ModelViewerElement||{},T=w.dracoDecoderLocation||gke;Oi.setDRACODecoderLocation(T);const C=w.ktx2TranscoderLocation||vke;Oi.setKTX2TranscoderLocation(C),w.meshoptDecoderLocation&&Oi.setMeshoptDecoderLocation(w.meshoptDecoderLocation)}static set dracoDecoderLocation(E){Oi.setDRACODecoderLocation(E)}static get dracoDecoderLocation(){return Oi.getDRACODecoderLocation()}static set ktx2TranscoderLocation(E){Oi.setKTX2TranscoderLocation(E)}static get ktx2TranscoderLocation(){return Oi.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(E){Oi.setMeshoptDecoderLocation(E)}static get meshoptDecoderLocation(){return Oi.getMeshoptDecoderLocation()}static mapURLs(E){_l.singleton.loader[Uh].manager.setURLModifier(E)}dismissPoster(){this[dd]()?this[kA]():(this[B0]=bke.INTERACTION,this[ga]())}showPoster(){const E=this[Sl],w=this[Qh];w.removeAttribute("tabindex"),w.removeAttribute("aria-hidden"),E.classList.add("show");const T=this.modelIsVisible;this[DE]=!1,this[yE](T),this[H0]=!1}getDimensions(){return EE(this[qe].size)}connectedCallback(){super.connectedCallback(),this[Sl].addEventListener("click",this[UA]),this[Sl].addEventListener("keydown",this[jA]),this[Hh].addEventListener("progress",this[BA]),BG.registerInstance(this)}disconnectedCallback(){super.disconnectedCallback(),this[Sl].removeEventListener("click",this[UA]),this[Sl].removeEventListener("keydown",this[jA]),this[Hh].removeEventListener("progress",this[BA]),BG.unregisterInstance(this)}async updated(E){super.updated(E),E.has("poster")&&this.poster!=null&&(this[Qh].style.backgroundImage=`url(${this.poster})`),E.has("alt")&&this[Qh].setAttribute("aria-label",`${this[iA]}. ${this[HG]}`),(E.has("reveal")||E.has("loading"))&&this[ga](),E.has("generateSchema")&&(this.generateSchema===!0?this[qe].updateSchema(this.src):this[qe].updateSchema(null)),E.has("seamlessPoster")&&(this.seamlessPoster===!0?this[Sl].classList.add("quick"):this[Sl].classList.remove("quick"))}[(e=DE,n=H0,i=V0,o=B0,s=Sl,a=Qh,l=md,c=VG,u=HG,d=DA,f=UA,h=jA,v=BA,ud)](){return!!this.src&&(this[B0]!=null||this.loading===jG.EAGER||this.reveal===Zh.AUTO&&this[cd])}[dd](){const{src:E}=this;return!!E&&super[dd]()&&this[V0]===1}[(m=FA,kA)](){this[B0]=null;const E=this[Sl];if(E.classList.contains("show")){const w=this.modelIsVisible;this[DE]=!0,this[yE](w),requestAnimationFrame(()=>{E.classList.remove("show"),this.seamlessPoster===!0?this[FA]():E.addEventListener("transitionend",this[FA],{once:!0})})}else this[H0]=!0}[bE](){return super[bE]()&&this[DE]}[zh](){return super[zh]()&&this[H0]}async[ga](){this[V0]=0,this.generateSchema===!0&&this[qe].updateSchema(this.src),(this[qe].currentGLTF==null||this.src==null||!this[ud]())&&this.showPoster(),await super[ga]()}}return j0([Nt({type:String})],_.prototype,"poster",void 0),j0([Nt({type:String})],_.prototype,"reveal",void 0),j0([Nt({type:String})],_.prototype,"loading",void 0),j0([Nt({type:Boolean,attribute:"generate-schema"})],_.prototype,"generateSchema",void 0),j0([Nt({type:Boolean,attribute:"seamless-poster"})],_.prototype,"seamlessPoster",void 0),_};class VA{constructor(){this.pluginCallbacks=[],this.register(function(e){return new Rke(e)}),this.register(function(e){return new Lke(e)}),this.register(function(e){return new Ike(e)}),this.register(function(e){return new Nke(e)}),this.register(function(e){return new kke(e)}),this.register(function(e){return new Oke(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,o){typeof i=="object"&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),o=i);const s=new Pke,a=[];for(let l=0,c=this.pluginCallbacks.length;l<c;l++)a.push(this.pluginCallbacks[l](s));s.setPlugins(a),s.write(e,n,o).catch(i)}parseAsync(e,n){const i=this;return new Promise(function(o,s){i.parse(e,o,s,n)})}}const Mn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},xs={};xs[br]=Mn.NEAREST;xs[ab]=Mn.NEAREST_MIPMAP_NEAREST;xs[lb]=Mn.NEAREST_MIPMAP_LINEAR;xs[In]=Mn.LINEAR;xs[aC]=Mn.LINEAR_MIPMAP_NEAREST;xs[rl]=Mn.LINEAR_MIPMAP_LINEAR;xs[Zr]=Mn.CLAMP_TO_EDGE;xs[nl]=Mn.REPEAT;xs[Ug]=Mn.MIRRORED_REPEAT;const zG={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},GG=12,wke=1179937895,xke=2,$G=8,Ske=1313821514,Tke=5130562;function z0(t,e){return t.length===e.length&&t.every(function(n,i){return n===e[i]})}function Cke(t){if(window.TextEncoder!==void 0)return new TextEncoder().encode(t).buffer;const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0,i=t.length;n<i;n++){const o=t.charCodeAt(n);e[n]=o>255?32:o}return e.buffer}function Mke(t){return z0(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function Ake(t,e,n){const i={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let o=e;o<e+n;o++)for(let s=0;s<t.itemSize;s++){let a;t.itemSize>4?a=t.array[o*t.itemSize+s]:s===0?a=t.getX(o):s===1?a=t.getY(o):s===2?a=t.getZ(o):s===3&&(a=t.getW(o)),i.min[s]=Math.min(i.min[s],a),i.max[s]=Math.max(i.max[s],a)}return i}function WG(t){return Math.ceil(t/4)*4}function HA(t,e=0){const n=WG(t.byteLength);if(n!==t.byteLength){const i=new Uint8Array(n);if(i.set(new Uint8Array(t)),e!==0)for(let o=t.byteLength;o<n;o++)i[o]=e;return i.buffer}return t}let qG=null;class Pke{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,n,i){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const o=this,s=o.buffers,a=o.json;i=o.options;const l=o.extensionsUsed,c=new Blob(s,{type:"application/octet-stream"}),u=Object.keys(l);if(u.length>0&&(a.extensionsUsed=u),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),i.binary===!0){const d=new window.FileReader;d.readAsArrayBuffer(c),d.onloadend=function(){const f=HA(d.result),h=new DataView(new ArrayBuffer($G));h.setUint32(0,f.byteLength,!0),h.setUint32(4,Tke,!0);const v=HA(Cke(JSON.stringify(a)),32),m=new DataView(new ArrayBuffer($G));m.setUint32(0,v.byteLength,!0),m.setUint32(4,Ske,!0);const _=new ArrayBuffer(GG),S=new DataView(_);S.setUint32(0,wke,!0),S.setUint32(4,xke,!0);const E=GG+m.byteLength+v.byteLength+h.byteLength+f.byteLength;S.setUint32(8,E,!0);const w=new Blob([_,m,v,h,f],{type:"application/octet-stream"}),T=new window.FileReader;T.readAsArrayBuffer(w),T.onloadend=function(){n(T.result)}}}else if(a.buffers&&a.buffers.length>0){const d=new window.FileReader;d.readAsDataURL(c),d.onloadend=function(){const f=d.result;a.buffers[0].uri=f,n(a)}}else n(a)}serializeUserData(e,n){if(Object.keys(e.userData).length===0)return;const i=this.options,o=this.extensionsUsed;try{const s=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&s.gltfExtensions){n.extensions===void 0&&(n.extensions={});for(const a in s.gltfExtensions)n.extensions[a]=s.gltfExtensions[a],o[a]=!0;delete s.gltfExtensions}Object.keys(s).length>0&&(n.extras=s)}catch(s){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+s.message)}}getUID(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const i=new ee;for(let o=0,s=e.count;o<s;o++)if(Math.abs(i.fromBufferAttribute(e,o).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);const i=e.clone(),o=new ee;for(let s=0,a=i.count;s<a;s++)o.fromBufferAttribute(i,s),o.x===0&&o.y===0&&o.z===0?o.setX(1):o.normalize(),i.setXYZ(s,o.x,o.y,o.z);return n.attributesNormalized.set(e,i),i}applyTextureTransform(e,n){let i=!1;const o={};(n.offset.x!==0||n.offset.y!==0)&&(o.offset=n.offset.toArray(),i=!0),n.rotation!==0&&(o.rotation=n.rotation,i=!0),(n.repeat.x!==1||n.repeat.y!==1)&&(o.scale=n.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=o,this.extensionsUsed.KHR_texture_transform=!0)}processBuffer(e){const n=this.json,i=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),i.push(e),0}processBufferView(e,n,i,o,s){const a=this.json;a.bufferViews||(a.bufferViews=[]);let l;n===Mn.UNSIGNED_BYTE?l=1:n===Mn.UNSIGNED_SHORT?l=2:l=4;const c=WG(o*e.itemSize*l),u=new DataView(new ArrayBuffer(c));let d=0;for(let v=i;v<i+o;v++)for(let m=0;m<e.itemSize;m++){let _;e.itemSize>4?_=e.array[v*e.itemSize+m]:m===0?_=e.getX(v):m===1?_=e.getY(v):m===2?_=e.getZ(v):m===3&&(_=e.getW(v)),n===Mn.FLOAT?u.setFloat32(d,_,!0):n===Mn.UNSIGNED_INT?u.setUint32(d,_,!0):n===Mn.UNSIGNED_SHORT?u.setUint16(d,_,!0):n===Mn.UNSIGNED_BYTE&&u.setUint8(d,_),d+=l}const f={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:c};return s!==void 0&&(f.target=s),s===Mn.ARRAY_BUFFER&&(f.byteStride=e.itemSize*l),this.byteOffset+=c,a.bufferViews.push(f),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const n=this,i=n.json;return i.bufferViews||(i.bufferViews=[]),new Promise(function(o){const s=new window.FileReader;s.readAsArrayBuffer(e),s.onloadend=function(){const a=HA(s.result),l={buffer:n.processBuffer(a),byteOffset:n.byteOffset,byteLength:a.byteLength};n.byteOffset+=a.byteLength,o(i.bufferViews.push(l)-1)}})}processAccessor(e,n,i,o){const s=this.options,a=this.json,l={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let c;if(e.array.constructor===Float32Array)c=Mn.FLOAT;else if(e.array.constructor===Uint32Array)c=Mn.UNSIGNED_INT;else if(e.array.constructor===Uint16Array)c=Mn.UNSIGNED_SHORT;else if(e.array.constructor===Uint8Array)c=Mn.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(i===void 0&&(i=0),o===void 0&&(o=e.count),s.truncateDrawRange&&n!==void 0&&n.index===null){const v=i+o,m=n.drawRange.count===1/0?e.count:n.drawRange.start+n.drawRange.count;i=Math.max(i,n.drawRange.start),o=Math.min(v,m)-i,o<0&&(o=0)}if(o===0)return null;const u=Ake(e,i,o);let d;n!==void 0&&(d=e===n.index?Mn.ELEMENT_ARRAY_BUFFER:Mn.ARRAY_BUFFER);const f=this.processBufferView(e,c,i,o,d),h={bufferView:f.id,byteOffset:f.byteOffset,componentType:c,count:o,max:u.max,min:u.min,type:l[e.itemSize]};return e.normalized===!0&&(h.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(h)-1}processImage(e,n,i){const o=this,s=o.cache,a=o.json,l=o.options,c=o.pending;s.images.has(e)||s.images.set(e,{});const u=s.images.get(e),d=n===er?"image/png":"image/jpeg",f=d+":flipY/"+i.toString();if(u[f]!==void 0)return u[f];a.images||(a.images=[]);const h={mimeType:d};if(l.embedImages){const m=qG=qG||document.createElement("canvas");m.width=Math.min(e.width,l.maxTextureSize),m.height=Math.min(e.height,l.maxTextureSize);const _=m.getContext("2d");if(i===!0&&(_.translate(0,m.height),_.scale(1,-1)),typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap)_.drawImage(e,0,0,m.width,m.height);else{n!==er&&n!==Xs&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const S=new Uint8ClampedArray(e.height*e.width*4);if(n===er)for(let E=0;E<S.length;E+=4)S[E+0]=e.data[E+0],S[E+1]=e.data[E+1],S[E+2]=e.data[E+2],S[E+3]=e.data[E+3];else for(let E=0,w=0;E<S.length;E+=4,w+=3)S[E+0]=e.data[w+0],S[E+1]=e.data[w+1],S[E+2]=e.data[w+2],S[E+3]=255;_.putImageData(new ImageData(S,e.width,e.height),0,0)}l.binary===!0?c.push(new Promise(function(S){m.toBlob(function(E){o.processBufferViewImage(E).then(function(w){h.bufferView=w,S()})},d)})):h.uri=m.toDataURL(d)}else h.uri=e.src;const v=a.images.push(h)-1;return u[f]=v,v}processSampler(e){const n=this.json;n.samplers||(n.samplers=[]);const i={magFilter:xs[e.magFilter],minFilter:xs[e.minFilter],wrapS:xs[e.wrapS],wrapT:xs[e.wrapT]};return n.samplers.push(i)-1}processTexture(e){const n=this.cache,i=this.json;if(n.textures.has(e))return n.textures.get(e);i.textures||(i.textures=[]);const o={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY)};e.name&&(o.name=e.name),this._invokeAll(function(a){a.writeTexture&&a.writeTexture(e,o)});const s=i.textures.push(o)-1;return n.textures.set(e,s),s}processMaterial(e){const n=this.cache,i=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const o={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const s=e.color.toArray().concat([e.opacity]);if(z0(s,[1,1,1,1])||(o.pbrMetallicRoughness.baseColorFactor=s),e.isMeshStandardMaterial?(o.pbrMetallicRoughness.metallicFactor=e.metalness,o.pbrMetallicRoughness.roughnessFactor=e.roughness):(o.pbrMetallicRoughness.metallicFactor=.5,o.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap)if(e.metalnessMap===e.roughnessMap){const l={index:this.processTexture(e.metalnessMap)};this.applyTextureTransform(l,e.metalnessMap),o.pbrMetallicRoughness.metallicRoughnessTexture=l}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(e.map){const l={index:this.processTexture(e.map)};this.applyTextureTransform(l,e.map),o.pbrMetallicRoughness.baseColorTexture=l}if(e.emissive){const l=e.emissive.clone().multiplyScalar(e.emissiveIntensity),c=Math.max(l.r,l.g,l.b);if(c>1&&(l.multiplyScalar(1/c),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),c>0&&(o.emissiveFactor=l.toArray()),e.emissiveMap){const u={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(u,e.emissiveMap),o.emissiveTexture=u}}if(e.normalMap){const l={index:this.processTexture(e.normalMap)};e.normalScale&&e.normalScale.x!==1&&(l.scale=e.normalScale.x),this.applyTextureTransform(l,e.normalMap),o.normalTexture=l}if(e.aoMap){const l={index:this.processTexture(e.aoMap),texCoord:1};e.aoMapIntensity!==1&&(l.strength=e.aoMapIntensity),this.applyTextureTransform(l,e.aoMap),o.occlusionTexture=l}e.transparent?o.alphaMode="BLEND":e.alphaTest>0&&(o.alphaMode="MASK",o.alphaCutoff=e.alphaTest),e.side===Qa&&(o.doubleSided=!0),e.name!==""&&(o.name=e.name),this.serializeUserData(e,o),this._invokeAll(function(l){l.writeMaterial&&l.writeMaterial(e,o)});const a=i.materials.push(o)-1;return n.materials.set(e,a),a}processMesh(e){const n=this.cache,i=this.json,o=[e.geometry.uuid];if(Array.isArray(e.material))for(let T=0,C=e.material.length;T<C;T++)o.push(e.material[T].uuid);else o.push(e.material.uuid);const s=o.join(":");if(n.meshes.has(s))return n.meshes.get(s);const a=e.geometry;let l;if(e.isLineSegments?l=Mn.LINES:e.isLineLoop?l=Mn.LINE_LOOP:e.isLine?l=Mn.LINE_STRIP:e.isPoints?l=Mn.POINTS:l=e.material.wireframe?Mn.LINES:Mn.TRIANGLES,a.isBufferGeometry!==!0)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");const c={},u={},d=[],f=[],h={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},v=a.getAttribute("normal");v!==void 0&&!this.isNormalizedNormalAttribute(v)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(v)));let m=null;for(let T in a.attributes){if(T.substr(0,5)==="morph")continue;const C=a.attributes[T];if(T=h[T]||T.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(T)||(T="_"+T),n.attributes.has(this.getUID(C))){u[T]=n.attributes.get(this.getUID(C));continue}m=null;const R=C.array;T==="JOINTS_0"&&!(R instanceof Uint16Array)&&!(R instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new Nn(new Uint16Array(R),C.itemSize,C.normalized));const A=this.processAccessor(m||C,a);A!==null&&(u[T]=A,n.attributes.set(this.getUID(C),A))}if(v!==void 0&&a.setAttribute("normal",v),Object.keys(u).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const T=[],C=[],P={};if(e.morphTargetDictionary!==void 0)for(const R in e.morphTargetDictionary)P[e.morphTargetDictionary[R]]=R;for(let R=0;R<e.morphTargetInfluences.length;++R){const A={};let L=!1;for(const k in a.morphAttributes){if(k!=="position"&&k!=="normal"){L||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),L=!0);continue}const U=a.morphAttributes[k][R],O=k.toUpperCase(),I=a.attributes[k];if(n.attributes.has(this.getUID(U))){A[O]=n.attributes.get(this.getUID(U));continue}const F=U.clone();if(!a.morphTargetsRelative)for(let N=0,H=U.count;N<H;N++)F.setXYZ(N,U.getX(N)-I.getX(N),U.getY(N)-I.getY(N),U.getZ(N)-I.getZ(N));A[O]=this.processAccessor(F,a),n.attributes.set(this.getUID(I),A[O])}f.push(A),T.push(e.morphTargetInfluences[R]),e.morphTargetDictionary!==void 0&&C.push(P[R])}c.weights=T,C.length>0&&(c.extras={},c.extras.targetNames=C)}const _=Array.isArray(e.material);if(_&&a.groups.length===0)return null;const S=_?e.material:[e.material],E=_?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let T=0,C=E.length;T<C;T++){const P={mode:l,attributes:u};if(this.serializeUserData(a,P),f.length>0&&(P.targets=f),a.index!==null){let A=this.getUID(a.index);(E[T].start!==void 0||E[T].count!==void 0)&&(A+=":"+E[T].start+":"+E[T].count),n.attributes.has(A)?P.indices=n.attributes.get(A):(P.indices=this.processAccessor(a.index,a,E[T].start,E[T].count),n.attributes.set(A,P.indices)),P.indices===null&&delete P.indices}const R=this.processMaterial(S[E[T].materialIndex]);R!==null&&(P.material=R),d.push(P)}c.primitives=d,i.meshes||(i.meshes=[]),this._invokeAll(function(T){T.writeMesh&&T.writeMesh(e,c)});const w=i.meshes.push(c)-1;return n.meshes.set(s,w),w}processCamera(e){const n=this.json;n.cameras||(n.cameras=[]);const i=e.isOrthographicCamera,o={type:i?"orthographic":"perspective"};return i?o.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:o.perspective={aspectRatio:e.aspect,yfov:fB.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(o.name=e.type),n.cameras.push(o)-1}processAnimation(e,n){const i=this.json,o=this.nodeMap;i.animations||(i.animations=[]),e=VA.Utils.mergeMorphTargetTracks(e.clone(),n);const s=e.tracks,a=[],l=[];for(let c=0;c<s.length;++c){const u=s[c],d=an.parseTrackName(u.name);let f=an.findNode(n,d.nodeName);const h=zG[d.propertyName];if(d.objectName==="bones"&&(f.isSkinnedMesh===!0?f=f.skeleton.getBoneByName(d.objectIndex):f=void 0),!f||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;const v=1;let m=u.values.length/u.times.length;h===zG.morphTargetInfluences&&(m/=f.morphTargetInfluences.length);let _;u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(_="CUBICSPLINE",m/=3):u.getInterpolation()===rh?_="STEP":_="LINEAR",l.push({input:this.processAccessor(new Nn(u.times,v)),output:this.processAccessor(new Nn(u.values,m)),interpolation:_}),a.push({sampler:l.length-1,target:{node:o.get(f),path:h}})}return i.animations.push({name:e.name||"clip_"+i.animations.length,samplers:l,channels:a}),i.animations.length-1}processSkin(e){const n=this.json,i=this.nodeMap,o=n.nodes[i.get(e)],s=e.skeleton;if(s===void 0)return null;const a=e.skeleton.bones[0];if(a===void 0)return null;const l=[],c=new Float32Array(s.bones.length*16),u=new ot;for(let f=0;f<s.bones.length;++f)l.push(i.get(s.bones[f])),u.copy(s.boneInverses[f]),u.multiply(e.bindMatrix).toArray(c,f*16);return n.skins===void 0&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new Nn(c,16)),joints:l,skeleton:i.get(a)}),o.skin=n.skins.length-1}processNode(e){const n=this.json,i=this.options,o=this.nodeMap;n.nodes||(n.nodes=[]);const s={};if(i.trs){const l=e.quaternion.toArray(),c=e.position.toArray(),u=e.scale.toArray();z0(l,[0,0,0,1])||(s.rotation=l),z0(c,[0,0,0])||(s.translation=c),z0(u,[1,1,1])||(s.scale=u)}else e.matrixAutoUpdate&&e.updateMatrix(),Mke(e.matrix)===!1&&(s.matrix=e.matrix.elements);if(e.name!==""&&(s.name=String(e.name)),this.serializeUserData(e,s),e.isMesh||e.isLine||e.isPoints){const l=this.processMesh(e);l!==null&&(s.mesh=l)}else e.isCamera&&(s.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const l=[];for(let c=0,u=e.children.length;c<u;c++){const d=e.children[c];if(d.visible||i.onlyVisible===!1){const f=this.processNode(d);f!==null&&l.push(f)}}l.length>0&&(s.children=l)}this._invokeAll(function(l){l.writeNode&&l.writeNode(e,s)});const a=n.nodes.push(s)-1;return o.set(e,a),a}processScene(e){const n=this.json,i=this.options;n.scenes||(n.scenes=[],n.scene=0);const o={};e.name!==""&&(o.name=e.name),n.scenes.push(o);const s=[];for(let a=0,l=e.children.length;a<l;a++){const c=e.children[a];if(c.visible||i.onlyVisible===!1){const u=this.processNode(c);u!==null&&s.push(u)}}s.length>0&&(o.nodes=s),this.serializeUserData(e,o)}processObjects(e){const n=new ua;n.name="AuxScene";for(let i=0;i<e.length;i++)n.children.push(e[i]);this.processScene(n)}processInput(e){const n=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(o){o.beforeParse&&o.beforeParse(e)});const i=[];for(let o=0;o<e.length;o++)e[o]instanceof ua?this.processScene(e[o]):i.push(e[o]);i.length>0&&this.processObjects(i);for(let o=0;o<this.skins.length;++o)this.processSkin(this.skins[o]);for(let o=0;o<n.animations.length;++o)this.processAnimation(n.animations[o],e[0]);this._invokeAll(function(o){o.afterParse&&o.afterParse(e)})}_invokeAll(e){for(let n=0,i=this.plugins.length;n<i;n++)e(this.plugins[n])}}class Rke{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,n){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const i=this.writer,o=i.json,s=i.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),s[this.name]||(o.extensions=o.extensions||{},o.extensions[this.name]={lights:[]},s[this.name]=!0);const l=o.extensions[this.name].lights;l.push(a),n.extensions=n.extensions||{},n.extensions[this.name]={light:l.length-1}}}class Lke{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,n){if(!e.isMeshBasicMaterial)return;const o=this.writer.extensionsUsed;n.extensions=n.extensions||{},n.extensions[this.name]={},o[this.name]=!0,n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9}}class Ike{constructor(e){this.writer=e,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(e,n){if(!e.isGLTFSpecularGlossinessMaterial)return;const i=this.writer,o=i.extensionsUsed,s={};n.pbrMetallicRoughness.baseColorFactor&&(s.diffuseFactor=n.pbrMetallicRoughness.baseColorFactor);const a=[1,1,1];if(e.specular.toArray(a,0),s.specularFactor=a,s.glossinessFactor=e.glossiness,n.pbrMetallicRoughness.baseColorTexture&&(s.diffuseTexture=n.pbrMetallicRoughness.baseColorTexture),e.specularMap){const l={index:i.processTexture(e.specularMap)};i.applyTextureTransform(l,e.specularMap),s.specularGlossinessTexture=l}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class Oke{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.clearcoatFactor=e.clearcoat,e.clearcoatMap){const a={index:i.processTexture(e.clearcoatMap)};i.applyTextureTransform(a,e.clearcoatMap),s.clearcoatTexture=a}if(s.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const a={index:i.processTexture(e.clearcoatRoughnessMap)};i.applyTextureTransform(a,e.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=a}if(e.clearcoatNormalMap){const a={index:i.processTexture(e.clearcoatNormalMap)};i.applyTextureTransform(a,e.clearcoatNormalMap),s.clearcoatNormalTexture=a}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class Nke{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.transmissionFactor=e.transmission,e.transmissionMap){const a={index:i.processTexture(e.transmissionMap)};i.applyTextureTransform(a,e.transmissionMap),s.transmissionTexture=a}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class kke{constructor(e){this.writer=e,this.name="KHR_materials_volume"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.thicknessFactor=e.thickness,e.thicknessMap){const a={index:i.processTexture(e.thicknessMap)};i.applyTextureTransform(a,e.thicknessMap),s.thicknessTexture=a}s.attenuationDistance=e.attenuationDistance,s.attenuationColor=e.attenuationColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}VA.Utils={insertKeyframe:function(t,e){const n=.001,i=t.getValueSize(),o=new t.TimeBufferType(t.times.length+1),s=new t.ValueBufferType(t.values.length+i),a=t.createInterpolant(new t.ValueBufferType(i));let l;if(t.times.length===0){o[0]=e;for(let c=0;c<i;c++)s[c]=0;l=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<n)return 0;o[0]=e,o.set(t.times,1),s.set(a.evaluate(e),0),s.set(t.values,i),l=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<n)return t.times.length-1;o[o.length-1]=e,o.set(t.times,0),s.set(t.values,0),s.set(a.evaluate(e),t.values.length),l=o.length-1}else for(let c=0;c<t.times.length;c++){if(Math.abs(t.times[c]-e)<n)return c;if(t.times[c]<e&&t.times[c+1]>e){o.set(t.times.slice(0,c+1),0),o[c+1]=e,o.set(t.times.slice(c+1),c+2),s.set(t.values.slice(0,(c+1)*i),0),s.set(a.evaluate(e),(c+1)*i),s.set(t.values.slice((c+1)*i),(c+2)*i),l=c+1;break}}return t.times=o,t.values=s,l},mergeMorphTargetTracks:function(t,e){const n=[],i={},o=t.tracks;for(let s=0;s<o.length;++s){let a=o[s];const l=an.parseTrackName(a.name),c=an.findNode(e,l.nodeName);if(l.propertyName!=="morphTargetInfluences"||l.propertyIndex===void 0){n.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(Yu)}const u=c.morphTargetInfluences.length,d=c.morphTargetDictionary[l.propertyIndex];if(d===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+l.propertyIndex);let f;if(i[c.uuid]===void 0){f=a.clone();const v=new f.ValueBufferType(u*f.times.length);for(let m=0;m<f.times.length;m++)v[m*u+d]=f.values[m];f.name=(l.nodeName||"")+".morphTargetInfluences",f.values=v,i[c.uuid]=f,n.push(f);continue}const h=a.createInterpolant(new a.ValueBufferType(1));f=i[c.uuid];for(let v=0;v<f.times.length;v++)f.values[v*u+d]=h.evaluate(f.times[v]);for(let v=0;v<a.times.length;v++){const m=this.insertKeyframe(f,a.times[v]);f.values[m*u+d]=a.values[v]}}return t.tracks=n,t}};/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=t=>t.material!==void 0&&t.userData&&t.userData.variantMaterials&&!!Array.from(t.userData.variantMaterials.values()).filter(e=>FE(e.material)),FE=t=>t&&t.isMaterial&&!Array.isArray(t);class Dke{constructor(e){this.writer=e,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(e){const n=new Set;for(const i of e)i.traverse(o=>{if(!YG(o))return;const s=o.userData.variantMaterials,a=o.userData.variantData;for(const[l,c]of a){const u=s.get(c.index);FE(u.material)&&n.add(l)}});n.forEach(i=>this.variantNames.push(i))}writeMesh(e,n){if(!YG(e))return;const i=e.userData,o=i.variantMaterials,s=i.variantData,a=new Map,l=new Map,c=Array.from(s.values()).sort((f,h)=>f.index-h.index);for(const[f,h]of c.entries())l.set(h.index,f);for(const f of s.values()){const h=o.get(f.index).material;if(!FE(h))continue;const v=this.writer.processMaterial(h);a.has(v)||a.set(v,{material:v,variants:[]}),a.get(v).variants.push(l.get(f.index))}const u=Array.from(a.values()).map(f=>f.variants.sort((h,v)=>h-v)&&f).sort((f,h)=>f.material-h.material);if(u.length===0)return;const d=FE(i.originalMaterial)?this.writer.processMaterial(i.originalMaterial):-1;for(const f of n.primitives)d>=0&&(f.material=d),f.extensions=f.extensions||{},f.extensions[this.name]={mappings:u}}afterParse(){if(this.variantNames.length===0)return;const e=this.writer.json;e.extensions=e.extensions||{};const n=this.variantNames.map(i=>({name:i}));e.extensions[this.name]={variants:n},this.writer.extensionsUsed[this.name]=!0}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=Symbol("correlatedObjects"),xn=Symbol("sourceObject"),Lo=Symbol("onUpdate");class G0{constructor(e,n,i=null){this[Lo]=e,this[xn]=n,this[Cr]=i}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fke=new xM,KG=new Po,Uke=new Qu(2,2);let jke=0;const UE=Symbol("threeTexture");class Bke extends G0{get[UE](){var e;return console.assert(this[Cr]!=null&&this[Cr].size>0,"Image correlated object is undefined"),(e=this[Cr])===null||e===void 0?void 0:e.values().next().value}constructor(e,n,i){i=i!=null?i:{name:"adhoc_image",uri:n&&n.image&&n.image.src?n.image.src:"adhoc_image"+jke++};super(e,i,new Set(n?[n]:[]))}get name(){return this[xn].name||""}get uri(){return this[xn].uri}get bufferView(){return this[xn].bufferView}get type(){return this.uri!=null?"external":"embedded"}async setURI(e){this[xn].uri=e;const n=await new Promise((o,s)=>{Fke.load(e,o,void 0,s)}),i=this[UE];i.image=n,i.needsUpdate=!0,this[Lo]()}async createThumbnail(e,n){const i=new ua;KG.map=this[UE];const o=new Et(Uke,KG);i.add(o);const s=new Eh(-1,1,1,-1,0,1),{threeRenderer:a}=_l.singleton,l=new Qi(e,n);a.setRenderTarget(l),a.render(i,s),a.setRenderTarget(null);const c=new Uint8Array(e*n*4);a.readRenderTargetPixels(l,0,0,e,n,c),to.width=e,to.height=n;const u=to.getContext("2d"),d=u.createImageData(e,n);return d.data.set(c),u.putImageData(d,0,0),new Promise(async(f,h)=>{to.toBlob(v=>{if(!v)return h("Failed to capture thumbnail.");f(URL.createObjectURL(v))},"image/png")})}}var no;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.NearestMipmapNearest=9984]="NearestMipmapNearest",t[t.LinearMipmapNearest=9985]="LinearMipmapNearest",t[t.NearestMipmapLinear=9986]="NearestMipmapLinear",t[t.LinearMipmapLinear=9987]="LinearMipmapLinear"})(no||(no={}));var gd;(function(t){t[t.ClampToEdge=33071]="ClampToEdge",t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.Repeat=10497]="Repeat"})(gd||(gd={}));/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vke=(()=>{const t=[no.Nearest,no.Linear,no.NearestMipmapNearest,no.LinearMipmapLinear,no.NearestMipmapLinear,no.LinearMipmapLinear];return e=>t.indexOf(e)>-1})(),Hke=(()=>{const t=[no.Nearest,no.Linear];return e=>t.indexOf(e)>-1})(),zke=(()=>{const t=[gd.ClampToEdge,gd.MirroredRepeat,gd.Repeat];return e=>t.indexOf(e)>-1})(),Gke=(t,e)=>{switch(t){case"minFilter":return Vke(e);case"magFilter":return Hke(e);case"wrapS":case"wrapT":return zke(e);default:throw new Error(`Cannot configure property "${t}" on Sampler`)}},XG=Symbol("threeTextures"),$0=Symbol("setProperty"),ep=Symbol("sourceSampler");class $ke extends G0{get[XG](){return console.assert(this[Cr]!=null&&this[Cr].size>0,"Sampler correlated object is undefined"),this[Cr]}get[ep](){return console.assert(this[xn]!=null,"Sampler source is undefined"),this[xn]}constructor(e,n,i){i=i!=null?i:{},i.minFilter==null&&(i.minFilter=n?n.minFilter:no.LinearMipmapLinear),i.magFilter==null&&(i.magFilter=n?n.magFilter:no.Linear),i.wrapS==null&&(i.wrapS=n?n.wrapS:gd.Repeat),i.wrapT==null&&(i.wrapT=n?n.wrapT:gd.Repeat);super(e,i,new Set(n?[n]:[]))}get name(){return this[xn].name||""}get minFilter(){return this[ep].minFilter}get magFilter(){return this[ep].magFilter}get wrapS(){return this[ep].wrapS}get wrapT(){return this[ep].wrapT}setMinFilter(e){this[$0]("minFilter",e)}setMagFilter(e){this[$0]("magFilter",e)}setWrapS(e){this[$0]("wrapS",e)}setWrapT(e){this[$0]("wrapT",e)}[$0](e,n){const i=this[ep];if(i!=null){if(Gke(e,n)){i[e]=n;for(const o of this[XG])o[e]=n,o.needsUpdate=!0}this[Lo]()}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=Symbol("image"),ZG=Symbol("sampler");class QG extends G0{constructor(e,n,i=null,o=null,s=null){super(e,i||{},new Set(n?[n]:[]));this[ZG]=new $ke(e,n,o),this[JG]=new Bke(e,n,s)}get name(){return this[xn].name||""}get sampler(){return this[ZG]}get source(){return this[JG]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e$;const jE=Symbol("texture"),zA=Symbol("materials"),t$=Symbol("usage");var ro;(function(t){t[t.Base=0]="Base",t[t.MetallicRoughness=1]="MetallicRoughness",t[t.Normal=2]="Normal",t[t.Occlusion=3]="Occlusion",t[t.Emissive=4]="Emissive"})(ro||(ro={}));class W0{constructor(e,n,i,o,s,a){if(this[e$]=null,a){const l=s.textures?s.textures[a.index]:null,c=l&&s.samplers?s.samplers[l.sampler]:null,u=l&&s.images?s.images[l.source]:null;this[jE]=new QG(e,i,l,c,u)}this.onUpdate=e,this[zA]=o,this[t$]=n}get texture(){return this[jE]}setTexture(e){const n=e!=null?e.source[UE]:null;let i=Zi;if(this[jE]=e,this[zA])for(const o of this[zA]){switch(this[t$]){case ro.Base:o.map=n;break;case ro.MetallicRoughness:i=Or,o.metalnessMap=n,o.roughnessMap=n;break;case ro.Normal:i=Or,o.normalMap=n;break;case ro.Occlusion:i=Or,o.aoMap=n;break;case ro.Emissive:o.emissiveMap=n;break}o.needsUpdate=!0}n&&(n.encoding=i),this.onUpdate()}}e$=jE;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=Symbol("threeMaterials"),n$=Symbol("baseColorTexture"),r$=Symbol("metallicRoughnessTexture");class Wke extends G0{constructor(e,n,i,o){super(e,i,o);i.baseColorFactor==null&&(i.baseColorFactor=[1,1,1,1]),i.roughnessFactor==null&&(i.roughnessFactor=1),i.metallicFactor==null&&(i.metallicFactor=1);const{baseColorTexture:s,metallicRoughnessTexture:a}=i,{map:l,metalnessMap:c}=o.values().next().value;this[n$]=new W0(e,ro.Base,l,o,n,s||null),this[r$]=new W0(e,ro.MetallicRoughness,c,o,n,a||null)}get[BE](){return this[Cr]}get baseColorFactor(){return this[xn].baseColorFactor}get metallicFactor(){return this[xn].metallicFactor}get roughnessFactor(){return this[xn].roughnessFactor}get baseColorTexture(){return this[n$]}get metallicRoughnessTexture(){return this[r$]}setBaseColorFactor(e){for(const i of this[BE])i.color.fromArray(e),i.opacity=e[3];const n=this[xn];n.baseColorFactor=e,this[Lo]()}setMetallicFactor(e){for(const i of this[BE])i.metalness=e;const n=this[xn];n.metallicFactor=e,this[Lo]()}setRoughnessFactor(e){for(const i of this[BE])i.roughness=e;const n=this[xn];n.roughnessFactor=e,this[Lo]()}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i$;const s$=Symbol("pbrMetallicRoughness"),o$=Symbol("normalTexture"),a$=Symbol("occlusionTexture"),l$=Symbol("emissiveTexture"),qke=Symbol("backingThreeMaterial"),GA=Symbol("applyAlphaCutoff"),vd=Symbol("lazyLoadGLTFInfo"),$A=Symbol("initialize"),WA=Symbol("getLoadedMaterial"),es=Symbol("ensureMaterialIsLoaded"),c$=Symbol("gltfIndex"),q0=Symbol("setActive"),VE=Symbol("variantIndices"),qA=Symbol("isActive"),HE=Symbol("variantSet"),u$=Symbol("modelVariants");class YA extends G0{constructor(e,n,i,o,s,a,l,c=void 0){super(e,i,l);this[i$]=new Set,this[c$]=o,this[qA]=s,this[u$]=a,c==null?this[$A](n):this[vd]=c}get[(i$=HE,qke)](){return this[Cr].values().next().value}[$A](e){const n=this[Lo],i=this[xn],o=this[Cr];i.extensions&&i.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn(`Material ${i.name} uses a deprecated extension
          "KHR_materials_pbrSpecularGlossiness", please use
          "pbrMetallicRoughness" instead. Specular Glossiness materials are
          currently supported for rendering, but not for our scene-graph API,
          nor for auto-generation of USDZ for Quick Look.`),i.pbrMetallicRoughness==null&&(i.pbrMetallicRoughness={}),this[s$]=new Wke(n,e,i.pbrMetallicRoughness,o),i.emissiveFactor==null&&(i.emissiveFactor=[0,0,0]),i.doubleSided==null&&(i.doubleSided=!1),i.alphaMode==null&&(i.alphaMode="OPAQUE"),i.alphaCutoff==null&&(i.alphaCutoff=.5);const{normalTexture:s,occlusionTexture:a,emissiveTexture:l}=i,{normalMap:c,aoMap:u,emissiveMap:d}=o.values().next().value;this[o$]=new W0(n,ro.Normal,c,o,e,s||null),this[a$]=new W0(n,ro.Occlusion,u,o,e,a||null),this[l$]=new W0(n,ro.Emissive,d,o,e,l||null)}async[WA](){if(this[vd]!=null){const{set:e,material:n}=await this[vd].doLazyLoad();return this[Cr]=e,this[$A](this[vd].gltf),this[vd]=void 0,this.ensureLoaded=async()=>{},n}return this[Cr].values().next().value}[es](){if(this[vd]!=null)throw new Error(`Material "${this.name}" has not been loaded, call 'await
    myMaterial.ensureLoaded()' before using an unloaded material.`)}async ensureLoaded(){await this[WA]()}get isLoaded(){return this[vd]==null}get isActive(){return this[qA]}[q0](e){this[qA]=e}get name(){return this[xn].name}set name(e){const n=this[xn];if(n!=null&&(n.name=e),this[Cr]!=null)for(const i of this[Cr])i.name=e}get pbrMetallicRoughness(){return this[es](),this[s$]}get normalTexture(){return this[es](),this[o$]}get occlusionTexture(){return this[es](),this[a$]}get emissiveTexture(){return this[es](),this[l$]}get emissiveFactor(){return this[es](),this[xn].emissiveFactor}get index(){return this[c$]}[VE](){return this[HE]}hasVariant(e){const n=this[u$].get(e);return n!=null&&this[HE].has(n.index)}setEmissiveFactor(e){this[es]();for(const n of this[Cr])n.emissive.fromArray(e);this[xn].emissiveFactor=e,this[Lo]()}[GA](){this[es]();const e=this[xn];for(const n of this[Cr])this[xn].alphaMode==="MASK"?n.alphaTest=e.alphaCutoff:n.alphaTest=void 0,n.needsUpdate=!0}setAlphaCutoff(e){this[es](),this[xn].alphaCutoff=e,this[GA](),this[Lo]()}getAlphaCutoff(){return this[es](),this[xn].alphaCutoff}setDoubleSided(e){this[es]();for(const n of this[Cr])n.side=e?Qa:Za,n.needsUpdate=!0;this[xn].doubleSided=e,this[Lo]()}getDoubleSided(){return this[es](),this[xn].doubleSided}setAlphaMode(e){this[es]();const n=(i,o)=>{i.transparent=o,i.depthWrite=!o};this[xn].alphaMode=e;for(const i of this[Cr])n(i,e!=="OPAQUE"),this[GA](),i.needsUpdate=!0;this[Lo]()}getAlphaMode(){return this[es](),this[xn].alphaMode}}var d$,f$,h$;const Yc=Symbol("materials"),Tl=Symbol("variantToMaterialMap"),Cl=Symbol("modelVariants"),p$=Symbol("mesh"),m$=Symbol("children"),g$=Symbol("initialMaterialIdx"),KA=Symbol("activeMaterialIdx");class v${constructor(e){this.name="",this[d$]=new Array,this.name=e}}d$=m$;class y$ extends v${constructor(e,n,i,o){super(e.name);this[f$]=new Map,this[h$]=new Map,this[p$]=e;const{gltf:s,threeGLTF:a,threeObjectMap:l}=o;this[Cl]=i,this.mesh.userData.variantData=i;const c=l.get(e.material);c.materials!=null?this[g$]=this[KA]=c.materials:console.error(`Primitive (${e.name}) missing initial material reference.`);const u=e.userData.associations||{};if(u.meshes==null){console.error("Mesh is missing primitive index association");return}const h=((s.meshes||[])[u.meshes].primitives||[])[u.primitives];if(h==null){console.error("Mesh primitive definition is missing.");return}if(h.material!=null)this[Yc].set(h.material,n[h.material]);else{const v=n.findIndex(m=>m.name==="Default");v>=0?this[Yc].set(v,n[v]):console.warn("gltfPrimitive has no material!")}if(h.extensions&&h.extensions.KHR_materials_variants){const v=h.extensions.KHR_materials_variants,_=a.parser.json.extensions.KHR_materials_variants.variants;for(const S of v.mappings){const E=n[S.material];this[Yc].set(S.material,E);for(const w of S.variants){const{name:T}=_[w];this[Tl].set(w,E),E[VE]().add(w),i.has(T)||i.set(T,{name:T,index:w})}}}}get mesh(){return this[p$]}async setActiveMaterial(e){const n=this[Yc].get(e);return n!=null&&(this.mesh.material=await n[WA](),this[KA]=e),this.mesh.material}getActiveMaterial(){return this[Yc].get(this[KA])}getMaterial(e){return this[Yc].get(e)}async enableVariant(e){if(e==null)return this.setActiveMaterial(this[g$]);if(this[Tl]!=null&&this[Cl].has(e)){const n=this[Cl].get(e);return this.enableVariantHelper(n.index)}return null}async enableVariantHelper(e){if(this[Tl]!=null&&e!=null){const n=this[Tl].get(e);if(n!=null)return this.setActiveMaterial(n.index)}return null}async instantiateVariants(){if(this[Tl]!=null)for(const e of this[Tl].keys()){if(this.mesh.userData.variantMaterials.get(e).material!=null)continue;const n=await this.enableVariantHelper(e);n!=null&&(this.mesh.userData.variantMaterials.get(e).material=n)}}get variantInfo(){return this[Tl]}addVariant(e,n){if(!this.ensureVariantIsUnused(n))return!1;this[Cl].has(n)||this[Cl].set(n,{name:n,index:this[Cl].size});const o=this[Cl].get(n).index;return e[VE]().add(o),this[Tl].set(o,e),this[Yc].set(e.index,e),this.updateVariantUserData(o,e),!0}deleteVariant(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);const n=this.mesh.userData.variantMaterials;n!=null&&n.delete(e)}}updateVariantUserData(e,n){n[VE]().add(e),this.mesh.userData.variantData=this[Cl],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(e,{material:n[Cr].values().next().value,gltfMaterialIndex:n.index})}ensureVariantIsUnused(e){const n=this[Cl].get(e);return n!=null&&this.variantInfo.has(n.index)?(console.warn(`Primitive cannot add variant '${e}' for this material, it already exists.`),!1):!0}}f$=Yc,h$=Tl;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$,b$,E$,w$,x$,S$;const yd=Symbol("materials"),XA=Symbol("hierarchy"),T$=Symbol("roots"),Ml=Symbol("primitives"),JA=Symbol("correlatedSceneGraph"),C$=Symbol("prepareVariantsForExport"),M$=Symbol("switchVariant"),A$=Symbol("threeScene"),P$=Symbol("materialsFromPoint"),R$=Symbol("materialFromPoint"),bi=Symbol("variantData"),ZA=Symbol("availableVariants"),QA=Symbol("modelOnUpdate"),L$=Symbol("cloneMaterial");class Yke{constructor(e,n,i,o){this.gltf=e,this.gltfElementMap=n,this.mapKey=i,this.doLazyLoad=o}}class Kke{constructor(e,n=()=>{}){this[_$]=new Array,this[b$]=new Array,this[E$]=new Array,this[w$]=new Array,this[x$]=()=>{},this[S$]=new Map,this[QA]=n,this[JA]=e;const{gltf:i,threeGLTF:o,gltfElementMap:s}=e;this[A$]=o.scene;for(const[c,u]of i.materials.entries()){const d=s.get(u);if(d!=null)this[yd].push(new YA(n,i,u,c,!0,this[bi],d));else{const h=(i.materials||[])[c],v=c,m=async()=>{const _=await o.parser.getDependency("material",v),S=new Set;return s.set(h,S),S.add(_),{set:S,material:_}};this[yd].push(new YA(n,i,h,c,!1,this[bi],d,new Yke(i,s,h,m)))}}const a=new Map,l=new Array;for(const c of o.scene.children)l.push(c);for(;l.length>0;){const c=l.pop();let u=null;c instanceof Et?(u=new y$(c,this.materials,this[bi],e),this[Ml].push(u)):u=new v$(c.name);const d=a.get(c);d!=null?d[m$].push(u):this[T$].push(u),this[XA].push(u);for(const f of c.children)l.push(f),a.set(c,u)}}get materials(){return this[yd]}[(_$=yd,b$=XA,E$=T$,w$=Ml,x$=QA,S$=bi,ZA)](){const e=Array.from(this[bi].values());return e.sort((n,i)=>n.index-i.index),e.map(n=>n.name)}getMaterialByName(e){const n=this[yd].filter(i=>i.name===e);return n.length>0?n[0]:null}[P$](e){return e.intersectObject(this[A$],!0).map(i=>{const o=this[XA].find(s=>s instanceof y$&&s.mesh===i.object);return o!=null?o.getActiveMaterial():null})}[R$](e){const n=this[P$](e);return n.length>0?n[0]:null}async[M$](e){for(const n of this[Ml])await n.enableVariant(e);for(const n of this.materials)n[q0](!1);for(const n of this[Ml])this.materials[n.getActiveMaterial().index][q0](!0)}async[C$](){const e=new Array;for(const n of this[Ml])e.push(n.instantiateVariants());await Promise.all(e)}[L$](e,n){const i=this.materials[e];i.isLoaded||console.error(`Cloning an unloaded material,
           call 'material.ensureLoaded() before cloning the material.`);const o=i[Cr],s=JSON.parse(JSON.stringify(i[xn]));s.name=n,this[JA].gltf.materials.push(s);const l=new Set;for(const[u,d]of o.entries()){const f=d.clone();f.name=n+(o.size>1?"_inst"+u:""),l.add(f)}const c=new YA(this[QA],this[JA].gltf,s,this[yd].length,!1,this[bi],l);return this[yd].push(c),c}createMaterialInstanceForVariant(e,n,i,o=!0){let s=null;for(const a of this[Ml]){const l=this[bi].get(i);l!=null&&a.variantInfo.has(l.index)||a.getMaterial(e)!=null&&(this.hasVariant(i)||this.createVariant(i),s==null&&(s=this[L$](e,n)),a.addVariant(s,i))}if(o&&s!=null){s[q0](!0),this.materials[e][q0](!1);for(const a of this[Ml])a.enableVariant(i)}return s}createVariant(e){this[bi].has(e)?console.warn(`Variant '${e}'' already exists`):this[bi].set(e,{name:e,index:this[bi].size})}hasVariant(e){return this[bi].has(e)}setMaterialToVariant(e,n){if(this[ZA]().find(i=>i===n)==null){console.warn(`Can't add material to '${n}', the variant does not exist.'`);return}if(e<0||e>=this.materials.length){console.error("setMaterialToVariant(): materialIndex is out of bounds.");return}for(const i of this[Ml]){const o=i.getMaterial(e);o!=null&&i.addVariant(o,n)}}updateVariantName(e,n){const i=this[bi].get(e);i!=null&&(i.name=n,this[bi].set(n,i),this[bi].delete(e))}deleteVariant(e){const n=this[bi].get(e);if(n!=null){for(const i of this.materials)i.hasVariant(e)&&i[HE].delete(n.index);for(const i of this[Ml])i.deleteVariant(n.index);this[bi].delete(e)}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eP=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Y0=Symbol("currentGLTF"),tp=Symbol("model"),tP=Symbol("getOnUpdateMethod"),I$=Symbol("textureLoader"),nP=Symbol("originalGltfJson"),Xke=t=>{var e,n,i,o;class s extends t{constructor(){super(...arguments);this[e]=void 0,this[n]=null,this[i]=new tE,this[o]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[tp]}get availableVariants(){return this.model?this.model[ZA]():[]}get originalGltfJson(){return this[nP]}[(e=tp,n=Y0,i=I$,o=nP,tP)](){return()=>{this[Ni]()}}async createTexture(l,c="image/png"){const u=this[Y0],d=await new Promise(f=>this[I$].load(l,f));return!u||!d?null:(d.encoding=Zi,d.wrapS=nl,d.wrapT=nl,d.flipY=!1,c==="image/jpeg"&&(d.format=Xs),new QG(this[tP](),d))}async updated(l){if(super.updated(l),l.has("variantName")){const c=this[Y0],{variantName:u}=this;c!=null&&(await this[tp][M$](u),this[Ni](),this.dispatchEvent(new CustomEvent("variant-applied")))}if(l.has("orientation")||l.has("scale")){const{modelContainer:c}=this[qe],u=ad(this.orientation)[0].terms,d=pa(u[0]).number,f=pa(u[1]).number,h=pa(u[2]).number;c.quaternion.setFromEuler(new Pc(f,h,d,"YXZ"));const v=ad(this.scale)[0].terms;c.scale.set(v[0].number,v[1].number,v[2].number),this[qe].updateBoundingBox(),this[qe].updateShadow(),this[_n].arRenderer.onUpdateScene(),this[Ni]()}}[_a](){super[_a]();const{currentGLTF:l}=this[qe];if(l!=null){const{correlatedSceneGraph:c}=l;c!=null&&l!==this[Y0]&&(this[tp]=new Kke(c,this[tP]()),this[nP]=JSON.parse(JSON.stringify(c.gltf))),"variants"in l.userData&&this.requestUpdate("variantName")}this[Y0]=l,this.dispatchEvent(new CustomEvent("scene-graph-ready"))}async exportScene(l){const c=this[qe];return new Promise(async u=>{const d={binary:!0,onlyVisible:!0,maxTextureSize:1/0,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1,embedImages:!0};Object.assign(d,l),d.animations=c.animations,d.truncateDrawRange=!0;const f=c.shadow;let h=!1;f!=null&&(h=f.visible,f.visible=!1),await this[tp][C$](),new VA().register(m=>new Dke(m)).parse(c.modelContainer.children[0],m=>u(new Blob([d.binary?m:JSON.stringify(m)],{type:d.binary?"application/octet-stream":"application/json"})),d),f!=null&&(f.visible=h)})}materialFromPoint(l,c){const u=this[qe],d=u.getNDC(l,c);return u.raycaster.setFromCamera(d,u.getCamera()),this[tp][R$](u.raycaster)}}return eP([Nt({type:String,attribute:"variant-name"})],s.prototype,"variantName",void 0),eP([Nt({type:String,attribute:"orientation"})],s.prototype,"orientation",void 0),eP([Nt({type:String,attribute:"scale"})],s.prototype,"scale",void 0),s};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rP=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Jke=Math.PI/32,Zke=3e3,Qke={basis:[p0(ei(Jke,"rad"))],keywords:{auto:[null]}},np=Symbol("autoRotateStartTime"),iP=Symbol("radiansPerSecond"),O$=Symbol("syncRotationRate"),sP=Symbol("onCameraChange"),e9e=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this.autoRotate=!1,this.autoRotateDelay=Zke,this.rotationPerSecond="auto",this[e]=performance.now(),this[n]=0,this[i]=a=>{!this.autoRotate||a.detail.source==="user-interaction"&&(this[np]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[sP]),this[np]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[sP]),this[np]=performance.now()}updated(a){super.updated(a),a.has("autoRotate")&&(this[np]=performance.now())}[(e=np,n=iP,O$)](a){this[iP]=a[0]}[ya](a,l){if(super[ya](a,l),!this.autoRotate||!this[zh]()||this[_n].isPresenting)return;const c=Math.min(l,a-this[np]-this.autoRotateDelay);c>0&&(this[qe].yaw=this.turntableRotation+this[iP]*c*.001)}get turntableRotation(){return this[qe].yaw}resetTurntableRotation(a=0){this[qe].yaw=a}}return i=sP,rP([Nt({type:Boolean,attribute:"auto-rotate"})],o.prototype,"autoRotate",void 0),rP([Nt({type:Number,attribute:"auto-rotate-delay"})],o.prototype,"autoRotateDelay",void 0),rP([qc({intrinsics:Qke,updateHandler:O$}),Nt({type:String,attribute:"rotation-per-second"})],o.prototype,"rotationPerSecond",void 0),o},t9e=t=>{var e;const n=s=>{if(s.shadowRoot==null||s.hasAttribute("data-js-focus-visible"))return()=>{};if(self.applyFocusVisiblePolyfill)self.applyFocusVisiblePolyfill(s.shadowRoot);else{const a=()=>{self.applyFocusVisiblePolyfill(s.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",a,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",a)}}return()=>{}},i=Symbol("endPolyfillCoordination");class o extends t{constructor(){super(...arguments);this[e]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[i]==null&&(this[i]=n(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this[i]!=null&&(this[i](),this[i]=null)}}return e=i,o};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9e=sNe(Xke(e9e(E8e(cke(DNe(Eke(iNe(t9e(sA)))))))));customElements.define("model-viewer",n9e);self.ModelViewerElement=self.ModelViewerElement||{};self.ModelViewerElement.meshoptDecoderLocation="https://unpkg.com/meshoptimizer/meshopt_decoder.js";function r9e({url:t,fallback:e,detailedControls:n=null,style:i={width:"inherit"}}){return p.createElement("model-viewer",{style:i,poster:e,src:t,"shadow-intensity":"1","camera-controls":n,ar:n,"ar-modes":n?"webxr scene-viewer quick-look":null,"auto-rotate":n})}class N$ extends p.Component{constructor(e){super(e);this.state={error:""}}componentDidCatch(e){this.setState({error:`${e.name}: ${e.message}`})}render(){const{error:e}=this.state;return e?this.props.fallback?p.createElement(Pe,{sx:this.props.sx},p.createElement(au,{src:this.props.fallback,width:"200",height:"200",sx:{width:"25em",height:"25em",objectFit:"cover"}})):p.createElement(p.Fragment,null):p.createElement(r9e,de({},this.props))}}function k$(t,e){K.exports.useEffect(()=>{const n=i=>{i.key==="Tab"&&(document.activeElement===t.current&&i.shiftKey?(e.current.focus(),i.preventDefault()):document.activeElement===e.current&&!i.shiftKey&&(t.current.focus(),i.preventDefault()))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t,e])}function oP({asset:t}){const e=ve(),{createNotification:n}=Bl(),i=V(e.projectIsMemberOrMoreForCurrentUser),o=K.exports.useRef(),[s,a]=K.exports.useState(!1),{date:l,name:c,imageHeight:u,size:d,type:f,url:h,imageWidth:v}=t,[m,_]=K.exports.useState(t.name),S=B4.format(d,{thousandsSeperator:",",decimalPlaces:0}),E=!!(f==null?void 0:f.match(/image/)),w=!!(c==null?void 0:c.match(/\.gl(b|tf)$/)),P=`${d<195e5?h:h==null?void 0:h.replace("glitch.global","glitch.me")}?${Jf.stringify({v:Be(l).valueOf()})}`,R=()=>{oa(o.current.value),n(p4)},A=N=>{N.preventDefault(),a(!s)},L=N=>{_(N.target.value)},k=async N=>{N.preventDefault(),_(c),A(N)},U=async N=>{N.preventDefault(),m!==c&&await e.renameAsset(t,m),A(N)},O=N=>{N.preventDefault(),window.confirm("Are you sure you want to delete this asset?")&&e.deleteAsset(t)},I=K.exports.useRef(),F=K.exports.useRef();return k$(I,F),p.createElement(p.Fragment,null,p.createElement("section",{className:"pop-over-hero",style:{backgroundColor:"transparent",background:"repeating-conic-gradient(rgba(204,204,204,0.2) 0% 25%, rgba(153,153,153,0.2) 0% 50%) 50% / 22px 22px"}},E&&p.createElement("a",{href:P,target:"_blank",rel:"noopener noreferrer",ref:I},p.createElement(au,{src:P,sx:{height:"45vh",maxHeight:"30em",width:"auto",display:"block",margin:"0 auto",objectFit:"contain"}})),w&&p.createElement(K.exports.Suspense,{fallback:null},p.createElement(N$,{style:{width:"auto",height:"45vh",maxHeight:"30em",objectFit:"cover"},url:P,detailedControls:!0}))),p.createElement("section",{className:"actions",style:{textAlign:"left",paddingLeft:0,paddingRight:0,paddingTop:"8px"}},p.createElement(sn,{sx:{marginBottom:"24px",justifyContent:"space-between"}},p.createElement(Pe,null,p.createElement("h4",{style:{display:"inline",marginRight:"32px"}},c),p.createElement("span",{style:{fontFamily:'"HK Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',textTransform:"uppercase",fontSize:"11px",color:"#828282"}},f?p.createElement(p.Fragment,null,f,"\xA0/\xA0"):w&&p.createElement(p.Fragment,null,"MODEL/GLTF\xA0/\xA0"),E&&v>0&&u>0?p.createElement(p.Fragment,null,S," / ",v,"\xD7",u):S)),p.createElement(Pe,null,p.createElement("span",{style:{fontFamily:'"HK Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',textTransform:"uppercase",fontSize:"11px",color:"#828282"}},Be(l).fromNow()))),p.createElement("div",{className:"input-wrap"},s?p.createElement(Pe,{sx:{marginBottom:"24px"}},p.createElement("input",{className:"input",value:m,onChange:L,style:{padding:"10px",textAlign:"left",fontSize:"11px",marginRight:"16px",width:"33em",border:"1px solid #E0E0E0",backgroundColor:"transparent"}}),p.createElement(Rn,{variant:"chunky",onClick:k,sx:{marginRight:"8px"}},"cancel"),p.createElement(Rn,{variant:"chunky",onClick:U},"save")):p.createElement("input",{className:"input",readOnly:!0,value:P,ref:o,style:{padding:"10px",textAlign:"left",fontSize:"11px",color:"#828282",width:"55.5em",border:"1px solid #E0E0E0",backgroundColor:"transparent"}})),p.createElement(sn,{sx:{marginTop:"24px",justifyContent:"space-between"}},p.createElement(Pe,null,p.createElement(Ci,{icon:"\u{1F995}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",marginRight:"32px",paddingX:2,border:"none"},onClick:R,ref:i?null:F},"Copy URL")," ",i&&p.createElement(p.Fragment,null,p.createElement(Ci,{icon:"\u{1F4DD}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",paddingX:2,border:"none"},onClick:A},"Rename")," ")),i&&p.createElement(Pe,null,p.createElement(Ci,{icon:"\u{1F4A3}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",paddingX:0,border:"none"},onClick:O,ref:F},"Delete")," "))))}function i9e({asset:t}){const e=ve(),{type:n,url:i,size:o}=t;if(!i)return null;const a=o<195e5?i:i==null?void 0:i.replace("glitch.global","glitch.me"),l=(t==null?void 0:t.name)||"undefined",c=new Date(t.date).getTime(),u=t.thumbnail?`${t.thumbnail}?${c}`:`${a}?${c}`,d=!!(l==null?void 0:l.match(/@2x/)),f=!!(n==null?void 0:n.match(/image/)),h=!!(l==null?void 0:l.match(/\.gl(b|tf)$/)),v=()=>{e.clearAssetOverlayAssetUUID()};return p.createElement(p.Fragment,null,p.createElement(Pe,null,f&&p.createElement(p2,null,p.createElement(m2,{asChild:!0},p.createElement(sn,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Pe,{sx:{alignItems:"center",width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1",background:"repeating-conic-gradient(rgba(204,204,204,0.25) 0% 25%, rgba(153,153,153,0.25) 0% 50%) 50% / 22px 22px"}},p.createElement(au,{src:u,width:"200px",height:"200",sx:{width:"200",height:"200px",objectFit:"cover"}})),d&&p.createElement("div",{className:"retina-badge"},"@2x"),p.createElement(Pe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Fn,{style:{fontSize:"12px",color:"#828282"}},l)))),p.createElement(g2,null,p.createElement(oP,{asset:t,onClickOut:v}))),h&&p.createElement(p2,null,p.createElement(m2,{asChild:!0},p.createElement(sn,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Pe,{sx:{width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1"}},p.createElement(K.exports.Suspense,{fallback:null},p.createElement(N$,{url:a,fallback:u}))),p.createElement(Pe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Fn,{style:{fontSize:"12px",color:"#828282"}},l)))),p.createElement(g2,null,p.createElement(oP,{asset:t,onClickOut:v}))),!(f||h)&&p.createElement(p2,null,p.createElement(m2,{asChild:!0},p.createElement(sn,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Pe,{sx:{width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1"}},p.createElement(au,{src:u,width:"200",height:"200",sx:{width:"200px",height:"200px",objectFit:"cover"}})),p.createElement(Pe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Fn,{style:{fontSize:"12px",color:"#828282"}},l)))),p.createElement(g2,null,p.createElement(oP,{asset:t,onClickOut:v})))))}function s9e(){const t=ve(),{createNotification:e}=Bl(),n=V(t.dragToUploadOverlayVisible),i=typeof n=="string"?n:null,o=V(t.projectIsReadOnlyForCurrentUser),s=K.exports.useRef(),a=K.exports.useRef(0),l=V(t.projectIsMemberOrMoreForCurrentUser);p.useEffect(()=>{s.current=new J_(t)},[t]);const c=d=>{const{items:f}=d.clipboardData;Array.from(f).forEach(h=>{if(h.kind==="file"){const v=h.getAsFile(),m=new File([v],`${fI()}.${v.name}`,{type:v.type,lastModified:v.lastModified});s.current.addFile(m)}})};if(K.exports.useEffect(()=>{const d=_=>{if(_.preventDefault(),a.current+=1,!(_.dataTransfer&&_.dataTransfer.types.includes("Files"))||t.userIsDraggingText())return;let E,w;for(let C=0;C<_.dataTransfer.items.length&&(c5(_.dataTransfer.items[C])?w=!0:E=!0,!(E&&w));C+=1);let T="your project";w&&!E&&(T="your project's files"),E&&!w&&(T="assets"),t.dragToUploadOverlayVisible(T)},f=()=>{a.current-=1,a.current<1&&t.dragToUploadOverlayVisible(!1)},h=async _=>{if(_.stopPropagation(),_.preventDefault(),a.current=0,_.dataTransfer.files.length>=1)for(const S of Array.from(_.dataTransfer.files))await s.current.addFile(S);else _.dataTransfer.types.includes("text/uri-list")&&e(iU);t.dragToUploadOverlayVisible(!1)},v=_=>{_.preventDefault(),t.notifyProjectVisitorCannotUploadAssets(!0),t.jiggleTakeActionToEditNotification(!0)},m=document.documentElement;return l?(m.addEventListener("paste",c),m.addEventListener("dragover",ag),m.addEventListener("dragenter",d),m.addEventListener("dragleave",f),m.addEventListener("drop",h)):(m.addEventListener("dragover",ag),m.addEventListener("dragenter",ag),m.addEventListener("drop",v)),()=>{m.removeEventListener("paste",c),m.removeEventListener("dragover",ag),m.removeEventListener("dragenter",d),m.removeEventListener("dragenter",ag),m.removeEventListener("dragleave",f),m.removeEventListener("drop",h),m.removeEventListener("drop",v)}},[t,l,e]),!n||o)return null;const u=`emoji ${i==="assets"?"truck":"paperclip"}`;return p.createElement("div",{className:"overlay-background"},p.createElement("div",{className:"overlay drag-to-upload"},p.createElement("p",null,"Drop to upload to ",i),p.createElement("div",{className:u})))}const o9e=[{id:"static",label:"Static"},{id:"generated_static",label:"Generated Static",hasBuildDirectory:!0},{id:"node",label:"Node.js"},{id:"custom",label:"Custom"}],a9e=$e.div`
  padding: 2em;
`,l9e=$e.div`
  margin-bottom: 1em;
  display: flex;
  align-items: center;
`,c9e=$e.label`
  padding: 0 1em;
`,u9e=$e(_I)`
  width: 400px;
`;function d9e(){const t=ve(),{appType:e,buildDirectory:n}=V(t.appTypeConfig),i=s=>t.updateAppTypeConfig({appType:s,buildDirectory:n}),o=s=>t.updateAppTypeConfig({appType:e,buildDirectory:s});return p.createElement(a9e,null,o9e.map(s=>p.createElement(l9e,{key:s.id},p.createElement("input",{type:"radio",id:`appTypeSetting_${s.id}`,checked:s.id===e,onChange:()=>i(s.id)}),p.createElement(c9e,{htmlFor:`appTypeSetting_${s.id}`},s.label),s.hasBuildDirectory&&p.createElement(u9e,{value:n,onChange:o,label:"Build directory, e.g. /build",disabled:s.id!==e}))))}var f9e=Ly;function h9e(t){return typeof t=="function"?t:f9e}var p9e=h9e,m9e=d7,g9e=p9e,v9e=H5,y9e=9007199254740991,aP=4294967295,_9e=Math.min;function b9e(t,e){if(t=v9e(t),t<1||t>y9e)return[];var n=aP,i=_9e(t,aP);e=g9e(e),t-=aP;for(var o=m9e(i,e);++n<t;)e(n);return o}var E9e=b9e;const w9e=.4,x9e=1,S9e=3,T9e=60,zE=S9e*T9e,D$=500,Kc=(t,e)=>Math.random()*(e-t)+t,C9e=(t,e)=>Math.round(Math.random())?t:e,GE=(t,e,n)=>t+(e-t)*n,F$=t=>Math.max(0,Math.min(t,1)),M9e=(t,e,n,i,o)=>{const s=Math.cos(i)*n,a=Math.sin(i)*n;o.setTransform(s,a,-a,s,t,e)},A9e=()=>{const t=Kc(w9e,x9e),e=Kc(0,1),n=Kc(0,.8),i=Kc(.5,1)+t,o=16,s=Kc(zE*.6,zE);return{xPercent:e,yStartPercent:n,yDistancePercent:i,size:o,scaleStart:t,scaleEnd:0,rotateStart:Kc(0,o*.2),rotateEnd:Kc(o*.4,o*.8),rotateDirection:C9e(-1,1),hue:Kc(0,360),animationDurationInFrames:s}},P9e=t=>E9e(t,A9e),R9e=(t,e)=>{const n=4e3,i=t*e;return Math.min(Math.round(i/n),D$)},L9e=t=>{const{width:e,height:n}=t.current.getBoundingClientRect();return t.current.width=e,t.current.height=n,[e,n]};function I9e({onAnimationComplete:t}){const e=K.exports.useRef(),n=K.exports.useRef(0),i=K.exports.useMemo(()=>P9e(D$),[]);return K.exports.useEffect(()=>{const o=e.current.getContext("2d"),[s,a]=L9e(e),l=R9e(s,a);let c;const u=()=>{o.clearRect(0,0,s,a);for(let d=0;d<l;d+=1){const{xPercent:f,yStartPercent:h,yDistancePercent:v,size:m,scaleStart:_,scaleEnd:S,rotateStart:E,rotateEnd:w,rotateDirection:T,hue:C,animationDurationInFrames:P}=i[d];o.save();const R=F$(n.current/P),A=F$(n.current/(zE*.05)),L=GE(0,1,A);o.fillStyle=`hsla(${C}, 100%, 50%, ${L})`;const k=f*s,U=h*a,O=a/4,I=U+v*O;M9e(k,GE(U,I,R),GE(_,S,R),GE(T*E,T*w,R),o);const F=1.5,N=m/2-F/2;o.fillRect(-N,0,m,F),o.fillRect(0,-N,F,m),o.restore()}n.current<zE?(n.current+=1,c=window.requestAnimationFrame(u)):t()};return u(),()=>window.cancelAnimationFrame(c)},[t,i]),p.createElement("div",{className:"full-screen-sparkle-effect"},p.createElement("canvas",{ref:e}))}function O9e(){const t=ve(),e=V(t.notifyPrettierParseError),n=V(t.fullScreenSparkleEffectVisible),i=K.exports.useMemo(()=>window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1,[]),o=K.exports.useCallback(()=>t.fullScreenSparkleEffectVisible(!1),[t]);return!n||i||e?null:p.createElement(I9e,{onAnimationComplete:o})}function U$(t){return YF(t)}function j$({file:t}){const e=ve(),n=()=>{e.markdownPreviewVisible.toggle()},i=V(e.markdownPreviewVisible);return U$(t)?p.createElement(Ci,{icon:p.createElement(qt,{emoji:i?"\u270F\uFE0F":"\u{1F441}",sx:{marginTop:"4px"}}),variant:"blank",onClick:n,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},i?"Edit Markdown":"Preview Markdown"):null}function lP(t){return t?t.path()===".env":!1}function N9e(t){return lP(t)}function B$({file:t}){const e=ve(),n=V(e.dotenvViewVisible),i=()=>{e.dotenvViewVisible.toggle()};return lP(t)?p.createElement(Ci,{icon:p.createElement(qt,{emoji:n?"\u270F\uFE0F":"\u{1F441}\uFE0F",sx:{marginTop:"4px"}}),variant:"blank",onClick:i,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},n?"Plaintext":"Graphical"):null}function V$(t,e){K.exports.useEffect(()=>{const n=i=>{t.current&&!t.current.contains(i.target)&&e()};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[t,e])}function k9e({projects:t,selectProject:e,onClickOut:n}){const i=K.exports.useRef();return V$(i,n),t.length===0?p.createElement("dialog",{className:"pop-over",ref:i},p.createElement("section",{className:"pop-over-actions"},"You don't have any Firebase projects! Go to the"," ",p.createElement("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer"},"Firebase console")," ","to create one.")):p.createElement("dialog",{className:"pop-over",ref:i},p.createElement("section",{className:"info"},p.createElement("h1",null,"Your Firebase Projects"),p.createElement("p",null,"Select one of your Firebase projects to link. This will allow you to deploy from Glitch to your selected project.")),p.createElement("section",{className:"pop-over-actions results-list"},p.createElement("ul",{className:"results"},t.map(o=>p.createElement("li",{key:o.projectId,className:"result",onClick:()=>e(o)},p.createElement("div",{className:"result-name"},o.displayName),p.createElement("div",{className:"result-description"},o.name))))))}let cP=null,$E=[];function H$(t){const e=t.auth2.getAuthInstance();return e.isSignedIn.get()?e.currentUser.get().getAuthResponse().access_token:null}function D9e(t){return $E.push(t),()=>{$E=$E.filter(e=>e!==t)}}function F9e(){return new Promise((t,e)=>{gapi.load("client",{callback:()=>t(gapi),onerror:e,timeout:30*1e3,ontimeout:e})})}async function U9e(t){await t.client.init({clientId:eae,scope:"https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/firebase"})}function j9e(t){const e=t.auth2.getAuthInstance(),n=()=>{const i=H$(t);$E.forEach(o=>o(i))};e.isSignedIn.listen(n)}async function B9e(){const t=await F9e();return await U9e(t),j9e(t),t}function WE(){return cP===null&&(cP=B9e()),cP}function z$(t){return t&&t.toLowerCase()==="firebase.json"}function V9e(t){const e=t.fileByPath(".env");if(e){const n=e.content(),s=(typeof n=="string"?n.split(`
`):n).map(a=>{const[l,...c]=a.split("=");return[l,c.join("=")]}).find(([a])=>a==="FIREBASE_PROJECT_ID");if(s)return s[1]}return null}function H9e(t,e){return e?t.ensureSession(e):Promise.resolve(null)}function z9e({file:t}){const e=ve(),n=K.exports.useRef(!1),i=K.exports.useRef(!1),[o,s]=K.exports.useState(!1),a=V(K.exports.useCallback(()=>t.name(),[t])),l=V(K.exports.useCallback(()=>V9e(e),[e])),[c,u]=K.exports.useState(null),[d,f]=K.exports.useState(null),[h,v]=K.exports.useState(!1),[m,_]=K.exports.useState(!1),S=K.exports.useCallback(async function(){n.current=!0;const O=await WE();await H9e(e,e.fileByPath(".env")),i.current&&(u(H$(O)),s(!0));try{await e.packageUtils.addAndUpdatePackage({name:"firebase-tools",latest_release_number:"5.1.1"},!0)}catch(I){console.warn(I),e.notifyGenericError(!0)}},[e]),E=z$(a);K.exports.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),K.exports.useEffect(()=>{E&&!n.current&&S().catch(Yi)},[S,E]),K.exports.useEffect(()=>D9e(u),[]),K.exports.useEffect(()=>{c&&!l&&WE().then(U=>{U.client.request({method:"GET",path:"https://firebase.googleapis.com/v1beta1/projects"}).then(O=>O.result.results||[]).then(O=>{i.current&&f(O)})})},[c,l]);const w=async()=>{v(!0),e.logsPanelVisible(!0);try{e.appendLog({stream:"stdout",text:"Deploying to Firebase..."});const U=await e.containerExec(`ps -A f | grep '[n]pm install' > /dev/null; while [ $? -ne 1 ]; do sleep 1; ps -A f | grep '[n]pm install' > /dev/null; done; FIREBASE_DEPLOY_AGENT=glitch node_modules/.bin/firebase deploy --token '${c}' --project '${l}'`);e.appendLog({stream:"stdout",text:U.stdout})}catch(U){if(U instanceof ms.HTTPError){const O=await U.response.json();e.appendLog({stream:"stderr",text:O.stderr})}e.appendLog({stream:"stderr",text:"Please try again. If problem persists please post on https://support.glitch.com"})}finally{v(!1)}},T=()=>{window.open(`https://console.firebase.google.com/project/${l}/hosting/main`)},C=()=>{window.open(`https://${l}.firebaseapp.com/?t=${Date.now()}`)},P=()=>{_(!0)},R=async U=>{try{const O=e.fileByPath(".env")||await e.newFile(".env","",!1),I=O.content(),N=[...typeof I=="string"?I.split(`
`):I,`FIREBASE_PROJECT_ID=${U.projectId}`];e.writeToFile(O,N.join(`
`))}catch(O){console.warn(O),e.notifyGenericError(!0)}},A=()=>{f(null),_(!1)},L=()=>{WE().then(U=>{U.auth2.getAuthInstance().signOut()})},k=()=>{WE().then(U=>{U.auth2.getAuthInstance().signIn()})};return E?o?p.createElement(p.Fragment,null,c&&l&&p.createElement("button",{id:"deploy-to-firebase",className:"button",onClick:w},"Deploy to Firebase",h&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status loading"},p.createElement(mn,null)))),l&&p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:T},"Firebase Console"),p.createElement("button",{className:"button",onClick:C},"View Firebase App")),c&&!l&&p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:P},"Select Firebase Project",m&&!d&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status loading"},p.createElement(mn,null)))),m&&d&&p.createElement(k9e,{projects:d,selectProject:R,onClickOut:A})),c?p.createElement("button",{className:"button",onClick:L},"Sign Out From Firebase"):p.createElement("button",{className:"button",onClick:k},"Sign In To Firebase")):p.createElement(mn,null):null}var G$={};Object.defineProperty(G$,"__esModule",{value:!0});var Xc=K.exports;function G9e(t,e,n){n===void 0&&(n={});var i=n.maxWait,o=Xc.useRef(null),s=Xc.useRef([]),a=n.leading,l=Xc.useRef(!1),c=Xc.useRef(null),u=Xc.useRef(!1),d=t,f=Xc.useCallback(function(){clearTimeout(c.current),clearTimeout(o.current),o.current=null,s.current=[],c.current=null,l.current=!1},[]);Xc.useEffect(function(){return function(){u.current=!0}},[]);var h=Xc.useCallback(function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];if(s.current=m,clearTimeout(c.current),!c.current&&a&&!l.current){d.apply(void 0,m),l.current=!0;return}c.current=setTimeout(function(){f(),u.current||d.apply(void 0,m)},e),i&&!o.current&&(o.current=setTimeout(function(){var S=s.current;f(),u.current||d.apply(null,S)},i))},[d,i,e,f,a]),v=function(){!c.current||(d.apply(null,s.current),f())};return[h,f,v]}var $9e=G$.default=G9e;function $$({result:t}){const e=ve(),{createNotification:n}=Bl();function i(s){s.stopPropagation()}async function o(){e.closeAllPopOvers();try{const s=await e.packageUtils.addAndUpdatePackage(t);n(s?rU:nU)}catch(s){console.warn(s),e.notifyGenericError(!0)}}return p.createElement("span",{className:"data"},p.createElement("li",{className:"result",role:"button",tabIndex:"0",onClick:o,onKeyPress:ur(o)},p.createElement("div",{className:`result-tip ${t.outdated?"result-tip-outdated":""}`},t.outdated?`${t.current_version} \u2192 ${t.latest_stable_release_number}`:t.latest_stable_release_number),p.createElement("div",{className:"result-name"},t.name),p.createElement("div",{className:"result-description"},t.description),p.createElement("a",{href:`https://www.npmjs.com/package/${t.name}`,target:"_blank",rel:"noopener noreferrer",className:"button",onClick:i},"Docs ",p.createElement("span",{"aria-label":""},"\u2192"))))}function uP({href:t,children:e}){return p.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},p.createElement("li",{className:"result see-all"},p.createElement("img",{className:"npm icon",src:"images/logos/npm.svg",alt:""}),p.createElement("div",{className:"result-name"},e)))}function W9e(){const t=ve(),e=V(t.packagesOutdated);return p.createElement(p.Fragment,null,e.map(n=>p.createElement($$,{key:n.name,result:n})),p.createElement(uP,{href:"https://docs.npmjs.com/getting-started/what-is-npm"},"What is npm \u2192"))}function q9e(){return p.createElement(p.Fragment,null,p.createElement("p",{className:"no-results"},"no results \u30FE(_ _*)"),p.createElement(uP,{href:"https://docs.npmjs.com/getting-started/what-is-npm"},"What is npm \u2192"))}function Y9e({results:t,query:e}){return p.createElement(p.Fragment,null,t.map(n=>p.createElement($$,{key:n.name,result:n})),p.createElement(uP,{href:`https://www.npmjs.com/search?q=${e}`},"See all results on npm \u2192"))}function K9e(){const t=ve(),e=V(t.addPackagePopVisible),[n,i]=K.exports.useState(""),[o,s]=K.exports.useState(null),[a,l]=K.exports.useState(!1),c=K.exports.useRef(null),[u]=$9e(async f=>{if(l(!0),!f)s(null);else{const h=await t.packageUtils.searchForPackages(f);s(h)}l(!1)},250);function d(f){i(f.target.value),u(f.target.value)}return K.exports.useEffect(()=>{e&&c.current.focus()},[e]),e?p.createElement("dialog",{className:"pop-over add-package-pop wide-pop"},p.createElement("section",{className:"info"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"package-search",className:"input search-input",placeholder:"search npm for packages",value:n,onChange:d,ref:c}))),p.createElement("section",{className:"actions results-list"},p.createElement("ul",{className:"results"},a&&p.createElement(mn,null),o&&o.length>0&&p.createElement(Y9e,{results:o,query:n}),o&&o.length<1&&p.createElement(q9e,null),o===null&&p.createElement(W9e,null)))):null}function W$(t,e){return t.path()==="package.json"&&!e}function q$({file:t}){const e=ve(),{checkForPackageUpdates:n,isValidPackagesFileContent:i}=e.packageUtils,o=V(t.content),s=V(e.projectIsReadOnlyForCurrentUser),a=V(e.editorIsPreviewingRewind),l=V(e.packagesOutdated),[c,u]=K.exports.useState(0),d=K.exports.useMemo(()=>i(o),[i,o]),f=W$(t,s),h=K.exports.useRef(!1);K.exports.useEffect(()=>()=>{h.current=!0},[]),K.exports.useEffect(()=>{f&&d&&(u(m=>m+1),async function(){try{await n(t)}catch(_){console.group("Failed to check for package updates"),console.error(_),console.groupEnd()}finally{h.current===!1&&u(_=>_-1)}}())},[n,f,t,o,d]);const v=()=>{e.addPackagePopVisible.toggle()};return f?p.createElement(p.Fragment,null,p.createElement(Ci,{icon:p.createElement(qt,{emoji:"\u2795",sx:{marginTop:"3px"}}),variant:"blank",onClick:v,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",backgroundColor:"background",outline:"1px solid",outlineColor:"gray.2"}},"data-testid":"add-package-button",className:at("button opens-pop-over",{disabled:a||!d})},"Add Package",p.createElement("div",{className:"status-badge icon"},c>0&&p.createElement("div",{className:"status loading"},p.createElement(mn,null)),c===0&&l.length>0&&p.createElement("div",{className:"status warning"},l.length)),p.createElement(PF,{style:{width:"14px",height:"11px",position:"relative",top:"2px"}})),p.createElement(K9e,null)):null}function X9e(){return p.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",className:"icon"},p.createElement("path",{className:"prettier-sparkles-emoji-large-star",d:"M7,9 C8.99453645,8.56284029 10.3278698,7.89617363 11,7 C11.6721302,6.10382637 12.3387969,4.10382637 13,1 C13.5672451,3.978549 14.2339117,5.978549 15,7 C15.7660883,8.021451 17.0994216,8.68811767 19,9 C17.059282,9.91107706 15.7259486,10.9110771 15,12 C14.2740514,13.0889229 13.6073847,15.0889229 13,18 C12.4125678,15.1188518 11.7459012,13.1188518 11,12 C10.2540988,10.8811482 8.92076549,9.88114823 7,9 Z"}),p.createElement("polygon",{className:"prettier-sparkles-emoji-medium-star",points:"5 2 5 5 7 5 7 6 5 6 5 9 4 9 4 6 2 6 2 5 4 5 4 2"}),p.createElement("polygon",{className:"prettier-sparkles-emoji-small-star",points:"7 13 7 15 9 15 9 16 7 16 7 18 6 18 6 16 4 16 4 15 6 15 6 13"}))}function dP(t,e){return t.projectIsReadOnlyForCurrentUser()||t.editorIsPreviewingRewind()||t.editorIsRewindingProject()?!1:e.extension()==="md"&&!t.markdownPreviewVisible()?!0:["css","js","jsx","json","html","yml","tsx","ts","handlebars","hbs","cjs","mjs"].includes(e.extension())}function J9e({file:t}){const e=ve(),n=V(e.formattingCodeInProgress),i=V(e.editorRangeSelections);if(!V(K.exports.useCallback(()=>dP(e,t),[e,t])))return null;const s=e.isAppleDevice?"\u2318-\u2325\u2013S":"Ctrl\u2013Alt\u2013S";return p.createElement("button",{onClick:async()=>{await e.formatCode({actionTrigger:"button",withAnimation:!0})},disabled:i.length>1||n,"data-tooltip":`Keyboard shortcut: ${s}`,"data-tooltip-left":"true",className:"button prettier-button","data-testid":"prettier-button"},p.createElement("span",null,i.length>0?"Format This Selection":"Format This File"),n?p.createElement(mn,null):p.createElement(X9e,null))}var fP=[{id:"mit",name:"MIT License",description:"Simple and permissive",spdxId:"MIT",permissions:["Use commercially","Modify","Distribute","Use privately"],conditions:["Must include this license and copyright"],limitations:["No liability","No warrantee"]},{id:"apache-2.0",name:"Apache License",description:"Grants patent rights and secures trademark",spdxId:"Apache-2.0",permissions:["Use commercially","Modify","Distribute","Use privately","Patent use"],conditions:["Must include this license and copyright","Must Document changes to code"],limitations:["No liability","No warrantee","No trademark rights"]},{id:"gpl-3.0",name:"GNU General Public License",description:"Remixed projects must be public too",spdxId:"GPL-3.0",permissions:["Use commercially","Modify","Distribute","Use privately","Patent use"],conditions:["Remixes must be public","Must include this license and copyright","Must use this license","Must document changes"],limitations:["No liability","No warrantee"]}];function Z9e(t,e,n){const i=Mge().year().toString(),o=e?e.name():"[NAME]",s=n?n.name():void 0,a=n?n.description():void 0;let l="[EMAIL]";return e&&e.primaryEmail()&&(l=e.primaryEmail().email),t.replace(/(\[YEAR\])+/g,i).replace(/(\[year\])+/g,i).replace(/(\[yyyy\])+/g,i).replace(/(<year>)+/g,i).replace(/(\[NAME\])+/g,o).replace(/(\[name of copyright owner\])+/g,o).replace(/(<name of author>)+/g,o).replace(/(\[fullname\])+/g,o).replace(/(\[GOVERNING_BODY\])+/g,l).replace(/(\[EMAIL\])+/g,l).replace(/(\[COMMUNITY_NAME\])+/g,s).replace(/(<program>)+/g,s).replace(/(<one line to give the program's name and a brief idea of what it does.>)+/g,a)}function Q9e({license:t}){const e=ve(),n=V(e.currentLicense),i=V(e.currentUser),o=V(e.currentProject),[s,a]=K.exports.useState(!1);async function l(u){a(!0),e.packageUtils.updatePackageLicense(t.spdxId);try{const{body:d}=await e.getLicenseOrCodeOfConductBody("license",t),f=Z9e(d,i,o);e.selectedFile().content(f)}catch(d){console.error(d)}finally{a(!1),e.closeAllPopOvers()}}const c=n&&n.name===t.name;return p.createElement("li",{className:`result ${c?"active":""}`,onClick:l},fP[0].name===t.name&&p.createElement("div",{className:"result-tip"},"recommended"),p.createElement("div",{className:"result-name"},t.name),s&&p.createElement("div",{className:"result-loader"},p.createElement(mn,null)),p.createElement("div",{className:"result-description"},t.description))}function e7e(){const t=ve();return V(t.changeLicensePopVisible)?p.createElement("dialog",{className:"pop-over change-license-pop wide-pop"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Change License ",p.createElement(Je,{icon:"scales"}))),p.createElement("section",{className:"actions results-list"},p.createElement("ul",{className:"results"},fP.map(n=>p.createElement(Q9e,{key:n.name,license:n})))),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement("a",{href:"https://choosealicense.com/licenses/",target:"_blank",rel:"noopener noreferrer"},"More licenses")))):null}const t7e=new Set(["license.md","license.txt"]);function Y$(t,e){return t&&t7e.has(t.toLowerCase())&&!e}function n7e({file:t}){const e=ve(),n=V(K.exports.useCallback(()=>t.name(),[t])),i=V(e.projectIsReadOnlyForCurrentUser),o=V(e.editorIsPreviewingRewind),s=()=>{e.changeLicensePopVisible(!0)};return Y$(n,i)?p.createElement(p.Fragment,null,p.createElement("button",{className:at("button opens-pop-over",{disabled:o}),onClick:s},p.createElement("span",null,"Change License"),p.createElement("span",{className:"icon down-arrow"})),p.createElement(e7e,null)):null}const r7e=t=>({textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:t==="dark"?"text":"gray.6",marginRight:"12px",backgroundColor:t==="dark"?"blueDark.5":"gray.2",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.4"}});function i7e(){const t=ve(),e=V(t.selectedFile),n=V(t.formattingCodeInProgress),i=V(K.exports.useCallback(()=>dP(t,e),[t,e])),[o]=uo();return i?p.createElement(Ci,{icon:p.createElement(qt,{emoji:"\u2728",sx:{marginTop:"4px"}}),variant:"blank",onClick:async()=>{await t.formatCode({actionTrigger:"button",withAnimation:!0})},sx:r7e(o)},n?"Formatting":"Prettier"):null}function s7e(){const t=ve(),[e]=uo(),{path:n}=V(t.currentFileInfo),i=V(t.selectedFile),o=n==null?void 0:n.split("/").pop();return p.createElement(sn,{className:"editor-helper",sx:{backgroundColor:"backgroundSecondary",alignContent:"center",alignItems:"center",gap:2,height:"48px",minHeight:"48px"}},p.createElement(Pe,{sx:{backgroundColor:"background",paddingY:"16px",paddingX:"16px",fontSize:"13px",fontWeight:"bold",minHeight:"48px",color:e==="light"?"text.0":"text.1"}},o),p.createElement(sn,{sx:{gap:2,alignItems:"flex-start",paddingLeft:"12px",fontFamily:"body",lineHeight:"20px"}},p.createElement(i7e,null),p.createElement(q$,{file:i}),p.createElement(j$,{file:i}),p.createElement(B$,{file:i})))}function o7e(){const t=ve(),e=V(t.selectedFile),n=V(K.exports.useCallback(()=>e?e.name():null,[e])),i=V(t.projectIsReadOnlyForCurrentUser),o=t.isFeatureEnabled("ui_editor_refresh");return!e||!(()=>U$(e)||N9e(e)||Y$(n,i)||W$(e,i)||dP(t,e)||z$(n))()?null:p.createElement(p.Fragment,null,o&&p.createElement(s7e,null),!o&&p.createElement("div",{className:"editor-helper"},p.createElement("div",{className:"editor-helper-contents"},p.createElement(j$,{file:e}),p.createElement(B$,{file:e}),p.createElement(z9e,{file:e}),p.createElement(q$,{file:e}),p.createElement(n7e,{file:e}),p.createElement(J9e,{file:e}))))}function a7e(t,e,n){K.exports.useEffect(()=>{const i=o=>{if(!t(o))return;const{data:s}=o;s.type===e&&n(s)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[t,e,n])}const l7e=()=>{const t=K.exports.useRef(null),[e,n]=K.exports.useState(!1);return[t,(o=!0)=>{o&&t.current&&t.current.focus(),n(o)},e]},c7e=150;function u7e(t,e,n=window.innerWidth/3){const i=ve(),o=V(i.editorIsEmbedded),s=V(i.embedAppPreviewSize),[a,l]=K.exports.useState(n),[c,u]=K.exports.useState(!1),d=()=>{o||u(!0)},f=()=>{l(window.innerWidth/3)};K.exports.useEffect(()=>{if(o||!c)return;let m;const _=E=>{window.cancelAnimationFrame(m);const{pageX:w}=E;m=window.requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const T=e.current.getBoundingClientRect(),C=window.innerWidth-T.right,R=window.innerWidth-w-C;l(Math.max(R,c7e))})},S=()=>{u(!1)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",S)}},[e,o,c]),K.exports.useLayoutEffect(()=>{i.refreshEditor()},[i,a]),K.exports.useLayoutEffect(()=>()=>{window.requestAnimationFrame(()=>{i.refreshEditor()})},[i]);const h={ref:e,style:{width:o?`${s}%`:`${a}px`}};return{resizing:c,panelProps:h,resizerProps:{ref:t,onMouseDown:d,onDoubleClick:f}}}function d7e({onClickClose:t,onTransitionEnd:e,visible:n}){var q;const i=ve(),o=V(i.editorIsEmbedded),s=V(i.previewURL),a=V(i.projectName),l=V(i.projectPrivacy),c=V(i.publishedUrl),u=V(i.appPreviewUrlPath),d=V(i.refreshPreviewOnChanges),f=V((q=i.currentProject())==null?void 0:q.edgeBadgeMode),h=b4(s,500),[v,m,_]=l7e(),S=K.exports.useRef(null);V$(S,()=>m(!1));const E=i.env(),w=c==null?void 0:c.replace(/\/$|^https?:\/\//g,""),T=()=>{m(!0)},C=p.useMemo(()=>[{name:"dev",value:"default",requirement:()=>!0},{name:"pub",value:"app",requirement:()=>f!=="none"},{name:"pub",value:"doapp",requirement:()=>!!(E==null?void 0:E.DIGITALOCEAN_APP_URL)}],[E,f]),P=p.useMemo(()=>C.filter(W=>W.requirement()),[C]),R=l==="private_project";let A=h;if(o&&!s){const j=new URL(window.location.hash.slice(2),window.location).pathname.split("/").pop();A=`${mk.replace("%s",j)}/`}const L=V(K.exports.useCallback(()=>i.currentProject()?`Preview of ${i.currentProject().name()}`:null,[i])),{resizing:k,panelProps:U,resizerProps:O}=u7e(K.exports.useRef(),K.exports.useRef()),[I,F]=K.exports.useState(!1);K.exports.useEffect(()=>{n&&a&&i.analytics.track("App Viewed")},[i,a,n]);const N=K.exports.useRef(!1);n&&(N.current=!0);const H=R?N.current:n,z=K.exports.useRef(),B=Ec();return a7e(W=>{var j;return W.source===((j=z.current)==null?void 0:j.contentWindow)},"REQUEST_AUTH_TOKEN",W=>{const j=z.current.contentWindow,{requestToken:$}=W;B.createAuthorizationToken($).then(({authorizationToken:ie})=>{j.postMessage({type:"AUTH_TOKEN",authorizationToken:ie},"*")})}),p.createElement("div",de({id:"app-preview",className:at("app-preview",{"is-embedded":o,"app-preview-collapsed":I&&!o,"is-resizing":k,"app-preview-transition":!k,hidden:!n}),onClick:()=>{F(!1)},onTransitionEnd:e},U),!o&&p.createElement(p.Fragment,null,p.createElement(qv,{gap:1,columns:[4,"1fr auto auto auto"],sx:{alignItems:"center",justifyContent:"space-between",paddingX:2,height:"48px",backgroundColor:"backgroundSecondary",borderLeft:"1px solid",borderLeftColor:"gray.2"}},c&&p.createElement(sn,{sx:{flexShrink:0,alignContent:"flex-start",alignItems:"center",gap:0}},p.createElement(Pe,{ref:S,sx:{position:"relative",overflow:"hidden",width:"100%",height:"30px",border:"1px solid",borderColor:"gray.2",borderRadius:"0"}},p.createElement(Pe,{sx:{position:"relative",overflow:"hidden",width:"100%",minWidth:"300px",height:"30px",backgroundColor:"background"}},p.createElement(sn,{gap:0,sx:{width:"auto",minWidth:"100%",position:"absolute",top:0,right:0}},p.createElement(Pe,{onClick:T,sx:{color:"gray.4",borderRadius:"0",backgroundColor:"transparent",paddingRight:0,display:_?"none":"block",paddingLeft:"0.5em",paddingTop:"0.5em",fontSize:0,fontFamily:"monospace"}},w),p.createElement(f2,{value:u,ref:v,sx:{backgroundColor:"transparent",paddingLeft:_?"0.5em":0,fontSize:0,flex:2,width:"100%",maxWidth:_?"800px":"320px",border:"none"},onClick:T,onChange:W=>{const j=a5.normalize(W.target.value),$=j.charAt(0);j.length>0&&$==="/"?i.appPreviewUrlPath(j):i.appPreviewUrlPath("/")}})))),P.length>1&&p.createElement(Pe,{sx:{minWidth:"68px"}},p.createElement(oee,{sx:{border:"1px solid",borderColor:"gray.2",borderRadius:"0",backgroundColor:"background",height:"30px",textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4"},onChange:W=>{i.appPreviewMode(W.target.value)}},P.map(({name:W,value:j,requirement:$})=>$(i)?p.createElement("option",{key:W,value:j},W):null)))),p.createElement(uI,null,p.createElement(Rn,{variant:"blank",sx:{fontSize:3,paddingTop:"0.05em",border:"none",background:"transparent",cursor:"pointer",width:"1.25em",height:"1.25em",color:"editor.1","&:hover":{color:"editor.3"}},onClick:()=>i.updateAppPreview()},p.createElement(qwe,null)),p.createElement(dI,{sx:{fontSize:"0.8em"}},"Refresh Page")),p.createElement(uI,null,p.createElement(Rn,{variant:"blank",sx:{fontSize:3,paddingTop:"0.05em",border:"none",background:"transparent",cursor:"pointer",width:"1.25em",height:"1.25em",color:"editor.1","&:hover":{color:"editor.3"}},onClick:async()=>{await i.refreshPreviewOnChanges.toggle()}},d?p.createElement(Gwe,null):p.createElement($we,null)),p.createElement(dI,{sx:{fontSize:"0.8em"}},d&&p.createElement(p.Fragment,null,"Pause automatic refreshing on file change"),!d&&p.createElement(p.Fragment,null,"Start automatic refreshing on change"))),p.createElement(Pe,null,p.createElement(Dd,null,p.createElement(Fd,null,p.createElement(Hwe,null)),p.createElement(jd,null,p.createElement(Pe,null,p.createElement(Un,{onSelect:()=>{i.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(`${c}${u}`)}},"Copy Link"),p.createElement(Un,{onSelect:t},"Close Preview"),p.createElement(Un,{onClick:()=>{window.open(`${c}${u}`)}},"Open in new window")))))),p.createElement("div",de({className:"resizer"},O)),k&&p.createElement("div",{className:"resize-helper"})),H&&p.createElement("div",{className:"iframe-wrapper"},p.createElement("iframe",{allow:"geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen",allowFullScreen:!0,src:A,sandbox:"allow-scripts allow-modals allow-forms allow-same-origin allow-top-navigation-by-user-activation allow-downloads",title:L,"data-testid":"app-preview-iframe",ref:z})))}var f7e=[{id:"citizen_code_of_conduct",name:"Contributor Covenant"}];function h7e(t,e,n){const i=Array.from(n).map(o=>c5(o)?t.uploadNewFile(o):e.addFile(o)).map(o=>o.then(()=>1,()=>0));return Promise.all(i).then(o=>o.reduce((s,a)=>s+a))}function K$(t,e){return V(K.exports.useCallback(()=>{const n=t.currentProject();return n?n.files().some(i=>e.includes(i.path().toLowerCase())):!1},[t,e]))}function X$(){const t=ve(),e=V(t.newFilePopVisible),n=K$(t,["license.md","license.txt"]),i=V(K.exports.useCallback(()=>t.currentUser()&&t.currentUser().isAnon(),[t])),o=K$(t,["code_of_conduct.md","code_of_conduct.txt"]),[s,a]=K.exports.useState(""),[l,c]=K.exports.useState(!1),[u,d]=K.exports.useState(!1),[f,h]=K.exports.useState(!1),v=K.exports.useRef();v.current||(v.current=new J_(t));const m=async C=>{if(C.preventDefault(),s.trim())try{await t.newFile(s.trim()),a(""),t.closeAllPopOvers()}catch(P){console.warn(P),t.notifyGenericError(!0)}else c(!0)},_=C=>{const P=Be().year().toString(),R=t.currentUser().name()||"[NAME]",A=t.currentUser().primaryEmail().email||"[EMAIL]",L=t.currentProject().domain();return C.replace(/(\[year\])+/g,P).replace(/(\[fullname\])+/g,R).replace(/(\[GOVERNING_BODY\])+/g,A).replace(/(\[EMAIL\])+/g,A).replace(/(\[COMMUNITY_NAME\])+/g,L)},S=(C,P,R)=>t.getLicenseOrCodeOfConductBody(P,R).then(({body:A})=>A).then(_).then(async A=>{const L=t.markdownPreviewVisible();await t.newFile(C,A),t.markdownPreviewVisible(L)}),E=()=>{d(!0);const C=fP[0];S("LICENSE.md","license",C).finally(()=>{d(!1),t.closeAllPopOvers(),t.packageUtils.updatePackageLicense(C.spdxId)})},w=()=>{h(!0);const C=f7e[0];S("CODE_OF_CONDUCT.md","codeOfConduct",C).finally(()=>{h(!1),t.closeAllPopOvers()})},T=K.exports.useCallback(C=>{C!==null&&C.focus()},[]);return K.exports.useEffect(()=>{var C,P;if(!e)a("");else{const R=(P=t.otClient().ot().idToPath((C=t.selectedFolder())==null?void 0:C.id()))==null?void 0:P.substring(2);R&&(a(`${R}/`),t.selectedFolder(null))}},[t,e]),e?p.createElement("dialog",{className:"pop-over new-file-pop","data-testid":"new-file-pop"},p.createElement("section",{className:"actions"},p.createElement("form",{onSubmit:m},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:at("input",{jiggle:l}),value:s,onChange:C=>a(C.target.value),onAnimationEnd:C=>{C.target.focus(),c(!1)},placeholder:"cool-file.js","aria-label":"File name",spellCheck:!1,"data-testid":"new-file-name-input",ref:T})),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button","data-testid":"add-new-file"},"Add This File",p.createElement(Je,{icon:"seedling"}))),p.createElement("p",null,"To add a file inside a folder, include a forward slash in the file name (e.g. folder/my-awesome-file.js)"))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement(CU,{accept:"*",onSelection:C=>{t.newFilePopVisible(!1),h7e(t,v.current,C)}},"Upload a File ",p.createElement(Je,{icon:"blockArrowUp"}))),!n&&!i&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:E},"Add License File",p.createElement(Je,{icon:"scales"}),u&&p.createElement(mn,null))),!o&&!i&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:w},"Add Code of Conduct File",p.createElement(Je,{icon:"ferrisWheel"}),f&&p.createElement(mn,null))))):null}function J$({text:t}){const e=1,n=1,i=t.slice(0,e),o=t.slice(e,-n),s=t.slice(-n);return t.length?t.length<3?p.createElement(p.Fragment,null,t):p.createElement("span",{className:"truncated-text","aria-label":t},p.createElement("span",{"aria-hidden":"true"},i),p.createElement("span",{"aria-hidden":"true",className:"truncated-text-center-segment"},o),p.createElement("span",{"aria-hidden":"true"},s)):null}function Z$({resultCount:t}){return p.createElement("div",{className:"search-state"},p.createElement("span",{className:"status-badge"},p.createElement("div",{className:"status warning"},t,p.createElement("div",{className:"search-in-badge icon"}))))}function Q$({users:t}){return p.createElement("div",{className:"current-users"},t.map(e=>p.createElement("div",{key:e.id(),className:"current-user",style:{backgroundColor:e.color()},"data-user":e.id()})))}function rp({state:t}){const e=at({"rewind-state-icon":!0,deleted:t==="deleted"});return p.createElement("div",{className:"rewind-state"},p.createElement("div",{className:e},t==="modified"&&p.createElement("div",{className:"mixed-lines-background"})))}const p7e=$e.svg`
  display: inline-block;
  width: 25px;
  vertical-align: middle;
  transform: translate(-5px, -2.5px) rotate(-25deg);

  /* this gets .env to line up with assets in the filetree
   TODO: cleanup when redoing filetree structure/styling */
  & + .display-file-name {
    left: -5px;
  }
`,m7e=$e.path`
  fill: var(--colors-primary);
  .active & {
    fill: var(--colors-background);
  }
`,g7e=$e.path`
  stroke: var(--colors-primary);
  .active & {
    stroke: var(--colors-background);
  }
`;function v7e(){return p.createElement(p7e,{height:"11",viewBox:"0 0 16 11",width:"16",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 1)"},p.createElement(m7e,{d:"m16 9h-1v-1h-1v1h-1v-1h-1v1h-1v-2h2v-1.5h-5v-1h8v1h-2v1.5h2z"}),p.createElement(g7e,{d:"m4.5 8.8c-4-3.33333333-5.33333333-5.66666667-4-7s2.66666667-1 4 1c1.33333333-2 2.66666667-2.33333333 4-1s0 3.66666667-4 7z",strokeLinejoin:"round",transform:"matrix(0 -1 1 0 -.4 9.4)"})))}function y7e({entry:t,top:e,left:n}){const i=ve(),o=()=>{const f=120,h=18,v=window.innerHeight-f;return v<e?{top:`${v}px`,left:`${n+h}px`}:{top:`${e+15}px`,left:`${n+h}px`}},s=t.type()==="file"?t.extensionType:"",a=()=>!(i.projectAccessLevelForCurrentUser()<xt.HELPER||t.type()==="file"&&t.hasImmutableFilename()),l=()=>(i.closeAllPopOvers(),t.type()==="folder"?i.actionInterface.renameFolder(t):i.actionInterface.renameFile(t)),c=()=>(i.closeAllPopOvers(),t.type()==="folder"?i.actionInterface.deleteFolder(t):i.actionInterface.deleteFile(t)),u=()=>(i.closeAllPopOvers(),t.type()==="folder"?null:i.actionInterface.copyFile(t)),d=()=>{i.closeAllPopOvers(),i.selectedFolder(t),i.newFilePopVisible(!0)};return p.createElement(Cg,null,p.createElement("dialog",{className:at("pop-over","mini-pop","file-options-pop",s),style:o(),"data-testid":"filetree-options-pop"},a()&&p.createElement("div",{className:"mini-pop-action",onClick:l,"data-testid":"rename"},"Rename",p.createElement(Je,{icon:"eyes"})),t.type()!=="folder"&&a()&&p.createElement("div",{className:"mini-pop-action",onClick:u,"data-testid":"duplicate"},"Duplicate",p.createElement(Je,{icon:"two"})),t.type()==="folder"&&a()&&p.createElement("div",{className:"mini-pop-action",onClick:d,"data-testid":"add-file-to-folder"},"Add File to Folder",p.createElement(Je,{icon:"seedling"})),i.projectAccessLevelForCurrentUser()>=xt.MEMBER&&p.createElement("div",{className:"mini-pop-action",onClick:c,"data-testid":"delete"},"Delete",p.createElement(Je,{icon:"bomb"}))))}function eW(){const t=ve(),[e,n]=K.exports.useState(null),i=e?p.createElement(y7e,de({},e)):null,o=K.exports.useCallback((l,c,u)=>{n({entry:l,top:c,left:u})},[]),s=K.exports.useCallback(()=>{n(null)},[]),a=K.exports.useCallback((l,c,u)=>{t.closeAllPopOvers(),n(d=>d?null:{entry:l,top:c,left:u})},[t]);return K.exports.useEffect(()=>t.onCloseAllPopOvers(s),[t,s]),{pop:i,show:o,hide:s,toggle:a}}const _7e=[vc,m5],hP=({file:t,treepath:e,moveFileFromTo:n,options:i={}})=>{const o=ve(),{createNotification:s}=Bl();i.prefix==null&&(i.prefix=/^/),i.exclude==null&&(i.exclude=/a^/);const a=V(o.selectedFileId),l=V(o.fileSearch.searchedResults),c=V(o.editorIsPreviewingRewind),u=V(o.filesWithDiffTooBig),d=V(o.currentUser),f=V(t.renaming),h=V(t.uuid),v=V(t.path),m=V(t.modifiedByRewind),_=V(t.addedByRewind),S=V(t.deletedByRewind),E=V(t.extensionType),{pop:w,toggle:T}=eW(),C=()=>t.name().replace(/\.[^/.]+$/,""),P=()=>({paddingLeft:`${5+t.folders().length*12}px`}),R=W=>W.replace(/(.*\/)/g,""),A=W=>{const j=W.trim(),$=v;t.renaming(!1);let ie=!1;j===$||R(j)===""?ie=!0:c_(j)?(ie=!0,o.notifyInvalidFileName(!0)):o.fileByPath(j)&&(ie=!0),ie||o.renameFile(t,j)},L=()=>!!(!v.match(i.prefix)||v.match(i.exclude)||_7e.includes(v)),k=W=>{f&&A(W.target.value)},U=W=>{["Enter","Escape","Tab"].includes(W.key)&&A(W.target.value)},O=()=>{const W=l.filter(j=>j.path===v);return W.length>0?p.createElement(Z$,{resultCount:W.length}):!1},I=()=>(o.projectIsReadOnlyForCurrentUser()&&s(m4),o.projectIsReadOnlyForCurrentUser()||c?!1:t.renaming(!0)),F=()=>u.includes(v)?!1:m?p.createElement(rp,{state:"modified"}):_?p.createElement(rp,{state:"added"}):S?p.createElement(rp,{state:"deleted"}):null,N=W=>{if(W.stopPropagation(),o.files().includes(t)&&!f&&(o.otClient().isConnected()||t.session))return o.selectTextFile(),o.selectFileByUuid(h)},H=()=>{const W=o.currentUsers().filter(j=>j.id()===d.id()?!1:j.currentDocument()===h);return W.length>0?p.createElement(Q$,{users:W}):!1},z=at({"filetree-child":!0,file:!0,active:h===a,hidden:L(),[E]:!0}),B=W=>{W.dataTransfer.setData("treepath",e)},q=W=>{const j=W.dataTransfer.getData("treepath");n(j,e)};return p.createElement(p.Fragment,null,p.createElement("li",{className:z,onClick:N,onDoubleClick:I,onKeyUp:ur(N),style:P(),tabIndex:"0",title:v,draggable:!0,onDragStart:B,onDrop:q},H(),F(),O(),f?p.createElement("input",{className:"input file-rename-input",autoFocus:!0,onBlur:k,onKeyUp:ur(U),spellCheck:"false",defaultValue:`${v}`,"data-testid":"file-rename-input"}):p.createElement("div",{className:"display-file-name","aria-label":t.name()},p.createElement("span",{className:"filename"},p.createElement(J$,{text:C()}),p.createElement("span",{className:`extension-type ${E}`},t.extension()&&`.${t.extension()}`," ",v===".env"&&p.createElement(v7e,null)))),!o.projectIsReadOnlyForCurrentUser()&&!c&&p.createElement("div",{className:"options icon opens-pop-over",onClick:W=>{W.stopPropagation();const $=W.currentTarget.getBoundingClientRect();T(t,$.top,$.left)}})),w)};function pP({folder:t,treepath:e,moveFileFromTo:n}){const i=ve(),{createNotification:o}=Bl(),s=V(i.fileSearch.searchedResults),a=V(i.editorIsPreviewingRewind),l=V(i.currentUser),[c,u]=K.exports.useState(!1),d=V(t.renaming),f=V(t.uuid),h=V(i.openFolderIds),{pop:v,toggle:m}=eW(),_=()=>{if(a)return t.rewindPreviewPath();const F=i.otClient().idToPath(f);return F?`${F.substring(2)}/`:""},S=F=>_()===""?!1:F.startsWith(_()),E=()=>{const F=s.filter(N=>S(N.path));return F.length>0?p.createElement(Z$,{resultCount:F.length}):!1},w=()=>{const F=i.files().filter(B=>S(B.path()));return F.every(B=>B.addedByRewind())?p.createElement(rp,{state:"modified"}):F.every(B=>B.deletedByRewind())?p.createElement(rp,{state:"deleted"}):i.files().some(B=>S(B.path())&&(B.modifiedByRewind()||B.addedByRewind()||B.deletedByRewind()))?p.createElement(rp,{state:"modified"}):!1},T=()=>{const F=i.currentUsers().filter(N=>{if(N.id()===l.id())return!1;const H=i.fileByUuid(N.currentDocument());return H?S(H.path()):!1});return F.length>0?p.createElement(Q$,{users:F}):!1},C=()=>({paddingLeft:`${5+t.level()*12}px`}),P=F=>{const N=t.name();let H=!1;if(t.renaming(!1),F===N)H=!0;else if(F==="")H=!0;else if(c_(F)||F.indexOf("/")!==-1)H=!0,i.notifyInvalidFolderName(!0);else{const{parentId:z}=i.otClient().documentImmediate(f),B=i.otClient().documentImmediate(z).children[F];if(B){const q=i.otClient().idToPath(B).substring(2);i.files().some(j=>j.path().startsWith(q)).length>0&&(H=!0,i.notifyInvalidFolderName(!0))}}H||i.renameFolder(f,_(),F)},R=()=>i.projectIsReadOnlyForCurrentUser()?o(m4):!i.projectIsReadOnlyForCurrentUser()&&!a?t.renaming(!0):!1,A=F=>{t.renaming()&&P(F.target.value)},L=F=>{["Enter","Escape","Tab"].includes(F.key)&&P(F.target.value)},k=()=>!!h.has(f),U=F=>{if(F.preventDefault(),d)return;const N=F.target.closest("summary");!(N.dataset.id&&N.dataset.id===f)||i.changeOpenFolderIds(f)},O=at({"folder-path":!0,other:!0,active:i.selectedFile()&&S(i.selectedFile().path()),"drop-target":c}),I=F=>{const N=F.dataTransfer.getData("treepath");n(N,e)};return p.createElement(p.Fragment,null,p.createElement("li",{className:"filetree-child folder",title:t.name()},p.createElement("details",{open:k()},p.createElement("summary",{className:O,style:C(),onClick:U,onDoubleClick:R,onDragOver:()=>u(!0),onDragLeave:()=>u(!1),onPointerOut:()=>u(!1),onDrop:I,"data-id":f},T(),w(),E(),d?p.createElement("input",{className:"input folder-rename-input",autoFocus:!0,onBlur:A,onKeyUp:ur(L),spellCheck:"false",defaultValue:`${t.name()}`,"data-testid":"folder-rename-input"}):p.createElement("div",{className:"display-folder-name"},p.createElement(J$,{text:`${t.name()}/`})),!i.projectIsReadOnlyForCurrentUser()&&!a&&p.createElement("div",{className:"options icon opens-pop-over",onClick:F=>{F.preventDefault(),F.stopPropagation();const H=F.currentTarget.getBoundingClientRect();m(t,H.top,H.left)}})),t.children().map((F,N)=>{const H=`${e}.${N}`;return F.type()==="file"?p.createElement(hP,{file:F,key:F.id(),treepath:H,moveFileFromTo:n}):p.createElement(pP,{folder:F,key:F.id(),treepath:H,moveFileFromTo:n})}))),v)}function tW(t,e,n){for(;t<e;)t+=n;return t%n}function nW(){const t=ve(),e=V(t.fileSearch.searchedValue),i=V(t.fileSearch.searchedResults).length,o=i>0,s=()=>{const u=t.fileSearch.selectedResult(),d=t.fileSearch.searchedResults(),f=tW(typeof u.index=="number"?u.index-1:-1,0,d.length);t.fileSearch.selectResult(d[f])},a=()=>{const u=t.fileSearch.selectedResult(),d=t.fileSearch.searchedResults(),f=tW(typeof u.index=="number"?u.index+1:0,0,d.length);t.fileSearch.selectResult(d[f])},l=()=>{t.fileSearch.clearSearch()},c=u=>{u.preventDefault(),t.projectSearchFilesOverlayVisible(!0)};return o?p.createElement("section",{className:"project-navigators"},p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:"button",onClick:s},p.createElement("div",{className:"left-arrow icon"})),p.createElement("button",{className:"button",onClick:a},p.createElement("div",{className:"right-arrow icon"})),p.createElement("button",{className:"button",onClick:l},p.createElement("div",{className:"close-icon icon"})),p.createElement("button",{className:"button search-box",onClick:c},p.createElement("span",{className:"search-box-value"},e),p.createElement("span",{className:"status-badge"},p.createElement("div",{className:"status warning"},i," ",p.createElement("div",{className:"search-in-badge icon"}))))))):null}const b7e="building",E7e="error",w7e="asleep";function rW(){const t=ve(),e=V(t.toolsPopVisible),n=V(t.logsPanelVisible),i=V(t.consolePanelVisible),o=V(t.projectIsMemberOrMoreForCurrentUser),s=V(t.projectContainerStatus),a=V(t.debuggerReady),l=V(t.projectIsReadOnlyForCurrentUser),c=V(t.editorIsEmbedded),u=V(t.rewindPanelVisible);return e?p.createElement("dialog",{className:"pop-over tools-pop"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Tools")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:at("button rewind-button",u&&"active"),onClick:()=>{t.closeAllPopOvers(),t.rewindPanelVisible.toggle()},"aria-label":"Rewind","data-testid":"rewind-button"},"Rewind ",p.createElement("span",{className:"rewind icon rewind-with-text"}))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:at("button",{active:n,disabled:l}),onClick:()=>{t.closeAllPopOvers(),t.logsPanelVisible.toggle()},disabled:l},"Logs ",p.createElement(Je,{icon:"newspaper"}),o&&p.createElement("div",{className:"status-badge icon"},s===b7e&&p.createElement("div",{className:"status loading"},p.createElement(mn,null)),s===E7e&&p.createElement("div",{className:"status error"},"Error"),s===w7e&&p.createElement("div",{className:"status off"},"Zzz"),a&&p.createElement("div",{className:"status warning"},"Debug")))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:at("button",{active:i,disabled:l}),onClick:()=>{t.closeAllPopOvers(),t.consolePanelVisible.toggle()},disabled:l},"Terminal ",p.createElement(Je,{icon:"pager"})))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:at("button button-small button-secondary",{disabled:l&&c}),onClick:()=>{t.closeAllPopOvers(),t.gitImportExportPopVisible(!0)},disabled:l&&c,"data-testid":"github-import-export-button"},"Import and Export")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:at("button button-small button-secondary",{disabled:l}),onClick:()=>{t.analytics.track("Custom Domains Viewed"),t.closeAllPopOvers(),t.customDomainPopVisible(!0)},disabled:l},"Custom Domains")))):null}function iW(){const t=ve(),e=Bl(),{createNotification:n}=e||{},i=V(t.gitImportExportPopVisible),o=V(t.editorIsEmbedded),s=V(t.projectIsLoaded),a=V(t.projectIsMemberOrMoreForCurrentUser),l=V(t.currentUserIsLoggedIn),[c,u]=K.exports.useState(!1),d=V(t.currentProject),f=V(K.exports.useCallback(()=>{if(!d)return;const R=d.readGitUrl();return d.gitAccessToken()?R.replace("://",`://${d.gitAccessToken()}@`):R},[d])),h=V(t.projectDownloadUrl),v=V(t.currentUser),m=V(v.githubToken);K.exports.useEffect(()=>{async function R(){const A=await t.currentUserHasGithubRepoScope();u(A)}R()},[t,m]);const _=()=>{t.gitImportExportPopVisible(!1),t.toolsPopVisible(!0)},S=()=>{t.analytics.track("Git Link Copied"),oa(f),n(p4)},E=R=>{R.preventDefault(),t.redirectToGitHubLogin("user:email")},w=async()=>{await t.importFromGitHub()},T=async()=>{await t.exportToGitHub()},C=()=>l?m?{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Grant us access")," to your GitHub repos in order to export projects from Glitch to GitHub."),buttonText:"Grant access"}:{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Connect your GitHub account")," to import private GitHub repos, and export projects from Glitch to GitHub."),buttonText:"Connect to GitHub"}:{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Sign in to Glitch, or create an account"),", by connecting your GitHub account. Easily export and import between Glitch and GitHub."),buttonText:"Sign In"},P=R=>{R.preventDefault(),t.analytics.track("Grant GitHub Publishing Access Clicked",{targetText:C().buttonText}),t.redirectToGitHubLogin("repo user:email")};return i?p.createElement("dialog",{className:"pop-over git-import-export-pop"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:_},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Import and Export ",p.createElement(Je,{icon:"tokyoTower"}))),p.createElement("section",{className:"info"},p.createElement("p",null,"Every Glitch project is also a Git repository you can access.")),p.createElement("section",{className:"actions"},s&&p.createElement(p.Fragment,null,p.createElement("p",null,"Your project's Git URL:"),p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:"input",readOnly:!0,value:f}),p.createElement("button",{className:"button button-copy-only-style",onClick:S},"Copy")),p.createElement(ft,{persistent:!0,variant:"error",message:"Your project's Git URL is private and shouldn't be shared with anyone, including other members of this project."}))),p.createElement("section",{className:"actions"},a&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"github-import",className:"button",onClick:w,"data-testid":"import-github-button"},"Import from GitHub ",p.createElement(Je,{icon:"octocat"}))),a&&c&&p.createElement(p.Fragment,null,p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"button-github-connect",className:"button",onClick:T,"data-testid":"export-github-button"},"Export to GitHub ",p.createElement(Je,{icon:"octocat"}))),p.createElement("p",null,p.createElement("a",{href:"#",className:"repo-access revoke",onClick:E},"Revoke GitHub repo access"))),a&&!c&&!o&&p.createElement("div",{className:"onboarding-tip"},C().descriptionHTML,p.createElement("div",{className:"button-wrap"},p.createElement("button",{onClick:P,className:l?"button button-small button-secondary":"button button-small button-cta"},C().buttonText)))),p.createElement("section",{className:"actions"},p.createElement("div",{className:at("button-wrap",{disabled:!a||o})},p.createElement("a",{id:"download-project",className:"button button-small button-secondary",onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Import and Export"}),href:h},"Download Project ",p.createElement(Je,{icon:"turtle"}))))):null}const sW=5,x7e="https://help.glitch.com/hc/en-us/articles/16287558909965-Adding-a-Custom-Domain",S7e="https://help.glitch.com/hc/en-us/articles/16287544780813-How-do-I-get-WebSocket-to-connect-with-my-projects-that-use-custom-domains-";function T7e(){const t=ve(),e=Ec(),[n,i]=K.exports.useState([]),o=n.length<sW,s=t.currentProjectId();K.exports.useEffect(()=>{!s||e.getProjectDomains(s).then(u=>{i(u.items.map(d=>d.hostname))})},[e,s]);async function a(u){await e.addProjectDomain(s,u),i(d=>[u,...d])}async function l(u){await e.removeProjectDomain(s,u),i(d=>d.filter(f=>f!==u))}return{domains:K.exports.useMemo(()=>n.slice(0,sW),[n]),canAddDomain:o,addDomain:a,removeDomain:l}}function oW(){const t=ve(),e=V(t.customDomainPopVisible),[n,i]=K.exports.useState(""),{domains:o,canAddDomain:s,addDomain:a,removeDomain:l}=T7e(),[c,u]=K.exports.useState(!1),[d,f]=K.exports.useState([]),h=()=>{t.customDomainPopVisible(!1),t.toolsPopVisible(!0),i(""),f([])},v=E=>{i(E.target.value)},m=async E=>{E.preventDefault(),u(!0);try{await a(n),i("")}catch(w){try{const T=await w.response.json(),C=T.errors?T.errors.map(({title:P})=>P):[w.response.statusText||"An unknown error has occurred."];f(C)}catch{f(["An unknown error has occurred."])}}finally{u(!1)}},_=t.isFeatureEnabled("editor_custom_domains"),S=E=>{(_||confirm("Are you sure you want to remove this domain? If you remove it, you will not be able to add it back."))&&l(E)};return e?p.createElement("dialog",{className:"custom-domain-pop pop-over"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:h},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Custom Domains ",p.createElement(Je,{icon:"globeWithMeridians"}))),!_&&p.createElement("section",{className:"actions"},p.createElement("p",null,"We are temporarily unable to add new custom domains. Please see our"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287558909965-Adding-a-Custom-Domain",target:"_blank",rel:"noreferrer"},"custom domains documentation")," ","for the latest details.")),s&&_&&p.createElement("section",{className:"actions"},p.createElement("p",null,"Add a domain that you've already purchased elsewhere"),c&&p.createElement(mn,null),p.createElement("form",{onSubmit:m},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:at("input",{"field-error":d&&d.length>0}),placeholder:"www.my-domain.com",value:n,onChange:v}),d.length>0&&p.createElement("div",{className:"field-error-message"},d.map((E,w)=>p.createElement("div",{key:w},E)))),p.createElement("button",{className:"button add-domain"},"Add Domain"))),!s&&!_&&p.createElement("section",{className:"actions"},p.createElement("p",null,"You already have the maximum number of custom domains. Remove an existing custom domain to add another.")),p.createElement("section",{className:"actions"},o.length>0&&p.createElement(p.Fragment,null,p.createElement("p",null,"Custom domains currently registered to this project"),p.createElement("ul",{className:"custom-domain-pop__domain-list"},o.map(E=>p.createElement("li",{key:E},p.createElement("span",{className:"custom-domain-pop__domain-item"},E),p.createElement(yee,{icon:"x",label:"remove domain",onClick:()=>S(E)}))))),p.createElement("p",null,"Need help setting up your custom domain?"," ",p.createElement("a",{href:x7e,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"normal"}},"Click here"),"."),p.createElement("p",null,"Note: Websocket connections do not work with custom domains."," ",p.createElement("a",{href:S7e,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"normal"}},"Click here to see how to route these requests"),"."))):null}const aW="ok";function mP({status:t,collapsed:e,children:n}){const i=at({status:!e,"status-standalone":e,[t]:!0});return p.createElement("div",null,p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:i},!e&&n)))}function lW(){const t=ve(),e=V(t.projectContainerStatus),n=V(t.projectContainerResourcesStatus),o=V(t.projectContainerResourcesDataLoaded)&&e!=="building",s=V(t.projectIsLoaded),a=V(t.debuggerReady),l=V(t.toolsPopVisible),c=V(t.customDomainPopVisible),u=V(t.gitImportExportPopVisible),d=V(t.containerStatsPanelVisible),f=V(K.exports.useCallback(()=>t.sidebarWidth()>=225,[t])),h=V(t.projectIsReadOnlyForCurrentUser),v=V(t.projectIsMemberOrMoreForCurrentUser),m=V(t.currentProjectIsBoosted),_=V(t.currentProjectBackend);if(t.isFeatureEnabled("ui_editor_refresh"))return null;const E=_==="project-hosting-v2",w=C=>{const P=t.toolsPopVisible();C.preventDefault(),t.closeAllPopOvers(),t.toolsPopVisible(!P),t.analytics.track("Tools Viewed")},T=at("button",{active:l||c||u,"has-status":e!==aW,"opens-pop-over":!0});return h||!s?!1:p.createElement("section",{className:"advanced-options"},p.createElement("div",{className:at("button-wrap",{boosted:m})},p.createElement("button",{className:at("button button-small button-secondary",{active:d,disabled:h}),onClick:()=>{t.closeAllPopOvers(),t.containerStatsPanelVisible.toggle(),t.analytics.track("App Status Viewed")},disabled:h,"data-testid":"container-status-button"},f?`${m?"Boosted":"App"} Status`:"Status",v&&p.createElement(p.Fragment,null,o?p.createElement(mP,{className:"status-badge status",status:n,collapsed:!f},n):p.createElement(mn,null)))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{"data-testid":"tools-pop-button",id:"tools-pop-button",className:T,onClick:w,"aria-label":"Open tools popover menu"},"Tools",e==="building"?p.createElement(mn,null):e!==aW&&p.createElement(mP,{className:"status-badge status",status:e,collapsed:!f},e),a&&p.createElement(mP,{collapsed:!f,status:"warning"},"Debug"),p.createElement("span",{className:"up-arrow icon"})),p.createElement(rW,{application:t}),p.createElement(iW,{application:t}),p.createElement(oW,{application:t})),E&&p.createElement("div",{className:"zebrafish"},"This is a ",p.createElement("strong",null,"zebrafish")," project \u{1F993} \u{1F41F}"))}function cW(t,e,n){return t.getUserPref(e)!==void 0?t.getUserPref(e):n}function Jc(t,e){const n=ve(),[i,o]=K.exports.useState(()=>cW(n,t,e));return K.exports.useEffect(()=>{o(cW(n,t,e))},[n,t,e]),K.exports.useEffect(()=>{n.updateUserPrefs(t,i)},[n,t,i]),[i,o]}const gP=250;function uW(){const t=ve(),[e,n]=Jc("sidebarWidth",gP),[i,o]=K.exports.useState(!1),s=K.exports.useRef();return K.exports.useEffect(()=>{if(i){let a;const l=({pageX:u})=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const d=u-e,f=e+d;n(f),t.sidebarWidth(f)})},c=()=>{o(!1)};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}}},[i,e,n,t]),K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t]),{sidebarRef:s,sidebarWidth:e,resizing:i,startResizing:()=>{o(!0)},resetSize:()=>{n(gP),t.sidebarWidth(gP)}}}function C7e(){const t=ve(),e=V(t.collapsedFiletree),n=V(t.sidebarIsCollapsed),i=V(t.newFilePopVisible),o=V(t.projectIsReadOnlyForCurrentUser),s=V(t.projectIsLoaded),a=V(t.projectContainerStatus),l=V(t.debuggerReady),c=V(t.editorIsPreviewingRewind),u=V(t.assetsWrapVisible),d=V(t.jiggleAssetFiletreeEntry),f=t.isFeatureEnabled("ui_editor_refresh"),{sidebarRef:h,sidebarWidth:v,startResizing:m,resetSize:_}=uW(),[S,E]=K.exports.useState(null),[w,T]=K.exports.useState(null),[C,P]=K.exports.useState(null),R=N=>{N.stopPropagation(),t.actionInterface.sidebarToggle(),t.sidebarIsCollapsed()||t.refreshEditor(),t.updateEmbedSidebarCollapsed()},A=()=>e.map(N=>N.type()==="file"?p.createElement(hP,{file:N,key:N.id()}):p.createElement(pP,{folder:N,key:N.id()})),L=()=>{const N=t.newFilePopVisible();t.closeAllPopOvers(),N?t.newFilePopVisible(!1):t.newFilePopVisible(!0)},k=()=>{t.sidebarIsCollapsed()&&t.actionInterface.sidebarToggle()},U=N=>{(N==="left"&&t.sidebarIsCollapsed()||N==="right"&&!t.sidebarIsCollapsed())&&t.actionInterface.sidebarToggle()},O=(N,H,z)=>{const B=5,q=30,W=500;(H/(N/1e3)**2>W&&H>B||H>q)&&U(z)},I=N=>{const H=N.targetTouches[0];E(H.clientX),T(H.clientY),P(Date.now())},F=N=>{let H;const B=Date.now()-C,q=N.targetTouches[0],W=q.clientX,j=q.clientY,$=S-W,ie=w-j;$>0?H="right":H="left";const Q=Math.abs($);Math.abs($)>Math.abs(ie)&&O(B,Q,H)};return p.createElement("section",{id:"sidebar",className:at("sidebar",n&&"sidebar-collapsed"),onTouchStart:I,onTouchMove:F,onClick:k,onKeyUp:ur(k),ref:h,style:{width:v}},!f&&p.createElement(p.Fragment,null,p.createElement(FSe,null),p.createElement(mj,null)),p.createElement("div",{className:"icon icon-collapse",onKeyUp:ur(R),onClick:R,tabIndex:"0",role:"button"}),p.createElement("div",{className:"sidebar-status-when-collapsed"},a==="building"&&p.createElement(mn,null),["error","stopped"].includes(a)&&p.createElement("span",{className:"error"}),l&&p.createElement("span",{className:"warning"}),a==="asleep"&&p.createElement("span",{className:"off"})),!o&&s&&p.createElement("section",{id:"sidebar-file-controls",className:"sidebar-section sidebar-file-controls"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"new-file",className:at("button new-file opens-pop-over",i&&"active",c&&"disabled"),"data-testid":"new-file",onClick:L},p.createElement("span",{className:"label","aria-label":"Open new file popover menu"},"New File"),p.createElement("span",{className:"down-arrow icon","aria-level":""})),p.createElement(X$,null))),p.createElement("section",{id:"sidebar-files",className:"sidebar-section sidebar-files"},p.createElement("div",{className:"files"},s?p.createElement("ul",{className:"filetree","data-testid":"filetree"},s&&p.createElement("li",{className:at("filetree-child assets-sidebar-icon other",{active:u,jiggle:d}),tabIndex:"0",onKeyUp:ur(t.showAssets),onClick:t.showAssets,onAnimationEnd:()=>{t.jiggleAssetFiletreeEntry(!1)}},"assets"),A()):p.createElement("div",{className:"loader-ellipses"}))),!n&&p.createElement("footer",{className:"footer-project-options"},p.createElement(nW,null),p.createElement(lW,null)),p.createElement("div",{className:"resizer",onMouseDown:m,onDoubleClick:_}))}const vP=t=>({fontWeight:"bold",fontSize:2,alignContent:"center",display:"grid",alignItems:"center",backgroundColor:"transparent",width:"100%",paddingX:2,paddingY:1,gridTemplateColumns:"24px 1fr",gap:2,textAlign:"left",cursor:"pointer","&:hover":{backgroundColor:t==="dark"?"blueLight.6":"gray.2"}});function yP({icon:t,title:e}){return p.createElement(p.Fragment,null,p.createElement(qt,{emoji:t,sx:{height:"22px"}}),e)}function M7e(){const t=ve(),[e,n]=uo(),i=V(t.currentProject),o=V(t.currentUserIsLoggedIn),s=V(i==null?void 0:i.privacy),a=V(t.currentUser),l=s==="public"||a.isProUser,c=V(t.projectIsMemberOrMoreForCurrentUser),u=V(t.projects),d=V(t.refreshPreviewOnChanges),f=V(t.wrapText),h=V(t.currentTheme),v=V(t.currentProjectDomain),m=V(K.exports.useCallback(()=>i&&i.users().length>1,[i])),_=u.length,S=V(t.editorIsEmbedded),E=()=>{var w;m?window.confirm(`Leave ${v}?`)&&(t.closeAllPopOvers(),t.rewindPanelVisible(!1),t.leaveCurrentProject(),t.analytics.track("Project Left",{projectMemberWhoLeft:a.login(),numberProjectMembers:((w=t.currentProject())==null?void 0:w.users().length)-1})):window.alert(`You can't leave ${v} because you are the only member.`)};return p.createElement(Pe,null,c&&p.createElement(Un,{key:"details",onClick:async()=>{await t.closeAllPopOvers(),await t.editProjectDetailsOverlayVisible.toggle()}},"Edit project details"),p.createElement(Un,{key:"project-page"},p.createElement(Bd,{href:`/~${v}`,target:"_blank",rel:"noopener noreferrer",variant:"blank",sx:{span:{fontSize:1}}},"Go to project page ",p.createElement(zwe,{style:{position:"relative",top:"0.185em",color:"#5A78FF",marginLeft:"0.25em"}}))),p.createElement(jl,null),p.createElement(Un,{key:"newproject",onClick:async()=>{await t.closeAllPopOvers(),await t.newProjectPopVisible.toggle()}},p.createElement(Pe,{sx:{fontSize:1}},"New project")),_>0&&o&&p.createElement(Un,{key:"switch",onClick:async()=>{await t.closeAllPopOvers(),await t.projectsSelectPopVisible.toggle()}},p.createElement(Pe,{sx:{fontSize:1}},"Switch project")),p.createElement(Un,{key:"remix",onClick:()=>{l&&(t.closeAllPopOvers(),t.remixCurrentProject())}},p.createElement(Pe,{sx:{fontSize:1}},"Remix this project")),p.createElement(Un,{key:"embed",onClick:async()=>{await t.closeAllPopOvers(),await t.shareEmbedOverlayVisible.toggle()}},p.createElement(Pe,{sx:{fontSize:1}},"Embed this app")),p.createElement(jl,null),c&&p.createElement(Un,{key:"refresh",onSelect:w=>{w.preventDefault()}},p.createElement(v2,{id:"refresh-changes-checkbox",onCheckedChange:()=>{t.refreshPreviewOnChanges.toggle(),t.analytics.track("Refresh App Setting Changed",{currentSetting:t.refreshPreviewOnChanges()})},checked:d},p.createElement(Pe,{sx:{fontSize:1}},"Toggle auto refresh"))),p.createElement(Un,{key:"wrap",onSelect:w=>{w.preventDefault()}},p.createElement(v2,{id:"wrap-text-checkbox",onCheckedChange:()=>{t.wrapText.toggle(),t.analytics.track("Wrap Text Setting Changed",{currentSetting:t.wrapText()})},checked:f},p.createElement(Pe,{sx:{fontSize:1}},"Toggle text wrap"))),!S&&p.createElement(Un,{key:"theme",onSelect:w=>{w.preventDefault()}},p.createElement(v2,{id:"theme-checkbox",onCheckedChange:()=>{const w={cosmos:"dark",sugar:"light"};t.actionInterface.changeTheme(),n(w[t.currentTheme()])},checked:h==="cosmos"},p.createElement(Pe,{sx:{fontSize:1}},"Toggle light/dark theme"))),m&&c&&p.createElement(p.Fragment,null,p.createElement(jl,null),p.createElement(Un,{key:"newproject",onClick:async()=>{await E()}},p.createElement(Pe,{sx:{fontSize:1}},"Leave project"))),c&&p.createElement(p.Fragment,null,p.createElement(jl,null),p.createElement(Pe,{sx:{paddingLeft:3,marginY:3}},p.createElement(Un,{key:"archive",onClick:()=>{t.actionInterface.deleteCurrentProject()},sx:{color:"statusBad",cursor:"pointer"}},"Archive this project"))))}function A7e(){return p.createElement(M7e,{currentProject:!0})}const dW={light:`linear-gradient(
    180deg,
    hsl(0deg 0% 96%) 0%,
    hsl(344deg 0% 96%) 11%,
    hsl(344deg 0% 97%) 22%,
    hsl(344deg 0% 97%) 33%,
    hsl(344deg 0% 98%) 44%,
    hsl(344deg 0% 98%) 56%,
    hsl(344deg 0% 99%) 67%,
    hsl(344deg 0% 99%) 78%,
    hsl(344deg 0% 100%) 89%,
    hsl(0deg 0% 100%) 100%
  );`,dark:`linear-gradient(
      45deg,
      hsl(280deg 23% 8%) 0%,
      hsl(277deg 26% 10%) 11%,
      hsl(276deg 30% 12%) 22%,
      hsl(276deg 34% 14%) 33%,
      hsl(277deg 37% 16%) 44%,
      hsl(277deg 40% 17%) 56%,
      hsl(278deg 42% 19%) 67%,
      hsl(278deg 45% 21%) 78%,
      hsl(279deg 47% 23%) 89%,
      hsl(280deg 48% 25%) 100%
    )`};function P7e(){const t=ve(),e=V(t.collapsedFiletree),n=V(t.sidebarIsCollapsed),i=V(t.newFilePopVisible),o=V(t.projectIsLoaded),s=V(t.projectContainerStatus),a=V(t.debuggerReady),l=V(t.editorIsPreviewingRewind),[c]=uo(),u=V(t.currentProject),d=V(t.currentProjectDomain),f=V(K.exports.useCallback(()=>u==null?void 0:u.description(),[u])),h=V(t.projectAvatarImage),{sidebarRef:v,startResizing:m,resetSize:_}=uW(),[S,E]=K.exports.useState(null),[w,T]=K.exports.useState(null),[C,P]=K.exports.useState(null),R=B=>{B.stopPropagation(),t.actionInterface.sidebarToggle(),t.sidebarIsCollapsed()||t.refreshEditor(),t.updateEmbedSidebarCollapsed()},[A,L]=K.exports.useState(null),k=(B,q)=>{const W=ue=>{var ke,Ze;let Ie=e;const Me=ue.split(".").slice(1);for(;Me.length;){const pt=Me.shift(),be=Ie[pt];Ie=(Ze=(ke=be.children)==null?void 0:ke.call(be))!=null?Ze:be}return Ie[0]?Ie.slice(-1)[0]:Ie},j=W(B),$=j.path();let Q=W(q).path();Q=Q.substring(0,Q.lastIndexOf("/")).trim();let le=$.substring($.lastIndexOf("/"));!Q&&le.startsWith("/")?le=le.substring(1):Q&&!le.startsWith("/")&&(le=`/${le}`);const he=Q+le;return c_(he)?L(`Cannot rename ${$} to ${he}.`):t.renameFile(j,Q+le)},U=()=>e.map((B,q)=>{const W=`root.${q}`;return B.type()==="file"?p.createElement(hP,{file:B,key:B.id(),treepath:W,moveFileFromTo:k}):p.createElement(pP,{folder:B,key:B.id(),treepath:W,moveFileFromTo:k})}),O=async()=>{await t.closeAllPopOvers(),await t.newFilePopVisible(!i)},I=()=>{t.sidebarIsCollapsed()&&t.actionInterface.sidebarToggle()},F=B=>{(B==="left"&&t.sidebarIsCollapsed()||B==="right"&&!t.sidebarIsCollapsed())&&t.actionInterface.sidebarToggle()},N=(B,q,W)=>{const j=5,$=30,ie=500;(q/(B/1e3)**2>ie&&q>j||q>$)&&F(W)},H=B=>{const q=B.targetTouches[0];E(q.clientX),T(q.clientY),P(Date.now())},z=B=>{let q;const j=Date.now()-C,$=B.targetTouches[0],ie=$.clientX,Q=$.clientY,le=S-ie,he=w-Q;le>0?q="right":q="left";const ue=Math.abs(le);Math.abs(le)>Math.abs(he)&&N(j,ue,q)};return p.createElement(Pe,{as:"section",id:"sidebar",className:n&&"sidebar-collapsed",onTouchStart:H,onTouchMove:z,onClick:I,onKeyUp:ur(I),ref:v,sx:{width:["20ch","20ch","30ch"],backgroundImage:c==="dark"?dW.dark:dW.light,padding:0,overflowY:"auto"}},A&&p.createElement(sU,{message:A,onClose:()=>L(null)}),p.createElement(sn,{sx:{alignContent:"flex-start",justifyContent:"space-between",gap:2}},p.createElement(Pe,{sx:{paddingY:"7px",minHeight:"48px",paddingLeft:2,paddingTop:"14px"}},p.createElement(Ud,{src:h,styles:{width:"16px",height:"16px",borderRadius:4}}),p.createElement(Fn,{sx:{paddingLeft:"6px",fontWeight:"bold",fontSize:"13px !important",color:B=>B.colors.text,lineHeight:"13px"}},d)),p.createElement(Rn,{onKeyUp:ur(R),onClick:R,variant:"blank",sx:{paddingRight:2,color:c==="dark"?"blueLight.1":"blueDark.2"}},p.createElement(Bwe,{style:{marginTop:"2px"}}))),p.createElement(Pe,{className:"sidebar-status-when-collapsed"},n&&p.createElement(Fn,{sx:{color:c==="dark"?"blueLight.1":"blueDark.2",marginLeft:"6px"}},p.createElement(Vwe,null)),["error","stopped"].includes(s)&&p.createElement("span",{className:"error"}),a&&p.createElement("span",{className:"warning"}),s==="asleep"&&p.createElement("span",{className:"off"})),p.createElement(sn,{sx:{flexDirection:"column",gap:1,paddingLeft:0,paddingBottom:2}},p.createElement(Dd,null,p.createElement(Fd,{sx:de({},vP(c))},p.createElement(yP,{title:"Settings",icon:"\u{1F38F}"})),p.createElement(jd,{sx:{marginLeft:"16px",minWidth:"250px",maxWidth:"400px"}},p.createElement(Pe,{sx:{paddingY:"7px",minHeight:"48px",paddingTop:"14px",paddingX:3}},p.createElement(Ud,{src:h,styles:{width:"32px",height:"32px",borderRadius:4}}),p.createElement(Fn,{sx:{paddingLeft:"6px",fontWeight:"bold"}},d)),p.createElement(Pe,{sx:{paddingX:3,marginBottom:1,maxHeight:"7em",overflow:"hidden"}},p.createElement(Fn,{sx:{fontFamily:"body",fontWeight:400,fontSize:"14px!important"}},f)),p.createElement(A7e,null))),o&&p.createElement(Rn,{variant:"blank",sx:vP(c),onKeyUp:ur(t.showAssets),onClick:t.showAssets,label:"Assets"},p.createElement(yP,{title:"Assets",icon:"\u{1F4E6}"})),p.createElement(qv,{sx:Ge(de({},vP(c)),{alignContent:"center",alignItems:"center",gridTemplateColumns:"24px 1fr 32px"}),onClick:O},p.createElement(yP,{title:"Files",icon:"\u{1F5C3}\uFE0F"}),p.createElement(Rn,{id:"new-file",variant:"blank",className:at("",i&&"active",l&&"disabled"),"data-testid":"new-file",onClick:O,sx:{"&:hover":{backgroundColor:"transparent"},color:c==="dark"?"blueLight.1":"blueDark.2"}},p.createElement("span",{className:"label","aria-label":"Open new file popover menu"},p.createElement(Wwe,null))))),p.createElement(Pe,{id:"sidebar-files"},p.createElement(X$,null),p.createElement(Pe,{className:"files"},o?p.createElement("ul",{className:"filetree","data-testid":"filetree"},o&&p.createElement(p.Fragment,null,U())):p.createElement("div",{className:"loader-ellipses"}))),!n&&p.createElement("footer",{className:"footer-project-options"},p.createElement(nW,null),p.createElement(lW,null)),p.createElement("div",{className:"resizer",onMouseDown:m,onDoubleClick:_}))}function R7e(){const e=ve().isFeatureEnabled("ui_editor_refresh");return p.createElement(p.Fragment,null,!e&&p.createElement(C7e,null),e&&p.createElement(P7e,null))}function L7e({application:t}){const e=V(t.ownerNotInGoodStandingOverlayVisible),n=V(t.projectIsAdminForCurrentUser),i=V(t.projectIsMemberOrMoreForCurrentUser);return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay owner-not-in-good-standing-overlay overlay-narrow"},n?p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Are you still using this project?")),p.createElement("section",{className:"info"},p.createElement("p",null,"In order to keep Glitch free for as many people as possible, we disable apps that appear to have been abandoned."),p.createElement("p",null,"You can download a copy of the project code by clicking the button below."),p.createElement("p",null,"If you would like this project to be restarted, please email us at support@glitch.com and be sure to include the name of the project.")),p.createElement("section",{className:"actions"},p.createElement(nn,null,p.createElement(Tt,{as:"a",href:"https://help.glitch.com/hc/en-us/articles/16287495313293-Technical-Restrictions","data-testid":"owner-not-in-good-standing-restrictions"},"View Restrictions"),p.createElement(Tt,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Owner Not in Good Standing Overlay"}),"data-testid":"owner-not-in-good-standing-download"},"Download Your Code")))):p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"We can't run this project for you at the moment")),p.createElement("section",{className:"info"},i?p.createElement("p",null,"While this project isn\u2019t running, you can still download it by clicking the button below."):p.createElement("p",null,"While this project isn\u2019t running, you can still remix it by clicking the button below.")),p.createElement("section",{className:"actions"},p.createElement(nn,null,i?p.createElement(p.Fragment,null,p.createElement(Tt,{as:"a",href:"https://help.glitch.com/hc/en-us/articles/16287495313293-Technical-Restrictions","data-testid":"owner-not-in-good-standing-restrictions"},"View Restrictions"),p.createElement(Tt,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Owner Not In Good Standing Overlay"}),"data-testid":"owner-not-in-good-standing-download"},"Download Your Code")):p.createElement(p.Fragment,null,p.createElement(Tt,{as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"owner-not-in-good-standing-remix"},"Remix this project ",p.createElement(Je,{icon:"microphone"})),p.createElement(Tt,{as:"a",href:"/","data-testid":"owner-not-in-good-standing-backtoglitch"},"Back to Glitch ",p.createElement(Je,{icon:"carpStreamer"})))))))):null}function I7e({application:t}){return V(t.userIsSuspendedVisible)?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay owner-not-in-good-standing-overlay overlay-narrow"},p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Your account has been suspended")),p.createElement("section",{className:"info"},p.createElement("p",null,"Your account has been suspended for violating our terms of service."),p.createElement("p",null,"You will be unable to edit or create new projects. You can learn more"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287541477133-Project-Suspensions"},"here"),".")),p.createElement("section",{className:"actions"},p.createElement(nn,null,p.createElement(p.Fragment,null,p.createElement(Tt,{as:"a",href:"https://help.glitch.com/new"},"Contact Support"))))))):null}function K0({application:t,location:e}){return p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:`${e}`}),"data-testid":`${e.toLowerCase().replace(" ","-")}-download`},"Download Project")}const O7e=$e.div`
  margin-left: auto;
`;function X0({title:t,children:e,actions:n}){return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",null,p.createElement("h1",null,t)),p.createElement("section",null,e),p.createElement("section",{className:"info"},p.createElement(nn,null,n,p.createElement(O7e,null,p.createElement("a",{href:"/"},"Back to Glitch"))))))}function _P({children:t}){return p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287560308109-Project-Hours",target:"_blank",rel:"noopener noreferrer"},t)}function N7e(){const t=ve(),e=V(t.uptimeLimitsExceededOverlayVisible),n=V(t.projectIsAdminForCurrentUser),i=V(t.projectIsMemberOrMoreForCurrentUser),o=C4(),{projectBoostState:s}=o;if(!e)return null;if(!i)return p.createElement(X0,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"uptime-limits-exceeded-remix"},"Remix this project ",p.createElement(Je,{icon:"microphone"}))},p.createElement("p",null,"This project's owner has no remaining project hours, so you can't access it right now."),p.createElement("p",null,"You're welcome to remix this app to get your own version though."));if(!n)return p.createElement(X0,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(K0,{application:t,location:"Uptime Limits Exceeded"})},p.createElement("p",null,"This project's owner has no remaining project hours, so you can't access it right now."),p.createElement("p",null,"As a member, you're welcome to download this app in the meantime."));switch(s){case K_:return p.createElement(X0,{title:p.createElement(p.Fragment,null,"Become a Glitch Member ",p.createElement(Je,{icon:"boosted"})),actions:p.createElement(p.Fragment,null,p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:"/pricing"},"Upgrade Account"),p.createElement(K0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"You've used all your project hours for this month! Your ",p.createElement(_P,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"Upgrade your account to give your projects superpowers: Unlimited hours, no rate limits, and boosted specs for up to five projects."));case X_:return p.createElement(X0,{title:p.createElement(p.Fragment,null,"You've used all your project hours for this month ",p.createElement(Je,{icon:"rocket"})),actions:p.createElement(p.Fragment,null,p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:"/dashboard"},"Manage Projects"),p.createElement(K0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"Your ",p.createElement(_P,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"To make this project accessible 24/7, head over to your Project Dashboard to update which projects are boosted."));case T4:return p.createElement(X0,{title:p.createElement(p.Fragment,null,"You've used all your project hours for this month ",p.createElement(Je,{icon:"rocket"})),actions:p.createElement(p.Fragment,null,p.createElement(M4,de({variant:"secondary",size:"small",onClick:()=>t.uptimeLimitsExceededOverlayVisible(!1)},o),()=>p.createElement(p.Fragment,null,"Boost Project ",p.createElement(Je,{icon:"boosted"}))),p.createElement(K0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"Your ",p.createElement(_P,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"As a Glitch Member, boost this project to make it accessible 24/7."));default:return null}}const k7e=$e.div`
  margin-left: auto;
`;function D7e(){const t=ve();return V(t.anonymousProjectDeletedOverlayVisible)?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"This project no longer exists")),p.createElement("section",null,p.createElement("p",null,"If you do not have a Glitch account, projects are deleted after 5 days. Save your work in the future by creating a free account!")),p.createElement("section",{className:"info"},p.createElement(nn,null,p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:"/signin"},"Create Account"),p.createElement(k7e,null,p.createElement("a",{href:"/"},"Back to Glitch")))))):null}const fW=$e(_ee)`
  text-decoration: underline;
`,F7e=$e.div`
  margin-left: auto;
`;function hW({title:t,children:e,actions:n}){return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",null,p.createElement("h1",null,t)),p.createElement("section",null,e),p.createElement("section",{className:"info"},p.createElement(nn,null,n,p.createElement(F7e,null,p.createElement("a",{href:"/"},"Back to Glitch"))))))}function U7e(){const t=ve(),e=V(t.glitchSubscriptionRequiredOverlayVisible),n=V(t.projectIsAdminForCurrentUser),i=Gu(),o=i==null?void 0:i.isProUser;if(!e)return null;if(n)return p.createElement(hW,{title:p.createElement(p.Fragment,null,"Glitch Pro Required"),actions:p.createElement(p.Fragment,null,p.createElement(Tt,{size:"small",as:"a",href:`//${xy}/settings/subscription`},"Subscription settings"))},p.createElement("p",null,"You need an active subscription for Glitch Pro in order to run Private Code or Private Projects."),p.createElement("p",null,"Head over to your Subscription Settings page to resolve this. You can alternatively choose to"," ",p.createElement(fW,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Uptime Limits Exceeded Overlay"})},"download your project")," ","or"," ",p.createElement(fW,{onClick:async()=>{await t.changeProjectPrivacy("public"),location.reload()}},"make it public")," ","(it'll take a few minutes for this to take effect)."));if(!n)return p.createElement(hW,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(p.Fragment,null,o&&p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"glitch-subscription-required-remix"},"Remix this project ",p.createElement(Je,{icon:"microphone"})),p.createElement(K0,{application:t,location:"Glitch Subscription Required Overlay"}))},p.createElement("p",null,"This project's owner no longer has an active Glitch Pro subscription, so we can't run their private projects"),p.createElement("p",null,"You can ask them to make it public for you, or take one of the other actions below."))}var j7e=p.forwardRef(function({className:e},n){const i=ve(),o=K.exports.useRef(),s=K.exports.useCallback(l=>{n&&(n.current=l),o.current&&o.current!==l&&o.current.removeChild(i.editorElement),l&&l.appendChild(i.editorElement),o.current=l},[i,n]),a=K.exports.useRef(n);return a.current!==n&&(n&&(n.current=a.current.current),a.current.current=void 0,a.current=n),p.createElement("div",{className:e,ref:s})});const io="KEY_VALUE",bP="COMMENT",EP="INVALID_LINE";function B7e(t,e){const[n,...i]=t.split(e);return[n,i.length>0?i.join(e):null]}function pW(t){return t.replace(/\n/g,"\\n")}function V7e(t){return t.replace(/\\n/g,`
`)}function H7e(t){const[e]=t.match(/\S/)||[];if(e==="#"){const[u,d,f]=t.match(/(^\s*#\s*)(.*)/);return{type:bP,prefix:d,comment:f}}const[n,i]=B7e(t,"=");if(i===null)return{type:EP,text:t};const o=n.trim();if(o.match(/\s/)||o==="")return{type:EP,text:t};let s=i.trim(),a="";const[l]=s.match(/^("|')/)||[];l&&s.endsWith(l)&&(s=s.slice(1,-1),a=l);let c=s;return a==='"'&&(c=V7e(c)),{type:io,key:o,fullKey:n,value:c,escapedValue:s,fullValue:i,quote:a,originalQuote:a}}function z7e(t){if(t==="")return[];const e=t.split(`
`),n=[];for(const i of e)n.push(H7e(i));return n}function G7e(t){let e="";for(const n of t)if(!(n.type===io&&n.key==="")){if(n.type===io)e+=`${n.fullKey}=${n.fullValue}`;else if(n.type===bP)e+=`${n.prefix}${n.comment}`;else if(n.type===EP)e+=n.text;else throw new Error(`Invalid node type: ${n.type}`);e+=`
`}return e.slice(0,-1)}function $7e(t,e,n){const i=t[e];if(i.type!==io)return t;const o=n.trim(),s=Ge(de({},i),{key:o,fullKey:i.fullKey.replace(i.key,o)}),a=t.slice();return a.splice(e,1,s),a}function W7e(t,e,n){const i=t[e];if(i.type!==io)return t;const o=n.match(/\n/)||n.match(/^\s/)||n.match(/\s$/)?'"':i.originalQuote,s=pW(n),a=i.fullValue.replace(`${i.quote}${i.escapedValue}${i.quote}`,`${o}${s}${o}`),l=Ge(de({},i),{value:n,escapedValue:s,fullValue:a,quote:o}),c=t.slice();return c.splice(e,1,l),c}function mW(t,e,n){const i=t[e];if(i.type!==io||n===i.quote)return t;if(i.value.match(/\n/)&&n==="")throw new Error("values with newlines require quotes");const o=i.fullValue.replace(`${i.quote}${i.escapedValue}${i.quote}`,`${n}${i.escapedValue}${n}`),s=Ge(de({},i),{fullValue:o,quote:n}),a=t.slice();return a.splice(e,1,s),a}function q7e(t,e,n){if(e.match(/\s/))throw new Error("Keys cannot contain whitespace");const i=pW(n),o=n!==i?'"':"",s={type:io,key:e,fullKey:e,value:n,escapedValue:i,fullValue:i,quote:o,originalQuote:o};return[...t,s]}function Y7e(t,e){if(t[e].type!==io)return t;const i=t.slice();return i.splice(e,1),i}const K7e="fastly",X7e="digitalocean",wP={transition:"transform .2s ease-in-out,box-shadow .1s ease-in-out",":hover, :focus":{boxShadow:"-2px 2px #cbcaca",transform:"translate(2px,-2px)"}},J7e=$e.div`
  width: 100%;
  padding: 12px 20px;
  overflow: auto;
`,Z7e=$e.h1`
  font-size: 1.6em;
  margin-top: 0px;
`,gW=({label:t,id:e,onChange:n,value:i,error:o})=>p.createElement(Pe,{sx:{flexBasis:"50%",":focus-within label":{background:"var(--variable-shim-new-primary)",color:"#fff"}}},p.createElement(Pe,{sx:{fontWeight:"bold",fontSize:1,paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,display:"inline-block"},as:"label",htmlFor:e},t),p.createElement(Pe,{sx:{color:s=>s.colors.text,background:s=>s.colors.background,width:"100%",padding:2,border:"2px solid #B4B4B4",outline:"none",":focus, :hover":{borderColor:"var(--variable-shim-new-primary)"}},as:"input",type:"text",id:e,name:e,onChange:n,value:i}),o&&p.createElement(Fn,{sx:{display:"inline-block",fontSize:[1,1,1],lineHeight:1.2,fontWeight:"bold",paddingTop:2,color:"var(--variable-shim-error)"}},o));function Q7e({name:t,value:e,onNameChange:n,onValueChange:i,onDelete:o,isDarkMode:s}){const a=ve(),l=t.match(/^\d/)!==null,c=l===!1&&t.length>0;return p.createElement(Pe,{sx:{position:"relative",display:"flex",gap:3,background:u=>u.colors.background,paddingLeft:3,paddingRight:3,paddingTop:2,paddingBottom:3,borderLeft:"5px solid currentcolor",marginBottom:3,":focus-within":{borderLeftColor:"var(--variable-shim-new-primary)"}}},p.createElement(Pe,{sx:{position:"relative",flexBasis:"50%"}},p.createElement(gW,{id:t,label:"Variable Name",value:t,onChange:u=>{const d=u.target.value;n(d)},error:l?"Variable names can't start with a number":null}),c&&p.createElement(Pe,{sx:{position:"absolute",top:"1.5rem",right:0,color:"#B4B4B4",padding:2,":hover, :focus":{color:"var(--variable-shim-new-primary)"}},as:"button",type:"button",onClick:()=>{oa(t),a.notifyCopied(!0)},className:"no-button-styles","aria-label":"Copy","data-tooltip":"Copy"},p.createElement("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("rect",{x:"5.17391",y:"5.28571",width:"9.82609",height:"13.7143",fill:"var(--theme-ui-colors-background)",stroke:"currentColor",strokeWidth:"2"}),p.createElement("rect",{x:"1",y:"1",width:"9.82609",height:"13.7143",fill:"var(--theme-ui-colors-background)",stroke:"currentColor",strokeWidth:"2"})))),p.createElement(gW,{id:e,label:"Value",value:e,onChange:u=>{const d=u.target.value;i(d)}}),p.createElement(Pe,{sx:{position:"absolute",top:0,right:0}},p.createElement(Pe,{"data-tooltip":"Remove environment variable","aria-label":"Remove environment variable",as:"button",sx:{padding:1,lineHeight:1,backgroundColor:u=>s?u.colors.gray["4"]:"#E4E4E4",color:u=>u.colors.white,":hover, :focus":{backgroundColor:u=>u.colors.gray["5"]},":active":{backgroundColor:u=>u.colors.gray["6"]}},type:"button",onClick:o,className:"no-button-styles"},p.createElement(Je,{icon:"x"}))))}const eDe=$e(_r)`
  max-width: 620px;
`;function tDe({comment:t}){return p.createElement(Pe,{as:"p",sx:{marginBottom:2,fontFamily:"monospace",fontSize:1}},"# ",t)}function vW(t){const e=z7e(t);return e.reduce((n,i,o)=>i.type===io&&i.value.match(/\s/)&&i.quote===""?mW(n,o,'"'):n,e)}function nDe(t,e,n){const i=W7e(t,e,n);return i[e].value.match(/\s/)&&i[e].quote===""?mW(i,e,'"'):i}function rDe(t){const e=ve(),n=V(K.exports.useCallback(()=>t&&t.content(),[t])),[i,o]=K.exports.useState(()=>vW(n)),s=K.exports.useRef(n),a=K.exports.useRef(i);return K.exports.useEffect(()=>{n!==s.current&&(s.current=n,o(l=>{let c=vW(s.current);const u=l[l.length-1];return u&&u.type===io&&u.key===""&&u.value===""&&(c=c.concat(u)),a.current=c,c}))},[e,n]),K.exports.useEffect(()=>{i!==a.current&&(a.current=i,s.current=G7e(i),e.writeToFile(t,s.current))},[e,t,i]),[i,o]}function iDe(){const t=ve(),e=V(t.selectedFile),n=V(t.projectIsMemberOrMoreForCurrentUser),[i,o]=K.exports.useState(!1),[s,a]=rDe(e),c=V(t.currentTheme)==="cosmos",u=s.find(v=>v.type==="COMMENT"),d=s.find(v=>v.type==="KEY_VALUE"&&v.fullKey.toLowerCase().includes(K7e)),f=s.find(v=>v.type==="KEY_VALUE"&&v.fullKey.toLowerCase().includes(X7e)),h=()=>{const v=s[s.length-1];if(s.length>0&&v.type===io&&v.key===""&&v.value==="")return;const m=q7e(s,"","");a(m),i===!1&&(t.notifyDotenvUpdatesAsYouType(!0),o(!0))};return p.createElement(J7e,null,p.createElement(Z7e,null,"Environment Variables"),p.createElement(eDe,null,!n&&p.createElement(_r,null,p.createElement("p",null,"Only project members can see the contents of a .env file."),p.createElement(nn,null,p.createElement(Tt,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://help.glitch.com/hc/en-us/articles/16287550167437-Adding-Private-Data",className:"no-button-styles",variant:"secondary",size:"small"},"Learn More"))),n&&p.createElement("p",null,"The .env file is for storing secrets for your app, like an API key. Any project member can see the contents in the same way that you can, and everyone else can just see the variable names."," ",p.createElement(Bd,{color:c?"var(--variable-shim-general-link)":"",href:"https://help.glitch.com/hc/en-us/articles/16287550167437-Adding-Private-Data",target:"_blank",rel:"noopener noreferrer"},"Learn How to Use Environment Variables")),n&&u&&p.createElement("p",null,"Comments are visible in remixes. Make sure there are no secrets in your comments!"),p.createElement(Pe,{sx:{background:v=>v.colors.backgroundSecondary,padding:4}},p.createElement("form",null,s.map(({key:v,value:m,type:_,comment:S},E)=>_===bP?p.createElement(tDe,{key:E,comment:S}):_===io?p.createElement(Q7e,{isDarkMode:c,key:E,name:v,value:m,onNameChange:w=>{a(T=>$7e(T,E,w))},onValueChange:w=>{a(T=>nDe(T,E,w))},onDelete:()=>{a(Y7e(s,E)),t.notifyDotenvRemovedVariable(!0)}}):null)),n&&p.createElement(Pe,{sx:de({backgroundColor:"var(--variable-shim-new-primary)",padding:"16px",marginTop:"16px",fontWeight:"bold",color:"var(--variable-shim-new-primary-fg)",":active":{backgroundColor:"var(--theme-ui-colors-black)"}},wP),as:"button",type:"button",className:"no-button-styles",onClick:h},"Add a variable")),(d||f)&&p.createElement(Pe,{sx:{position:"relative"}},p.createElement(Pe,{sx:{marginTop:"100px"}},p.createElement(au,{sx:{position:"absolute",maxWidth:"120px",left:3,top:"37px"},width:"100%",src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/teamgreen.svg?v=1686679628652",alt:""}),p.createElement(Pe,{sx:{background:c?"#003668":"#DBF2FF",padding:4,marginTop:5,marginBottom:5}},p.createElement(Fn,{sx:{fontWeight:"bold",paddingTop:10}},"You\u2019re using some cool stuff! Here\u2019s how Glitch makes it even easier:"),f&&p.createElement(Pe,{as:"a",href:"https://www.glitch.com/digitalocean",target:"_blank",rel:"noreferrer",sx:de({display:"block",textDecoration:"none",background:v=>v.colors.background,paddingLeft:3,paddingRight:3,paddingTop:3,paddingBottom:3,borderLeft:"5px solid #0069FF",marginTop:3},wP)},p.createElement(au,{sx:{display:"block",maxWidth:"210px",marginBottom:2},width:"100%",src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/DigitalOcean.svg?v=1686926953230",alt:""}),p.createElement(Fn,null,"Building on Glitch and hosting on App Platform? We\u2019ve got you covered! Learn about our DigitalOcean integration and get started today."))," ",d&&p.createElement(Pe,{as:"a",href:"https://www.glitch.com/fastly",target:"_blank",rel:"noreferrer",sx:de({display:"block",textDecoration:"none",background:v=>v.colors.background,paddingLeft:3,paddingRight:3,paddingTop:3,paddingBottom:3,borderLeft:"5px solid #FF282D",marginTop:3},wP)},p.createElement(au,{sx:{display:"block",maxWidth:"100px",marginBottom:2},width:"100%",src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/fastly-logo.svg?v=1651620514541",alt:""}),p.createElement(Fn,null,"Ultra-fast delivery, edge compute, and observability that gives you stats for days. What\u2019s not to love about Fastly? Learn how to add Fastly to your apps!")))))))}function sDe({element:t,visible:e}){const n=K.exports.useRef();return K.exports.useLayoutEffect(()=>{for(;n.current.firstChild;)n.current.removeChild(n.current.firstChild);t&&n.current.appendChild(t)},[t]),p.createElement("section",{className:at("media-wrap",{hidden:!e}),ref:n})}function oDe(){const t=ve(),{createNotification:e}=Bl(),n=V(t.currentLicense),i=V(t.selectedFile),o=V(K.exports.useCallback(()=>i&&i.content(),[i])),s=K.exports.useMemo(()=>d4(o),[o]);return p.createElement("article",{className:"markdown-container"},n&&p.createElement("section",{className:"license-summary"},p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Permissions"),p.createElement("ul",null,n.licensePermissions.map(a=>p.createElement("li",{key:a,className:"permission"},a)))),p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Conditions"),p.createElement("ul",null,n.licenseConditions.map(a=>p.createElement("li",{key:a,className:"condition"},a)))),p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Limitations"),p.createElement("ul",null,n.licenseLimitations.map(a=>p.createElement("li",{key:a,className:"limitation"},a))))),p.createElement("section",{className:"markdown-content",onErrorCapture:a=>{if(a.target.type!=="img"||!t.projectIsMemberOrMoreForCurrentUser())return;t.cspViolations().some(c=>c.blockedURI===a.target.src)&&e(tU)},dangerouslySetInnerHTML:{__html:s}}))}const aDe=Object.keys(oU).map(t=>p.createElement(D4e,{key:t,template:oU[t],templateName:t})),lDe=j4(bee)`
  top: 55px;
  right: 20px;
`;function cDe(){const t=ve(),e=V(t.selectedFile),n=V(t.markdownPreviewVisible),o=V(K.exports.useCallback(()=>YF(e),[e]))&&n,s=V(t.dotenvViewVisible),l=V(K.exports.useCallback(()=>lP(e),[e]))&&s;return K.exports.useEffect(()=>{t.refreshEditor()},[t,s]),l?p.createElement(iDe,null):o?p.createElement(oDe,null):p.createElement(j7e,null)}function uDe(){const t=ve(),e=V(t.assets),n=V(t.editorIsPreviewingRewind),i=V(t.editorIsRewindingProject),o=V(t.notifyConnectionError),s=V(t.projectIsLoaded),a=V(t.assetsWrapVisible),l=V(t.appTypeConfigWrapVisible),c=V(t.editorWrapVisible),u=V(t.mediaWrapVisible),d=V(t.appPreviewVisible),f=V(t.embedAppPreviewSize),h=V(t.projectIsReadOnlyForCurrentUser),v=V(t.editorIsEmbedded),m=V(t.embedEditingEnabled),_=d||f===100,[S,E]=K.exports.useState(f===100);K.exports.useEffect(()=>{E(f===100)},[f]),K.exports.useLayoutEffect(()=>{t==null||t.refreshEditor()},[t,S]),K.exports.useEffect(()=>{t.notifyTakeActionToEdit(!1),!!s&&(h||v&&!m)&&t.notifyTakeActionToEdit(!0)},[t,v,m,h,s]);const w=V(t.mediaElement);return p.createElement("main",{id:"editor",className:at({"editor-read-only":n||i,"editor-connection-error":o})},!S&&p.createElement("div",{className:"editor-container"},p.createElement(lDe,null,aDe,p.createElement(L7e,{application:t}),p.createElement(I7e,{application:t}),p.createElement(N7e,null),p.createElement(D7e,null),p.createElement(U7e,null),s?p.createElement(p.Fragment,null,p.createElement(R7e,null),p.createElement(B4e,null),p.createElement(sDe,{element:w,visible:u}),p.createElement("section",{className:at("assets-wrap",{hidden:!a})},p.createElement(s9e,null),p.createElement(G4e,null),e.length===0?p.createElement($4e,null):p.createElement(sn,{sx:{gap:2,justifyContent:"space-evenly",flexWrap:"wrap",padding:2}},e.map(T=>p.createElement(i9e,{key:T.id,asset:T})))),p.createElement("section",{className:at("app-type-config-wrap",{hidden:!l})},p.createElement(d9e,null)),p.createElement("section",{className:at("editor-wrap",{hidden:!c||S}),role:"application",onDragStart:()=>{t.userIsDraggingText(!0)},onDragEnd:()=>{t.userIsDraggingText(!1)},onKeyDown:T=>{Wve(T.keyCode)||(t.editorIsPreviewingRewind()&&t.jigglePreviewingRewindNotification(!0),(t.projectIsReadOnlyForCurrentUser()||t.editorIsEmbedded()&&!t.embedEditingEnabled())&&t.jiggleTakeActionToEditNotification(!0))}},p.createElement(O9e,null),p.createElement(o7e,null),p.createElement(cDe,null))):p.createElement(j4e,null))),p.createElement(d7e,{onClickClose:()=>{t.appPreviewVisible(!1)},onTransitionEnd:()=>{E(f===100)},visible:_}))}function dDe(){const t=ve();return V(t.editorVisible)?p.createElement(uDe,null):null}function fDe(t,e=5e3){const n=K.exports.useMemo(()=>Be(t),[t]),[i,o]=K.exports.useState(()=>n.fromNow());return K.exports.useEffect(()=>{const s=setInterval(()=>{o(n.fromNow())},e);return()=>{clearInterval(s)}},[e,n]),i}var yW={exports:{}},xP=function(t,e){var n=[];return t=t.replace(/\*([^}]|$)/g,"{*}$1"),t=t.replace(/(\/)?(\.)?\{([^{]+)\}(?:\(([^)]+)\))?(\?)?(?=(.|$))/g,function(i,o,s,a,l,c,u){if(!/^(\w|\d|[_\-.*])+$/g.test(a))throw new Error("bad pattern name: "+a);return n.push(e({slash:o?"\\/":"",dot:s?"\\.":"",name:a,capture:l,optional:c,closed:u===""||u==="/"})),"@"}),t.replace(/([\\\/."])/g,"\\$1").replace(/@/g,function(){return n.shift()})},hDe=function(t,e){return t?(t='return "'+xP(t,function(n){return n.slash+n.dot+'"+params["'+n.name+'"]+"'})+'";',new Function("params",t.replace(/\+"";$/,";"))):function(){return""}},pDe=function(t,e){if(!t)return function(){return{}};var n=[];t=xP(t,function(a){return n.push(a.name),a.capture=a.capture||(a.name==="*"?".+?":"[^\\/]+"),a.optional=a.optional||(a.name==="*"?"?":""),(a.closed?"(?:"+a.slash+a.dot:a.slash+"(?:"+a.dot)+"("+a.capture+"))"+a.optional});for(var i=e.strict?"":"[\\/]?",o="var pattern=/^"+t+i+`$/i;
var match=str.match(pattern);
return match && {`,s=0;s<n.length;s++)n[s]==="*"?o+='"*":match['+(s+1)+'] || "","glob":match['+(s+1)+'] || ""':o+='"'+n[s]+'":match['+(s+1)+"]",o+=s+1<n.length?",":"";return o+="};",new Function("str",o)},mDe=function(t,e){e||(e={});var n=pDe(t,e),i=hDe(t),o={},s=function(a){return(typeof a=="string"?n:i)(a)};return xP(t||"",function(a){o[a.name]=!0}),o["*"]&&(o.glob=!0),s.variables=Object.keys(o),s.pattern=t||"",s},gDe=mDe,qE=yW.exports=function(t){if(!(this instanceof qE))return new qE(t);this._patterns=(t||[]).map(function(e){return[_W(e),e,void 0]})},_W=function(t){return typeof t=="string"?gDe(t):function(e){return e.match(t)}};qE.prototype.add=function(t,e){this._patterns.push([_W(t),t,e])};qE.prototype.match=function(t,e){var n=this,i=function(){return n.match(t,e+1)},o,s;e||(e=0);for(var a=this._patterns.length;e<a;e++)if(o=this._patterns[e],s=o[0](t),s)return{target:t,pattern:o[1],params:s,value:o[2],next:i};return null};var vDe=yW.exports;const yDe=vDe([/app is listening/,/app is running/]),bW=150;function _De(t,e){if(!e)return null;for(const n of e){const i=new RegExp(`/app/(${hj(n)}(:\\d*)?)`),o=t.match(i),s=t.search(i);if(o){const a=s,l=o[0],c=l.length+s,u=o[1];return{start:a,matchedPath:l,path:u,end:c}}}return null}function bDe(t){return t.scrollHeight-t.scrollTop===t.clientHeight}function EDe(t){return t.scrollHeight-t.clientHeight}function wDe({entry:t}){const{timestamp:e,message:n,emoji:i,stream:o}=t,s=ve(),a=V(s.projectFilePaths),l=K.exports.useMemo(()=>_De(n,a),[n,a]),c=K.exports.useMemo(()=>Be(e).format("LT"),[e]),u=K.exports.useMemo(()=>yDe.match(n),[n]),d=o==="stderr",f=o==="stdout"&&u,h=()=>{s.selectFileByLogPath(l.path)};return p.createElement("div",{className:at("log-item",{"error-log":d,"success-log":f,"has-jump-button":l}),"data-testid":`log-entry:${t.id}`},p.createElement("pre",null,f&&p.createElement(p.Fragment,null,i," "),l?p.createElement(p.Fragment,null,p.createElement("button",{className:"button jump-to-button",onClick:h},"Jump To"),n.slice(0,l.start).trimLeft(),p.createElement("button",{className:"text",onClick:h},l.matchedPath),n.slice(l.end)):n),p.createElement("span",{className:"log-time"},c))}function xDe({entry:t}){const{timestamp:e}=t,n=K.exports.useMemo(()=>Be.min(Be(e),Be()),[e]),i=fDe(n.valueOf());return p.createElement("div",{className:"log-item instance-divider","data-testid":`log-divider:${t.id}`},p.createElement("hr",null),p.createElement("span",{className:"log-time relative-time"},i))}const SDe=p.memo(function(e){const{entry:n}=e;if(n.type===HD)return p.createElement(wDe,de({},e));if(n.type===zD)return p.createElement(xDe,de({},e));throw new Error("Unknown log type.")}),TDe=1e3/60;function CDe(){const t=ve(),[e,n]=K.exports.useState(()=>t.logsData());return K.exports.useEffect(()=>{let i;const o=s=>{clearTimeout(i),i=setTimeout(()=>{n(s)},TDe*5)};return t.logsData.observe(o),n(t.logsData()),()=>{clearTimeout(i),t.logsData.stopObserving(o)}},[t,t.logsData]),e}function MDe(){const t=CDe(),e=K.exports.useRef(),[n,i]=K.exports.useState(!0),o=K.exports.useRef();return K.exports.useLayoutEffect(()=>{n&&o.current!==t&&(e.current.scrollTop=EDe(e.current),o.current=t)},[n,t]),p.createElement("div",{ref:e,className:"logs-scroll",onScroll:()=>{i(bDe(e.current))},"data-testid":"logs-scroll-list"},p.createElement("div",{className:"logs-container"},t.map(s=>p.createElement(SDe,{key:s.id,entry:s}))))}function ADe(){const t=ve(),e=V(t.debuggerEnabled),n=V(t.editorIsEmbedded),o=V(K.exports.useCallback(()=>t.fileByPath("package.json"),[t]))!==null,[s,a]=K.exports.useState(!1),[l,c]=Jc("logsPanelHeight",Math.max(bW,window.innerHeight/3));K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t,l]),K.exports.useEffect(()=>()=>{window.requestAnimationFrame(()=>{t.refreshEditor()})},[t]);const u=K.exports.useRef(null);return K.exports.useEffect(()=>{if(s){let d=null;const f=v=>{cancelAnimationFrame(d);const{pageY:m}=v;d=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const _=u.current.getBoundingClientRect(),S=window.innerHeight-_.bottom,w=window.innerHeight-m-S;c(Math.max(w,bW))})},h=()=>{a(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}}},[s,c]),p.createElement("footer",{className:"logs-panel panel",style:{height:typeof l=="number"&&`${l}px`},"data-testid":"logs-panel",ref:u},p.createElement("div",{className:"resizer",onMouseDown:()=>{a(!0)},onDoubleClick:()=>{c(null)}}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Logs"),p.createElement("div",{className:"controls"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button clear-logs",onClick:()=>{t.clearLogs()}},"Clear ",p.createElement(Je,{icon:"bomb"}))),!n&&e?p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-secondary",onClick:()=>{t.disableDebugger()}},"Stop Debugger ",p.createElement(Je,{icon:"octagonalSign"}))):p.createElement("div",{className:at("button-wrap",{disabled:!o})},p.createElement("button",{className:"button button-debugger",disabled:!o,onClick:()=>{t.openDebugger()}},"Debugger",p.createElement("span",{className:"text-icon","aria-label":""},"\u2192"))),p.createElement("div",{className:"close icon",role:"button",onClick:()=>{t.logsPanelVisible(!1)},onKeyDown:ur(()=>{t.logsPanelVisible(!1)}),tabIndex:"0"}))),p.createElement(MDe,null))}function PDe(){const t=ve(),e=V(t.logsPanelVisible);return K.exports.useEffect(()=>{e&&t.analytics.track("Logs Viewed")},[t,e]),e?p.createElement(ADe,null):null}const EW=150;function RDe(){const t=ve(),e=V(t.editorIsEmbedded),n=V(t.projectIsReadOnlyForCurrentUser),i=V(t.consoleUrl),[o,s]=K.exports.useState(!1),[a,l]=Jc("consolePanelHeight",Math.max(EW,window.innerHeight/3)),c=V(t.projectIsMemberOrMoreForCurrentUser);K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t,a]),K.exports.useEffect(()=>()=>{window.requestAnimationFrame(()=>{t.refreshEditor()})},[t]);const u=K.exports.useRef(null);return K.exports.useEffect(()=>{if(o){let d=null;const f=v=>{cancelAnimationFrame(d);const{pageY:m}=v;d=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const _=u.current.getBoundingClientRect(),S=window.innerHeight-_.bottom,w=window.innerHeight-m-S;l(Math.max(w,EW))})},h=()=>{s(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}}},[o,l]),p.createElement("footer",{className:"console-panel panel",style:{height:typeof a=="number"&&`${a}px`},"data-testid":"console-panel",ref:u},p.createElement("div",{className:"resizer",onMouseDown:()=>{s(!0)},onDoubleClick:()=>{l(null)}}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Terminal"),p.createElement("div",{className:"controls"},!e&&p.createElement("div",{className:"button-wrap"},p.createElement("a",{className:at("button",{disabled:n}),href:i,onClick:()=>t.analytics.track("Full Page Terminal Viewed"),target:"_blank",rel:"noopener noreferrer"},"Full Page Terminal",p.createElement("span",{className:"text-icon","aria-label":""},"\u2192"))),p.createElement("div",{className:"close icon",role:"button",onClick:()=>{t.consolePanelVisible(!1)},onKeyDown:ur(()=>{t.consolePanelVisible(!1)}),tabIndex:"0"}))),c&&p.createElement("div",{className:"console-container"},p.createElement("iframe",{className:"console-frame",src:i,style:{pointerEvents:o?"none":"all"},title:"Console"})),!c&&p.createElement("div",{className:"console-container",style:{color:"white",fontFamily:"monospace"}},"Sorry. Only project members can view this window."))}function LDe(){const t=ve();return V(t.consolePanelVisible)?p.createElement(RDe,null):null}const SP=$e(yI)`
  -webkit-appearance: none;
  appearance: none;
  position: relative;
  width: inherit;
  height: 10px;
  border: solid var(--colors-border) 1px;
  border-radius: 12px;

  /* For Firefox, -moz-progress-value doesn't exist, so you use the element itself and -moz-progress-bar, rather than 
  -moz-progress-bar and -moz-progress-value */
  background-color: var(--colors-secondary-background);
  border-radius: 12px;
  &[value]::-moz-progress-bar {
    background-color: var(--colors-border);
    border-radius: 12px;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    background-color: var(--colors-secondary-background);
    border-radius: 12px;
  }
  &[value]::-webkit-progress-value {
    background-color: var(--colors-border);
    border-radius: 12px;
  }
`,wW=$e.div`
  display: grid;
  position: relative;
  width: 80px;
  height: 10px;
`,IDe=$e(wW)`
  /* Here we're using two triangles on top of each other and slightly offset to create the illusion of a border on the triangle 
  This is then placed on top of the progress bar to make it look like it has an angle */
  &:before {
    position: absolute;
    top: 0;
    right: 0.7px;
    content: '';
    width: 0;
    height: 0;
    border-bottom: 10px solid var(--colors-border);
    border-left: 10px solid transparent;
    z-index: 1;
  }
  &:after {
    position: absolute;
    top: 0;
    right: -0.7px;
    content: '';
    width: 0;
    height: 0;
    border-bottom: 11px solid var(--colors-background);
    border-left: 11px solid transparent;
    z-index: 1;
  }
`,ODe=$e(wW)`
  /* Here we're using two triangles on top of each other and slightly offset to create the illusion of a border on the triangle 
  This is then placed on top of the progress bar to make it look like it has an angle */
  &:before {
    position: absolute;
    left: 0.7px;
    bottom: 0;
    content: '';
    width: 0;
    height: 0;
    border-top: 10px solid var(--colors-border);
    border-right: 10px solid transparent;
    z-index: 1;
  }
  &:after {
    position: absolute;
    left: -0.7px;
    bottom: 0;
    content: '';
    width: 0;
    height: 0;
    border-top: 11px solid var(--colors-background);
    border-right: 11px solid transparent;
    z-index: 1;
  }
`,NDe=$e(SP)`
  border-radius: 12px 0 0 12px;

  /* For Firefox (see note above) */
  &[value]::-moz-progress-bar {
    border-radius: 12px 0 0 12px;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    border-radius: 12px 0 0 12px;
  }
  &[value]::-webkit-progress-value {
    border-radius: 12px 0 0 12px;
  }
`,kDe=$e(SP)`
  border-radius: 0 12px 12px 0;

  /* For Firefox (see note above) */
  &[value]::-moz-progress-bar {
    border-radius: 0 12px 12px 0;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    border-radius: 0 12px 12px 0;
  }
  &[value]::-webkit-progress-value {
    border-radius: 12px 0 0 12px;
  }
`,DDe=$e.div`
  position: relative;
  display: flex;
  width: 180px;
  height: 8px;
`;function xW({value:t,max:e,tooltip:n}){return p.createElement(DDe,null,p.createElement(IDe,null,p.createElement(NDe,{value:t,max:e},t)),p.createElement(ODe,null,p.createElement(kDe,{value:0,max:e,"data-tooltip":n},0)))}const FDe=$e.div`
  background: ${t=>t.itemIsBoosted?"linear-gradient(12deg, #C454FF, #2800FF, #FA8A7C, #FE7DAB)":"var(--colors-border)"};
  border-radius: 14px;
  padding: 2px;
`,UDe=$e.div`
  background: var(--colors-background);
  border: solid 2px transparent;
  border-radius: 12px;
  padding: 19px;
  height: 100%;
`,TP=$e.div`
  font-family: monospace;
  font-size: 13px;
`,CP=$e.div`
  font-size: 14px;
`,MP=$e(SP)`
  width: 177px;
`,AP=t=>t>q7?"error":t>Y7?"warning":"ok",PP=t=>`${t.toFixed(0)}%`,SW=(t,e)=>`${B4.format(t,{decimalPlaces:0})} / ${B4.format(e,{decimalPlaces:0})}`,J0=({title:t,iconTooltip:e,details:n,help:i,badgeStatus:o,itemIsBoosted:s,children:a})=>p.createElement(FDe,{itemIsBoosted:s},p.createElement(UDe,null,p.createElement(_r,null,p.createElement(nn,null,p.createElement(_r,null,p.createElement(nn,null,s!==void 0&&p.createElement(A4,{variant:s?"default":"inactive",size:"small",tooltip:e}),p.createElement(bI,{variant:o},t)),a),n&&p.createElement(TP,null,n)),i)));function jDe({memoryUsagePercent:t,memoryUsage:e,memoryLimit:n,itemIsBoosted:i}){const o=AP(t);return p.createElement(J0,{title:i?"Memory Boost":"Memory",iconTooltip:i?void 0:"Boosted Memory is inactive",details:p.createElement(p.Fragment,null,PP(t),p.createElement("br",null),SW(e,n)),help:o==="ok"?void 0:p.createElement(CP,null,"Large or inefficient processes, libraries or compilers that use too much RAM may get killed"),badgeStatus:o==="ok"?"success":o,itemIsBoosted:i},i?p.createElement(MP,{value:t,max:100},t):p.createElement(xW,{value:t,max:100,tooltip:"Boosted Memory potential"}))}function BDe({diskUsagePercent:t,diskUsage:e,diskSize:n,itemIsBoosted:i}){const o=AP(t);return p.createElement(J0,{title:i?"Disk Boost":"Disk",iconTooltip:i?void 0:"Boosted Disk Space is inactive",details:p.createElement(p.Fragment,null,PP(t),p.createElement("br",null),SW(e,n)),help:o==="ok"?void 0:p.createElement(CP,null,"You may have problems saving changes when your disk is full. Try removing unneeded files or deleting old data. Check out the"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287552960269-Disk-Space-Warning",rel:"noreferrer",target:"_blank"},"help center guide")," ","on how to do this."),badgeStatus:o==="ok"?"success":o,itemIsBoosted:i},i?p.createElement(MP,{value:t,max:100},t):p.createElement(xW,{value:t,max:100,tooltip:"Boosted Disk potential"}))}function VDe({quotaUsagePercent:t}){const e=AP(t);return p.createElement(J0,{title:"CPU",details:PP(t),help:e==="ok"?void 0:p.createElement(CP,null,"This may be caused by large or inefficient processes, libraries or compilers"),badgeStatus:e==="ok"?"success":e},p.createElement(MP,{value:t,max:100},t))}function HDe({itemIsBoosted:t}){return p.createElement(J0,{title:"Always On",iconTooltip:t?void 0:"Always On is inactive",badgeStatus:t?"success":"inactive",itemIsBoosted:t},p.createElement(TP,null,t?"ACTIVATED":"OFF"))}function zDe({itemIsBoosted:t}){return p.createElement(J0,{title:t?"Rate Limit Boost":"Rate Limit",iconTooltip:t?void 0:"Boosted Rate Limit is inactive",badgeStatus:t?"success":"inactive",itemIsBoosted:t},p.createElement(TP,null,t?"Unlimited requests per hour":"4000 requests per hour"))}const GDe=$e(A4)`
  margin-right: 4px;
  position: relative;
  top: -1px;
`;function $De(){const t=ve(),e=V(t.currentProjectIsBoosted),[n,i]=Jc("dismissedBoostedNotificationStatusPanel"),o=V(t.containerStatsPanelVisible),s=V(t.projectContainerResourcesDataLoaded),a=V(t.projectContainerResourcesStatus),l=V(t.projectIsAdminForCurrentUser),{quotaUsagePercent:c,memoryUsagePercent:u,diskUsagePercent:d,memoryUsage:f,memoryLimit:h,diskUsage:v,diskSize:m}=V(t.projectContainerResourcesData),[_,S]=K.exports.useState(!1),E=Math.min(390,Math.floor(window.innerHeight/2)),[w,T]=K.exports.useState(E),C=Gu(),P=C4();K.exports.useEffect(()=>{if(_){let I=null;const F=H=>{cancelAnimationFrame(I),I=requestAnimationFrame(()=>{H.preventDefault(),window.getSelection().removeAllRanges(),T(Math.floor(window.innerHeight-H.pageY))})};document.addEventListener("mousemove",F);const N=()=>{S(!1)};return document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",N)}}},[_]),K.exports.useEffect(()=>{const I=window.requestAnimationFrame(t.refreshEditor);return()=>{window.cancelAnimationFrame(I)}},[t,w]);const R=()=>{S(!0)},A=()=>{T(E)},L=I=>{I.preventDefault(),t.containerStatsPanelVisible(!1)};if(!o)return null;const k=!e&&!n&&!(C==null?void 0:C.isProUser)&&s,U="Learn More About Boosted Apps",O="/pricing";return p.createElement("footer",{id:"container-stats-panel",className:"container-stats-panel panel",style:{height:`${w}px`}},p.createElement("div",{className:"resizer",onMouseDown:R,onDoubleClick:A}),p.createElement("header",{className:"header"},p.createElement(nn,null,p.createElement("h1",null,e?"Boosted App Status":"App Status"),s?p.createElement("div",{className:"controls"},p.createElement(bI,{variant:a==="ok"?"success":a},a==="ok"?"Ok":"Warn")):p.createElement(mn,null)),p.createElement("div",{className:"close icon",onClick:L,onKeyPress:ur(L),role:"button",tabIndex:"0"})),k&&p.createElement("section",null,p.createElement(ft,{persistent:!0,variant:"onboarding",message:"Boost your memory, disk space, and more with Boosted Apps","data-testid":"boosted-status-panel-notification"},p.createElement(_r,null,p.createElement("span",null,p.createElement("strong",null,"Boost your memory, disk space, and more with Boosted Apps.")," Turn off app sleeping and remove your app's rate limit."),p.createElement(nn,null,p.createElement("a",{href:`//glitch.com${O}`,className:"sign-in-button button button-cta button-small",target:"_blank",rel:"noopener noreferrer",onClick:()=>{t.analytics.track("Subscription CTA Clicked",{targetText:U,url:window.location.pathname,href:O})}},U),p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{i(!0)},"data-testid":"boosted-status-panel-notification-hide"},"Hide"))))),p.createElement("section",null,s?p.createElement(p.Fragment,null,p.createElement(jDe,{memoryUsagePercent:u,memoryUsage:f,memoryLimit:h,itemIsBoosted:e}),p.createElement(BDe,{diskUsagePercent:d,diskUsage:v,diskSize:m,itemIsBoosted:e}),p.createElement(VDe,{quotaUsagePercent:c}),p.createElement(HDe,{itemIsBoosted:e}),l&&(C==null?void 0:C.isProUser)&&p.createElement(zDe,{itemIsBoosted:!0})):p.createElement(mn,null)),P.projectBoostState!==K_&&p.createElement("section",null,p.createElement(nn,null,p.createElement(M4,de({},P),I=>p.createElement(p.Fragment,null,p.createElement(GDe,{variant:"default",size:"small"}),p.createElement("span",null,I))),P.projectBoostState===X_&&C&&p.createElement("a",{href:`/@${C.login}/boosted-apps`,className:"button button-small"},"Manage Boosted Apps"))))}function WDe({file:t,showTooltipOnTop:e}){const n=ve(),i=V(n.rewindLargestChangeSize),o={};if(i===null)o.flex=t.changeSize;else{const s=Math.round(t.changeSize/i*100),a=Math.max(12,Math.round(s));o.height=`${a}%`}return p.createElement("div",{className:at("rewind-file",N7(t.path)),style:o,"data-tooltip-left":!0,"data-tooltip-top":e||void 0,"data-tooltip":t.path})}function TW(t){return t?t.commitMessage.includes("Rewound to commit"):!1}function qDe({revision:t,previousRevision:e,user:n,index:i}){const o=V(n.id),s=V(n.color),a=V(n.gitUser),l=V(n.isGlitchRewind),c=K.exports.useCallback(m=>{const _=m.editsByUser.find(S=>S.user===o);return _?_.files:m.gitEdits.files.length&&m.gitUser===a?m.gitEdits.files:[]},[o,a]),u=TW(t),d=TW(e),f=K.exports.useMemo(()=>c(t),[t,c]),h=K.exports.useMemo(()=>e&&u===d?c(e):[],[e,c,u,d]);if(f.length===0||l!==u)return p.createElement("div",{className:"rewind-item cell"});const v=i>=2;return p.createElement("div",{className:"rewind-item cell"},p.createElement("div",{className:"revisions"},f.map((m,_)=>p.createElement(WDe,{key:_,showTooltipOnTop:v,file:m}))),h.length===0&&p.createElement("div",{className:"person-container"},l?p.createElement("span",{className:"person"},p.createElement("div",{className:"avatar",style:{backgroundColor:s},"data-tooltip":"Glitch Rewind","data-tooltip-left":!0},p.createElement("span",{className:"rewind icon rewind-icon"}))):p.createElement(h4,{user:n,showPopOnClick:!1,hideOnlineStatus:!0,showTooltipOnTop:v})))}function YDe({revision:t,previousRevision:e,nextRevision:n,highlighted:i,select:o,users:s}){const{dateTime:a,monthDay:l,time:c,year:u}=K.exports.useMemo(()=>{const h=Be(new Date(t.timestamp*1e3));return{dateTime:h.format(),monthDay:h.format("MMM Do"),time:h.format("LT"),year:h.format("YYYY")}},[t.timestamp]),{showMonthDay:d,showYear:f}=K.exports.useMemo(()=>{if(!e||!n)return{showMonthDay:!0,showYear:!0};const h=Be(new Date(n.timestamp*1e3));return{showMonthDay:h.format("MMM Do")!==l,showYear:h.format("YYYY")!==u}},[e,n,l,u]);return p.createElement("div",{className:at("rewind-column",{highlighted:i}),"data-revision-id":t.hash,onClick:o},p.createElement("div",{className:"time cell"},p.createElement("time",{dateTime:a,title:a,className:"time-label"},p.createElement("span",{className:at("time-label-year",!f&&"time-label-year-show-on-hover")},u),p.createElement("span",{className:at("time-label-monthday",!d&&"time-label-monthday-show-on-hover")},l),p.createElement("span",{className:"time-label-time"},c))),s.map((h,v)=>p.createElement(qDe,{key:v,index:v,revision:t,previousRevision:e,user:h})))}function KDe(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}var XDe=KDe,JDe=XDe,RP=QT;function ZDe(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=RP(n),n=n===n?n:0),e!==void 0&&(e=RP(e),e=e===e?e:0),JDe(RP(t),e,n)}var QDe=ZDe;function eFe(t=50){const[e,n]=K.exports.useState(t),[i,o]=K.exports.useState(!1),s=K.exports.useRef(),a=K.exports.useRef();return K.exports.useEffect(()=>{if(i){let l=null;const c=v=>{window.cancelAnimationFrame(l),l=window.requestAnimationFrame(()=>{const{width:m}=s.current.getBoundingClientRect(),{x:_}=a.current.getBoundingClientRect();n(S=>QDe(S-(v-_),0,m))})},u=v=>c(v.pageX),d=v=>c(v.touches[0].pageX),f=()=>{o(!1)},h=f;return document.addEventListener("mousemove",u),document.addEventListener("touchmove",d),document.addEventListener("mouseup",f),document.addEventListener("touchend",h),()=>{document.removeEventListener("mousemove",u),document.removeEventListener("touchmove",d),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",h)}}},[i]),{dragging:i,parentRef:s,position:e,setPosition:n,playheadProps:{ref:a,position:e,startDragging:()=>{o(!0)}}}}var tFe=p.forwardRef(function({position:e,startDragging:n},i){return p.createElement("div",{ref:i,className:"playhead",onMouseDown:n,onTouchStart:n,style:{right:`${e}px`}},p.createElement("div",{className:"playhead-arrow icon"}),p.createElement("div",{className:"tail"}))});function nFe(t=null){const e=ve(),[n,i]=K.exports.useState(t),[o,s]=K.exports.useState(!1),a=K.exports.useRef();return K.exports.useEffect(()=>{if(o){let l;const c=d=>{cancelAnimationFrame(l);const{pageY:f}=d;l=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const h=a.current.getBoundingClientRect(),v=window.innerHeight-h.bottom,_=window.innerHeight-f-v;i(_)})},u=()=>{s(!1)};return document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}}},[o]),K.exports.useLayoutEffect(()=>{e.refreshEditor()},[e,n]),{panelRef:a,height:n,resizing:o,panelStyle:{height:typeof n=="number"?`${n}px`:n},startResizing:()=>{s(!0)},resetSize:()=>{i(t)}}}function rFe({revision:t}){const e=t&&t.commitMessage;return p.createElement("div",{className:at("commit-message",e&&"commit-message-filled")},e&&e,!e&&"\xA0")}function iFe({onClickClose:t}){const e=ve(),n=V(e.gettingRewinds),i=V(e.rewindRevisions),o=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--rewind-revision-width"),10),s=V(e.rewindUsers),a=V(e.displayedRevision),l=n||i===null||s===null,c=K.exports.useRef();K.exports.useEffect(()=>{const A=e.initRewind();return()=>{A.then(e.cleanupRewinds)}},[e]);const u=K.exports.useCallback(A=>{e.selectRevision(A,!1),e.analytics.track("Rewind Checkpoint Previewed",{checkpointDate:new Date(i[A].timestamp*1e3).toISOString()})},[e,i]);K.exports.useLayoutEffect(()=>{c.current&&(c.current.scrollLeft=c.current.scrollWidth)},[l]);const{parentRef:d,dragging:f,position:h,setPosition:v,playheadProps:m}=eFe(o),{panelRef:_,panelStyle:S,startResizing:E,resetSize:w}=nFe(window.innerHeight/3),T=Math.max(0,Math.ceil(h/o)-1),C=i?i[T-1]:null,P=K.exports.useRef(f);K.exports.useEffect(()=>{f!==P.current&&!f&&a!==C&&u(T),P.current=f},[f,u,a,i,C,T]);const R=()=>{u(0),v(o)};return p.createElement("footer",{id:"rewind-panel",className:"rewind-panel panel",ref:_,style:S},p.createElement("div",{className:"resizer",onMouseDown:E,onDoubleClick:w}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Rewind"),p.createElement(rFe,{revision:C}),p.createElement("div",{className:"close icon",role:"button",tabIndex:"0",onClick:t,onKeyDown:ur(t)})),l&&p.createElement("div",{className:"loading-rewinds"},p.createElement(mn,null)),!l&&p.createElement("div",{ref:c,className:"rewind-graph"},p.createElement("div",{className:"rewind-columns-container",style:{width:`${(i.length+1)*o}px`},ref:d},p.createElement("div",{className:at("rewind-column now",{highlighted:T===0}),onClick:R},p.createElement("div",{className:"time cell"},p.createElement("span",{className:"time-label"},"Now")),s.map((A,L)=>p.createElement("div",{key:L,className:"rewind-item cell"}))),i.map((A,L)=>p.createElement(YDe,{key:A.hash,revision:A,previousRevision:i[L-1],nextRevision:i[L+1],highlighted:L+1===T,select:()=>{u(L+1),v((L+2)*o)},users:s})),p.createElement(tFe,de({},m)))))}function sFe(){const t=ve(),e=V(t.rewindPanelVisible);return K.exports.useEffect(()=>{e&&t.analytics.track("Rewind Panel Viewed")},[t,e]),e?p.createElement(iFe,{onClickClose:()=>{t.rewindPanelVisible(!1)}}):null}function oFe({user:t}){const e=V(t.login)||"Anonymous",n=V(t.profileUrl);return p.createElement("span",{className:"person","data-tooltip":e,"data-tooltip-top":!0},p.createElement("a",{href:n,"aria-label":e,target:"_blank",rel:"noopener noreferrer"},p.createElement(qF,{user:t,hideOnlineStatus:!0})))}const YE="SHARE_PROJECT_PAGE",LP="SHARE_APP",IP="SHARE_CODE";function aFe({hideSecretsMessage:t=!1}){const e=ve(),n=V(e.projectAccessLevelForCurrentUser),i=V(e.projectIsLoaded),o=V(e.projectIsPrivate),s=V(e.publishedUrl),a=V(e.editorUrl),[l,c]=K.exports.useState(YE),u=V(K.exports.useCallback(()=>{if(e.currentProject()){const{origin:d}=document.location,f=e.currentProject().projectPageUrl();return`${d}${f}`}return""},[e]));return p.createElement(p.Fragment,null,p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:at("button",{active:l===YE}),onClick:()=>{c(YE)}},"Project Page"),p.createElement("button",{className:at("button",{active:l===LP}),onClick:()=>{c(LP)}},"Live App"),p.createElement("button",{className:at("button",{active:l===IP}),onClick:()=>{c(IP)}},"Code"))),l===YE&&p.createElement(p.Fragment,null,o&&p.createElement("p",null,p.createElement("span",{className:"private-icon is-private"})," Only project members or teams can view"),p.createElement("p",null,p.createElement("input",{className:"input share-link project-page-url",value:u,readOnly:!0}),p.createElement("button",{className:"button button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"project page"}),oa(u)}},"copy"))),l===LP&&p.createElement("p",null,p.createElement("input",{className:"input share-link app-url",value:s,readOnly:!0}),p.createElement("button",{className:"button button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(s)}},"copy")),l===IP&&p.createElement(p.Fragment,null,o&&p.createElement("p",null,p.createElement("span",{className:"private-icon is-private"})," Only project members or teams can view"),!o&&!t&&n>=xt.MEMBER&&p.createElement("p",null,p.createElement("span",{className:"secrets-sidebar-icon"})," Non-members won't be able to see your .env file secrets"),i?p.createElement("p",null,p.createElement("input",{className:"input share-link app-url",value:a,readOnly:!0}),p.createElement("button",{className:"button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"code"}),oa(a)}},"copy")):p.createElement(mn,null)))}function lFe(){const t=ve(),e=V(K.exports.useCallback(()=>t.currentProject()?t.currentProject().projectPageUrl():null,[t])),n=V(t.projectAvatarImage),i=V(t.projectName),o=V(K.exports.useCallback(()=>t.currentProject()?t.currentProject().users():[],[t])),s=K.exports.useMemo(()=>o.map(S=>({key:S.id,user:qs(S)})),[o]),a=V(t.editorUrl),l=V(t.publishedUrl),c=V(t.embedAppPreviewSize),u=V(t.embedAttributionHidden),d=V(t.embedBottombarCollapsed),f=c===100,h=!f,[v,m]=K.exports.useState(null);K.exports.useEffect(()=>t.onCloseAllPopOvers(()=>{m(null)}),[t]);const _=K.exports.useCallback(S=>{S&&S.querySelector(".project-page-url").select()},[]);return d?null:p.createElement("div",{className:"embed-helper"},p.createElement("a",{className:"project-name",href:e,target:"_blank",rel:"noopener noreferrer"},p.createElement("img",{className:"project-avatar",src:n,alt:`Avatar for ${i}`}),i),u?p.createElement("div",{style:{flex:1}}):p.createElement(p.Fragment,null,p.createElement("div",{className:"preposition"},"by"),p.createElement("div",{className:"collaborators"},p.createElement("div",{className:"grouped-avatars"},s.map(({key:S,user:E})=>p.createElement(oFe,{key:S,user:E}))))),p.createElement("div",{className:"share-project"},p.createElement("button",{className:at("button opens-pop-over",{active:v!==null}),onClick:S=>{const E=S.currentTarget.getBoundingClientRect();m(w=>w?null:{top:"initial",bottom:window.innerHeight-E.top+5,left:"initial",right:window.innerWidth-E.right}),t.analytics.track("Share Menu Viewed")}},p.createElement("span",{className:"label"},"Share")),v&&p.createElement(Cg,null,p.createElement("dialog",{ref:_,className:"pop-over embed-share-pop",style:v},p.createElement("section",{className:"actions"},p.createElement(aFe,{hideSecretsMessage:!0}))))),p.createElement("div",{className:"switch-view"},f&&p.createElement("button",{className:"button view-source","data-testid":"view-source",onClick:()=>{t.appPreviewVisible(!1),t.appPreviewIsCollapsed(!0),t.appPreviewSize(0),t.embedAppPreviewSize(0),t.analytics.page("Editor"),t.analytics.track("Project Source Viewed"),t.trackFileHelper(t.selectedFile(),"File Viewed")}},"View Source"),h&&p.createElement("button",{className:"button view-app",onClick:()=>{t.embedAppPreviewSize(100)}},"View App")),p.createElement("div",{className:"fullscreen-button"},p.createElement("a",{className:"button",href:h?a:l,target:"_blank",rel:"noopener noreferrer","aria-label":h?"Open Source":"Open App"},p.createElement("span",{className:"fullscreen emoji"}))),p.createElement("div",{className:"helper-icon"},p.createElement("a",{className:"glitch-logo",href:e,target:"_blank",rel:"noreferrer noopener","aria-label":i})))}function cFe(){const t=ve(),e=V(t.editorIsEmbedded),n=V(t.currentProject);return!e||!n?null:p.createElement(lFe,null)}function uFe({isMac:t,all:e=[],mac:n=[],nonMac:i=[]}){const o=t?n.map(a=>p.createElement("div",{key:a,className:"key mac-shortcut"},a)):i.map(a=>p.createElement("div",{key:a,className:"key all-shortcut"},a)),s=e.map(a=>p.createElement("div",{key:a,className:"key all-shortcut"},a));return p.createElement("div",{className:"shortcuts"},s.concat(o))}function Fi({title:t,isMac:e=!1,all:n=[],mac:i=[],nonMac:o=[]}){return p.createElement("div",{className:"shortcut"},t,": ",p.createElement(uFe,{isMac:e,all:n,mac:i,nonMac:o}))}function dFe(){const t=ve(),e=V(t.keyboardShortcutsOverlayVisible),n=t.isAppleDevice;return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay keyboard-shortcuts-overlay"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Keyboard Shortcuts ",p.createElement(Je,{icon:"musicalKeyboard"}))),p.createElement("section",{className:"info"},p.createElement("h2",null,"Global"),p.createElement(Fi,{title:"Show this list",isMac:n,all:["?"]}),p.createElement(Fi,{title:"Show app in new window",isMac:n,mac:["\u2318\u2013Shift\u2013R"],nonMac:["Ctrl\u2013Shift\u2013R"]}),p.createElement(Fi,{title:"Show app next to the code",isMac:n,mac:["\u2318\u2013Shift\u2013U"],nonMac:["Ctrl\u2013Shift\u2013U"]}),p.createElement(Fi,{title:"Project search",isMac:n,mac:["\u2318\u2013P","\u2318\u2013K"],nonMac:["Ctrl\u2013P","Ctrl\u2013K","Ctrl\u2013;"]}),p.createElement(Fi,{title:"Sidebar toggle",isMac:n,mac:["\u2318\u2013I"],nonMac:["Ctrl\u2013I"]}),p.createElement(Fi,{title:"Rewind toggle",isMac:n,mac:["\u2318\u2013Shift\u2013M"],nonMac:["Ctrl\u2013Shift\u2013M"]}),p.createElement(Fi,{title:"Close dialog",all:["ESC"]})),p.createElement("section",{className:"info"},p.createElement("h2",null,"Advanced"),p.createElement(Fi,{title:"Export to GitHub",isMac:n,mac:["\u2318\u2013Shift\u2013E"],nonMac:["Ctrl\u2013Shift\u2013E"]}),p.createElement(Fi,{title:"Logs toggle",isMac:n,mac:["\u2318\u2013Shift\u2013L"],nonMac:["Ctrl\u2013Shift\u2013L"]}),p.createElement(Fi,{title:"Open console",isMac:n,mac:["\u2318\u2013Shift\u2013X"],nonMac:["Ctrl\u2013Shift\u2013X"]})),p.createElement("section",{className:"info"},p.createElement("h2",null,"Text Editing"),p.createElement(Fi,{title:"Find text",isMac:n,mac:["\u2318\u2013F"],nonMac:["Ctrl\u2013F"]}),p.createElement(Fi,{title:"Find and replace",isMac:n,mac:["\u2318-\u2325\u2013F"],nonMac:["Ctrl\u2013Alt\u2013F"]}),p.createElement(Fi,{title:"Jump to line",all:["Ctrl\u2013G"]}),p.createElement(Fi,{title:"Search files",isMac:n,mac:["\u2318\u2013Shift\u2013F"],nonMac:["Ctrl\u2013Shift\u2013F"]}),p.createElement(Fi,{title:"Format file/selection",isMac:n,mac:["\u2318-\u2325\u2013S"],nonMac:["Ctrl\u2013Alt-S"]})),p.createElement("section",{className:"info"},p.createElement("p",null,"(Text editing shortcuts are mostly like Sublime Text)")))):null}const fFe=$e(nn)`
  justify-content: space-between;
`;function hFe(){const t=ve(),e=V(t.projectIsSuspendedOverlayVisible),n=V(t.currentProject),i=V(K.exports.useCallback(()=>n&&n.name(),[n]))||"Your project",o=V(K.exports.useCallback(()=>n&&n.suspendedReason(),[n]))||"Violating Terms of Service",s=V(t.projectIsMemberOrMoreForCurrentUser),a=V(t.projectDownloadUrl);let l;return o==="Disk space full: This project has exceeded the disk space limit."||o==="Preparing error: The project cannot open."?l="Support can help! Please contact support@glitch.com to regain access.":l="If you think this was done in error, email support@glitch.com.",e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay project-is-suspended-overlay overlay-narrow"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"This project has been suspended")),p.createElement("section",{className:"actions"},p.createElement("p",null,"Reason for suspension: ",o),p.createElement("p",null,l)),p.createElement("section",{className:"info"},p.createElement(fFe,null,s&&p.createElement(nn,null,p.createElement(Tt,{as:"a",href:`mailto:support@glitch.com?subject=Suspended%20project:%20${i}`,target:"_blank",rel:"noopener noreferrer",variant:"secondary",size:"small"},"Email Support"),p.createElement(Tt,{variant:"secondary",size:"small",as:"a",href:a,onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Suspended Overlay"})},"Download Project")),p.createElement("a",{href:"//glitch.com"},"Back to Glitch"))))):null}const pFe="showNewStuff",mFe="newStuffReadId",CW=3,MW=[{color:"#FFFE01"},{color:"#C5BCF0"},{color:"#6DE9A9"}];function gFe(){const t=ve(),e=V(t.newStuffOverlayVisible),[n,i]=Jc(pFe,!0),[o,s]=Jc(mFe,0),a=V(K.exports.useCallback(()=>{const c=t.newStuffLog.updates(),d=t.newStuffLog.totalUpdates()-o;return c.slice(0,Math.min(d,CW)||CW)},[t.newStuffLog,o])),l=K.exports.useRef(e);return K.exports.useEffect(()=>{l.current&&!e&&a.length>0&&s(a[0].id),l.current=e},[s,a,e]),e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay new-stuff-overlay overlay-narrow"},p.createElement("section",{className:"info"},p.createElement("figure",{className:"new-stuff-doggo"}),p.createElement("h1",null,"New Stuff"),p.createElement("div",{className:"button-wrap"},p.createElement("label",{className:"button",htmlFor:"keep-showing-me-these-checkbox"},p.createElement("input",{type:"checkbox",id:"keep-showing-me-these-checkbox",className:"input",checked:n,onChange:c=>i(c.target.checked)}),"Keep showing me these"))),a.map((c,u)=>p.createElement("section",{className:"info",key:c.id},p.createElement(Eee,de({},MW[u%MW.length]),p.createElement("h2",null,c.title)),p.createElement("div",{dangerouslySetInnerHTML:{__html:V2e(c.body)}}),c.link&&p.createElement("p",null,p.createElement("a",{className:"link",href:c.link},"Read the blog post \u2192")))))):null}const Z0="SNIPPET_IFRAME",AW="SNIPPET_MEDIUM";function vFe(){const t=ve(),e=V(t.embedSelectedFilePath),n=V(K.exports.useCallback(()=>{const i=t.selectedFile();return i?i.path():null},[t]));return e||n}function yFe(t,e,n,i){return ve().embedUrl({previewSize:e,attributionHidden:n,sidebarCollapsed:i,path:t,previewFirst:!1})}function _Fe(t,e,n,i){const o=ve(),s=V(o.editorUrl),a=Jf.stringify({previewSize:e,attributionHidden:n,sidebarCollapsed:i,path:t,previewFirst:!1});return`${s}?${a}`}function bFe(){const t=ve(),e=V(t.projectIsPrivate),n=V(K.exports.useCallback(()=>t.currentProject()?t.currentProject().domain():null,[t])),[i,o]=Jc("embedAppPreviewSize",0),[s,a]=Jc("embedAttributionHidden",!1),l=vFe(),c=V(t.embedSidebarCollapsed),u=yFe(l,i,s,c),d=_Fe(l,i,s,c),[f,h]=K.exports.useState(Z0),v=K.exports.useRef(u),m=E_`
    <!-- Copy and Paste Me -->
    <div class="glitch-embed-wrap" style="height: 420px; width: 100%;">
      <iframe
        src="${u}"
        title="${n} on Glitch"
        allow="geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen"
        allowFullScreen
        style="height: 100%; width: 100%; border: 0;">
      </iframe>
    </div>
`,_=K.exports.useRef(null),S=w=>{_.current&&_.current.contentWindow.postMessage(w,"*")};K.exports.useEffect(()=>{S(Nu({embedAppPreviewSize:i}))},[t,i]),K.exports.useEffect(()=>{S(Nu({embedAttributionHidden:s}))},[s]);const E=()=>{a(w=>!w)};return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay share-embed-overlay"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Embed App")),p.createElement("section",{className:"section-wrapper"},p.createElement("div",{className:"section-embed"},p.createElement("div",{className:"glitch-embed-wrap"},p.createElement("iframe",{className:"glitch-embed-iframe",src:v.current,allow:"geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen",allowFullScreen:!0,alt:"Example share embed",title:`${n} embed`,onLoad:()=>{S(Nu({embedParentIsGlitch:!0})),S(Nu({embedAppPreviewSize:i})),S(Nu({embedAttributionHidden:s}))},ref:_})),e&&p.createElement("p",null,p.createElement("span",{className:"private-icon"})," Only project members will be able to view")),p.createElement("div",{className:"section-embed-options"},p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:at("button button-small",{active:i===100}),onClick:()=>{o(100)}},"Show App"),p.createElement("button",{className:at("button button-small",{active:i===0}),onClick:()=>{o(0)}},"Show Code"))),i===0&&p.createElement("p",null,"Change files or collapse the filetree to customize"),p.createElement("div",{className:"button-wrap"},p.createElement("label",{htmlFor:"attribution-hidden-checkbox",className:"button button-small",onKeyDown:ur(E)},p.createElement("input",{id:"attribution-hidden-checkbox",className:"input pointer-events-none",type:"checkbox",checked:s,onChange:E,tabIndex:"-1"}),"Hide Attribution")),p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:at("button button-small",{active:f===Z0}),onClick:()=>{h(Z0)}},"iframe"),p.createElement("button",{className:at("button button-small",{active:f===AW}),onClick:()=>{h(AW)}},"Medium"))),p.createElement("div",{className:"input-wrap"},p.createElement("textarea",{className:"textarea",readOnly:!0,value:f===Z0?m:d}),p.createElement("button",{className:"button button-copy-only-style button-large",onClick:()=>{oa(f===Z0?m:d),t.analytics.track("Embed Code Copied")}},"Copy Embed Code"))))))}function EFe(){const t=ve(),e=V(t.projectIsLoaded),n=V(t.shareEmbedOverlayVisible);return!e||!n?null:p.createElement(bFe,null)}function wFe({results:t}){const e=ve(),n=t[0],{isRecent:i,path:o}=n,s=l=>e.fileByPath(l.path).extensionType(),a=l=>{e.fileSearch.selectResult(l)};return p.createElement("div",{className:"results-list"},p.createElement("ul",{className:"results"},p.createElement("span",{className:s(n)},p.createElement("li",{className:"result",tabIndex:"0",onClick:()=>a(n),onKeyDown:ur(()=>a(n))},p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status warning"},t.length,p.createElement("div",{className:"search-in-badge icon"}))),i&&p.createElement("div",{className:"result-tip"},"recent"),p.createElement("div",{className:"results-name",title:o},o))),t.map((l,c)=>p.createElement("span",{key:c,className:s(l)},p.createElement("li",{className:"result nested-result",tabIndex:"0",title:l.rawMatch,onClick:()=>a(l),onKeyDown:ur(()=>a(l))},p.createElement("div",{className:"nested-result-wrap"},p.createElement("div",{className:"result-column-wrap"},p.createElement("div",{className:"result-description"},l.line)),p.createElement("div",{className:"result-code"},l.beforeMatch,p.createElement("span",{className:"result-match"},l.match),l.afterMatch)))))))}function xFe(){const t=ve(),e=V(t.projectSearchFilesOverlayVisible),n=V(t.fileSearch.searchValue),i=V(t.fileSearch.searchWhere),o=V(t.fileSearch.caseSensitive),s=V(t.fileSearch.loading),a=V(t.fileSearch.searchedResults),l=V(t.fileSearch.filteredGroupedSearchResults),c=V(t.fileSearch.searchedValue),u=V(t.projectIsMemberOrMoreForCurrentUser),d=V(K.exports.useCallback(()=>{const _=t.currentUser();return _?_.loggedIn():!1},[t])),f=V(K.exports.useCallback(()=>{const _=t.currentFileInfo().path,S=t.currentFileInfo().folders||"/",E=t.currentFileInfo().extension||"*";return["All Files",`Current File \u2013 ${_}`,`Current Folder \u2013 ${S}`,`Current Type \u2013 *.${E}`]},[t]));k$(K.exports.useRef(),K.exports.useRef());const h=_=>{_.preventDefault(),t.fileSearch.search()},v=()=>{t.fileSearch.caseSensitive.toggle()},m=K.exports.useCallback(_=>{_&&document.activeElement!==_&&(_.focus(),_.select())},[]);return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay project-search-files"},p.createElement("section",{className:at("actions",{disabled:!u})},p.createElement("form",{onSubmit:h},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"project-files-search",className:"input search-input","aria-label":"Search",placeholder:"Search",value:n,onChange:_=>{t.fileSearch.searchValue(_.target.value)},ref:m,disabled:!u})),p.createElement("div",{className:"input-wrap"},p.createElement("select",{className:"select search-input",value:i,onChange:_=>{t.fileSearch.searchWhere(_.target.value)},disabled:!u},f.map((_,S)=>p.createElement("option",{key:S,value:_},_))),p.createElement("div",{className:"button-wrap search-option"},p.createElement("label",{htmlFor:"case-sensitive-checkbox",className:"button button-small button-secondary",tabIndex:u?"0":"-1",role:"button","aria-pressed":o,onKeyPress:ur(v)},p.createElement("input",{id:"case-sensitive-checkbox",className:"input",type:"checkbox",checked:o,onChange:v,tabIndex:"-1",disabled:!u}),"Aa"))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:h,disabled:!u},"Search ",s&&p.createElement(mn,null),c&&!s&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status warning"},a.length," ",p.createElement("div",{className:"icon search-in-badge"}))))))),a.length>0&&p.createElement("section",{className:"info results-container"},l.map((_,S)=>p.createElement(wFe,{key:S,results:_}))),a.length===0&&c&&!s&&p.createElement("section",{className:"info"},p.createElement("h2",null,"No results for ",p.createElement("span",null,c)),p.createElement("div",{className:"no-search-results-illustration"})),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement(Je,{icon:"musicalKeyboard"})," ",p.createElement("span",null,t.isAppleDevice?"\u2318-Shift-F":"Ctrl-Shift-F"))),!u&&p.createElement("section",{className:"info"},p.createElement("p",null,"For security reasons, only project members can search files"),!d&&p.createElement("a",{href:"//glitch.com/signin",className:"sign-in-button button",onClick:t.setDestinationAfterAuth},"Sign In")))):null}function SFe(){const t=ve(),e=V(t.connectionErrorOverlayVisible),n=V(K.exports.useCallback(()=>{const o=t.connectionErrorDetails();if(o){const{status:s,error:a,message:l,error_url:c}=o,f=E_`
        ${s}: ${a}

        ${l}

        ${c}
      `.split(`
`).map(h=>`    ${h}`);return["",...f,""].join(`
`)}return null},[t])),i=()=>{window.location.reload()};return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay error-overlay"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Unexpected Error")),p.createElement("section",{className:"info"},p.createElement("p",null,"(\u30B7_ _)\u30B7"),p.createElement("p",null,"An error has occurred, please try again or"," ",p.createElement("a",{href:"https://support.glitch.com",target:"_blank",rel:"noopener noreferrer"},"contact us")," ","if the error persists."),p.createElement("textarea",{className:"textarea",readOnly:!0,value:n,wrap:"off"})),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"http://status.glitch.com",target:"_blank",rel:"noopener noreferrer"},p.createElement("button",{className:"button"},"System Status ",p.createElement(Je,{icon:"trafficLight"})))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:i},"Try Again ",p.createElement(Je,{icon:"crystalBall"})))),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement("a",{href:"https://support.glitch.com",target:"_blank",rel:"noopener noreferrer"},"Support"))))):null}function TFe(){const t=ve(),e=Ec(),n=t.currentProject(),[i,o]=K.exports.useState(""),[s,a]=K.exports.useState(""),[l,c]=K.exports.useState(""),u=V(t.editProjectDetailsOverlayVisible);K.exports.useEffect(()=>{n&&(o(n.domain()),a(n.description()))},[n,u]),K.exports.useEffect(()=>{c("")},[i,s]);function d(){c(""),o(n.domain()),a(n.description()),t.editProjectDetailsOverlayVisible(!1)}function f(){const h=n.domain(),v=i.toLowerCase().replace(/ /g,"-");c(""),t.projectIsRenaming(!0),n.saveImmediate(e,{domain:v,description:s}).then(()=>{n.description(s),h!==v&&(t.updateProjectName(v),t.broadcastProjectName()),t.editProjectDetailsOverlayVisible(!1)}).catch(async m=>{const _=await m.response.json();c(_.message)}).finally(()=>{t.projectIsRenaming(!1)})}return u?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay share-embed-overlay",style:{padding:"1.5em",maxWidth:"650px",boxShadow:"rgb(173 188 255) -8px 12px 24px"}},p.createElement(h2,{as:"h4",sx:{marginBottom:4}},"Edit Project Details"),n.private()&&p.createElement(qt,{emoji:"\u{1F512}",alt:"a private project"}),p.createElement("label",{htmlFor:"projectname-popover",style:{color:"#828282",textTransform:"uppercase",fontSize:"11px"}},"Project name",p.createElement("input",{id:"projectname-popover",type:"text",onChange:h=>o(h.target.value),defaultValue:i,style:{fontSize:"2em",fontWeight:"bold",marginTop:"0.25em"}})),p.createElement(Pe,{sx:{paddingTop:"1.5em"}},p.createElement("label",{htmlFor:"description-popover",style:{color:"#828282",textTransform:"uppercase",fontSize:"11px"}},"Description",p.createElement("textarea",{id:"description-popover",style:{width:"100%",height:"4rem",margin:"0.25em auto",fontSize:"1.25em",color:"#000000"},defaultValue:s,placeholder:"Enter Description",onChange:h=>a(h.target.value)})),p.createElement(Pe,{sx:{paddingTop:"1em"}},p.createElement(Ci,{sx:{marginRight:2},onClick:f,icon:"\u{1F4BE}"},"Save"),p.createElement(Rn,{sx:{margin:2},onClick:d},"Cancel"),p.createElement(Fn,{sx:{color:"red"}},l))))):null}function ip(t,e){return V(K.exports.useCallback(()=>t&&t[e](),[t,e]))}function CFe(){const t=ve(),e=V(t.collaboratorPositionTop)+24,n=V(t.collaboratorPositionLeft)+4,i=V(t.teamPopCurrentTeam),o=V(K.exports.useCallback(()=>i!==null,[i])),s=ip(i,"name"),a=ip(i,"url"),l=ip(i,"avatarUrl"),c=ip(i,"teamPageUrl"),u=ip(i,"backgroundColor"),d=ip(i,"description"),f=K.exports.useMemo(()=>d&&d4(d),[d]);return o?p.createElement("dialog",{className:"pop-over team-pop",onClick:h=>{h.stopPropagation()},style:{top:`${e}px`,left:`${n}px`}},p.createElement("section",{className:"info"},p.createElement("h1",null,"Team")),p.createElement("a",{href:c},p.createElement("section",{className:"profile-summary no-bottom-border"},p.createElement("div",{className:"profile-wrap"},p.createElement("div",{className:"avatar team-avatar icon",style:{backgroundImage:`url(${l})`,backgroundColor:u}}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,s),p.createElement("p",{className:"login"},a))))),d&&p.createElement("section",{dangerouslySetInnerHTML:{__html:f}})):null}function PW(t){return t?"":"A description of the issue is required"}function RW(t,e){return e.login()?"":t?Y_(t)?"":"Please enter a valid email":"Email is required"}function LW(t,e){const[n,i]=K.exports.useState(t),o=K.exports.useMemo(()=>og(i,e),[i,e]);return[n,o]}const MFe=(t,e)=>e||(Array.isArray(t.emails())&&t.emails().find(i=>i.primary)).email;function AFe({login:t}){return t()?`@${t()}`:"Anonymous User"}function PFe({id:t,login:e}){return e()?`@${e()}`:`user/${t()}`}function RFe(t,e,n,i,o,s,a){return`${`
  - ${o} Name: ${i};

  - ${o} Id: ${a}`}

  - Submitted by: ${AFe(t)}, https://glitch.com/${PFe(t)}

  - Contact: ${MFe(t,e)}

  - Message: ${s}`}const LFe=()=>p.createElement(p.Fragment,null,p.createElement(_2,null,"Report Abuse"),p.createElement(Yv,null,p.createElement("p",null,"Thanks for helping to keep Glitch a safe, friendly community ",p.createElement(Je,{icon:"park"})))),IFe=({value:t})=>p.createElement(p.Fragment,null,p.createElement(_2,null,"Failed to Send"),p.createElement(b2,null,p.createElement("p",null,"But you can still send us your message by emailing the details below to ",p.createElement("strong",null,"support@glitch.com"))),p.createElement(Yv,null,p.createElement("textarea",{className:"textarea",value:t,readOnly:!0})));function OFe({reportedType:t}){const e=ve(),n=V(e.currentUser),i=V(n.login()),o=V(n.name()),s=V(e.projectName),a=V(e.currentProjectId()),[l,c]=K.exports.useState("ready"),[u,d]=K.exports.useState(""),[f,h]=LW("",200),v=P=>{d(P),h(PW(P))},[m,_]=K.exports.useState(""),[S,E]=LW("",200),w=P=>{_(P),E(RW(P,n))},T=()=>RFe(n,m,i,s,t,u,a),C=async P=>{P.preventDefault();const R=RW(m,n),A=PW(u);if(R||A){E(R),h(A);return}c("loading"),console.log(T());try{await Xa.post("https://support-poster.glitch.me/post",{json:{title:`Abuse Report for project ${s}`,raw:T()}}),c("success")}catch(L){Yi(L),c("error")}};return l==="success"?p.createElement(LFe,null):l==="error"?p.createElement(IFe,{value:T().trimStart()}):p.createElement("form",{onSubmit:C},p.createElement(_2,null,"Report Abuse"),p.createElement(Yv,null,p.createElement(xee,{className:"report-abuse-input",label:"Report Abuse",value:u,placeholder:"This project doesn't seem appropriate for Glitch because...",onChange:v,onBlur:()=>v(u),autoFocus:!0,error:f})),o?p.createElement(b2,null,p.createElement("div",{className:"text-align: right"},"from ",p.createElement("strong",null,o))):p.createElement(b2,null,p.createElement(_I,{value:m,onChange:w,onBlur:()=>w(m),placeholder:"your@email.com",error:S,type:"email",label:"email address"})),p.createElement(Yv,null,l==="loading"?p.createElement(mn,{style:{width:"25px"}}):p.createElement(Rn,{size:"tiny",onClick:C},"Submit Report")))}const OP=({reportedType:t})=>p.createElement(wee,{align:"topLeft",className:"wide-pop",renderLabel:({onClick:e,ref:n})=>p.createElement(Rn,de({onClick:e,ref:n},Xf),"Report Abuse")},()=>p.createElement(OFe,{reportedType:t}));OP.defaultProps={reportedModel:null};const NFe="Fastly",kFe=n=>{var i=n,{status:t}=i,e=un(i,["status"]);switch(t){case"success":return p.createElement(qt,de({emoji:"\u{1F7E2}"},e));case"already_running":return p.createElement(qt,de({emoji:"\u{1F7E1}"},e));case"loading":return p.createElement(qt,de({emoji:"\u23F3\uFE0F"},e));case"fail":return p.createElement(qt,de({emoji:"\u{1F534}"},e));case"error":return p.createElement(qt,de({emoji:"\u{1F937}\u200D\u2642\uFE0F"},e));default:return p.createElement(qt,de({emoji:"\u{1F680}"},e))}},DFe=async(t,e)=>{t.fastlyStatus("loading"),t.logsPanelVisible(!0);let n;try{n=await t.glitchApi().deployTo(e,NFe),await t.fastlyStatus(n.buildStatic.state)}catch(i){console.error(i),t.fastlyStatus("error")}return n};var IW=function(){},FFe=typeof window!="undefined",UFe=function(t,e,n){if(!FFe)return[e,IW,IW];if(!t)throw new Error("useLocalStorage key may not be falsy");var i=n?n.raw?function(d){return d}:n.deserializer:JSON.parse,o=K.exports.useRef(function(d){try{var f=n?n.raw?String:n.serializer:JSON.stringify,h=localStorage.getItem(d);return h!==null?i(h):(e&&localStorage.setItem(d,f(e)),e)}catch{return e}}),s=K.exports.useState(function(){return o.current(t)}),a=s[0],l=s[1];K.exports.useLayoutEffect(function(){return l(o.current(t))},[t]);var c=K.exports.useCallback(function(d){try{var f=typeof d=="function"?d(a):d;if(typeof f=="undefined")return;var h=void 0;n?n.raw?typeof f=="string"?h=f:h=JSON.stringify(f):n.serializer?h=n.serializer(f):h=JSON.stringify(f):h=JSON.stringify(f),localStorage.setItem(t,h),l(i(h))}catch{}},[t,l]),u=K.exports.useCallback(function(){try{localStorage.removeItem(t),l(void 0)}catch{}},[t,l]);return[a,c,u]},jFe=UFe;const OW="2022_q1_fastly_beta",BFe=async(t,e,n)=>{try{await t.glitchApi().signUpForFastly(OW)}catch(i){const o=await i.response.json(),s=o.message||"An error occurred";o.code==="UNPROCESSABLE_ERROR"&&e(!0),t.analytics.track("Fastly opt-in error"),n(s)}return t.analytics.track("Fastly opt-in success"),!0};function VFe(){const t=ve(),[e,n]=jFe(`campaign-enrolled-${OW}`),[i,o]=p.useState();t.analytics.track("Fastly banner shown");const s=()=>{BFe(t,n,o)&&n(!0)};return p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Pe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/editor-fastly-people.svg?v=1641483054835",alt:"",style:{height:"100%",width:"auto"}})),!e&&p.createElement(Pe,null,p.createElement(Rn,{variant:"chunky",onClick:s},"Sign me up!")),p.createElement(Pe,{sx:{maxWidth:"650px"}},p.createElement(Fn,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},e&&p.createElement(p.Fragment,null,"Thanks for joining us on the edge! We can\u2019t wait to show you what\u2019s possible. Watch your inbox for an invitation to try things out."),!e&&p.createElement(p.Fragment,null,"We've got something just for Glitch creators like you: a FREE sneak peek at our upcoming super-fast edge caching, powered by Fastly. Invites are going out first-come, first-served. Click to be one of the first.")," ",p.createElement("a",{href:"https://www.glitch.com/fastly",target:"_blank",rel:"noreferrer"},"Learn more"),i&&p.createElement(Pe,{sx:{color:"red"}},i))))}function HFe(){return ve().analytics.track("Fastly beta banner shown"),p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Pe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/banner-friends.svg?v=1687975001409",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Ci,{as:"a",target:"_blank",variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/fastly-icon.svg?v=1687974946122",alt:"",style:{width:"18px",height:"18px",display:"block"}}),href:"https://www.fastly.com/signup?utm_medium=referral&utm_source=glitch"},"Get a free Fastly account"),p.createElement(Pe,{sx:{maxWidth:["400px","400px","500px"]}},p.createElement(Fn,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},"You told us you wanted to try Fastly on Glitch. Help us test with your free Fastly account today."," ",p.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://glitch.com/fastly"},"Learn more!"))))}function zFe(){return ve().analytics.track("Fastly remix banner shown"),p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Pe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/banner-friends.svg?v=1687975001409",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Ci,{as:"a",target:"_blank",variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/fastly-icon.svg?v=1687974946122",alt:"",style:{width:"18px",height:"18px",display:"block"}}),href:"https://www.fastly.com/signup?utm_medium=referral&utm_source=glitch"},"Get a free Fastly account"),p.createElement(Pe,{sx:{maxWidth:["400px","400px","500px"]}},p.createElement(Fn,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},"This app was built to work with your free Fastly account! Check the README or visit"," ",p.createElement("a",{target:"_blank",href:"https://glitch.com/fastly",rel:"noopener noreferrer"},"glitch.com/fastly")," ","to learn more!")))}var Q0={exports:{}};/*! For license information please see index-browser.min.js.LICENSE.txt */(function(t,e){(function(n,i){t.exports=i()})(Wt,function(){return n={5590:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(m,_,S,E){E===void 0&&(E=S),Object.defineProperty(m,E,{enumerable:!0,get:function(){return _[S]}})}:function(m,_,S,E){E===void 0&&(E=S),m[E]=_[S]}),c=this&&this.__setModuleDefault||(Object.create?function(m,_){Object.defineProperty(m,"default",{enumerable:!0,value:_})}:function(m,_){m.default=_}),u=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var S in m)S!=="default"&&Object.prototype.hasOwnProperty.call(m,S)&&l(_,m,S);return c(_,m),_};Object.defineProperty(s,"__esModule",{value:!0}),s.utils=s.modules=s.createApiClient=void 0;const d=u(a(9662));s.modules=d;const f=u(a(338)),h=f.createApiClient({modules:d,createContext:f.createContext});s.createApiClient=h;const v={createApiClient:h,createContext:f.createContext};s.utils=v},8697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAccount=void 0,s.getAccount=({httpClient:a})=>()=>a.get("/account")},435:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8697),s),c(a(8057),s)},7256:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8057:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7256),s)},5256:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAction=void 0,s.getAction=({httpClient:a})=>({action_id:l})=>{const c=`/action/${l}`;return a.get(c)}},4006:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5256),s),c(a(3588),s),c(a(8544),s)},3588:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listActions=void 0,s.listActions=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/actions",{params:u})}},8637:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8544:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8637),s)},2049:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.cancelAppDeployment=void 0,s.cancelAppDeployment=({httpClient:a})=>({app_id:l,deployment_id:c})=>{const u=`/apps/${l}/deployments/${c}/cancel`;return a.post(u)}},8380:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createAppDeployment=void 0,s.createAppDeployment=({httpClient:a})=>({app_id:l,force_build:c})=>{const u=`/apps/${l}/deployments`,d={force_build:c};return a.post(u,d)}},953:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createApp=void 0,s.createApp=({httpClient:a})=>({spec:l})=>{const c={spec:l};return a.post("/apps",c)}},3744:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteApp=void 0,s.deleteApp=({httpClient:a})=>({app_id:l})=>{const c=`/apps/${l}`;return a.delete(c)}},6023:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAggregatedAppDeploymentLogs=void 0,s.getAggregatedAppDeploymentLogs=({httpClient:a})=>({app_id:l,component_name:c,deployment_id:u,follow:d,pod_connection_timeout:f,type:h})=>{const v=`/apps/${l}/deployments/${u}/logs`,m={component_name:c,follow:d,pod_connection_timeout:f,type:h};return a.get(v,{params:m})}},372:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAppDeploymentLogs=void 0,s.getAppDeploymentLogs=({httpClient:a})=>({app_id:l,component_name:c,deployment_id:u,follow:d,pod_connection_timeout:f,type:h})=>{const v=`/apps/${l}/deployments/${u}/components/${c}/logs`,m={follow:d,pod_connection_timeout:f,type:h};return a.get(v,{params:m})}},879:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAppDeployment=void 0,s.getAppDeployment=({httpClient:a})=>({app_id:l,deployment_id:c})=>{const u=`/apps/${l}/deployments/${c}`;return a.get(u)}},6095:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getApp=void 0,s.getApp=({httpClient:a})=>({app_id:l})=>{const c=`/apps/${l}`;return a.get(c)}},8971:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2049),s),c(a(8380),s),c(a(953),s),c(a(3744),s),c(a(6023),s),c(a(372),s),c(a(879),s),c(a(6095),s),c(a(7801),s),c(a(7801),s),c(a(3577),s),c(a(5322),s),c(a(54),s),c(a(7616),s)},7801:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listAppDeployments=void 0,s.listAppDeployments=({httpClient:a})=>({app_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/apps/${l}/deployments`;return a.get(f,{params:d})}},3577:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listApps=void 0,s.listApps=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/apps",{params:u})}},5322:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAppDetection=void 0,s.runAppDetection=({httpClient:a})=>({commit_sha:l,component_type:c,git:u,github:d})=>{const f={commit_sha:l,component_type:c,git:u,github:d};return a.post("/apps/detect",f)}},2970:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1413:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7947:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},572:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8338:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},459:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1900:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4083:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5320:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8220:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4875:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2163:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3828:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4127:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7934:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},315:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},442:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8709:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8343:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3352:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},54:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2970),s),c(a(1413),s),c(a(7947),s),c(a(572),s),c(a(8338),s),c(a(459),s),c(a(1900),s),c(a(4083),s),c(a(5320),s),c(a(8220),s),c(a(4875),s),c(a(2163),s),c(a(3828),s),c(a(4127),s),c(a(7934),s),c(a(315),s),c(a(442),s),c(a(8709),s),c(a(8343),s),c(a(3352),s)},7616:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateApp=void 0,s.updateApp=({httpClient:a})=>({app_id:l,spec:c})=>{const u={spec:c},d=`/apps/${l}`;return a.put(d,u)}},5125:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCdnEndpoint=void 0,s.createCdnEndpoint=({httpClient:a})=>({origin:l,ttl:c,certificate_id:u,custom_domain:d})=>{const f={origin:l,ttl:c,certificate_id:u,custom_domain:d};return a.post("/cdn/endpoints",f)}},8323:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteCdnEndpoint=void 0,s.deleteCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l})=>{const c=`/cdn/endpoints/${l}`;return a.delete(c)}},7994:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getCdnEndpoint=void 0,s.getCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l})=>{const c=`/cdn/endpoints/${l}`;return a.get(c)}},4101:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5125),s),c(a(8323),s),c(a(7994),s),c(a(4735),s),c(a(2910),s),c(a(9415),s),c(a(2027),s)},4735:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listCdnEndpoints=void 0,s.listCdnEndpoints=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/cdn/endpoints",{params:u})}},2910:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.purgeCache=void 0,s.purgeCache=({httpClient:a})=>({cdn_endpoint_id:l,files:c})=>{const u={files:c},d=`/cdn/endpoints/${l}/cache`;return a.delete(d,{data:u})}},5143:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9415:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5143),s)},2027:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateCdnEndpoint=void 0,s.updateCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l,ttl:c,certificate_id:u,custom_domain:d})=>{const f={ttl:c,certificate_id:u,custom_domain:d},h=`/cdn/endpoints/${l}`;return a.put(h,f)}},9388:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCertificate=void 0,s.createCertificate=({httpClient:a})=>({certificate_chain:l,dns_names:c,leaf_certificate:u,name:d,private_key:f,type:h})=>{const v={certificate_chain:l,dns_names:c,leaf_certificate:u,name:d,private_key:f,type:h};return a.post("/certificates",v)}},3638:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteCertificate=void 0,s.deleteCertificate=({httpClient:a})=>({certificate_id:l})=>{const c=`/certificates/${l}`;return a.delete(c)}},7172:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getCertificate=void 0,s.getCertificate=({httpClient:a})=>({certificate_id:l})=>{const c=`/certificates/${l}`;return a.get(c)}},5440:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9388),s),c(a(3638),s),c(a(7172),s),c(a(6394),s),c(a(5170),s)},6394:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listCertificates=void 0,s.listCertificates=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/certificates",{params:u})}},4282:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5170:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4282),s)},3818:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureRegistry=void 0,s.configureRegistry=({httpClient:a})=>({name:l})=>{const c={name:l};return a.post("/registry",c)}},1273:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteRegistry=void 0,s.deleteRegistry=({httpClient:a})=>()=>a.delete("/registry")},9041:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDockerCredentials=void 0,s.getDockerCredentials=({httpClient:a})=>({can_write:l=!1})=>{const c={read_write:l};return a.get("/registry/docker-credentials",{params:c})}},3446:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRegistry=void 0,s.getRegistry=({httpClient:a})=>()=>a.get("/registry")},9608:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3818),s),c(a(1273),s),c(a(9041),s),c(a(3446),s),c(a(253),s)},5279:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},253:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5279),s)},784:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.downloadInvoice=void 0,s.downloadInvoice=({httpClient:a})=>({invoice_uuid:l,format:c})=>{const u=`/customers/my/invoices/${l}/${c}`;return a.get(u,{responseType:"stream"})}},375:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getBalance=void 0,s.getBalance=({httpClient:a})=>()=>a.get("/customers/my/balance")},7843:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getInvoiceSummary=void 0,s.getInvoiceSummary=({httpClient:a})=>({invoice_uuid:l})=>{const c=`/customers/my/invoices/${l}/summary`;return a.get(c)}},1374:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(784),s),c(a(375),s),c(a(7843),s),c(a(3250),s),c(a(8575),s),c(a(5086),s),c(a(1623),s)},3250:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listBillingHistory=void 0,s.listBillingHistory=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/customers/my/billing_history",{params:u})}},8575:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listInvoiceItems=void 0,s.listInvoiceItems=({httpClient:a})=>({invoice_uuid:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/customers/my/invoices/${l}`;return a.get(f,{params:d})}},5086:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listInvoices=void 0,s.listInvoices=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/customers/my/invoices",{params:u})}},1636:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4012:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1623:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1636),s),c(a(4012),s),c(a(9986),s),c(a(7701),s),c(a(2697),s),c(a(2081),s)},9986:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7701:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2081:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},868:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterEvictionPolicy=void 0,s.configureDatabaseClusterEvictionPolicy=({httpClient:a})=>({database_cluster_id:l,eviction_policy:c})=>{const u={eviction_policy:c},d=`/databases/${l}/eviction_policy`;return a.put(d,u)}},7423:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterMaintenanceWindow=void 0,s.configureDatabaseClusterMaintenanceWindow=({httpClient:a})=>({database_cluster_id:l,day:c,hour:u})=>{const d={day:c,hour:u},f=`/databases/${l}/maintenance`;return a.put(f,d)}},2558:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterSqlModes=void 0,s.configureDatabaseClusterSqlModes=({httpClient:a})=>({database_cluster_id:l,sql_mode:c})=>{const u={sql_mode:c},d=`/databases/${l}/sql_mode`;return a.put(d,u)}},1440:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createConnectionPool=void 0,s.createConnectionPool=({httpClient:a})=>({database_cluster_id:l,db_name:c,mode:u,pool_name:d,size:f,user_name:h})=>{const v={db:c,mode:u,name:d,size:f,user:h},m=`/databases/${l}/pools`;return a.post(m,v)}},1117:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseClusterDb=void 0,s.createDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u={name:c},d=`/databases/${l}/dbs`;return a.post(d,u)}},6957:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseClusterUser=void 0,s.createDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,mysql_settings:c,user_name:u})=>{const d={name:u,mysql_settings:c},f=`/databases/${l}/users`;return a.post(f,d)}},1370:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseCluster=void 0,s.createDatabaseCluster=({httpClient:a})=>({engine:l,name:c,num_nodes:u,private_network_uuid:d,region:f,size:h,tags:v,version:m})=>{const _={engine:l,name:c,num_nodes:u,private_network_uuid:d,region:f,size:h,tags:v,version:m};return a.post("/databases",_)}},57:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createReadOnlyReplica=void 0,s.createReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,name:c,region:u,size:d,tags:f})=>{const h={name:c,region:u,size:d,tags:f},v=`/databases/${l}/replicas`;return a.post(v,h)}},4090:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteConnectionPool=void 0,s.deleteConnectionPool=({httpClient:a})=>({database_cluster_id:l,pool_name:c})=>{const u=`/databases/${l}/pools/${c}`;return a.delete(u)}},3926:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDatabaseClusterDb=void 0,s.deleteDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u=`/databases/${l}/dbs/${c}`;return a.delete(u)}},8203:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDatabaseCluster=void 0,s.destroyDatabaseCluster=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}`;return a.delete(c)}},6149:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyReadOnlyReplica=void 0,s.destroyReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,read_only_replica_name:c})=>{const u=`/databases/${l}/replicas/${c}`;return a.delete(u)}},463:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getConnectionPool=void 0,s.getConnectionPool=({httpClient:a})=>({database_cluster_id:l,pool_name:c})=>{const u=`/databases/${l}/pools/${c}`;return a.get(u)}},649:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterDb=void 0,s.getDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u=`/databases/${l}/dbs/${c}`;return a.get(u)}},9561:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterEvictionPolicy=void 0,s.getDatabaseClusterEvictionPolicy=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}/eviction_policy`;return a.get(c)}},5087:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterSqlMode=void 0,s.getDatabaseClusterSqlMode=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}/sql_mode`;return a.get(c)}},2776:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterUser=void 0,s.getDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,user_name:c})=>{const u=`/databases/${l}/users/${c}`;return a.get(u)}},2879:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseCluster=void 0,s.getDatabaseCluster=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}`;return a.get(c)}},100:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getReadOnlyReplica=void 0,s.getReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,read_only_replica_name:c})=>{const u=`/databases/${l}/replicas/${c}`;return a.get(u)}},8275:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(868),s),c(a(7423),s),c(a(2558),s),c(a(1440),s),c(a(1117),s),c(a(6957),s),c(a(1370),s),c(a(57),s),c(a(4090),s),c(a(3926),s),c(a(8203),s),c(a(6149),s),c(a(463),s),c(a(649),s),c(a(9561),s),c(a(5087),s),c(a(2776),s),c(a(2879),s),c(a(100),s),c(a(2799),s),c(a(5377),s),c(a(3311),s),c(a(8537),s),c(a(8147),s),c(a(9697),s),c(a(3273),s),c(a(8593),s),c(a(6614),s),c(a(8605),s),c(a(190),s),c(a(176),s),c(a(7179),s)},2799:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listConnectionPools=void 0,s.listConnectionPools=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/pools`;return a.get(f,{params:d})}},5377:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterBackups=void 0,s.listDatabaseClusterBackups=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/backups`;return a.get(f,{params:d})}},3311:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterDbs=void 0,s.listDatabaseClusterDbs=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/dbs`;return a.get(f,{params:d})}},8537:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterFirewallRules=void 0,s.listDatabaseClusterFirewallRules=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/firewall`;return a.get(f,{params:d})}},8147:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterUsers=void 0,s.listDatabaseClusterUsers=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/users`;return a.get(f,{params:d})}},9697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusters=void 0,s.listDatabaseClusters=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/databases",{params:u})}},3273:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listReadOnlyReplicas=void 0,s.listReadOnlyReplicas=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/replicas`;return a.get(f,{params:d})}},8593:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.migrateDatabaseCluster=void 0,s.migrateDatabaseCluster=({httpClient:a})=>({database_cluster_id:l,region:c})=>{const u={region:c},d=`/databases/${l}/migrate`;return a.put(d,u)}},6614:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDatabaseClusterUser=void 0,s.removeDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,user_name:c})=>{const u=`/databases/${l}/users/${c}`;return a.delete(u)}},8605:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeDatabaseCluster=void 0,s.resizeDatabaseCluster=({httpClient:a})=>({database_cluster_id:l,num_nodes:c,size:u})=>{const d={num_nodes:c,size:u},f=`/databases/${l}/resize`;return a.put(f,d)}},190:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.restoreDatabaseClusterBackup=void 0,s.restoreDatabaseClusterBackup=({httpClient:a})=>({backup_restore:l,engine:c,name:u,num_nodes:d,region:f,size:h,tags:v,version:m})=>{const _={backup_restore:l,engine:c,name:u,num_nodes:d,region:f,size:h,tags:v,version:m};return a.post("/databases",_)}},5970:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2237:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4108:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1369:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7248:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7120:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2730:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8166:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7074:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4011:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3208:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4304:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1969:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},176:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5970),s),c(a(2237),s),c(a(4108),s),c(a(1369),s),c(a(7248),s),c(a(7120),s),c(a(2730),s),c(a(8166),s),c(a(7074),s),c(a(4011),s),c(a(3208),s),c(a(4304),s),c(a(1969),s)},7179:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDatabaseClusterFirewallRules=void 0,s.updateDatabaseClusterFirewallRules=({httpClient:a})=>({database_cluster_id:l,rules:c})=>{const u={rules:c},d=`/databases/${l}/firewall`;return a.put(d,u)}},7093:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDomainRecord=void 0,s.createDomainRecord=({httpClient:a})=>({domain_name:l,data:c,flags:u,name:d,port:f,priority:h,tag:v,ttl:m,type:_,weight:S})=>{const E={data:c,flags:u,name:d,port:f,priority:h,tag:v,ttl:m,type:_,weight:S},w=`/domains/${l}/records`;return a.post(w,E)}},4271:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDomain=void 0,s.createDomain=({httpClient:a})=>({ip_address:l,name:c})=>{const u={ip_address:l,name:c};return a.post("/domains",u)}},595:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDomainRecord=void 0,s.deleteDomainRecord=({httpClient:a})=>({domain_name:l,domain_record_id:c})=>{const u=`/domains/${l}/records/${c}`;return a.delete(u)}},8444:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDomain=void 0,s.deleteDomain=({httpClient:a})=>({name:l})=>{const c=`/domains/${l}`;return a.delete(c)}},384:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDomainRecord=void 0,s.getDomainRecord=({httpClient:a})=>({domain_name:l,domain_record_id:c})=>{const u=`/domains/${l}/records/${c}`;return a.get(u)}},9174:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDomain=void 0,s.getDomain=({httpClient:a})=>({name:l})=>{const c=`/domains/${l}`;return a.get(c)}},1812:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7093),s),c(a(4271),s),c(a(595),s),c(a(8444),s),c(a(384),s),c(a(9174),s),c(a(7854),s),c(a(5181),s),c(a(5202),s),c(a(5947),s)},7854:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDomainRecords=void 0,s.listDomainRecords=({httpClient:a})=>({domain_name:l,name:c,page:u=1,per_page:d=25,type:f})=>{const h={name:c,page:u,per_page:d,type:f},v=`/domains/${l}/records`;return a.get(v,{params:h})}},5181:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDomains=void 0,s.listDomains=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/domains",{params:u})}},7640:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},138:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5947:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7640),s),c(a(138),s)},5202:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDomainRecord=void 0,s.updateDomainRecord=({httpClient:a})=>({data:l,domain_name:c,domain_record_id:u,flags:d,name:f,port:h,priority:v,tag:m,ttl:_,type:S,weight:E})=>{const w={data:l,flags:d,name:f,port:h,priority:v,tag:m,ttl:_,type:S,weight:E},T=`/domains/${c}/records/${u}`;return a.put(T,w)}},6877:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.changeDropletKernel=void 0,s.changeDropletKernel=({httpClient:a})=>({droplet_id:l,kernel:c})=>{const u={kernel:c,type:"change_kernel"},d=`/droplets/${l}/actions`;return a.post(d,u)}},414:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDroplet=void 0,s.createDroplet=({httpClient:a})=>({backups:l,image:c,ipv6:u,monitoring:d,name:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T})=>{const C={backups:l,image:c,ipv6:u,monitoring:d,name:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T};return a.post("/droplets",C)}},969:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDroplets=void 0,s.createDroplets=({httpClient:a})=>({backups:l,image:c,ipv6:u,monitoring:d,names:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T})=>{const C={backups:l,image:c,ipv6:u,monitoring:d,names:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T};return a.post("/droplets",C)}},7660:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDroplet=void 0,s.deleteDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}`;return a.delete(c)}},9225:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDropletsByTag=void 0,s.deleteDropletsByTag=({httpClient:a})=>({tag_name:l})=>{const c={tag_name:l};return a.delete("/droplets",{params:c})}},4550:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDropletAndAllAssociatedResources=void 0,s.destroyDropletAndAllAssociatedResources=({httpClient:a})=>({acknowledge:l,droplet_id:c})=>{const u=`/droplets/${c}/destroy_with_associated_resources/dangerous`,d={"X-Dangerous":`${l}`};return a.delete(u,{headers:d,data:void 0})}},5994:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDropletAndAssociatedResources=void 0,s.destroyDropletAndAssociatedResources=({httpClient:a})=>({droplet_id:l,snapshots:c,volume_snapshots:u,volumes:d})=>{const f=`/droplets/${l}/destroy_with_associated_resources/selective`,h={snapshots:c,volume_snapshots:u,volumes:d};return a.delete(f,{data:h})}},6784:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disableDropletBackups=void 0,s.disableDropletBackups=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"disable_backups"})}},3180:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.doActionByDropletTag=void 0,s.doActionByDropletTag=({httpClient:a})=>({tag_name:l,type:c})=>{const u={tag_name:l},d={type:c};return a.post("/droplets/actions",d,{params:u})}},8277:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletBackups=void 0,s.enableDropletBackups=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_backups"})}},2384:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletIpv6=void 0,s.enableDropletIpv6=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_ipv6"})}},8018:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletPrivateNetworking=void 0,s.enableDropletPrivateNetworking=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_private_networking"})}},8972:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDropletAction=void 0,s.getDropletAction=({httpClient:a})=>({action_id:l,droplet_id:c})=>{const u=`/droplets/${c}/actions/${l}`;return a.get(u)}},9366:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDropletDestroyStatus=void 0,s.getDropletDestroyStatus=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources/status`;return a.get(c)}},7374:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDroplet=void 0,s.getDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}`;return a.get(c)}},8766:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6877),s),c(a(414),s),c(a(969),s),c(a(7660),s),c(a(9225),s),c(a(4550),s),c(a(5994),s),c(a(6784),s),c(a(3180),s),c(a(8277),s),c(a(2384),s),c(a(8018),s),c(a(8972),s),c(a(9366),s),c(a(7374),s),c(a(9095),s),c(a(2931),s),c(a(952),s),c(a(52),s),c(a(9226),s),c(a(5454),s),c(a(5035),s),c(a(4073),s),c(a(6700),s),c(a(2191),s),c(a(670),s),c(a(4932),s),c(a(3806),s),c(a(6369),s),c(a(1617),s),c(a(493),s),c(a(6026),s),c(a(4e3),s),c(a(1079),s),c(a(8790),s),c(a(8660),s)},9095:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletActions=void 0,s.listDropletActions=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/actions`;return a.get(f,{params:d})}},2931:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletAssociatedResources=void 0,s.listDropletAssociatedResources=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources`;return a.get(c)}},952:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletBackups=void 0,s.listDropletBackups=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/backups`;return a.get(f,{params:d})}},52:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletKernels=void 0,s.listDropletKernels=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/kernels`;return a.get(f,{params:d})}},9226:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletNeighborhoods=void 0,s.listDropletNeighborhoods=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/reports/droplet_neighbors_ids",{params:u})}},5454:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletNeighbors=void 0,s.listDropletNeighbors=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/neighbors`;return a.get(f,{params:d})}},5035:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletSnapshots=void 0,s.listDropletSnapshots=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/snapshots`;return a.get(f,{params:d})}},4073:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDroplets=void 0,s.listDroplets=({httpClient:a})=>({page:l=1,per_page:c=25,tag_name:u})=>{const d={page:l,per_page:c,tag_name:u};return a.get("/droplets",{params:d})}},6700:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerCycleDroplet=void 0,s.powerCycleDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_cycle"})}},2191:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerOffDroplet=void 0,s.powerOffDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_off"})}},670:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerOnDroplet=void 0,s.powerOnDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_on"})}},4932:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.rebootDroplet=void 0,s.rebootDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"reboot"})}},3806:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.rebuildDroplet=void 0,s.rebuildDroplet=({httpClient:a})=>({droplet_id:l,image:c})=>{const u={image:c,type:"rebuild"},d=`/droplets/${l}/actions`;return a.post(d,u)}},6369:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.renameDroplet=void 0,s.renameDroplet=({httpClient:a})=>({droplet_id:l,name:c})=>{const u={name:c,type:"rename"},d=`/droplets/${l}/actions`;return a.post(d,u)}},1617:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resetDropletPassword=void 0,s.resetDropletPassword=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"password_reset"})}},493:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeDroplet=void 0,s.resizeDroplet=({httpClient:a})=>({disk:l,droplet_id:c,size:u})=>{const d={disk:l,size:u,type:"resize"},f=`/droplets/${c}/actions`;return a.post(f,d)}},6026:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.restoreDroplet=void 0,s.restoreDroplet=({httpClient:a})=>({droplet_id:l,image:c})=>{const u={image:c,type:"restore"},d=`/droplets/${l}/actions`;return a.post(d,u)}},4e3:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.retryDropletDestroy=void 0,s.retryDropletDestroy=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources/retry`;return a.post(c)}},1079:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.shutdownDroplet=void 0,s.shutdownDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"shutdown"})}},8790:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.snapshotDroplet=void 0,s.snapshotDroplet=({httpClient:a})=>({droplet_id:l,name:c})=>{const u={name:c,type:"snapshot"},d=`/droplets/${l}/actions`;return a.post(d,u)}},1883:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8660:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1883),s),c(a(3209),s),c(a(9114),s),c(a(6928),s)},3209:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9114:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6928:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1669:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDropletsToFirewall=void 0,s.addDropletsToFirewall=({httpClient:a})=>({droplet_ids:l,firewall_id:c})=>{const u={droplet_ids:l},d=`/firewalls/${c}/droplets`;return a.post(d,u)}},9953:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addRulesToFirewall=void 0,s.addRulesToFirewall=({httpClient:a})=>({firewall_id:l,inbound_rules:c,outbound_rules:u})=>{const d={inbound_rules:c,outbound_rules:u},f=`/firewalls/${l}/rules`;return a.post(f,d)}},300:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addTagsToFirewall=void 0,s.addTagsToFirewall=({httpClient:a})=>({firewall_id:l,tags:c})=>{const u={tags:c},d=`/firewalls/${l}/tags`;return a.post(d,u)}},6388:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createFirewall=void 0,s.createFirewall=({httpClient:a})=>({droplet_ids:l,inbound_rules:c,name:u,outbound_rules:d,tags:f})=>{const h={droplet_ids:l,inbound_rules:c,name:u,outbound_rules:d,tags:f};return a.post("/firewalls",h)}},9391:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteFirewall=void 0,s.deleteFirewall=({httpClient:a})=>({firewall_id:l})=>{const c=`/firewalls/${l}`;return a.delete(c)}},2622:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFirewall=void 0,s.getFirewall=({httpClient:a})=>({firewall_id:l})=>{const c=`/firewalls/${l}`;return a.get(c)}},9451:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1669),s),c(a(9953),s),c(a(300),s),c(a(6388),s),c(a(9391),s),c(a(9391),s),c(a(2622),s),c(a(5331),s),c(a(4355),s),c(a(3536),s),c(a(5742),s),c(a(1583),s),c(a(1013),s)},5331:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFirewalls=void 0,s.listFirewalls=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/firewalls",{params:u})}},4355:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDropletsFromFirewall=void 0,s.removeDropletsFromFirewall=({httpClient:a})=>({droplet_ids:l,firewall_id:c})=>{const u={droplet_ids:l},d=`/firewalls/${c}/droplets`;return a.delete(d,{data:u})}},3536:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeRulesFromFirewall=void 0,s.removeRulesFromFirewall=({httpClient:a})=>({firewall_id:l,inbound_rules:c,outbound_rules:u})=>{const d={inbound_rules:c,outbound_rules:u},f=`/firewalls/${l}/rules`;return a.delete(f,{data:d})}},5742:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeTagsFromFirewall=void 0,s.removeTagsFromFirewall=({httpClient:a})=>({firewall_id:l,tags:c})=>{const u={tags:c},d=`/firewalls/${l}/tags`;return a.delete(d,{data:u})}},4500:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8590:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8910:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4560:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6197:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6611:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1013:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4500),s),c(a(8590),s),c(a(8910),s),c(a(4560),s),c(a(6197),s),c(a(6611),s)},1583:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateFirewall=void 0,s.updateFirewall=({httpClient:a})=>({droplet_ids:l,id:c,inbound_rules:u,name:d,outbound_rules:f,tags:h})=>{const v={droplet_ids:l,inbound_rules:u,name:d,outbound_rules:f,tags:h},m=`/firewalls/${c}`;return a.put(m,v)}},3791:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignIpToDroplet=void 0,s.assignIpToDroplet=({httpClient:a})=>({droplet_id:l,ip:c})=>{const u={droplet_id:l,type:"assign"},d=`/floating_ips/${c}/actions`;return a.post(d,u)}},2832:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createFloatingIp=void 0,s.createFloatingIp=({httpClient:a})=>l=>a.post("/floating_ips",l)},8354:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteFloatingIp=void 0,s.deleteFloatingIp=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}`;return a.delete(c)}},9928:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFloatingIpAction=void 0,s.getFloatingIpAction=({httpClient:a})=>({action_id:l,ip:c})=>{const u=`/floating_ips/${c}/actions/${l}`;return a.get(u)}},2327:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFloatingIp=void 0,s.getFloatingIp=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}`;return a.get(c)}},8818:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3791),s),c(a(2832),s),c(a(8354),s),c(a(9928),s),c(a(2327),s),c(a(3728),s),c(a(5457),s),c(a(1491),s),c(a(6491),s)},3728:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFloatingIpActions=void 0,s.listFloatingIpActions=({httpClient:a})=>({ip:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/floating_ips/${l}/actions`;return a.get(f,{params:d})}},5457:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFloatingIps=void 0,s.listFloatingIps=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/floating_ips",{params:u})}},8448:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6491:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8448),s)},1491:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.unassignIpFromDroplet=void 0,s.unassignIpFromDroplet=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}/actions`;return a.post(c,{type:"unassign"})}},6060:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertImageToSnapshot=void 0,s.convertImageToSnapshot=({httpClient:a})=>({image_id:l})=>{const c=`/images/${l}/actions`;return a.post(c,{type:"convert"})}},30:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCustomImage=void 0,s.createCustomImage=({httpClient:a})=>({description:l,distribution:c,name:u,region:d,tags:f,url:h})=>{const v={description:l,distribution:c,name:u,region:d,tags:f,url:h};return a.post("/images",v)}},6168:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteImage=void 0,s.deleteImage=({httpClient:a})=>({image_id:l})=>{const c=`/images/${l}`;return a.delete(c)}},7530:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getImageAction=void 0,s.getImageAction=({httpClient:a})=>({image_id:l,action_id:c})=>{const u=`/images/${l}/actions/${c}`;return a.get(u)}},226:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getImage=void 0,s.getImage=({httpClient:a})=>({image_id:l,slug:c})=>{const u=`/images/${l||c}`;return a.get(u)}},3979:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6060),s),c(a(30),s),c(a(6168),s),c(a(7530),s),c(a(226),s),c(a(1959),s),c(a(5734),s),c(a(2422),s),c(a(7020),s),c(a(4521),s)},1959:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listImageActions=void 0,s.listImageActions=({httpClient:a})=>({page:l=1,per_page:c=25,image_id:u})=>{const d={page:l,per_page:c},f=`/images/${u}/actions`;return a.get(f,{params:d})}},5734:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listImages=void 0,s.listImages=({httpClient:a})=>({page:l=1,per_page:c=25,tag_name:u,type:d,user_images:f})=>{const h={page:l,per_page:c,private:f,tag_name:u,type:d};return a.get("/images",{params:h})}},2422:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.transferImage=void 0,s.transferImage=({httpClient:a})=>({image_id:l,region:c})=>{const u=`/images/${l}/actions`,d={type:"transfer",region:c};return a.post(u,d)}},3515:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4521:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3515),s)},7020:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateImage=void 0,s.updateImage=({httpClient:a})=>({description:l,distribution:c,image_id:u,name:d})=>{const f=`/images/${u}`,h={description:l,distribution:c,name:d};return a.post(f,h)}},9662:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(B,q,W,j){j===void 0&&(j=W),Object.defineProperty(B,j,{enumerable:!0,get:function(){return q[W]}})}:function(B,q,W,j){j===void 0&&(j=W),B[j]=q[W]}),c=this&&this.__setModuleDefault||(Object.create?function(B,q){Object.defineProperty(B,"default",{enumerable:!0,value:q})}:function(B,q){B.default=q}),u=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var q={};if(B!=null)for(var W in B)W!=="default"&&Object.prototype.hasOwnProperty.call(B,W)&&l(q,B,W);return c(q,B),q};Object.defineProperty(s,"__esModule",{value:!0}),s.vpc=s.volume=s.tag=s.sshKey=s.snapshot=s.size=s.region=s.project=s.loadBalancer=s.kubernetes=s.image=s.floatingIp=s.firewall=s.droplet=s.domain=s.database=s.customer=s.containerRegistry=s.certificate=s.cdnEndpoint=s.app=s.action=s.account=void 0;const d=u(a(435));s.account=d;const f=u(a(4006));s.action=f;const h=u(a(8971));s.app=h;const v=u(a(4101));s.cdnEndpoint=v;const m=u(a(5440));s.certificate=m;const _=u(a(9608));s.containerRegistry=_;const S=u(a(1374));s.customer=S;const E=u(a(8275));s.database=E;const w=u(a(1812));s.domain=w;const T=u(a(8766));s.droplet=T;const C=u(a(9451));s.firewall=C;const P=u(a(8818));s.floatingIp=P;const R=u(a(3979));s.image=R;const A=u(a(6498));s.kubernetes=A;const L=u(a(6955));s.loadBalancer=L;const k=u(a(1599));s.project=k;const U=u(a(6130));s.region=U;const O=u(a(8768));s.size=O;const I=u(a(7150));s.snapshot=I;const F=u(a(4605));s.sshKey=F;const N=u(a(9720));s.tag=N;const H=u(a(4534));s.volume=H;const z=u(a(787));s.vpc=z},4715:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addContainerRegistry=void 0,s.addContainerRegistry=({httpClient:a})=>({cluster_uuids:l})=>{const c={cluster_uuids:l};return a.post("/kubernetes/clusters/registry",c)}},2350:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createKubernetesCluster=void 0,s.createKubernetesCluster=({httpClient:a})=>({name:l,region:c,version:u,tags:d,auto_upgrade:f,maintenance_policy:h,node_pools:v,vpc_uuid:m})=>{const _={name:l,region:c,version:u,tags:d,auto_upgrade:f,maintenance_policy:h,node_pools:v,vpc_uuid:m};return a.post("/kubernetes/clusters",_)}},7898:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createNodePool=void 0,s.createNodePool=({httpClient:a})=>({auto_scale:l,count:c,kubernetes_cluster_id:u,labels:d,max_nodes:f,min_nodes:h,name:v,size:m,tags:_,taints:S})=>{const E={auto_scale:l,count:c,labels:d,max_nodes:f,min_nodes:h,name:v,size:m,tags:_,taints:S},w=`/kubernetes/clusters/${u}/node_pools`;return a.post(w,E)}},690:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteKubernetesCluster=void 0,s.deleteKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}`;return a.delete(c)}},5874:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteNodePool=void 0,s.deleteNodePool=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c})=>{const u=`/kubernetes/clusters/${l}/node_pools/${c}`;return a.delete(u)}},1619:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteNode=void 0,s.deleteNode=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c,node_id:u,drain_node:d=!0,replace_node:f=!1})=>{const h=`/kubernetes/clusters/${l}/node_pools/${c}/nodes/${u}`,v={replace:f?1:0,skip_drain:d?0:1};return a.delete(h,{params:v})}},7119:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getClusterlintDiagnostics=void 0,s.getClusterlintDiagnostics=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}/clusterlint`;return a.get(c)}},3856:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesClusterCredentials=void 0,s.getKubernetesClusterCredentials=({httpClient:a})=>({kubernetes_cluster_id:l,expiration_in_seconds:c})=>{const u={expiry_seconds:c},d=`/kubernetes/clusters/${l}/credentials`;return a.get(d,{params:u})}},2146:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesClusterKubeconfig=void 0,s.getKubernetesClusterKubeconfig=({httpClient:a})=>({kubernetes_cluster_id:l,expiration_in_seconds:c})=>{const u={expiry_seconds:c},d=`/kubernetes/clusters/${l}/kubeconfig`;return a.get(d,{params:u})}},628:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesCluster=void 0,s.getKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}`;return a.get(c)}},7434:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getNodePool=void 0,s.getNodePool=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c})=>{const u=`/kubernetes/clusters/${l}/node_pools/${c}`;return a.get(u)}},6498:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4715),s),c(a(2350),s),c(a(7898),s),c(a(690),s),c(a(5874),s),c(a(1619),s),c(a(7119),s),c(a(3856),s),c(a(2146),s),c(a(628),s),c(a(7434),s),c(a(166),s),c(a(748),s),c(a(4059),s),c(a(1592),s),c(a(5250),s),c(a(1831),s),c(a(3645),s),c(a(9564),s),c(a(5582),s),c(a(6262),s)},166:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listAvailableOptionsOfKubernetes=void 0,s.listAvailableOptionsOfKubernetes=({httpClient:a})=>()=>a.get("/kubernetes/options")},748:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listKubernetesClusterAvailableUpgrades=void 0,s.listKubernetesClusterAvailableUpgrades=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}/upgrades`;return a.get(c)}},4059:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listKubernetesClusters=void 0,s.listKubernetesClusters=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/kubernetes/clusters",{params:u})}},1592:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listNodePools=void 0,s.listNodePools=({httpClient:a})=>({kubernetes_cluster_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/kubernetes/clusters/${l}/node_pools`;return a.get(f,{params:d})}},5250:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeContainerRegistry=void 0,s.removeContainerRegistry=({httpClient:a})=>({cluster_uuids:l})=>{const c={cluster_uuids:l};return a.delete("/kubernetes/clusters/registry",{data:c})}},1831:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runClusterlintOnKubernetesCluster=void 0,s.runClusterlintOnKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l,include_groups:c,include_checks:u,exclude_groups:d,exclude_checks:f})=>{const h={include_groups:c,include_checks:u,exclude_groups:d,exclude_checks:f},v=`/kubernetes/clusters/${l}/clusterlint`;return a.post(v,h)}},3645:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7485),s),c(a(3866),s),c(a(8817),s),c(a(5956),s),c(a(2834),s),c(a(8693),s),c(a(654),s),c(a(8261),s)},7485:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3866:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8817:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5956:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2834:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8693:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},654:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8261:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9564:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateKubernetesCluster=void 0,s.updateKubernetesCluster=({httpClient:a})=>({auto_upgrade:l,kubernetes_cluster_id:c,maintenance_policy:u,name:d,tags:f})=>{const h={auto_upgrade:l,maintenance_policy:u,name:d,tags:f},v=`/kubernetes/clusters/${c}`;return a.put(v,h)}},5582:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateNodePool=void 0,s.updateNodePool=({httpClient:a})=>({auto_scale:l,count:c,kubernetes_cluster_id:u,labels:d,max_nodes:f,min_nodes:h,name:v,node_pool_id:m,tags:_,taints:S})=>{const E={auto_scale:l,count:c,labels:d,max_nodes:f,min_nodes:h,name:v,tags:_,taints:S},w=`/kubernetes/clusters/${u}/node_pools/${m}`;return a.put(w,E)}},6262:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.upgradeKubernetesCluster=void 0,s.upgradeKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l,version:c})=>{const u={version:c},d=`/kubernetes/clusters/${l}/upgrade`;return a.post(d,u)}},2361:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDropletsToLoadBalancer=void 0,s.addDropletsToLoadBalancer=({httpClient:a})=>({droplet_ids:l,load_balancer_id:c})=>{const u={droplet_ids:l},d=`/load_balancers/${c}/droplets`;return a.post(d,u)}},3528:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addRulesToLoadBalancer=void 0,s.addRulesToLoadBalancer=({httpClient:a})=>({forwarding_rules:l,load_balancer_id:c})=>{const u={forwarding_rules:l},d=`/load_balancers/${c}/forwarding_rules`;return a.post(d,u)}},7094:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createLoadBalancer=void 0,s.createLoadBalancer=({httpClient:a})=>({algorithm:l,droplet_ids:c,enable_backend_keepalive:u,enable_proxy_protocol:d,forwarding_rules:f,health_check:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w})=>{const T={algorithm:l,droplet_ids:c,enable_backend_keepalive:u,enable_proxy_protocol:d,forwarding_rules:f,health_check:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w};return a.post("/load_balancers",T)}},2244:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteLoadBalancer=void 0,s.deleteLoadBalancer=({httpClient:a})=>({load_balancer_id:l})=>{const c=`/load_balancers/${l}`;return a.delete(c)}},3896:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getLoadBalancer=void 0,s.getLoadBalancer=({httpClient:a})=>({load_balancer_id:l})=>{const c=`/load_balancers/${l}`;return a.get(c)}},6955:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2361),s),c(a(3528),s),c(a(7094),s),c(a(2244),s),c(a(3896),s),c(a(247),s),c(a(9437),s),c(a(1951),s),c(a(5038),s),c(a(390),s)},247:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listLoadBalancers=void 0,s.listLoadBalancers=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/load_balancers",{params:u})}},9437:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDropletsFromLoadBalancer=void 0,s.removeDropletsFromLoadBalancer=({httpClient:a})=>({droplet_ids:l,load_balancer_id:c})=>{const u={droplet_ids:l},d=`/load_balancers/${c}/droplets`;return a.delete(d,{data:u})}},1951:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeRulesFromLoadBalancer=void 0,s.removeRulesFromLoadBalancer=({httpClient:a})=>({forwarding_rules:l,load_balancer_id:c})=>{const u={forwarding_rules:l},d=`/load_balancers/${c}/forwarding_rules`;return a.delete(d,{data:u})}},2496:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1351:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},390:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2496),s),c(a(1351),s),c(a(8120),s),c(a(3782),s),c(a(8187),s)},8120:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3782:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8187:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5038:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateLoadBalancer=void 0,s.updateLoadBalancer=({httpClient:a})=>({algorithm:l,droplet_ids:c,enable_proxy_protocol:u,forwarding_rules:d,health_check:f,load_balancer_id:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w})=>{const T={algorithm:l,droplet_ids:c,enable_proxy_protocol:u,forwarding_rules:d,health_check:f,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w},C=`/load_balancers/${h}`;return a.put(C,T)}},3918:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignResourcesToDefaultProject=void 0,s.assignResourcesToDefaultProject=({httpClient:a})=>({resources:l})=>{const c={resources:l};return a.post("/projects/default/resources",c)}},4344:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignResourcesToProject=void 0,s.assignResourcesToProject=({httpClient:a})=>({project_id:l,resources:c})=>{const u={resources:c},d=`/projects/${l}/resources`;return a.post(d,u)}},6674:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createProject=void 0,s.createProject=({httpClient:a})=>({name:l,description:c,purpose:u,environment:d})=>{const f={name:l,description:c,purpose:u,environment:d};return a.post("/projects",f)}},4931:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteProject=void 0,s.deleteProject=({httpClient:a})=>({project_id:l})=>{const c=`/projects/${l}`;return a.delete(c)}},9850:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDefaultProject=void 0,s.getDefaultProject=({httpClient:a})=>()=>a.get("/projects/default")},4187:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getProject=void 0,s.getProject=({httpClient:a})=>({project_id:l})=>{const c=`/projects/${l}`;return a.get(c)}},1599:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3918),s),c(a(4344),s),c(a(6674),s),c(a(4931),s),c(a(9850),s),c(a(4187),s),c(a(2873),s),c(a(3986),s),c(a(8968),s),c(a(3845),s),c(a(3817),s),c(a(5354),s),c(a(332),s),c(a(6458),s)},2873:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDefaultProjectResources=void 0,s.listDefaultProjectResources=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/projects/default/resources",{params:u})}},3986:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listProjectResources=void 0,s.listProjectResources=({httpClient:a})=>({page:l=1,per_page:c=25,project_id:u})=>{const d={page:l,per_page:c},f=`/projects/${u}/resources`;return a.get(f,{params:d})}},8968:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listProjects=void 0,s.listProjects=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/projects",{params:u})}},3845:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.patchDefaultProject=void 0,s.patchDefaultProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,purpose:f})=>{const h={description:l,environment:c,is_default:u,name:d,purpose:f};return a.patch("/projects/default",h)}},3817:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.patchProject=void 0,s.patchProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,project_id:f,purpose:h})=>{const v={description:l,environment:c,is_default:u,name:d,purpose:h},m=`/projects/${f}`;return a.patch(m,v)}},5354:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6181),s),c(a(4527),s),c(a(3496),s),c(a(6326),s)},6181:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4527:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3496:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6326:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},332:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDefaultProject=void 0,s.updateDefaultProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,purpose:f})=>{const h={description:l,environment:c,is_default:u,name:d,purpose:f};return a.put("/projects/default",h)}},6458:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateProject=void 0,s.updateProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,project_id:f,purpose:h})=>{const v={description:l,environment:c,is_default:u,name:d,purpose:h},m=`/projects/${f}`;return a.put(m,v)}},6130:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1697),s),c(a(5544),s)},1697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listRegions=void 0,s.listRegions=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/regions",{params:u})}},5544:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8267),s)},8267:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8768:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8092),s),c(a(522),s)},8092:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSizes=void 0,s.listSizes=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/sizes",{params:u})}},522:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9530),s)},9530:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2430:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteSnapshot=void 0,s.deleteSnapshot=({httpClient:a})=>({snapshot_id:l})=>{const c=`/snapshots/${l}`;return a.delete(c)}},2057:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getSnapshot=void 0,s.getSnapshot=({httpClient:a})=>({snapshot_id:l})=>{const c=`/snapshots/${l}`;return a.get(c)}},7150:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2430),s),c(a(2057),s),c(a(4334),s),c(a(1394),s)},4334:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSnapshots=void 0,s.listSnapshots=({httpClient:a})=>({page:l=1,per_page:c=25,resource_type:u})=>{const d={page:l,per_page:c,resource_type:u};return a.get("/snapshots",{params:d})}},1394:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(750),s)},750:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7815:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSshKey=void 0,s.createSshKey=({httpClient:a})=>({name:l,public_key:c})=>{const u={name:l,public_key:c};return a.post("/account/keys",u)}},2067:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroySshKey=void 0,s.destroySshKey=({httpClient:a})=>({ssh_key_id:l})=>{const c=`/account/keys/${l}`;return a.delete(c)}},3099:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getSshKey=void 0,s.getSshKey=({httpClient:a})=>({ssh_key_id:l})=>{const c=`/account/keys/${l}`;return a.get(c)}},4605:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7815),s),c(a(2067),s),c(a(3099),s),c(a(6761),s),c(a(1724),s),c(a(7415),s)},6761:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSshKeys=void 0,s.listSshKeys=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/account/keys",{params:u})}},7415:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9932),s)},9932:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1724:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateSshKey=void 0,s.updateSshKey=({httpClient:a})=>({name:l,ssh_key_id:c})=>{const u={name:l},d=`/account/keys/${c}`;return a.put(d,u)}},7966:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createTag=void 0,s.createTag=({httpClient:a})=>({name:l})=>{const c={name:l};return a.post("/tags",c)}},5871:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteTag=void 0,s.deleteTag=({httpClient:a})=>({tag_name:l})=>{const c=`/tags/${l}`;return a.delete(c)}},9734:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getTag=void 0,s.getTag=({httpClient:a})=>({tag_name:l})=>{const c=`/tags/${l}`;return a.get(c)}},9720:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7966),s),c(a(5871),s),c(a(9734),s),c(a(3950),s),c(a(2428),s),c(a(8538),s),c(a(761),s)},3950:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listTags=void 0,s.listTags=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/tags",{params:u})}},2428:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tagResources=void 0,s.tagResources=({httpClient:a})=>({tag_name:l,resources:c})=>{const u={resources:c},d=`/tags/${l}/resources`;return a.post(d,u)}},761:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5794),s),c(a(1807),s),c(a(2265),s),c(a(5861),s),c(a(1540),s)},5794:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1807:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2265:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5861:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1540:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8538:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.untagResources=void 0,s.untagResources=({httpClient:a})=>({tag_name:l,resources:c})=>{const u={resources:c},d=`/tags/${l}/resources`;return a.delete(d,{data:u})}},9580:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attachVolumeToDroplet=void 0,s.attachVolumeToDroplet=({httpClient:a})=>({droplet_id:l,region:c,volume_id:u})=>{const d={droplet_id:l,region:c,type:"attach"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1908:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVolumeSnapshot=void 0,s.createVolumeSnapshot=({httpClient:a})=>({name:l,tags:c,volume_id:u})=>{const d={name:l,tags:c},f=`/volumes/${u}/snapshots`;return a.post(f,d)}},8719:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVolume=void 0,s.createVolume=({httpClient:a})=>({description:l,filesystem_label:c,filesystem_type:u,name:d,region:f,size_gigabytes:h,snapshot_id:v,tags:m})=>{const _={description:l,filesystem_label:c,filesystem_type:u,name:d,region:f,size_gigabytes:h,snapshot_id:v,tags:m};return a.post("/volumes",_)}},8134:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVolumeByName=void 0,s.deleteVolumeByName=({httpClient:a})=>({region:l,volume_name:c})=>{const u={name:c,region:l};return a.delete("/volumes",{params:u})}},9815:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVolume=void 0,s.deleteVolume=({httpClient:a})=>({volume_id:l})=>{const c=`/volumes/${l}`;return a.delete(c)}},2433:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.detachVolumeFromDroplet=void 0,s.detachVolumeFromDroplet=({httpClient:a})=>({droplet_id:l,region:c,volume_id:u})=>{const d={droplet_id:l,region:c,type:"detach"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1201:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVolumeAction=void 0,s.getVolumeAction=({httpClient:a})=>({action_id:l,volume_id:c})=>{const u=`/volumes/${c}/actions/${l}`;return a.get(u)}},4195:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVolume=void 0,s.getVolume=({httpClient:a})=>({volume_id:l})=>{const c=`/volumes/${l}`;return a.get(c)}},4534:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9580),s),c(a(1908),s),c(a(8719),s),c(a(8134),s),c(a(9815),s),c(a(2433),s),c(a(1201),s),c(a(4195),s),c(a(2399),s),c(a(4014),s),c(a(130),s),c(a(5360),s),c(a(1289),s)},2399:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumeActions=void 0,s.listVolumeActions=({httpClient:a})=>({page:l=1,per_page:c=25,volume_id:u})=>{const d={page:l,per_page:c},f=`/volumes/${u}/actions`;return a.get(f,{params:d})}},4014:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumeSnapshots=void 0,s.listVolumeSnapshots=({httpClient:a})=>({page:l=1,per_page:c=25,volume_id:u})=>{const d={page:l,per_page:c},f=`/volumes/${u}/snapshots`;return a.get(f,{params:d})}},130:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumes=void 0,s.listVolumes=({httpClient:a})=>({name:l,page:c=1,per_page:u=25})=>{const d={name:l,page:c,per_page:u};return a.get("/volumes",{params:d})}},5360:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeVolume=void 0,s.resizeVolume=({httpClient:a})=>({region:l,size_gigabytes:c,volume_id:u})=>{const d={region:l,size_gigabytes:c,type:"resize"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1289:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4781),s)},4781:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7237:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVpc=void 0,s.createVpc=({httpClient:a})=>({description:l,ip_range:c,is_default:u,name:d,region:f})=>{const h={default:u,description:l,ip_range:c,name:d,region:f};return a.post("/vpcs",h)}},5223:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVpc=void 0,s.deleteVpc=({httpClient:a})=>({vpc_id:l})=>{const c=`/vpcs/${l}`;return a.delete(c)}},3426:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVpc=void 0,s.getVpc=({httpClient:a})=>({vpc_id:l})=>{const c=`/vpcs/${l}`;return a.get(c)}},787:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7237),s),c(a(5223),s),c(a(3426),s),c(a(8414),s),c(a(110),s),c(a(5883),s),c(a(5373),s)},8414:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVpcResources=void 0,s.listVpcResources=({httpClient:a})=>({page:l=1,per_page:c=25,resource_type:u,vpc_id:d})=>{const f={page:l,per_page:c,resource_type:u},h=`/vpcs/${d}/members`;return a.get(h,{params:f})}},110:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVpcs=void 0,s.listVpcs=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/vpcs",{params:u})}},5883:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5914),s),c(a(4404),s)},4404:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5914:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5373:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateVpc=void 0,s.updateVpc=({httpClient:a})=>({description:l,is_default:c,name:u,vpc_id:d})=>{const f={default:c,description:l,name:u},h=`/vpcs/${d}`;return a.patch(h,f)}},7144:function(o,s,a){var l=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.createApiClient=void 0;const c=l(a(9669));s.createApiClient=({createContext:u,modules:d})=>({endpoint:f,requestTimeoutInMs:h,token:v})=>{const m=u({axios:c.default,endpoint:f,requestTimeoutInMs:h,token:v}),_=Object.freeze({endpoint:f,requestTimeoutInMs:h}),S=Object.freeze({getAccount:d.account.getAccount(m)}),E=Object.freeze({getAction:d.action.getAction(m),listActions:d.action.listActions(m)}),w=Object.freeze({listCertificates:d.certificate.listCertificates(m),getCertificate:d.certificate.getCertificate(m),deleteCertificate:d.certificate.deleteCertificate(m),createCertificate:d.certificate.createCertificate(m)}),T=Object.freeze({createDomain:d.domain.createDomain(m),createDomainRecord:d.domain.createDomainRecord(m),deleteDomain:d.domain.deleteDomain(m),deleteDomainRecord:d.domain.deleteDomainRecord(m),getDomain:d.domain.getDomain(m),getDomainRecord:d.domain.getDomainRecord(m),listDomainRecords:d.domain.listDomainRecords(m),listDomains:d.domain.listDomains(m),updateDomainRecord:d.domain.updateDomainRecord(m)}),C=Object.freeze({changeDropletKernel:d.droplet.changeDropletKernel(m),createDroplet:d.droplet.createDroplet(m),createDroplets:d.droplet.createDroplets(m),deleteDroplet:d.droplet.deleteDroplet(m),deleteDropletsByTag:d.droplet.deleteDropletsByTag(m),destroyDropletAndAllAssociatedResources:d.droplet.destroyDropletAndAllAssociatedResources(m),destroyDropletAndAssociatedResources:d.droplet.destroyDropletAndAssociatedResources(m),disableDropletBackups:d.droplet.disableDropletBackups(m),doActionByDropletTag:d.droplet.doActionByDropletTag(m),enableDropletBackups:d.droplet.enableDropletBackups(m),enableDropletIpv6:d.droplet.enableDropletIpv6(m),enableDropletPrivateNetworking:d.droplet.enableDropletPrivateNetworking(m),getDroplet:d.droplet.getDroplet(m),getDropletAction:d.droplet.getDropletAction(m),getDropletDestroyStatus:d.droplet.getDropletDestroyStatus(m),listDropletActions:d.droplet.listDropletActions(m),listDropletAssociatedResources:d.droplet.listDropletAssociatedResources(m),listDropletBackups:d.droplet.listDropletBackups(m),listDropletKernels:d.droplet.listDropletKernels(m),listDropletNeighborhoods:d.droplet.listDropletNeighborhoods(m),listDropletNeighbors:d.droplet.listDropletNeighbors(m),listDroplets:d.droplet.listDroplets(m),listDropletSnapshots:d.droplet.listDropletSnapshots(m),powerCycleDroplet:d.droplet.powerCycleDroplet(m),powerOffDroplet:d.droplet.powerOffDroplet(m),powerOnDroplet:d.droplet.powerOnDroplet(m),rebootDroplet:d.droplet.rebootDroplet(m),rebuildDroplet:d.droplet.rebuildDroplet(m),renameDroplet:d.droplet.renameDroplet(m),resetDropletPassword:d.droplet.resetDropletPassword(m),resizeDroplet:d.droplet.resizeDroplet(m),restoreDroplet:d.droplet.restoreDroplet(m),retryDropletDestroy:d.droplet.retryDropletDestroy(m),shutdownDroplet:d.droplet.shutdownDroplet(m),snapshotDroplet:d.droplet.snapshotDroplet(m)}),P=Object.freeze({addDropletsToFirewall:d.firewall.addDropletsToFirewall(m),addRulesToFirewall:d.firewall.addRulesToFirewall(m),addTagsToFirewall:d.firewall.addTagsToFirewall(m),createFirewall:d.firewall.createFirewall(m),deleteFirewall:d.firewall.deleteFirewall(m),getFirewall:d.firewall.getFirewall(m),listFirewalls:d.firewall.listFirewalls(m),removeDropletsFromFirewall:d.firewall.removeDropletsFromFirewall(m),removeRulesFromFirewall:d.firewall.removeRulesFromFirewall(m),removeTagsFromFirewall:d.firewall.removeTagsFromFirewall(m),updateFirewall:d.firewall.updateFirewall(m)}),R=Object.freeze({assignIpToDroplet:d.floatingIp.assignIpToDroplet(m),createFloatingIp:d.floatingIp.createFloatingIp(m),deleteFloatingIp:d.floatingIp.deleteFloatingIp(m),getFloatingIp:d.floatingIp.getFloatingIp(m),getFloatingIpAction:d.floatingIp.getFloatingIpAction(m),listFloatingIpActions:d.floatingIp.listFloatingIpActions(m),listFloatingIps:d.floatingIp.listFloatingIps(m),unassignIpFromDroplet:d.floatingIp.unassignIpFromDroplet(m)}),A=Object.freeze({convertImageToSnapshot:d.image.convertImageToSnapshot(m),createCustomImage:d.image.createCustomImage(m),deleteImage:d.image.deleteImage(m),getImageAction:d.image.getImageAction(m),getImage:d.image.getImage(m),listImageActions:d.image.listImageActions(m),listImages:d.image.listImages(m),transferImage:d.image.transferImage(m),updateImage:d.image.updateImage(m)}),L=Object.freeze({addDropletsToLoadBalancer:d.loadBalancer.addDropletsToLoadBalancer(m),addRulesToLoadBalancer:d.loadBalancer.addRulesToLoadBalancer(m),createLoadBalancer:d.loadBalancer.createLoadBalancer(m),deleteLoadBalancer:d.loadBalancer.deleteLoadBalancer(m),getLoadBalancer:d.loadBalancer.getLoadBalancer(m),listLoadBalancers:d.loadBalancer.listLoadBalancers(m),removeDropletsFromLoadBalancer:d.loadBalancer.removeDropletsFromLoadBalancer(m),removeRulesFromLoadBalancer:d.loadBalancer.removeRulesFromLoadBalancer(m),updateLoadBalancer:d.loadBalancer.updateLoadBalancer(m)}),k=Object.freeze({listRegions:d.region.listRegions(m)}),U=Object.freeze({listSizes:d.size.listSizes(m)}),O=Object.freeze({deleteSnapshot:d.snapshot.deleteSnapshot(m),getSnapshot:d.snapshot.getSnapshot(m),listSnapshots:d.snapshot.listSnapshots(m)}),I=Object.freeze({createSshKey:d.sshKey.createSshKey(m),destroySshKey:d.sshKey.destroySshKey(m),getSshKey:d.sshKey.getSshKey(m),listSshKeys:d.sshKey.listSshKeys(m),updateSshKey:d.sshKey.updateSshKey(m)}),F=Object.freeze({createTag:d.tag.createTag(m),deleteTag:d.tag.deleteTag(m),getTag:d.tag.getTag(m),listTags:d.tag.listTags(m),tagResources:d.tag.tagResources(m),untagResources:d.tag.untagResources(m)}),N=Object.freeze({attachVolumeToDroplet:d.volume.attachVolumeToDroplet(m),createVolume:d.volume.createVolume(m),createVolumeSnapshot:d.volume.createVolumeSnapshot(m),deleteVolume:d.volume.deleteVolume(m),deleteVolumeByName:d.volume.deleteVolumeByName(m),detachVolumeFromDroplet:d.volume.detachVolumeFromDroplet(m),getVolume:d.volume.getVolume(m),getVolumeAction:d.volume.getVolumeAction(m),listVolumeActions:d.volume.listVolumeActions(m),listVolumes:d.volume.listVolumes(m),listVolumeSnapshots:d.volume.listVolumeSnapshots(m),resizeVolume:d.volume.resizeVolume(m)}),H=Object.freeze({configureDatabaseClusterEvictionPolicy:d.database.configureDatabaseClusterEvictionPolicy(m),configureDatabaseClusterMaintenanceWindow:d.database.configureDatabaseClusterMaintenanceWindow(m),configureDatabaseClusterSqlModes:d.database.configureDatabaseClusterSqlModes(m),createConnectionPool:d.database.createConnectionPool(m),createDatabaseCluster:d.database.createDatabaseCluster(m),createDatabaseClusterDb:d.database.createDatabaseClusterDb(m),createDatabaseClusterUser:d.database.createDatabaseClusterUser(m),createReadOnlyReplica:d.database.createReadOnlyReplica(m),deleteConnectionPool:d.database.deleteConnectionPool(m),deleteDatabaseClusterDb:d.database.deleteDatabaseClusterDb(m),destroyDatabaseCluster:d.database.destroyDatabaseCluster(m),destroyReadOnlyReplica:d.database.destroyReadOnlyReplica(m),getConnectionPool:d.database.getConnectionPool(m),getDatabaseCluster:d.database.getDatabaseCluster(m),getDatabaseClusterDb:d.database.getDatabaseClusterDb(m),getDatabaseClusterEvictionPolicy:d.database.getDatabaseClusterEvictionPolicy(m),getDatabaseClusterSqlMode:d.database.getDatabaseClusterSqlMode(m),getDatabaseClusterUser:d.database.getDatabaseClusterUser(m),getReadOnlyReplica:d.database.getReadOnlyReplica(m),listConnectionPools:d.database.listConnectionPools(m),listDatabaseClusterBackups:d.database.listDatabaseClusterBackups(m),listDatabaseClusterDbs:d.database.listDatabaseClusterDbs(m),listDatabaseClusterFirewallRules:d.database.listDatabaseClusterFirewallRules(m),listDatabaseClusters:d.database.listDatabaseClusters(m),listDatabaseClusterUsers:d.database.listDatabaseClusterUsers(m),listReadOnlyReplicas:d.database.listReadOnlyReplicas(m),migrateDatabaseCluster:d.database.migrateDatabaseCluster(m),removeDatabaseClusterUser:d.database.removeDatabaseClusterUser(m),resizeDatabaseCluster:d.database.resizeDatabaseCluster(m),restoreDatabaseClusterBackup:d.database.restoreDatabaseClusterBackup(m),updateDatabaseClusterFirewallRules:d.database.updateDatabaseClusterFirewallRules(m)}),z=Object.freeze({assignResourcesToDefaultProject:d.project.assignResourcesToDefaultProject(m),assignResourcesToProject:d.project.assignResourcesToProject(m),createProject:d.project.createProject(m),deleteProject:d.project.deleteProject(m),getDefaultProject:d.project.getDefaultProject(m),getProject:d.project.getProject(m),listDefaultProjectResources:d.project.listDefaultProjectResources(m),listProjectResources:d.project.listProjectResources(m),listProjects:d.project.listProjects(m),patchDefaultProject:d.project.patchDefaultProject(m),patchProject:d.project.patchProject(m),updateDefaultProject:d.project.updateDefaultProject(m),updateProject:d.project.updateProject(m)}),B=Object.freeze({addContainerRegistry:d.kubernetes.addContainerRegistry(m),createKubernetesCluster:d.kubernetes.createKubernetesCluster(m),createNodePool:d.kubernetes.createNodePool(m),deleteKubernetesCluster:d.kubernetes.deleteKubernetesCluster(m),deleteNode:d.kubernetes.deleteNode(m),deleteNodePool:d.kubernetes.deleteNodePool(m),getClusterlintDiagnostics:d.kubernetes.getClusterlintDiagnostics(m),getKubernetesCluster:d.kubernetes.getKubernetesCluster(m),getKubernetesClusterCredentials:d.kubernetes.getKubernetesClusterCredentials(m),getKubernetesClusterKubeconfig:d.kubernetes.getKubernetesClusterKubeconfig(m),getNodePool:d.kubernetes.getNodePool(m),listAvailableOptionsOfKubernetes:d.kubernetes.listAvailableOptionsOfKubernetes(m),listKubernetesClusterAvailableUpgrades:d.kubernetes.listKubernetesClusterAvailableUpgrades(m),listKubernetesClusters:d.kubernetes.listKubernetesClusters(m),listNodePools:d.kubernetes.listNodePools(m),removeContainerRegistry:d.kubernetes.removeContainerRegistry(m),runClusterlintOnKubernetesCluster:d.kubernetes.runClusterlintOnKubernetesCluster(m),updateKubernetesCluster:d.kubernetes.updateKubernetesCluster(m),updateNodePool:d.kubernetes.updateNodePool(m),upgradeKubernetesCluster:d.kubernetes.upgradeKubernetesCluster(m)}),q=Object.freeze({createCdnEndpoint:d.cdnEndpoint.createCdnEndpoint(m),getCdnEndpoint:d.cdnEndpoint.getCdnEndpoint(m),listCdnEndpoints:d.cdnEndpoint.listCdnEndpoints(m),deleteCdnEndpoint:d.cdnEndpoint.deleteCdnEndpoint(m),updateCdnEndpoint:d.cdnEndpoint.updateCdnEndpoint(m),purgeCache:d.cdnEndpoint.purgeCache(m)}),W=Object.freeze({configureRegistry:d.containerRegistry.configureRegistry(m),deleteRegistry:d.containerRegistry.deleteRegistry(m),getDockerCredentials:d.containerRegistry.getDockerCredentials(m),getRegistry:d.containerRegistry.getRegistry(m)}),j=Object.freeze({downloadInvoice:d.customer.downloadInvoice(m),getBalance:d.customer.getBalance(m),getInvoiceSummary:d.customer.getInvoiceSummary(m),listBillingHistory:d.customer.listBillingHistory(m),listInvoiceItems:d.customer.listInvoiceItems(m),listInvoices:d.customer.listInvoices(m)}),$=Object.freeze({createVpc:d.vpc.createVpc(m),deleteVpc:d.vpc.deleteVpc(m),getVpc:d.vpc.getVpc(m),listVpcResources:d.vpc.listVpcResources(m),listVpcs:d.vpc.listVpcs(m),updateVpc:d.vpc.updateVpc(m)}),ie=Object.freeze({cancelAppDeployment:d.app.cancelAppDeployment(m),createApp:d.app.createApp(m),createAppDeployment:d.app.createAppDeployment(m),deleteApp:d.app.deleteApp(m),getAggregatedAppDeploymentLogs:d.app.getAggregatedAppDeploymentLogs(m),getApp:d.app.getApp(m),getAppDeployment:d.app.getAppDeployment(m),getAppDeploymentLogs:d.app.getAppDeploymentLogs(m),listAppDeployments:d.app.listAppDeployments(m),listApps:d.app.listApps(m),runAppDetection:d.app.runAppDetection(m),updateApp:d.app.updateApp(m)});return Object.freeze({_options:_,account:S,action:E,app:ie,cdnEndpoint:q,certificate:w,containerRegistry:W,customer:j,database:H,domain:T,droplet:C,firewall:P,floatingIp:R,image:A,kubernetes:B,loadBalancer:L,project:z,region:k,size:U,snapshot:O,sshKey:I,tag:F,volume:N,vpc:$})}},4459:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createContext=void 0,s.createContext=({axios:a,requestTimeoutInMs:l=15e3,endpoint:c="https://api.digitalocean.com/v2",token:u})=>{const{freeze:d}=Object,f=d({Authorization:`Bearer ${u}`,"Content-Type":"application/json"}),h=d({baseURL:c,headers:f,timeout:l});return d({endpoint:c,httpClient:a.create(h)})}},338:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7144),s),c(a(4459),s)},9669:(o,s,a)=>{o.exports=a(1609)},5448:(o,s,a)=>{var l=a(4867),c=a(1309),u=a(4372),d=a(5327),f=a(4097),h=a(4109),v=a(7985),m=a(5061);o.exports=function(_){return new Promise(function(S,E){var w=_.data,T=_.headers,C=_.responseType;l.isFormData(w)&&delete T["Content-Type"];var P=new XMLHttpRequest;if(_.auth){var R=_.auth.username||"",A=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";T.Authorization="Basic "+btoa(R+":"+A)}var L=f(_.baseURL,_.url);function k(){if(P){var O="getAllResponseHeaders"in P?h(P.getAllResponseHeaders()):null,I={data:C&&C!=="text"&&C!=="json"?P.response:P.responseText,status:P.status,statusText:P.statusText,headers:O,config:_,request:P};c(S,E,I),P=null}}if(P.open(_.method.toUpperCase(),d(L,_.params,_.paramsSerializer),!0),P.timeout=_.timeout,"onloadend"in P?P.onloadend=k:P.onreadystatechange=function(){P&&P.readyState===4&&(P.status!==0||P.responseURL&&P.responseURL.indexOf("file:")===0)&&setTimeout(k)},P.onabort=function(){P&&(E(m("Request aborted",_,"ECONNABORTED",P)),P=null)},P.onerror=function(){E(m("Network Error",_,null,P)),P=null},P.ontimeout=function(){var O="timeout of "+_.timeout+"ms exceeded";_.timeoutErrorMessage&&(O=_.timeoutErrorMessage),E(m(O,_,_.transitional&&_.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",P)),P=null},l.isStandardBrowserEnv()){var U=(_.withCredentials||v(L))&&_.xsrfCookieName?u.read(_.xsrfCookieName):void 0;U&&(T[_.xsrfHeaderName]=U)}"setRequestHeader"in P&&l.forEach(T,function(O,I){w===void 0&&I.toLowerCase()==="content-type"?delete T[I]:P.setRequestHeader(I,O)}),l.isUndefined(_.withCredentials)||(P.withCredentials=!!_.withCredentials),C&&C!=="json"&&(P.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&P.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",_.onUploadProgress),_.cancelToken&&_.cancelToken.promise.then(function(O){P&&(P.abort(),E(O),P=null)}),w||(w=null),P.send(w)})}},1609:(o,s,a)=>{var l=a(4867),c=a(1849),u=a(321),d=a(7185);function f(v){var m=new u(v),_=c(u.prototype.request,m);return l.extend(_,u.prototype,m),l.extend(_,m),_}var h=f(a(5655));h.Axios=u,h.create=function(v){return f(d(h.defaults,v))},h.Cancel=a(5263),h.CancelToken=a(4972),h.isCancel=a(6502),h.all=function(v){return Promise.all(v)},h.spread=a(8713),h.isAxiosError=a(6268),o.exports=h,o.exports.default=h},5263:o=>{function s(a){this.message=a}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,o.exports=s},4972:(o,s,a)=>{var l=a(5263);function c(u){if(typeof u!="function")throw new TypeError("executor must be a function.");var d;this.promise=new Promise(function(h){d=h});var f=this;u(function(h){f.reason||(f.reason=new l(h),d(f.reason))})}c.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},c.source=function(){var u;return{token:new c(function(d){u=d}),cancel:u}},o.exports=c},6502:o=>{o.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(o,s,a)=>{var l=a(4867),c=a(5327),u=a(782),d=a(3572),f=a(7185),h=a(790),v=h.validators;function m(_){this.defaults=_,this.interceptors={request:new u,response:new u}}m.prototype.request=function(_){typeof _=="string"?(_=arguments[1]||{}).url=arguments[0]:_=_||{},(_=f(this.defaults,_)).method?_.method=_.method.toLowerCase():this.defaults.method?_.method=this.defaults.method.toLowerCase():_.method="get";var S=_.transitional;S!==void 0&&h.assertOptions(S,{silentJSONParsing:v.transitional(v.boolean,"1.0.0"),forcedJSONParsing:v.transitional(v.boolean,"1.0.0"),clarifyTimeoutError:v.transitional(v.boolean,"1.0.0")},!1);var E=[],w=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(_)===!1||(w=w&&k.synchronous,E.unshift(k.fulfilled,k.rejected))});var T,C=[];if(this.interceptors.response.forEach(function(k){C.push(k.fulfilled,k.rejected)}),!w){var P=[d,void 0];for(Array.prototype.unshift.apply(P,E),P=P.concat(C),T=Promise.resolve(_);P.length;)T=T.then(P.shift(),P.shift());return T}for(var R=_;E.length;){var A=E.shift(),L=E.shift();try{R=A(R)}catch(k){L(k);break}}try{T=d(R)}catch(k){return Promise.reject(k)}for(;C.length;)T=T.then(C.shift(),C.shift());return T},m.prototype.getUri=function(_){return _=f(this.defaults,_),c(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},l.forEach(["delete","get","head","options"],function(_){m.prototype[_]=function(S,E){return this.request(f(E||{},{method:_,url:S,data:(E||{}).data}))}}),l.forEach(["post","put","patch"],function(_){m.prototype[_]=function(S,E,w){return this.request(f(w||{},{method:_,url:S,data:E}))}}),o.exports=m},782:(o,s,a)=>{var l=a(4867);function c(){this.handlers=[]}c.prototype.use=function(u,d,f){return this.handlers.push({fulfilled:u,rejected:d,synchronous:!!f&&f.synchronous,runWhen:f?f.runWhen:null}),this.handlers.length-1},c.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)},c.prototype.forEach=function(u){l.forEach(this.handlers,function(d){d!==null&&u(d)})},o.exports=c},4097:(o,s,a)=>{var l=a(1793),c=a(7303);o.exports=function(u,d){return u&&!l(d)?c(u,d):d}},5061:(o,s,a)=>{var l=a(481);o.exports=function(c,u,d,f,h){var v=new Error(c);return l(v,u,d,f,h)}},3572:(o,s,a)=>{var l=a(4867),c=a(8527),u=a(6502),d=a(5655);function f(h){h.cancelToken&&h.cancelToken.throwIfRequested()}o.exports=function(h){return f(h),h.headers=h.headers||{},h.data=c.call(h,h.data,h.headers,h.transformRequest),h.headers=l.merge(h.headers.common||{},h.headers[h.method]||{},h.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(v){delete h.headers[v]}),(h.adapter||d.adapter)(h).then(function(v){return f(h),v.data=c.call(h,v.data,v.headers,h.transformResponse),v},function(v){return u(v)||(f(h),v&&v.response&&(v.response.data=c.call(h,v.response.data,v.response.headers,h.transformResponse))),Promise.reject(v)})}},481:o=>{o.exports=function(s,a,l,c,u){return s.config=a,l&&(s.code=l),s.request=c,s.response=u,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s}},7185:(o,s,a)=>{var l=a(4867);o.exports=function(c,u){u=u||{};var d={},f=["url","method","data"],h=["headers","auth","proxy","params"],v=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],m=["validateStatus"];function _(T,C){return l.isPlainObject(T)&&l.isPlainObject(C)?l.merge(T,C):l.isPlainObject(C)?l.merge({},C):l.isArray(C)?C.slice():C}function S(T){l.isUndefined(u[T])?l.isUndefined(c[T])||(d[T]=_(void 0,c[T])):d[T]=_(c[T],u[T])}l.forEach(f,function(T){l.isUndefined(u[T])||(d[T]=_(void 0,u[T]))}),l.forEach(h,S),l.forEach(v,function(T){l.isUndefined(u[T])?l.isUndefined(c[T])||(d[T]=_(void 0,c[T])):d[T]=_(void 0,u[T])}),l.forEach(m,function(T){T in u?d[T]=_(c[T],u[T]):T in c&&(d[T]=_(void 0,c[T]))});var E=f.concat(h).concat(v).concat(m),w=Object.keys(c).concat(Object.keys(u)).filter(function(T){return E.indexOf(T)===-1});return l.forEach(w,S),d}},1309:(o,s,a)=>{var l=a(5061);o.exports=function(c,u,d){var f=d.config.validateStatus;d.status&&f&&!f(d.status)?u(l("Request failed with status code "+d.status,d.config,null,d.request,d)):c(d)}},8527:(o,s,a)=>{var l=a(4867),c=a(5655);o.exports=function(u,d,f){var h=this||c;return l.forEach(f,function(v){u=v.call(h,u,d)}),u}},5655:(o,s,a)=>{var l=a(4867),c=a(6016),u=a(481),d={"Content-Type":"application/x-www-form-urlencoded"};function f(m,_){!l.isUndefined(m)&&l.isUndefined(m["Content-Type"])&&(m["Content-Type"]=_)}var h,v={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(h=a(5448)),h),transformRequest:[function(m,_){return c(_,"Accept"),c(_,"Content-Type"),l.isFormData(m)||l.isArrayBuffer(m)||l.isBuffer(m)||l.isStream(m)||l.isFile(m)||l.isBlob(m)?m:l.isArrayBufferView(m)?m.buffer:l.isURLSearchParams(m)?(f(_,"application/x-www-form-urlencoded;charset=utf-8"),m.toString()):l.isObject(m)||_&&_["Content-Type"]==="application/json"?(f(_,"application/json"),function(S,E,w){if(l.isString(S))try{return(0,JSON.parse)(S),l.trim(S)}catch(T){if(T.name!=="SyntaxError")throw T}return(0,JSON.stringify)(S)}(m)):m}],transformResponse:[function(m){var _=this.transitional,S=_&&_.silentJSONParsing,E=_&&_.forcedJSONParsing,w=!S&&this.responseType==="json";if(w||E&&l.isString(m)&&m.length)try{return JSON.parse(m)}catch(T){if(w)throw T.name==="SyntaxError"?u(T,this,"E_JSON_PARSE"):T}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(m){v.headers[m]={}}),l.forEach(["post","put","patch"],function(m){v.headers[m]=l.merge(d)}),o.exports=v},1849:o=>{o.exports=function(s,a){return function(){for(var l=new Array(arguments.length),c=0;c<l.length;c++)l[c]=arguments[c];return s.apply(a,l)}}},5327:(o,s,a)=>{var l=a(4867);function c(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o.exports=function(u,d,f){if(!d)return u;var h;if(f)h=f(d);else if(l.isURLSearchParams(d))h=d.toString();else{var v=[];l.forEach(d,function(_,S){_!=null&&(l.isArray(_)?S+="[]":_=[_],l.forEach(_,function(E){l.isDate(E)?E=E.toISOString():l.isObject(E)&&(E=JSON.stringify(E)),v.push(c(S)+"="+c(E))}))}),h=v.join("&")}if(h){var m=u.indexOf("#");m!==-1&&(u=u.slice(0,m)),u+=(u.indexOf("?")===-1?"?":"&")+h}return u}},7303:o=>{o.exports=function(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}},4372:(o,s,a)=>{var l=a(4867);o.exports=l.isStandardBrowserEnv()?{write:function(c,u,d,f,h,v){var m=[];m.push(c+"="+encodeURIComponent(u)),l.isNumber(d)&&m.push("expires="+new Date(d).toGMTString()),l.isString(f)&&m.push("path="+f),l.isString(h)&&m.push("domain="+h),v===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(c){var u=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(c){this.write(c,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:o=>{o.exports=function(s){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)}},6268:o=>{o.exports=function(s){return typeof s=="object"&&s.isAxiosError===!0}},7985:(o,s,a)=>{var l=a(4867);o.exports=l.isStandardBrowserEnv()?function(){var c,u=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");function f(h){var v=h;return u&&(d.setAttribute("href",v),v=d.href),d.setAttribute("href",v),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return c=f(window.location.href),function(h){var v=l.isString(h)?f(h):h;return v.protocol===c.protocol&&v.host===c.host}}():function(){return!0}},6016:(o,s,a)=>{var l=a(4867);o.exports=function(c,u){l.forEach(c,function(d,f){f!==u&&f.toUpperCase()===u.toUpperCase()&&(c[u]=d,delete c[f])})}},4109:(o,s,a)=>{var l=a(4867),c=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];o.exports=function(u){var d,f,h,v={};return u&&l.forEach(u.split(`
`),function(m){if(h=m.indexOf(":"),d=l.trim(m.substr(0,h)).toLowerCase(),f=l.trim(m.substr(h+1)),d){if(v[d]&&c.indexOf(d)>=0)return;v[d]=d==="set-cookie"?(v[d]?v[d]:[]).concat([f]):v[d]?v[d]+", "+f:f}}),v}},8713:o=>{o.exports=function(s){return function(a){return s.apply(null,a)}}},790:(o,s,a)=>{var l=a(6050),c={};["object","boolean","number","function","string","symbol"].forEach(function(h,v){c[h]=function(m){return typeof m===h||"a"+(v<1?"n ":" ")+h}});var u={},d=l.version.split(".");function f(h,v){for(var m=v?v.split("."):d,_=h.split("."),S=0;S<3;S++){if(m[S]>_[S])return!0;if(m[S]<_[S])return!1}return!1}c.transitional=function(h,v,m){var _=v&&f(v);function S(E,w){return"[Axios v"+l.version+"] Transitional option '"+E+"'"+w+(m?". "+m:"")}return function(E,w,T){if(h===!1)throw new Error(S(w," has been removed in "+v));return _&&!u[w]&&(u[w]=!0,console.warn(S(w," has been deprecated since v"+v+" and will be removed in the near future"))),!h||h(E,w,T)}},o.exports={isOlderVersion:f,assertOptions:function(h,v,m){if(typeof h!="object")throw new TypeError("options must be an object");for(var _=Object.keys(h),S=_.length;S-- >0;){var E=_[S],w=v[E];if(w){var T=h[E],C=T===void 0||w(T,E,h);if(C!==!0)throw new TypeError("option "+E+" must be "+C)}else if(m!==!0)throw Error("Unknown option "+E)}},validators:c}},4867:(o,s,a)=>{var l=a(1849),c=Object.prototype.toString;function u(_){return c.call(_)==="[object Array]"}function d(_){return _===void 0}function f(_){return _!==null&&typeof _=="object"}function h(_){if(c.call(_)!=="[object Object]")return!1;var S=Object.getPrototypeOf(_);return S===null||S===Object.prototype}function v(_){return c.call(_)==="[object Function]"}function m(_,S){if(_!=null)if(typeof _!="object"&&(_=[_]),u(_))for(var E=0,w=_.length;E<w;E++)S.call(null,_[E],E,_);else for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&S.call(null,_[T],T,_)}o.exports={isArray:u,isArrayBuffer:function(_){return c.call(_)==="[object ArrayBuffer]"},isBuffer:function(_){return _!==null&&!d(_)&&_.constructor!==null&&!d(_.constructor)&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)},isFormData:function(_){return typeof FormData!="undefined"&&_ instanceof FormData},isArrayBufferView:function(_){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(_):_&&_.buffer&&_.buffer instanceof ArrayBuffer},isString:function(_){return typeof _=="string"},isNumber:function(_){return typeof _=="number"},isObject:f,isPlainObject:h,isUndefined:d,isDate:function(_){return c.call(_)==="[object Date]"},isFile:function(_){return c.call(_)==="[object File]"},isBlob:function(_){return c.call(_)==="[object Blob]"},isFunction:v,isStream:function(_){return f(_)&&v(_.pipe)},isURLSearchParams:function(_){return typeof URLSearchParams!="undefined"&&_ instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:m,merge:function _(){var S={};function E(C,P){h(S[P])&&h(C)?S[P]=_(S[P],C):h(C)?S[P]=_({},C):u(C)?S[P]=C.slice():S[P]=C}for(var w=0,T=arguments.length;w<T;w++)m(arguments[w],E);return S},extend:function(_,S,E){return m(S,function(w,T){_[T]=E&&typeof w=="function"?l(w,E):w}),_},trim:function(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")},stripBOM:function(_){return _.charCodeAt(0)===65279&&(_=_.slice(1)),_}}},6050:o=>{o.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_from":"axios@0.21.4"}')}},i={},function o(s){var a=i[s];if(a!==void 0)return a.exports;var l=i[s]={exports:{}};return n[s].call(l.exports,l,l.exports,o),l.exports}(5590);var n,i})})(Q0);function GFe(t){const e=t.currentProject().domain(),n=t.currentProject().appType(),i=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
static_sites:
- environment_slug: html
  git:
    branch: master
    repo_clone_url: ${Wo}/git/${e}
  name: $PROJECT_DOMAIN 
  build_command: npm run build
  output_dir: build`.trim(),o=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
static_sites:
- environment_slug: html
  git:
    branch: master
    repo_clone_url: ${Wo}/git/${e}
  name: $PROJECT_DOMAIN 
  output_dir: ./`.trim(),s=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
services:
- name: node
  git:
    branch: master
    repo_clone_url: ${Wo}/git/${e}`.trim();return{generated_static:i,static:o,node:s}[n]}async function NP(t,e,n=!0){const i=await t.containerExec(e);n&&t.appendLog({stream:"stdout",text:i.stdout})}function $Fe(t){NP(t,"mkdir -p do && curl -sL https://github.com/digitalocean/doctl/releases/download/v1.63.1/doctl-1.63.1-linux-amd64.tar.gz | tar -xzv --directory /app/do",!1)}async function WFe(t){const e="enable-npm";t.appendLog({stream:"stdout",text:"Checking if your project is using NPM..."}),await NP(t,e,!1),await t.digitalOceanPackageManagerSwitched(t.currentProject().domain())}function qFe(t){let e='git add package-lock.json && git commit -a -m "\u{1F988} Deploying to DigitalOcean" > /dev/null  || true';t.currentProject().appType()==="static"&&(e='git commit -a -m "\u{1F988} Deploying to DigitalOcean" > /dev/null  || true'),NP(t,e,!1)}function YFe(t,e){const n={branch:"master",repo_clone_url:`${Wo}/git/${t}`},i={environment_slug:"html",git:n,name:t,output_dir:"."};e==="generated_static"&&(i.build_command="npm run build",i.output_dir="build");const o={name:t,region:"nyc",static_sites:[i]};return e==="node"&&(o.static_sites=void 0,o.services=[{name:"node",git:n}]),o}function KFe(t){const e=t.currentProject(),n=e.domain(),i=e.appType(),o=t.env(),s=Q0.exports.createApiClient({token:o.DIGITALOCEAN_ACCESS_TOKEN}),a=YFe(n,i);s.app.createApp({spec:a}).then(({data:l})=>{const c=l.app;t.appendLog({stream:"stdout",text:`\u{1F988} Created your application in DigitalOcean. Adding app ID ${c.id} into your .env file and preparing to deploy`});const u=Ge(de({},o),{DIGITALOCEAN_APP_ID:c.id});t.analytics.track("DigitalOcean app created"),t.glitchApi().v0.projectSetEnv(n,u)})}const KE=async({step:t,application:e})=>{const n=e.digitalOceanDeploy,i=e.currentProject().domain(),o=e.currentProject(),s=e.env(),a=e.digitalOceanPackageManagerSwitched;e.analytics.track("DigitalOcean deploy clicked"),e.logsPanelVisible(!0);const l=f=>{e.digitalOceanStatus(f)};if(n())return!1;if(!s)return null;if(s.DIGITALOCEAN_ACCESS_TOKEN){const f=Q0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN});if(s.DIGITALOCEAN_APP_ID)try{const h={app_id:s.DIGITALOCEAN_APP_ID},{data:{app:v}}=await f.app.getApp(h);v.in_progress_deployment&&l("deploying")}catch{}}if(t==="deploy"){let f=0,h;h=setInterval(async()=>{var E,w,T;const m=e.digitalOceanDeploy,_=Q0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN});if(!s.DIGITALOCEAN_APP_ID)return;l("deploying");const{data:{app:S}}=await _.app.getApp({app_id:s.DIGITALOCEAN_APP_ID});if(S==null?void 0:S.in_progress_deployment){const C=S.in_progress_deployment.id,{steps:P}=S.in_progress_deployment.progress,R=P[P.length-1];l("deploying"),m(S.in_progress_deployment);const A=".".repeat(f);e.appendLog({stream:"stdout",text:`\u{1F988} Deployment (${C}) in progress: ${R.name} (${R.status}) ${A}`}),f+=1}if(((E=S==null?void 0:S.active_deployment)==null?void 0:E.id)===((w=m())==null?void 0:w.id)&&((T=S==null?void 0:S.active_deployment)==null?void 0:T.id)){if(m(null),l("deployed"),e.analytics.track("Digitalocean deployment successful"),e.appendLog({stream:"stdout",text:`\u{1F988} Deployment completed at ${S==null?void 0:S.live_url}`}),!s.DIGITALOCEAN_APP_URL&&S.live_url){const C=Ge(de({},s),{DIGITALOCEAN_APP_URL:S.live_url});e.analytics.track("DigitalOcean app created"),e.glitchApi().v0.projectSetEnv(o.domain(),C)}clearInterval(h)}},5e3)}const u={prepare:[{name:"Create YAML template file",run:()=>{GFe(e)},fail:()=>{}},{run:()=>{$Fe(e)}},{name:"Switch to NPM",run:()=>{WFe(e)},after:()=>{a(i),l("ready")}}],create:[{name:"Create on Digital Ocean",run:()=>KFe(e)}],deploy:[{name:"Add deploy to git",run:()=>qFe(e)},{name:"Deploy to Digitalocean",run:()=>{l("deploying");const f=Q0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN}),h=s.DIGITALOCEAN_APP_ID;return h?(f.app.createAppDeployment({app_id:h,force_build:!1}),e.appendLog({stream:"stdout",text:"\u{1F988} Starting deploy to DigitalOcean..."}),!0):!1}}]}[t],d=[];for(const f of u)if(f.before&&f.before(),f.run){const h=async()=>{try{const v=await f.run();f.after&&f.after()}catch(v){f.fail&&f.fail(v.message)}};d.push(h())}return Promise.all(d).then(()=>{t==="create"&&l("ready")}),!0};function XFe(){const t=ve(),e=V(t.env),n=V(t.projectContainerStatus),i=V(t.digitalOceanStatus),o=V(t.packageManager),s=V(t.digitalOceanPackageManagerSwitched),a=V(t.currentProject),l=V(a.appType);p.useEffect(()=>{t.readPackageManager()},[a]);const c=n==="building"||i==="deploying",d=[{name:"prepare",title:"Creating your application",finished:o==="npm"||s===a.domain()||l==="static"},{name:"create",title:"Creating your application",finished:e==null?void 0:e.DIGITALOCEAN_APP_ID},{name:"deploy",title:"Deploying your application",ready:!!(e==null?void 0:e.DIGITALOCEAN_APP_ID)}].filter(f=>!f.finished)[0].name;return p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Pe,{sx:{minWidth:"230px",maxWidth:"280px"}},c&&p.createElement(mn,null),!c&&p.createElement(p.Fragment,null,d==="prepare"&&p.createElement(Ci,{variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/digitalocean-logomark.svg?v=1643207005464",alt:"Deploy to DigitalOcean",style:{width:"18px",height:"18px",display:"block"}}),onClick:()=>KE({step:d,application:t})},"Prepare project"),d==="create"&&p.createElement(Ci,{id:"deploy-to-digitalocean",variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/digitalocean-logomark.svg?v=1643207005464",alt:"Deploy to DigitalOcean",style:{width:"18px",height:"18px",display:"block"}}),onClick:()=>KE({step:d,application:t})},"Set up App Platform"),d==="deploy"&&p.createElement(Rn,{id:"deploy-to-digitalocean",variant:"blank",onClick:()=>KE({step:d,application:t})},p.createElement("img",{src:"https://www.deploytodo.com/do-btn-blue.svg",alt:"Deploy to DigitalOcean",style:{width:"auto",height:"40px"}})))),p.createElement(Pe,{sx:{display:["none","block"],height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-digitalocean-person.svg?v=1639512828421",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Pe,{sx:{maxWidth:"650px"}},p.createElement(Fn,{sx:{display:["none","block"],color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},p.createElement(Pe,null,d==="prepare"&&p.createElement(p.Fragment,null,'You\u2019ve added a Digital Ocean API token to your project! Before we start, we need to get dependencies ready for App Platform. Hit the "Prepare project" button and watch the logs for updates.'," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287545630861-How-do-I-deploy-my-Glitch-app-to-DigitalOcean-",target:"_blank",rel:"noreferrer"},"Learn more")),d==="create"&&p.createElement(p.Fragment,null,`Your project is ready for a first deployment to DigitalOcean! Click the "Set up App Platform" button to create a new app on App Platform \u2014 when it\u2019s complete you'll be ready to deploy!`," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287545630861-How-do-I-deploy-my-Glitch-app-to-DigitalOcean-",target:"_blank",rel:"noreferrer"},"Learn more")),d==="deploy"&&p.createElement(p.Fragment,null,"Your project is set up for DigitalOcean deployment as often as you like. Use the DEV/PUB dropdown in the preview pane to switch between your Glitch development app and published app."," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287545630861-How-do-I-deploy-my-Glitch-app-to-DigitalOcean-",target:"_blank",rel:"noreferrer"},"Learn more"))))))}function kP({children:t}){return p.createElement(sn,{sx:{backgroundColor:"backgroundSecondary",paddingX:[2,2,3],paddingY:[2,2,2],display:["flex"],justifyContent:"space-between",alignItems:"center",gap:[0,4],borderTop:"2px solid",borderTopColor:"gray.2"}},t)}const NW=t=>({alignItems:"center",gap:2,display:"flex",flexDirection:["column","row"],paddingY:[3,2],paddingX:[1,2],letterSpacing:"0.05em",textTransform:"uppercase",justifyContent:"center",fontWeight:500,maxHeight:["12px","16px","18px"],cursor:"pointer",fontFamily:"body",color:t==="light"?"gray.4":"gray.1","&:hover":{color:t==="light"?"gray.5":"blueLight.1"}}),DP=()=>de({fontFamily:"body",cursor:"pointer"},NW()),ri=()=>({maxHeight:["22px","20px","18px"],height:["22px","20px","18px"],cursor:"pointer"}),XE=t=>({fontSize:"11px!important",alignSelf:"center",color:t==="light"?"gray.4":"gray.1",cursor:"pointer"});function ev(s){var a=s,{icon:t,onClick:e,children:n,sx:i}=a,o=un(a,["icon","onClick","children","sx"]);const[l]=uo();return p.createElement(Rn,de({variant:"blank",sx:de(de({},NW(l)),i),onClick:e},o),t,p.createElement(Pe,{sx:XE(l)},n))}function JFe({application:t}){const e=V(t.gitImportExportPopVisible),n=V(t.customDomainPopVisible),i=V(t.rewindPanelVisible),[o]=uo();return p.createElement(Dd,null,p.createElement(Rn,{as:Fd,variant:"blank",sx:DP()},p.createElement(p.Fragment,null,p.createElement(qt,{emoji:"\u{1F9F0}",sx:ri}),p.createElement(Pe,{sx:XE(o)},"tools"))),p.createElement(jd,null,p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u{1F4E5}",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.gitImportExportPopVisible(!e)}},"Import / Export"),p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u{1F310}",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.customDomainPopVisible(!n)}},"Custom Domains"),p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u23EA",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.rewindPanelVisible(!i)}},"Rewind")))}function kW({application:t}){const e=V(t.appPreviewVisible),n=V(t.previewURL),[i]=uo();return p.createElement(p.Fragment,null,p.createElement(Dd,null,p.createElement(Rn,{as:Fd,variant:"blank",sx:DP()},p.createElement(p.Fragment,null,p.createElement(qt,{emoji:"\u{1F50E}",sx:ri}),p.createElement(Pe,{sx:XE(i)},"Preview"))),p.createElement(jd,null,e?p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u261D\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.appPreviewVisible(!1),await t.appPreviewUpdate(!1)}},"Close preview pane"):p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u261D\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.appPreviewVisible(!0),await t.appPreviewUpdate(!0)}},"Open preview pane"),p.createElement(Un,{icon:p.createElement(qt,{emoji:"\u{1F46F}\u200D\u2640\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),window.open(n)}},"Preview in a new window"))))}function ZFe({application:t}){const e=V(t.currentProject().edgeBadgeMode),n=V(t.currentProject().id),i=V(t.env),o=V(t.fastlyStatus),s=i==null?void 0:i.DIGITALOCEAN_APP_ID,[a]=uo(),l=e!=="none";return l||s?p.createElement(Dd,null,p.createElement(Rn,{as:Fd,variant:"blank",sx:DP()},p.createElement(p.Fragment,null,p.createElement(kFe,{status:o,sx:ri}),p.createElement(Pe,{sx:XE(a)},"deploy"))),p.createElement(jd,null,l&&p.createElement(Un,{onSelect:()=>DFe(t,n)},"Fastly"),s&&p.createElement(Un,{onSelect:()=>KE({step:"deploy",application:t})},"DigitalOcean"))):null}const QFe=({status:t})=>{switch(t){case"ok":return p.createElement(qt,{emoji:"\u{1F603}",sx:ri});case"error":return p.createElement(qt,{emoji:"\u{1F92C}",sx:ri});case"building":return p.createElement(qt,{emoji:"\u{1F914}",sx:ri});default:return p.createElement(qt,{emoji:"\u{1F636}",sx:ri})}};function eUe(){const t=ve(),e=V(t.editorIsEmbedded),n=V(t.projectIsLoaded),i=V(t.projectContainerStatus),o=V(t.currentUserIsLoggedIn),s=V(t.projectIsMemberOrMoreForCurrentUser);return e?null:s?n?p.createElement(p.Fragment,null,p.createElement(kP,null,p.createElement(sn,{sx:{gap:2,marginY:1,paddingX:[0,2,3],alignContent:"center",alignItems:"center"}},p.createElement(p.Fragment,null,s&&p.createElement(p.Fragment,null,p.createElement(ev,{icon:p.createElement(QFe,{status:i}),onClick:()=>{t.closeAllPopOvers(),t.containerStatsPanelVisible.toggle(),t.analytics.track("App Status Viewed")}},"status"),p.createElement(ev,{icon:p.createElement(qt,{emoji:i==="building"?"\u{1F6A7}":"\u{1F4DD}",sx:ri}),onClick:()=>{t.closeAllPopOvers(),t.logsPanelVisible.toggle(),t.analytics.track("App Logs Viewed")}},"logs"),p.createElement(ev,{icon:p.createElement(qt,{emoji:"\u{1F4BB}",sx:ri}),onClick:()=>{t.closeAllPopOvers(),t.consolePanelVisible.toggle(),t.analytics.track("App Terminal Viewed")}},"terminal"),p.createElement(JFe,{application:t}),p.createElement(kW,{application:t}))),!s&&p.createElement(p.Fragment,null,p.createElement(OP,{reportedType:"Editor - Project"}))),p.createElement(sn,{sx:{fontFamily:"body",fontWeight:500,gap:2,alignContent:"center"}},p.createElement(ZFe,{application:t}),p.createElement(ev,{icon:p.createElement(qt,{emoji:"\u{1F3B9}",sx:ri}),onClick:async()=>{await t.closeAllPopOvers(),await t.keyboardShortcutsOverlayVisible.toggle(),await t.analytics.track("Keyboard Shortcuts Viewed")},sx:{display:["none","flex"]}}),p.createElement(ev,{icon:p.createElement(qt,{emoji:"\u2753",sx:ri}),onClick:()=>{window.open("https://help.glitch.com","_blank")}}))),p.createElement(rW,{application:t}),p.createElement(iW,{application:t}),p.createElement(oW,{application:t})):p.createElement(kP,null,p.createElement(p.Fragment,null)):p.createElement(kP,null,p.createElement(sn,{sx:{flexGrow:1,gap:2}},!o&&p.createElement(Rn,de({as:"a",href:"//glitch.com/signin"},Xf),"Login"),n&&p.createElement(OP,{reportedType:"Editor - Project"})),p.createElement(kW,{application:t}))}function tUe(){const t=ve();return K.exports.useEffect(()=>{t.analytics.track("DigitalOcean promo seen")}),p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,borderTop:"1px solid",borderColor:"gray.1",height:"64px"}},p.createElement(Pe,null,p.createElement(Rn,{id:"deploy-to-digitalocean",variant:"blank",sx:{cursor:"not-allowed"}},p.createElement("img",{src:"https://www.deploytodo.com/do-btn-blue.svg",alt:"Deploy to DigitalOcean",style:{width:"230px",filter:"grayscale(100%)"}}))),p.createElement(Pe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-digitalocean-person.svg?v=1639512828421",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Pe,{sx:{maxWidth:"650px"}},p.createElement(Fn,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},"Need a little more compute? A Postgres database? DigitalOcean customers can edit on Glitch and deploy directly to App Platform with an API key and a single click."," ",p.createElement("a",{href:"https://help.glitch.com/home/",target:"_blank",rel:"noreferrer"},"Learn more"))))}function sp({copy:t,filePath:e,lineNum:n}){const i=ve();function o(){i.analytics.track("Banner File Link Clicked");const s=i.fileByPath(e);s&&i.selectFileByUuid(s.uuid()).then(()=>{i.goToLine(n)})}return p.createElement(Fn,{sx:{cursor:"pointer",fontWeight:"bold",fontSize:"13px!important",textDecoration:"underline"},onClick:o},t)}function op({name:t,headerImage:e,copy:n,style:i}){return p.createElement(Pe,null,p.createElement(sn,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:[1,4],height:["96px","64px"]}},p.createElement(Pe,{sx:{display:["none","block"],height:"64px",paddingLeft:"24px"}},p.createElement("img",{src:e,alt:t,style:i})),p.createElement(Pe,{sx:{maxWidth:"650px"}},p.createElement(Fn,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},n))))}function nUe(){return p.createElement(op,{name:"Hello Node!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-node.svg?v=1639352324133",style:{height:"100%",width:"auto",filter:"drop-shadow(0px 0px 2px #BDC9FF)"},copy:p.createElement(p.Fragment,null,"Your brand new node.js app uses server-side JavaScript to create a live full-stack application that updates instantly. Check out the"," ",p.createElement(sp,{copy:"TODO",filePath:"TODO.md",lineNum:0})," for some first edits to try out!")})}function rUe(){return p.createElement(op,{name:"Hello Website!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-website.svg?v=1639352503738",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"This is your own brand new website! Make an edit to your code by opening the ",p.createElement(sp,{copy:"TODO",filePath:"TODO.md",lineNum:0})," and following the steps!")})}function iUe(){return p.createElement(op,{name:"Hello React!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-react.svg?v=1639352308892",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"If you\u2019re just getting started with React, try the steps in the ",p.createElement(sp,{copy:"TODO",filePath:"TODO.md",lineNum:0})," first. Check out the comments throughout the code and in"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287545215501-React-Projects",target:"_blank",rel:"noreferrer"},"the Help Center")," ","to learn how this generated static site works!")})}function sUe(){return p.createElement(op,{name:"Hello Eleventy!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-11ty.svg?v=1639352379776",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"Your brand new blog includes pointers on getting started in the default posts\u2013read them in the preview! You\u2019ll also find next steps to try in the ",p.createElement(sp,{copy:"TODO",filePath:"TODO.md",lineNum:0})," \u2013 check out the help center"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/articles/16287563161229-Eleventy-Projects",target:"_blank",rel:"noreferrer"},"the Help Center")," ","for more info.")})}function oUe(){return p.createElement(op,{name:"Hello SQLite!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-database.png?v=1639352369235",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"Your remix includes a brand new database with node.js code connecting to it. Add your own admin key by following the steps in the"," ",p.createElement(sp,{copy:"TODO",filePath:"TODO.md",lineNum:0})," where you\u2019ll also find some first edits to try!")})}function aUe(){return p.createElement(op,{name:"Glitch In Bio",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-glitch-in-bio.svg?v=1639352364008",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"This is your own link-in-bio app to customize any way you like. Start by adding your links in your"," ",p.createElement(sp,{copy:"settings JSON file",filePath:"settings.json",lineNum:6})," and check out"," ",p.createElement("a",{href:"https://help.glitch.com/hc/en-us/sections/16285912923917",target:"_blank",rel:"noreferrer"},"the Help Center")," ","for more ideas!")})}const FP=u5();function DW(t,e,n){let i;return t.showType==="user"?i=`context-${n==null?void 0:n.id()}-${t.id}`:i=`context-${e==null?void 0:e.id()}-${t.id}`,i}function lUe({item:t,application:e,setClosed:n,localStorageKey:i}){const o=V(e.currentProject),s=V(o.id),a=FP?window.localStorage.getItem(i):"";if(!t)return null;const l=t.component;return a!=="seen"?p.createElement(Pe,{key:t.id,sx:{width:"100%",minHeight:"64px",padding:0}},p.createElement(sn,{sx:{justifyContent:"space-between",alignItems:"center",gap:2,display:"flex",borderTop:"1px solid",borderTopColor:"gray.1",paddingLeft:1}},p.createElement(l,{application:e}),p.createElement(Pe,null,p.createElement(Rn,{variant:"blank",onClick:()=>{n(s,t.id)},label:"Close header",sx:{fonSize:3,padding:2,marginRight:[4,2],color:"gray.3","&:hover":{color:"text"}}},p.createElement(Kwe,null))))):null}function cUe(){var w;const t=ve(),e=Ec(),n=V(t.env),i=V(t.projectIsMemberOrMoreForCurrentUser),o=V(t.currentProject),s=V(t.currentUser),a=V(t.projects).length,[l,c]=p.useState([]),u=V(t.projectIsAdminForCurrentUser),d=V(t.editorIsEmbedded),[f,h]=p.useState([]),v=Date.now()-Date.parse((w=t.currentProject())==null?void 0:w.createdAt())<6048e5,m=p.useMemo(()=>e.getMarketingLeads(),[e]),_=p.useMemo(()=>[{id:1,label:"DigitalOcean Deploy",component:XFe,enabled:async()=>{var T;return!(!(n==null?void 0:n.DIGITALOCEAN_ACCESS_TOKEN)||((T=t.currentProject())==null?void 0:T.private())||!u)}},{id:2,label:"Digitalocean Blank",component:tUe,enabled:()=>!1},{id:3,label:"Remixed from glitch-hello-website",component:rUe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="a9975ea6-8949-4bab-addb-8a95021dc2da"&&u&&v)}},{id:4,label:"Remixed from glitch-hello-node",component:nUe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="c62efef6-1e75-45cf-b248-afeccdda9477"&&u&&v)}},{id:5,label:"Remixed from glitch-hello-react",component:iUe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="2f80c958-3bc4-4f47-8e97-6a5c8684ac2c"&&u&&v)}},{id:6,label:"Remixed from glitch-hello-eleventy",component:sUe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="cad20829-cd7f-405a-95e8-5e17b206a304"&&u&&v)}},{id:7,label:"Remixed from glitch-hello-sqlite",component:oUe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="67d48f87-b878-4afe-81c6-dc588981ce7a"&&u&&v)}},{id:7,label:"Remixed from glitch-in-bio",component:aUe,enabled:async()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="efc5414a-882b-4708-af81-8461abbc1a82"&&u&&v)}},{id:9,label:"Remixed from fastly-hello-world or fastly-hello-compute",component:zFe,enabled:()=>{var T,C;return!!((((T=t.currentProject())==null?void 0:T.baseId())==="0aee1feb-f6aa-4a3e-8585-b0f312670925"||((C=t.currentProject())==null?void 0:C.baseId())==="267d1048-9239-4a48-903b-e02884465b24")&&u&&v)}},{id:10,label:"Fastly Beta",component:HFe,showType:"user",enabled:async()=>{const T=t.isFeatureEnabled("fastly_oneclick_beta"),C=(await m).some(P=>P.campaign==="2022_q1_fastly_beta");return T&&C}},{id:11,label:"Fastly Signup",component:VFe,showType:"user",fetchProjects:!0,enabled:async()=>{var L,k,U;if(!!((L=t.currentUser())==null?void 0:L.isAnon())||!u)return!1;const C=(k=t.currentProject())==null?void 0:k.baseId();if(C==="62572148-d564-4e29-a6d7-a7f236d88170"||C==="7e2df165-36d4-4fa6-bfa7-3543198cd169")return!1;const P=(U=t.currentProject())==null?void 0:U.appType();return!(!["generated_static","static"].includes(P)||(n==null?void 0:n.DIGITALOCEAN_ACCESS_TOKEN)||(await t.fetchUserProjects(),a<3))},onClose:()=>{t.analytics.track("Fastly banner closed")}}],[t,n,a,u,v,m]);if(p.useEffect(()=>{Promise.all(_.map(async T=>{const C=await T.enabled(),P=FP?window.localStorage.getItem(DW(T,o,s)):!1;return Ge(de({},T),{enabled:C,unseen:!P})})).then(T=>{h(T.filter(C=>C.enabled&&C.unseen))})},[e,_]),d||!i||f.length<=0)return null;const S=f[0];if(!S)return null;const E=DW(S,o,s);return p.createElement(Pe,null,p.createElement(lUe,{key:S.id,item:S,application:t,localStorageKey:E,setClosed:(T,C)=>{FP&&window.localStorage.setItem(E,"seen"),S.onClose&&S.onClose(),c([...l,C])}}))}const uUe={sugar:Tee,cosmos:Cee};function dUe({application:t}){const e=t.userMachine;K.exports.useEffect(()=>{const i=o=>{e.send({type:"CACHED_USER_CHANGE",data:o})};return fD("cachedUser",i),()=>{hD("cachedUser",i)}},[t,e]);const n=V(t.currentTheme);return p.createElement(p.Fragment,null,p.createElement(See,{theme:uUe[n]}),p.createElement(uye,{application:t},p.createElement(aee,null,p.createElement(Fwe,null),p.createElement("div",{id:"application",className:at({touch:t.isMobile}),onMouseDown:t.globalClickStart,onMouseUp:t.globalClickEnd,onTouchStart:t.globalClickStart,onTouchEnd:t.globalClickEnd},p.createElement(A4e,null),p.createElement(cUe,null),p.createElement(dDe,null),p.createElement(PDe,null),p.createElement(LDe,null),p.createElement($De,null),p.createElement(sFe,null),p.createElement(cFe,null),p.createElement(dFe,null),p.createElement(hFe,null),p.createElement(gFe,null),p.createElement(EFe,null),p.createElement(TFe,null),p.createElement(xFe,null),p.createElement(SFe,null),p.createElement(CFe,null),p.createElement(eUe,null)))))}(function(){var t=document.createElement("details"),e=typeof HTMLDetailsElement!="undefined"&&t instanceof HTMLDetailsElement,n={open:"open"in t||e,toggle:"ontoggle"in t},i=`
details, summary {
  display: block;
}
details:not([open]) > *:not(summary) {
  display: none;
}
summary::before {
  content: "\u25BA";
  padding-right: 0.3rem;
  font-size: 0.6rem;
  cursor: default;
}
[open] > summary::before {
  content: "\u25BC";
}
`,o=[],s=o.forEach,a=o.slice;n.open||(l(),c(),u(),f()),n.open&&!n.toggle&&d();function l(){document.head.insertAdjacentHTML("afterbegin","<style>"+i+"</style>")}function c(){var w=document.createElement("details").constructor.prototype,T=w.setAttribute,C=w.removeAttribute,P=Object.getOwnPropertyDescriptor(w,"open");Object.defineProperties(w,{open:{get:function(){if(this.tagName=="DETAILS")return this.hasAttribute("open");if(P&&P.get)return P.get.call(this)},set:function(A){if(this.tagName=="DETAILS")return A?this.setAttribute("open",""):this.removeAttribute("open");if(P&&P.set)return P.set.call(this,A)}},setAttribute:{value:function(A,L){var k=this,U=function(){return T.call(k,A,L)};if(A=="open"&&this.tagName=="DETAILS"){var O=this.hasAttribute("open"),I=U();if(!O){var F=this.querySelector("summary");F&&F.setAttribute("aria-expanded",!0),_(this)}return I}return U()}},removeAttribute:{value:function(A){var L=this,k=function(){return C.call(L,A)};if(A=="open"&&this.tagName=="DETAILS"){var U=this.hasAttribute("open"),O=k();if(U){var I=this.querySelector("summary");I&&I.setAttribute("aria-expanded",!1),_(this)}return O}return k()}}})}function u(){m(function(w){w.hasAttribute("open")?w.removeAttribute("open"):w.setAttribute("open","")})}function d(){window.MutationObserver?new MutationObserver(function(w){s.call(w,function(T){var C=T.target,P=T.attributeName;C.tagName=="DETAILS"&&P=="open"&&_(C)})}).observe(document.documentElement,{attributes:!0,subtree:!0}):m(function(w){var T=w.getAttribute("open");setTimeout(function(){var C=w.getAttribute("open");T!=C&&_(w)},1)})}function f(){h(document),window.MutationObserver?new MutationObserver(function(w){s.call(w,function(T){s.call(T.addedNodes,h)})}).observe(document.documentElement,{subtree:!0,childList:!0}):document.addEventListener("DOMNodeInserted",function(w){h(w.target)})}function h(w){S(w,"SUMMARY").forEach(function(T){var C=E(T,"DETAILS");T.setAttribute("aria-expanded",C.hasAttribute("open")),T.hasAttribute("tabindex")||T.setAttribute("tabindex","0"),T.hasAttribute("role")||T.setAttribute("role","button")})}function v(w){return!(w.defaultPrevented||w.ctrlKey||w.metaKey||w.shiftKey||w.target.isContentEditable)}function m(w){addEventListener("click",function(T){if(v(T)&&T.which<=1){var C=E(T.target,"SUMMARY");C&&C.parentNode&&C.parentNode.tagName=="DETAILS"&&w(C.parentNode)}},!1),addEventListener("keydown",function(T){if(v(T)&&(T.keyCode==13||T.keyCode==32)){var C=E(T.target,"SUMMARY");C&&C.parentNode&&C.parentNode.tagName=="DETAILS"&&(w(C.parentNode),T.preventDefault())}},!1)}function _(w){var T=document.createEvent("Event");T.initEvent("toggle",!1,!1),w.dispatchEvent(T)}function S(w,T){return(w.tagName==T?[w]:[]).concat(typeof w.getElementsByTagName=="function"?a.call(w.getElementsByTagName(T)):[])}function E(w,T){if(typeof w.closest=="function")return w.closest(T);for(;w;){if(w.tagName==T)return w;w=w.parentNode}}})();HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(t,e,n){var i=this.toDataURL(e,n).split(",")[1];setTimeout(function(){for(var o=atob(i),s=o.length,a=new Uint8Array(s),l=0;l<s;l++)a[l]=o.charCodeAt(l);t(new Blob([a],{type:e||"image/png"}))})});var tv={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},fUe=/([astvzqmhlc])([^astvzqmhlc]*)/ig,hUe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function pUe(t){var e=t.match(hUe);return e?e.map(Number):[]}function mUe(t){var e=[],n=String(t).trim();return n[0]!=="M"&&n[0]!=="m"||n.replace(fUe,function(i,o,s){var a=o.toLowerCase(),l=pUe(s),c=o;if(a==="m"&&l.length>2&&(e.push([c].concat(l.splice(0,2))),a="l",c=c==="m"?"l":"L"),l.length<tv[a])return"";for(e.push([c].concat(l.splice(0,tv[a])));l.length>=tv[a]&&l.length&&tv[a];)e.push([c].concat(l.splice(0,tv[a])));return""}),e}var gUe=mUe;function vUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FW(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yUe(t,e,n){return e&&FW(t.prototype,e),n&&FW(t,n),t}function UW(t){return _Ue(t)||bUe(t)||EUe()}function _Ue(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function bUe(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function EUe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wUe(t){var e=t.document.createElement("canvas"),n=e.getContext("2d"),i=new t.Path2D("M0 0 L1 1");n.strokeStyle="red",n.lineWidth=1,n.stroke(i);var o=n.getImageData(0,0,1,1);return o.data[0]===255}function jW(t,e){var n=t.x*Math.cos(e)-t.y*Math.sin(e),i=t.y*Math.cos(e)+t.x*Math.sin(e);t.x=n,t.y=i}function xUe(t,e,n){t.x+=e,t.y+=n}function BW(t,e){t.x*=e,t.y*=e}function SUe(t){if(typeof t=="undefined"||!t.CanvasRenderingContext2D||t.Path2D&&wUe(t))return;var e=function(){function s(a){if(vUe(this,s),this.segments=[],a&&a instanceof s){var l;(l=this.segments).push.apply(l,UW(a.segments))}else a&&(this.segments=gUe(a))}return yUe(s,[{key:"addPath",value:function(l){if(l&&l instanceof s){var c;(c=this.segments).push.apply(c,UW(l.segments))}}},{key:"moveTo",value:function(l,c){this.segments.push(["M",l,c])}},{key:"lineTo",value:function(l,c){this.segments.push(["L",l,c])}},{key:"arc",value:function(l,c,u,d,f,h){this.segments.push(["AC",l,c,u,d,f,!!h])}},{key:"arcTo",value:function(l,c,u,d,f){this.segments.push(["AT",l,c,u,d,f])}},{key:"ellipse",value:function(l,c,u,d,f,h,v,m){this.segments.push(["E",l,c,u,d,f,h,v,!!m])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(l,c,u,d,f,h){this.segments.push(["C",l,c,u,d,f,h])}},{key:"quadraticCurveTo",value:function(l,c,u,d){this.segments.push(["Q",l,c,u,d])}},{key:"rect",value:function(l,c,u,d){this.segments.push(["R",l,c,u,d])}}]),s}(),n=t.CanvasRenderingContext2D.prototype.fill,i=t.CanvasRenderingContext2D.prototype.stroke;function o(s,a){var l,c,u,d,f,h,v,m,_,S,E,w,T,C,P,R,A,L,k,U,O,I,F,N,H,z,B={x:0,y:0},q={x:0,y:0};s.beginPath();for(var W=0;W<a.length;++W){var j=a[W];switch(U=j[0],U!=="S"&&U!=="s"&&U!=="C"&&U!=="c"&&(I=null,F=null),U!=="T"&&U!=="t"&&U!=="Q"&&U!=="q"&&(N=null,H=null),U){case"m":case"M":U==="m"?(E+=j[1],T+=j[2]):(E=j[1],T=j[2]),(U==="M"||!B)&&(B={x:E,y:T}),s.moveTo(E,T);break;case"l":E+=j[1],T+=j[2],s.lineTo(E,T);break;case"L":E=j[1],T=j[2],s.lineTo(E,T);break;case"H":E=j[1],s.lineTo(E,T);break;case"h":E+=j[1],s.lineTo(E,T);break;case"V":T=j[1],s.lineTo(E,T);break;case"v":T+=j[1],s.lineTo(E,T);break;case"a":case"A":U==="a"?(E+=j[6],T+=j[7]):(E=j[6],T=j[7]),R=j[1],A=j[2],v=j[3]*Math.PI/180,u=!!j[4],d=!!j[5],f={x:E,y:T},h={x:(q.x-f.x)/2,y:(q.y-f.y)/2},jW(h,-v),m=h.x*h.x/(R*R)+h.y*h.y/(A*A),m>1&&(m=Math.sqrt(m),R*=m,A*=m),O={x:R*h.y/A,y:-(A*h.x)/R},_=R*R*A*A,S=R*R*h.y*h.y+A*A*h.x*h.x,d!==u?BW(O,Math.sqrt((_-S)/S)||0):BW(O,-Math.sqrt((_-S)/S)||0),c=Math.atan2((h.y-O.y)/A,(h.x-O.x)/R),l=Math.atan2(-(h.y+O.y)/A,-(h.x+O.x)/R),jW(O,v),xUe(O,(f.x+q.x)/2,(f.y+q.y)/2),s.save(),s.translate(O.x,O.y),s.rotate(v),s.scale(R,A),s.arc(0,0,1,c,l,!d),s.restore();break;case"C":I=j[3],F=j[4],E=j[5],T=j[6],s.bezierCurveTo(j[1],j[2],I,F,E,T);break;case"c":s.bezierCurveTo(j[1]+E,j[2]+T,j[3]+E,j[4]+T,j[5]+E,j[6]+T),I=j[3]+E,F=j[4]+T,E+=j[5],T+=j[6];break;case"S":(I===null||I===null)&&(I=E,F=T),s.bezierCurveTo(2*E-I,2*T-F,j[1],j[2],j[3],j[4]),I=j[1],F=j[2],E=j[3],T=j[4];break;case"s":(I===null||I===null)&&(I=E,F=T),s.bezierCurveTo(2*E-I,2*T-F,j[1]+E,j[2]+T,j[3]+E,j[4]+T),I=j[1]+E,F=j[2]+T,E+=j[3],T+=j[4];break;case"Q":N=j[1],H=j[2],E=j[3],T=j[4],s.quadraticCurveTo(N,H,E,T);break;case"q":N=j[1]+E,H=j[2]+T,E+=j[3],T+=j[4],s.quadraticCurveTo(N,H,E,T);break;case"T":(N===null||N===null)&&(N=E,H=T),N=2*E-N,H=2*T-H,E=j[1],T=j[2],s.quadraticCurveTo(N,H,E,T);break;case"t":(N===null||N===null)&&(N=E,H=T),N=2*E-N,H=2*T-H,E+=j[1],T+=j[2],s.quadraticCurveTo(N,H,E,T);break;case"z":case"Z":E=B.x,T=B.y,B=void 0,s.closePath();break;case"AC":E=j[1],T=j[2],P=j[3],c=j[4],l=j[5],z=j[6],s.arc(E,T,P,c,l,z);break;case"AT":w=j[1],C=j[2],E=j[3],T=j[4],P=j[5],s.arcTo(w,C,E,T,P);break;case"E":E=j[1],T=j[2],R=j[3],A=j[4],v=j[5],c=j[6],l=j[7],z=j[8],s.save(),s.translate(E,T),s.rotate(v),s.scale(R,A),s.arc(0,0,1,c,l,z),s.restore();break;case"R":E=j[1],T=j[2],L=j[3],k=j[4],B={x:E,y:T},s.rect(E,T,L,k);break}q.x=E,q.y=T}}t.CanvasRenderingContext2D.prototype.fill=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u="nonzero";if(l.length===0||l.length===1&&typeof l[0]=="string"){n.apply(this,l);return}arguments.length===2&&(u=l[1]);var d=l[0];o(this,d.segments),n.call(this,u)},t.CanvasRenderingContext2D.prototype.stroke=function(a){if(!a){i.call(this);return}o(this,a.segments),i.call(this)},t.Path2D=e}var TUe=SUe;typeof window!="undefined"&&TUe(window);cae();const CUe=window.location.pathname.startsWith("/embed");CUe&&document.body.classList.add("embedded");const MUe=window||{};var HW;if(document.location.pathname==="/edit/index.html")document.location.pathname="/edit/";else{((HW=window.analytics)==null?void 0:HW.load)&&window.analytics.load(sae,{integrations:{"Lucky Orange":!1}}),window.analytics={};const t=YEe();t.start(),MUe.application=t,ire.render(p.createElement(p.StrictMode,null,p.createElement(dUe,{application:t})),document.getElementById("__react-app-root"));const e=new Nre(document.documentElement);kre(e),afe(e,t);const n=1e3,i=60*n,{activityCheck:o,userBroadcast:s,notifyAnonUserLimitsVisible:a,receivePostMessage:l,mouseenter:c,mouseleave:u,focus:d,blur:f,refreshCheck:h,securitypolicyviolation:v}=ofe(t);window.setInterval(o(document),5*n),window.setInterval(s,10*n),window.setInterval(t.sendLogSocketKeepAlive,30*n);const m=2*i;setTimeout(a,m),window.addEventListener("message",l,!1),document.body.addEventListener("mouseenter",c),document.body.addEventListener("mouseleave",u),window.addEventListener("focus",d),window.addEventListener("blur",f),window.addEventListener("keydown",h),document.addEventListener("securitypolicyviolation",v),window.addEventListener("load",()=>{t.getNewProjectTemplates()})}export{a5 as p};
